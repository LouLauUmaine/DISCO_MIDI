ARM GAS  /tmp/ccOP5HA3.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"dcd_synopsys.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.update_grxfsiz,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	update_grxfsiz:
  26              	.LVL0:
  27              	.LFB196:
  28              		.file 1 "tinyusb/src/portable/st/synopsys/dcd_synopsys.c"
   1:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** /*
   2:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * The MIT License (MIT)
   3:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  *
   4:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * Copyright (c) 2018 Scott Shawcroft, 2019 William D. Jones for Adafruit Industries
   5:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   6:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * Copyright (c) 2020 Jan Duempelmann
   7:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * Copyright (c) 2020 Reinhard Panhuber
   8:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  *
   9:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
  10:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * of this software and associated documentation files (the "Software"), to deal
  11:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * in the Software without restriction, including without limitation the rights
  12:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  13:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * copies of the Software, and to permit persons to whom the Software is
  14:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * furnished to do so, subject to the following conditions:
  15:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  *
  16:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * The above copyright notice and this permission notice shall be included in
  17:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * all copies or substantial portions of the Software.
  18:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  *
  19:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  20:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  21:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  22:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  23:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  24:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  25:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * THE SOFTWARE.
  26:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  *
  27:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * This file is part of the TinyUSB stack.
  28:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  */
  29:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  30:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #include "tusb_option.h"
ARM GAS  /tmp/ccOP5HA3.s 			page 2


  31:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  32:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // Since TinyUSB doesn't use SOF for now, and this interrupt too often (1ms interval)
  33:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // We disable SOF for now until needed later on
  34:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define USE_SOF     0
  35:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  36:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #if defined (STM32F105x8) || defined (STM32F105xB) || defined (STM32F105xC) || \
  37:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     defined (STM32F107xB) || defined (STM32F107xC)
  38:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define STM32F1_SYNOPSYS
  39:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #endif
  40:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  41:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #if defined (STM32L475xx) || defined (STM32L476xx) ||                          \
  42:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     defined (STM32L485xx) || defined (STM32L486xx) || defined (STM32L496xx) || \
  43:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     defined (STM32L4R5xx) || defined (STM32L4R7xx) || defined (STM32L4R9xx) || \
  44:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     defined (STM32L4S5xx) || defined (STM32L4S7xx) || defined (STM32L4S9xx)
  45:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define STM32L4_SYNOPSYS
  46:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #endif
  47:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  48:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #if CFG_TUD_ENABLED &&                                          \
  49:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     ( (CFG_TUSB_MCU == OPT_MCU_STM32F1 && defined(STM32F1_SYNOPSYS)) || \
  50:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****        CFG_TUSB_MCU == OPT_MCU_STM32F2                               || \
  51:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****        CFG_TUSB_MCU == OPT_MCU_STM32F4                               || \
  52:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****        CFG_TUSB_MCU == OPT_MCU_STM32F7                               || \
  53:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****        CFG_TUSB_MCU == OPT_MCU_STM32H7                               || \
  54:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       (CFG_TUSB_MCU == OPT_MCU_STM32L4 && defined(STM32L4_SYNOPSYS)  || \
  55:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****        CFG_TUSB_MCU == OPT_MCU_GD32VF103 )                           \
  56:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     )
  57:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  58:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // EP_MAX       : Max number of bi-directional endpoints including EP0
  59:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // EP_FIFO_SIZE : Size of dedicated USB SRAM
  60:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #if CFG_TUSB_MCU == OPT_MCU_STM32F1
  61:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #include "stm32f1xx.h"
  62:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_FS       4
  63:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_FS 1280
  64:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  65:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #elif CFG_TUSB_MCU == OPT_MCU_STM32F2
  66:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #include "stm32f2xx.h"
  67:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_FS       USB_OTG_FS_MAX_IN_ENDPOINTS
  68:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_FS USB_OTG_FS_TOTAL_FIFO_SIZE
  69:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  70:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #elif CFG_TUSB_MCU == OPT_MCU_STM32F4
  71:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #include "stm32f4xx.h"
  72:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_FS       USB_OTG_FS_MAX_IN_ENDPOINTS
  73:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_FS USB_OTG_FS_TOTAL_FIFO_SIZE
  74:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_HS       USB_OTG_HS_MAX_IN_ENDPOINTS
  75:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_HS USB_OTG_HS_TOTAL_FIFO_SIZE
  76:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  77:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #elif CFG_TUSB_MCU == OPT_MCU_STM32H7
  78:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #include "stm32h7xx.h"
  79:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_FS       9
  80:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_FS 4096
  81:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_HS       9
  82:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_HS 4096
  83:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  84:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #elif CFG_TUSB_MCU == OPT_MCU_STM32F7
  85:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #include "stm32f7xx.h"
  86:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_FS       6
  87:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_FS 1280
ARM GAS  /tmp/ccOP5HA3.s 			page 3


  88:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_HS       9
  89:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_HS 4096
  90:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  91:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #elif CFG_TUSB_MCU == OPT_MCU_STM32L4
  92:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #include "stm32l4xx.h"
  93:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_FS       6
  94:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_FS 1280
  95:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  96:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #elif CFG_TUSB_MCU == OPT_MCU_GD32VF103
  97:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #include "synopsys_common.h"
  98:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
  99:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // for remote wakeup delay
 100:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define __NOP()   __asm volatile ("nop")
 101:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 102:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // These numbers are the same for the whole GD32VF103 family.
 103:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define OTG_FS_IRQn     86
 104:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX_FS       4
 105:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE_FS 1280
 106:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 107:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // The GD32VF103 is a RISC-V MCU, which implements the ECLIC Core-Local
 108:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // Interrupt Controller by Nuclei. It is nearly API compatible to the
 109:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // NVIC used by ARM MCUs.
 110:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define ECLIC_INTERRUPT_ENABLE_BASE 0xD2001001UL
 111:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 112:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define NVIC_EnableIRQ __eclic_enable_interrupt
 113:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define NVIC_DisableIRQ __eclic_disable_interrupt
 114:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 115:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static inline void __eclic_enable_interrupt (uint32_t irq) {
 116:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   *(volatile uint8_t*)(ECLIC_INTERRUPT_ENABLE_BASE + (irq * 4)) = 1;
 117:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 118:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 119:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static inline void __eclic_disable_interrupt (uint32_t irq){
 120:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   *(volatile uint8_t*)(ECLIC_INTERRUPT_ENABLE_BASE + (irq * 4)) = 0;
 121:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 122:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 123:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #else
 124:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #error "Unsupported MCUs"
 125:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #endif
 126:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 127:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #include "device/dcd.h"
 128:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 129:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** //--------------------------------------------------------------------+
 130:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // MACRO TYPEDEF CONSTANT ENUM
 131:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** //--------------------------------------------------------------------+
 132:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 133:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // On STM32 we associate Port0 to OTG_FS, and Port1 to OTG_HS
 134:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #if TUD_OPT_RHPORT == 0
 135:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX            EP_MAX_FS
 136:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE      EP_FIFO_SIZE_FS
 137:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define RHPORT_REGS_BASE  USB_OTG_FS_PERIPH_BASE
 138:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define RHPORT_IRQn       OTG_FS_IRQn
 139:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 140:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #else
 141:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_MAX            EP_MAX_HS
 142:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define EP_FIFO_SIZE      EP_FIFO_SIZE_HS
 143:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define RHPORT_REGS_BASE  USB_OTG_HS_PERIPH_BASE
 144:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define RHPORT_IRQn       OTG_HS_IRQn
ARM GAS  /tmp/ccOP5HA3.s 			page 4


 145:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 146:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #endif
 147:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 148:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define GLOBAL_BASE(_port)     ((USB_OTG_GlobalTypeDef*) RHPORT_REGS_BASE)
 149:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define DEVICE_BASE(_port)     (USB_OTG_DeviceTypeDef *) (RHPORT_REGS_BASE + USB_OTG_DEVICE_BASE)
 150:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define OUT_EP_BASE(_port)     (USB_OTG_OUTEndpointTypeDef *) (RHPORT_REGS_BASE + USB_OTG_OUT_ENDPO
 151:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define IN_EP_BASE(_port)      (USB_OTG_INEndpointTypeDef *) (RHPORT_REGS_BASE + USB_OTG_IN_ENDPOIN
 152:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define FIFO_BASE(_port, _x)   ((volatile uint32_t *) (RHPORT_REGS_BASE + USB_OTG_FIFO_BASE + (_x) 
 153:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 154:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** enum
 155:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 156:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   DCD_HIGH_SPEED        = 0, // Highspeed mode
 157:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   DCD_FULL_SPEED_USE_HS = 1, // Full speed in Highspeed port (probably with internal PHY)
 158:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   DCD_FULL_SPEED        = 3, // Full speed with internal PHY
 159:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** };
 160:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 161:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static TU_ATTR_ALIGNED(4) uint32_t _setup_packet[2];
 162:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 163:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** typedef struct {
 164:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t * buffer;
 165:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   tu_fifo_t * ff;
 166:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t total_len;
 167:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t max_size;
 168:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t interval;
 169:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** } xfer_ctl_t;
 170:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 171:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** typedef volatile uint32_t * usb_fifo_t;
 172:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 173:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** xfer_ctl_t xfer_status[EP_MAX][2];
 174:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #define XFER_CTL_BASE(_ep, _dir) &xfer_status[_ep][_dir]
 175:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 176:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // EP0 transfers are limited to 1 packet - larger sizes has to be split
 177:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static uint16_t ep0_pending[2];                   // Index determines direction as tusb_dir_t type
 178:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 179:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // TX FIFO RAM allocation so far in words - RX FIFO size is readily available from usb_otg->GRXFSIZ
 180:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static uint16_t _allocated_fifo_words_tx;         // TX FIFO size in words (IN EPs)
 181:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static bool _out_ep_closed;                       // Flag to check if RX FIFO size needs an update 
 182:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 183:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // Calculate the RX FIFO size according to recommendations from reference manual
 184:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static inline uint16_t calc_rx_ff_size(uint16_t ep_size)
 185:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   return 15 + 2*(ep_size/4) + 2*EP_MAX;
 187:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 188:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 189:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void update_grxfsiz(uint8_t rhport)
 190:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
  29              		.loc 1 190 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 191:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
  34              		.loc 1 191 3 view .LVU1
 192:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 193:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
  35              		.loc 1 193 3 view .LVU2
 194:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 5


 195:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Determine largest EP size for RX FIFO
 196:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t max_epsize = 0;
  36              		.loc 1 196 3 view .LVU3
 197:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for (uint8_t epnum = 0; epnum < EP_MAX; epnum++)
  37              		.loc 1 197 3 view .LVU4
  38              	.LBB105:
  39              		.loc 1 197 8 view .LVU5
  40              		.loc 1 197 16 is_stmt 0 view .LVU6
  41 0000 0023     		movs	r3, #0
  42              	.LBE105:
 196:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for (uint8_t epnum = 0; epnum < EP_MAX; epnum++)
  43              		.loc 1 196 12 view .LVU7
  44 0002 1946     		mov	r1, r3
  45              	.LBB108:
  46              		.loc 1 197 3 view .LVU8
  47 0004 08E0     		b	.L2
  48              	.LVL1:
  49              	.L3:
 198:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 199:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     max_epsize = tu_max16(max_epsize, xfer_status[epnum][TUSB_DIR_OUT].max_size);
  50              		.loc 1 199 5 is_stmt 1 discriminator 3 view .LVU9
  51              		.loc 1 199 18 is_stmt 0 discriminator 3 view .LVU10
  52 0006 094A     		ldr	r2, .L4
  53 0008 02EB4312 		add	r2, r2, r3, lsl #5
  54 000c 5289     		ldrh	r2, [r2, #10]
  55              	.LVL2:
  56              	.LBB106:
  57              	.LBI106:
  58              		.file 2 "tinyusb/src/common/tusb_common.h"
   1:tinyusb/src/common/tusb_common.h **** /*
   2:tinyusb/src/common/tusb_common.h ****  * The MIT License (MIT)
   3:tinyusb/src/common/tusb_common.h ****  *
   4:tinyusb/src/common/tusb_common.h ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/common/tusb_common.h ****  *
   6:tinyusb/src/common/tusb_common.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/common/tusb_common.h ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/common/tusb_common.h ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/common/tusb_common.h ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  10:tinyusb/src/common/tusb_common.h ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/common/tusb_common.h ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/common/tusb_common.h ****  *
  13:tinyusb/src/common/tusb_common.h ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/common/tusb_common.h ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/common/tusb_common.h ****  *
  16:tinyusb/src/common/tusb_common.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  17:tinyusb/src/common/tusb_common.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/common/tusb_common.h ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/common/tusb_common.h ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/common/tusb_common.h ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/common/tusb_common.h ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/common/tusb_common.h ****  * THE SOFTWARE.
  23:tinyusb/src/common/tusb_common.h ****  *
  24:tinyusb/src/common/tusb_common.h ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/common/tusb_common.h ****  */
  26:tinyusb/src/common/tusb_common.h **** 
  27:tinyusb/src/common/tusb_common.h **** #ifndef _TUSB_COMMON_H_
  28:tinyusb/src/common/tusb_common.h **** #define _TUSB_COMMON_H_
ARM GAS  /tmp/ccOP5HA3.s 			page 6


  29:tinyusb/src/common/tusb_common.h **** 
  30:tinyusb/src/common/tusb_common.h **** #ifdef __cplusplus
  31:tinyusb/src/common/tusb_common.h ****  extern "C" {
  32:tinyusb/src/common/tusb_common.h **** #endif
  33:tinyusb/src/common/tusb_common.h **** 
  34:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  35:tinyusb/src/common/tusb_common.h **** // Macros Helper
  36:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  37:tinyusb/src/common/tusb_common.h **** #define TU_ARRAY_SIZE(_arr)   ( sizeof(_arr) / sizeof(_arr[0]) )
  38:tinyusb/src/common/tusb_common.h **** #define TU_MIN(_x, _y)        ( ( (_x) < (_y) ) ? (_x) : (_y) )
  39:tinyusb/src/common/tusb_common.h **** #define TU_MAX(_x, _y)        ( ( (_x) > (_y) ) ? (_x) : (_y) )
  40:tinyusb/src/common/tusb_common.h **** 
  41:tinyusb/src/common/tusb_common.h **** #define TU_U16(_high, _low)   ((uint16_t) (((_high) << 8) | (_low)))
  42:tinyusb/src/common/tusb_common.h **** #define TU_U16_HIGH(_u16)     ((uint8_t) (((_u16) >> 8) & 0x00ff))
  43:tinyusb/src/common/tusb_common.h **** #define TU_U16_LOW(_u16)      ((uint8_t) ((_u16)       & 0x00ff))
  44:tinyusb/src/common/tusb_common.h **** #define U16_TO_U8S_BE(_u16)   TU_U16_HIGH(_u16), TU_U16_LOW(_u16)
  45:tinyusb/src/common/tusb_common.h **** #define U16_TO_U8S_LE(_u16)   TU_U16_LOW(_u16), TU_U16_HIGH(_u16)
  46:tinyusb/src/common/tusb_common.h **** 
  47:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE3(_u32)    ((uint8_t) ((((uint32_t) _u32) >> 24) & 0x000000ff)) // MSB
  48:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE2(_u32)    ((uint8_t) ((((uint32_t) _u32) >> 16) & 0x000000ff))
  49:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE1(_u32)    ((uint8_t) ((((uint32_t) _u32) >>  8) & 0x000000ff))
  50:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE0(_u32)    ((uint8_t) (((uint32_t)  _u32)        & 0x000000ff)) // LSB
  51:tinyusb/src/common/tusb_common.h **** 
  52:tinyusb/src/common/tusb_common.h **** #define U32_TO_U8S_BE(_u32)   TU_U32_BYTE3(_u32), TU_U32_BYTE2(_u32), TU_U32_BYTE1(_u32), TU_U32_BY
  53:tinyusb/src/common/tusb_common.h **** #define U32_TO_U8S_LE(_u32)   TU_U32_BYTE0(_u32), TU_U32_BYTE1(_u32), TU_U32_BYTE2(_u32), TU_U32_BY
  54:tinyusb/src/common/tusb_common.h **** 
  55:tinyusb/src/common/tusb_common.h **** #define TU_BIT(n)             (1UL << (n))
  56:tinyusb/src/common/tusb_common.h **** 
  57:tinyusb/src/common/tusb_common.h **** // Generate a mask with bit from high (31) to low (0) set, e.g TU_GENMASK(3, 0) = 0b1111
  58:tinyusb/src/common/tusb_common.h **** #define TU_GENMASK(h, l)      ( (UINT32_MAX << (l)) & (UINT32_MAX >> (31 - (h))) )
  59:tinyusb/src/common/tusb_common.h **** 
  60:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  61:tinyusb/src/common/tusb_common.h **** // Includes
  62:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  63:tinyusb/src/common/tusb_common.h **** 
  64:tinyusb/src/common/tusb_common.h **** // Standard Headers
  65:tinyusb/src/common/tusb_common.h **** #include <stdbool.h>
  66:tinyusb/src/common/tusb_common.h **** #include <stdint.h>
  67:tinyusb/src/common/tusb_common.h **** #include <stddef.h>
  68:tinyusb/src/common/tusb_common.h **** #include <string.h>
  69:tinyusb/src/common/tusb_common.h **** #include <stdio.h>
  70:tinyusb/src/common/tusb_common.h **** 
  71:tinyusb/src/common/tusb_common.h **** // Tinyusb Common Headers
  72:tinyusb/src/common/tusb_common.h **** #include "tusb_option.h"
  73:tinyusb/src/common/tusb_common.h **** #include "tusb_compiler.h"
  74:tinyusb/src/common/tusb_common.h **** #include "tusb_verify.h"
  75:tinyusb/src/common/tusb_common.h **** #include "tusb_types.h"
  76:tinyusb/src/common/tusb_common.h **** #include "tusb_debug.h"
  77:tinyusb/src/common/tusb_common.h **** 
  78:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  79:tinyusb/src/common/tusb_common.h **** // Optional API implemented by application if needed
  80:tinyusb/src/common/tusb_common.h **** // TODO move to a more ovious place/file
  81:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  82:tinyusb/src/common/tusb_common.h **** 
  83:tinyusb/src/common/tusb_common.h **** // flush data cache
  84:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void tusb_app_dcache_flush(uintptr_t addr, uint32_t data_size);
  85:tinyusb/src/common/tusb_common.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 7


  86:tinyusb/src/common/tusb_common.h **** // invalidate data cache
  87:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void tusb_app_dcache_invalidate(uintptr_t addr, uint32_t data_size);
  88:tinyusb/src/common/tusb_common.h **** 
  89:tinyusb/src/common/tusb_common.h **** // Optional physical <-> virtual address translation
  90:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void* tusb_app_virt_to_phys(void *virt_addr);
  91:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void* tusb_app_phys_to_virt(void *phys_addr);
  92:tinyusb/src/common/tusb_common.h **** 
  93:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  94:tinyusb/src/common/tusb_common.h **** // Internal Inline Functions
  95:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  96:tinyusb/src/common/tusb_common.h **** 
  97:tinyusb/src/common/tusb_common.h **** //------------- Mem -------------//
  98:tinyusb/src/common/tusb_common.h **** #define tu_memclr(buffer, size)  memset((buffer), 0, (size))
  99:tinyusb/src/common/tusb_common.h **** #define tu_varclr(_var)          tu_memclr(_var, sizeof(*(_var)))
 100:tinyusb/src/common/tusb_common.h **** 
 101:tinyusb/src/common/tusb_common.h **** // This is a backport of memset_s from c11
 102:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline int tu_memset_s(void *dest, size_t destsz, int ch, size_t count
 103:tinyusb/src/common/tusb_common.h ****   // TODO may check if desst and src is not NULL
 104:tinyusb/src/common/tusb_common.h ****   if ( count > destsz ) {
 105:tinyusb/src/common/tusb_common.h ****     return -1;
 106:tinyusb/src/common/tusb_common.h ****   }
 107:tinyusb/src/common/tusb_common.h ****   memset(dest, ch, count);
 108:tinyusb/src/common/tusb_common.h ****   return 0;
 109:tinyusb/src/common/tusb_common.h **** }
 110:tinyusb/src/common/tusb_common.h **** 
 111:tinyusb/src/common/tusb_common.h **** // This is a backport of memcpy_s from c11
 112:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline int tu_memcpy_s(void *dest, size_t destsz, const void *src, siz
 113:tinyusb/src/common/tusb_common.h ****   // TODO may check if desst and src is not NULL
 114:tinyusb/src/common/tusb_common.h ****   if ( count > destsz ) {
 115:tinyusb/src/common/tusb_common.h ****     return -1;
 116:tinyusb/src/common/tusb_common.h ****   }
 117:tinyusb/src/common/tusb_common.h ****   memcpy(dest, src, count);
 118:tinyusb/src/common/tusb_common.h ****   return 0;
 119:tinyusb/src/common/tusb_common.h **** }
 120:tinyusb/src/common/tusb_common.h **** 
 121:tinyusb/src/common/tusb_common.h **** 
 122:tinyusb/src/common/tusb_common.h **** //------------- Bytes -------------//
 123:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_u32(uint8_t b3, uint8_t b2, uint8_t b1, uint8_t b0)
 124:tinyusb/src/common/tusb_common.h ****   return ( ((uint32_t) b3) << 24) | ( ((uint32_t) b2) << 16) | ( ((uint32_t) b1) << 8) | b0;
 125:tinyusb/src/common/tusb_common.h **** }
 126:tinyusb/src/common/tusb_common.h **** 
 127:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_u16(uint8_t high, uint8_t low) {
 128:tinyusb/src/common/tusb_common.h ****   return (uint16_t) ((((uint16_t) high) << 8) | low);
 129:tinyusb/src/common/tusb_common.h **** }
 130:tinyusb/src/common/tusb_common.h **** 
 131:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte3(uint32_t ui32) { return TU_U32_BYTE3(ui32)
 132:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte2(uint32_t ui32) { return TU_U32_BYTE2(ui32)
 133:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte1(uint32_t ui32) { return TU_U32_BYTE1(ui32)
 134:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte0(uint32_t ui32) { return TU_U32_BYTE0(ui32)
 135:tinyusb/src/common/tusb_common.h **** 
 136:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_u32_high16(uint32_t ui32) { return (uint16_t) (ui32
 137:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_u32_low16 (uint32_t ui32) { return (uint16_t) (ui32
 138:tinyusb/src/common/tusb_common.h **** 
 139:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u16_high(uint16_t ui16) { return TU_U16_HIGH(ui16); 
 140:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u16_low (uint16_t ui16) { return TU_U16_LOW(ui16); }
 141:tinyusb/src/common/tusb_common.h **** 
 142:tinyusb/src/common/tusb_common.h **** //------------- Bits -------------//
ARM GAS  /tmp/ccOP5HA3.s 			page 8


 143:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_bit_set  (uint32_t value, uint8_t pos) { return val
 144:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_bit_clear(uint32_t value, uint8_t pos) { return val
 145:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline bool     tu_bit_test (uint32_t value, uint8_t pos) { return (va
 146:tinyusb/src/common/tusb_common.h **** 
 147:tinyusb/src/common/tusb_common.h **** //------------- Min -------------//
 148:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t  tu_min8  (uint8_t  x, uint8_t y ) { return (x < y) ? x
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_min16 (uint16_t x, uint16_t y) { return (x < y) ? x
 150:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 151:tinyusb/src/common/tusb_common.h **** 
 152:tinyusb/src/common/tusb_common.h **** //------------- Max -------------//
 153:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t  tu_max8  (uint8_t  x, uint8_t y ) { return (x > y) ? x
 154:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_max16 (uint16_t x, uint16_t y) { return (x > y) ? x
  59              		.loc 2 154 46 is_stmt 1 discriminator 3 view .LVU11
  60              	.LBB107:
  61              		.loc 2 154 82 discriminator 3 view .LVU12
  62              		.loc 2 154 101 is_stmt 0 discriminator 3 view .LVU13
  63 000e 9142     		cmp	r1, r2
  64 0010 38BF     		it	cc
  65 0012 1146     		movcc	r1, r2
  66              	.LVL3:
  67              		.loc 2 154 101 discriminator 3 view .LVU14
  68              	.LBE107:
  69              	.LBE106:
 197:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
  70              		.loc 1 197 43 is_stmt 1 discriminator 3 view .LVU15
 197:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
  71              		.loc 1 197 48 is_stmt 0 discriminator 3 view .LVU16
  72 0014 0133     		adds	r3, r3, #1
  73              	.LVL4:
 197:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
  74              		.loc 1 197 48 discriminator 3 view .LVU17
  75 0016 DBB2     		uxtb	r3, r3
  76              	.LVL5:
  77              	.L2:
 197:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
  78              		.loc 1 197 27 is_stmt 1 discriminator 1 view .LVU18
 197:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
  79              		.loc 1 197 3 is_stmt 0 discriminator 1 view .LVU19
  80 0018 052B     		cmp	r3, #5
  81 001a F4D9     		bls	.L3
  82              	.LBE108:
 200:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 201:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 202:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Update size of RX FIFO
 203:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GRXFSIZ = calc_rx_ff_size(max_epsize);
  83              		.loc 1 203 3 is_stmt 1 view .LVU20
  84              	.LVL6:
  85              	.LBB109:
  86              	.LBI109:
 184:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
  87              		.loc 1 184 24 view .LVU21
  88              	.LBB110:
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
  89              		.loc 1 186 3 view .LVU22
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
  90              		.loc 1 186 29 is_stmt 0 view .LVU23
  91 001c 8B08     		lsrs	r3, r1, #2
ARM GAS  /tmp/ccOP5HA3.s 			page 9


  92              	.LVL7:
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
  93              		.loc 1 186 29 view .LVU24
  94 001e 5B00     		lsls	r3, r3, #1
  95 0020 1B33     		adds	r3, r3, #27
  96 0022 9BB2     		uxth	r3, r3
  97              	.LVL8:
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
  98              		.loc 1 186 29 view .LVU25
  99              	.LBE110:
 100              	.LBE109:
 101              		.loc 1 203 20 view .LVU26
 102 0024 4FF0A042 		mov	r2, #1342177280
 103 0028 5362     		str	r3, [r2, #36]
 204:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 104              		.loc 1 204 1 view .LVU27
 105 002a 7047     		bx	lr
 106              	.L5:
 107              		.align	2
 108              	.L4:
 109 002c 00000000 		.word	.LANCHOR0
 110              		.cfi_endproc
 111              	.LFE196:
 113              		.section	.text.set_turnaround,"ax",%progbits
 114              		.align	1
 115              		.syntax unified
 116              		.thumb
 117              		.thumb_func
 118              		.fpu fpv4-sp-d16
 120              	set_turnaround:
 121              	.LVL9:
 122              	.LFB198:
 205:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 206:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // Setup the control endpoint 0.
 207:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void bus_reset(uint8_t rhport)
 208:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 209:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 210:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 211:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 212:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 213:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
 214:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 215:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 216:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   tu_memclr(xfer_status, sizeof(xfer_status));
 217:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   _out_ep_closed = false;
 218:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 219:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // clear device address
 220:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCFG &= ~USB_OTG_DCFG_DAD_Msk;
 221:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 222:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // 1. NAK for all OUT endpoints
 223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint8_t n = 0; n < EP_MAX; n++) {
 224:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 225:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 226:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 227:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // 2. Un-mask interrupt bits
 228:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DAINTMSK = (1 << USB_OTG_DAINTMSK_OEPM_Pos) | (1 << USB_OTG_DAINTMSK_IEPM_Pos);
 229:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DOEPMSK = USB_OTG_DOEPMSK_STUPM | USB_OTG_DOEPMSK_XFRCM;
ARM GAS  /tmp/ccOP5HA3.s 			page 10


 230:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DIEPMSK = USB_OTG_DIEPMSK_TOM | USB_OTG_DIEPMSK_XFRCM;
 231:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 232:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // "USB Data FIFOs" section in reference manual
 233:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Peripheral FIFO architecture
 234:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //
 235:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // The FIFO is split up in a lower part where the RX FIFO is located and an upper part where the 
 236:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // We do this to allow the RX FIFO to grow dynamically which is possible since the free space is 
 237:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // between the RX and TX FIFOs. This is required by ISO OUT EPs which need a bigger FIFO than the
 238:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // configuration done below.
 239:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //
 240:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Dynamically FIFO sizes are of interest only for ISO EPs since all others are usually not opene
 241:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // All EPs other than ISO are opened as soon as the driver starts up i.e. when the host sends a
 242:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // configure interface command. Hence, all IN EPs other the ISO will be located at the top. IN IS
 243:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // opened when the host sends an additional command: setInterface. At this point in time
 244:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // the ISO EP will be located next to the free space and can change its size. In case more IN EPs
 245:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // an additional memory
 246:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //
 247:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // --------------- 320 or 1024 ( 1280 or 4096 bytes )
 248:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // | IN FIFO 0   |
 249:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // --------------- (320 or 1024) - 16
 250:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // | IN FIFO 1   |
 251:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // --------------- (320 or 1024) - 16 - x
 252:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // |   . . . .   |
 253:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // --------------- (320 or 1024) - 16 - x - y - ... - z
 254:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // | IN FIFO MAX |
 255:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // ---------------
 256:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // |    FREE     |
 257:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // --------------- GRXFSIZ
 258:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // | OUT FIFO    |
 259:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // | ( Shared )  |
 260:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // --------------- 0
 261:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //
 262:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // According to "FIFO RAM allocation" section in RM, FIFO RAM are allocated as follows (each word
 263:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // - Each EP IN needs at least max packet size, 16 words is sufficient for EP0 IN
 264:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //
 265:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // - All EP OUT shared a unique OUT FIFO which uses
 266:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   - 13 for setup packets + control words (up to 3 setup packets).
 267:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   - 1 for global NAK (not required/used here).
 268:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   - Largest-EPsize / 4 + 1. ( FS: 64 bytes, HS: 512 bytes). Recommended is  "2 x (Largest-EPsi
 269:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   - 2 for each used OUT endpoint
 270:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //
 271:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   Therefore GRXFSIZ = 13 + 1 + 1 + 2 x (Largest-EPsize/4) + 2 x EPOUTnum
 272:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   - FullSpeed (64 Bytes ): GRXFSIZ = 15 + 2 x  16 + 2 x EP_MAX = 47  + 2 x EP_MAX
 273:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   - Highspeed (512 bytes): GRXFSIZ = 15 + 2 x 128 + 2 x EP_MAX = 271 + 2 x EP_MAX
 274:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //
 275:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   NOTE: Largest-EPsize & EPOUTnum is actual used endpoints in configuration. Since DCD has no 
 276:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   of the overall picture yet. We will use the worst scenario: largest possible + EP_MAX
 277:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //
 278:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   For Isochronous, largest EP size can be 1023/1024 for FS/HS respectively. In addition if mul
 279:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   are enabled at least "2 x (Largest-EPsize/4) + 1" are recommended.  Maybe provide a macro fo
 280:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //   overwrite this.
 281:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 282:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GRXFSIZ = calc_rx_ff_size(TUD_OPT_HIGH_SPEED ? 512 : 64);
 283:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 284:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   _allocated_fifo_words_tx = 16;
 285:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 286:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Control IN uses FIFO 0 with 64 bytes ( 16 32-bit word )
ARM GAS  /tmp/ccOP5HA3.s 			page 11


 287:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->DIEPTXF0_HNPTXFSIZ = (16 << USB_OTG_TX0FD_Pos) | (EP_FIFO_SIZE/4 - _allocated_fifo_words
 288:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 289:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Fixed control EP0 size to 64 bytes
 290:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   in_ep[0].DIEPCTL &= ~(0x03 << USB_OTG_DIEPCTL_MPSIZ_Pos);
 291:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer_status[0][TUSB_DIR_OUT].max_size = xfer_status[0][TUSB_DIR_IN].max_size = 64;
 292:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 293:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   out_ep[0].DOEPTSIZ |= (3 << USB_OTG_DOEPTSIZ_STUPCNT_Pos);
 294:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 295:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GINTMSK |= USB_OTG_GINTMSK_OEPINT | USB_OTG_GINTMSK_IEPINT;
 296:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 297:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 298:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // Set turn-around timeout according to link speed
 299:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** extern uint32_t SystemCoreClock;
 300:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void set_turnaround(USB_OTG_GlobalTypeDef * usb_otg, tusb_speed_t speed)
 301:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 123              		.loc 1 301 1 is_stmt 1 view -0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127              		@ link register save eliminated.
 302:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 128              		.loc 1 302 3 view .LVU29
 129              		.loc 1 302 20 is_stmt 0 view .LVU30
 130 0000 C368     		ldr	r3, [r0, #12]
 131 0002 23F47053 		bic	r3, r3, #15360
 132 0006 C360     		str	r3, [r0, #12]
 303:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 304:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if ( speed == TUSB_SPEED_HIGH )
 133              		.loc 1 304 3 is_stmt 1 view .LVU31
 134              		.loc 1 304 6 is_stmt 0 view .LVU32
 135 0008 0229     		cmp	r1, #2
 136 000a 24D0     		beq	.L19
 137              	.LBB111:
 305:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 306:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Use fixed 0x09 for Highspeed
 307:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GUSBCFG |= (0x09 << USB_OTG_GUSBCFG_TRDT_Pos);
 308:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 309:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   else
 310:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 311:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Turnaround timeout depends on the MCU clock
 312:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t turnaround;
 138              		.loc 1 312 5 is_stmt 1 view .LVU33
 313:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 314:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if ( SystemCoreClock >= 32000000U )
 139              		.loc 1 314 5 view .LVU34
 140              		.loc 1 314 26 is_stmt 0 view .LVU35
 141 000c 1F4B     		ldr	r3, .L20
 142 000e 1B68     		ldr	r3, [r3]
 143              		.loc 1 314 8 view .LVU36
 144 0010 1F4A     		ldr	r2, .L20+4
 145 0012 9342     		cmp	r3, r2
 146 0014 24D2     		bcs	.L10
 315:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0x6U;
 316:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 27500000U )
 147              		.loc 1 316 10 is_stmt 1 view .LVU37
 148              		.loc 1 316 13 is_stmt 0 view .LVU38
 149 0016 1F4A     		ldr	r2, .L20+8
ARM GAS  /tmp/ccOP5HA3.s 			page 12


 150 0018 9342     		cmp	r3, r2
 151 001a 27D8     		bhi	.L11
 317:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0x7U;
 318:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 24000000U )
 152              		.loc 1 318 10 is_stmt 1 view .LVU39
 153              		.loc 1 318 13 is_stmt 0 view .LVU40
 154 001c 1E4A     		ldr	r2, .L20+12
 155 001e 9342     		cmp	r3, r2
 156 0020 26D2     		bcs	.L12
 319:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0x8U;
 320:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 21800000U )
 157              		.loc 1 320 10 is_stmt 1 view .LVU41
 158              		.loc 1 320 13 is_stmt 0 view .LVU42
 159 0022 1E4A     		ldr	r2, .L20+16
 160 0024 9342     		cmp	r3, r2
 161 0026 25D8     		bhi	.L13
 321:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0x9U;
 322:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 20000000U )
 162              		.loc 1 322 10 is_stmt 1 view .LVU43
 163              		.loc 1 322 13 is_stmt 0 view .LVU44
 164 0028 A2F5DB12 		sub	r2, r2, #1794048
 165 002c A2F5BA52 		sub	r2, r2, #5952
 166 0030 9342     		cmp	r3, r2
 167 0032 21D8     		bhi	.L14
 323:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0xAU;
 324:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 18500000U )
 168              		.loc 1 324 10 is_stmt 1 view .LVU45
 169              		.loc 1 324 13 is_stmt 0 view .LVU46
 170 0034 A2F5B712 		sub	r2, r2, #1499136
 171 0038 A2F55872 		sub	r2, r2, #864
 172 003c 9342     		cmp	r3, r2
 173 003e 1DD8     		bhi	.L15
 325:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0xBU;
 326:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 17200000U )
 174              		.loc 1 326 10 is_stmt 1 view .LVU47
 175              		.loc 1 326 13 is_stmt 0 view .LVU48
 176 0040 174A     		ldr	r2, .L20+20
 177 0042 9342     		cmp	r3, r2
 178 0044 1CD2     		bcs	.L16
 327:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0xCU;
 328:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 16000000U )
 179              		.loc 1 328 10 is_stmt 1 view .LVU49
 180              		.loc 1 328 13 is_stmt 0 view .LVU50
 181 0046 174A     		ldr	r2, .L20+24
 182 0048 9342     		cmp	r3, r2
 183 004a 1BD2     		bcs	.L17
 329:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0xDU;
 330:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 15000000U )
 184              		.loc 1 330 10 is_stmt 1 view .LVU51
 185              		.loc 1 330 13 is_stmt 0 view .LVU52
 186 004c 164A     		ldr	r2, .L20+28
 187 004e 9342     		cmp	r3, r2
 188 0050 1AD3     		bcc	.L18
 331:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0xEU;
 189              		.loc 1 331 18 view .LVU53
 190 0052 0E22     		movs	r2, #14
 191 0054 05E0     		b	.L9
ARM GAS  /tmp/ccOP5HA3.s 			page 13


 192              	.L19:
 193              	.LBE111:
 307:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 194              		.loc 1 307 5 is_stmt 1 view .LVU54
 307:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 195              		.loc 1 307 22 is_stmt 0 view .LVU55
 196 0056 C368     		ldr	r3, [r0, #12]
 197 0058 43F41053 		orr	r3, r3, #9216
 198 005c C360     		str	r3, [r0, #12]
 199 005e 7047     		bx	lr
 200              	.L10:
 201              	.LBB112:
 315:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 27500000U )
 202              		.loc 1 315 18 view .LVU56
 203 0060 0622     		movs	r2, #6
 204              	.L9:
 205              	.LVL10:
 332:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else
 333:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       turnaround = 0xFU;
 334:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 335:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Fullspeed depends on MCU clocks, but we will use 0x06 for 32+ Mhz
 336:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GUSBCFG |= (turnaround << USB_OTG_GUSBCFG_TRDT_Pos);
 206              		.loc 1 336 5 is_stmt 1 view .LVU57
 207              		.loc 1 336 22 is_stmt 0 view .LVU58
 208 0062 C368     		ldr	r3, [r0, #12]
 209 0064 43EA8223 		orr	r3, r3, r2, lsl #10
 210 0068 C360     		str	r3, [r0, #12]
 211              	.LBE112:
 337:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 338:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 212              		.loc 1 338 1 view .LVU59
 213 006a 7047     		bx	lr
 214              	.LVL11:
 215              	.L11:
 216              	.LBB113:
 317:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 24000000U )
 217              		.loc 1 317 18 view .LVU60
 218 006c 0722     		movs	r2, #7
 219 006e F8E7     		b	.L9
 220              	.L12:
 319:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 21800000U )
 221              		.loc 1 319 18 view .LVU61
 222 0070 0822     		movs	r2, #8
 223 0072 F6E7     		b	.L9
 224              	.L13:
 321:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 20000000U )
 225              		.loc 1 321 18 view .LVU62
 226 0074 0922     		movs	r2, #9
 227 0076 F4E7     		b	.L9
 228              	.L14:
 323:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 18500000U )
 229              		.loc 1 323 18 view .LVU63
 230 0078 0A22     		movs	r2, #10
 231 007a F2E7     		b	.L9
 232              	.L15:
 325:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 17200000U )
 233              		.loc 1 325 18 view .LVU64
ARM GAS  /tmp/ccOP5HA3.s 			page 14


 234 007c 0B22     		movs	r2, #11
 235 007e F0E7     		b	.L9
 236              	.L16:
 327:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 16000000U )
 237              		.loc 1 327 18 view .LVU65
 238 0080 0C22     		movs	r2, #12
 239 0082 EEE7     		b	.L9
 240              	.L17:
 329:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     else if ( SystemCoreClock >= 15000000U )
 241              		.loc 1 329 18 view .LVU66
 242 0084 0D22     		movs	r2, #13
 243 0086 ECE7     		b	.L9
 244              	.L18:
 333:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 245              		.loc 1 333 18 view .LVU67
 246 0088 0F22     		movs	r2, #15
 247 008a EAE7     		b	.L9
 248              	.L21:
 249              		.align	2
 250              	.L20:
 251 008c 00000000 		.word	SystemCoreClock
 252 0090 0048E801 		.word	32000000
 253 0094 DF9DA301 		.word	27499999
 254 0098 00366E01 		.word	24000000
 255 009c 3FA44C01 		.word	21799999
 256 00a0 80730601 		.word	17200000
 257 00a4 0024F400 		.word	16000000
 258 00a8 C0E1E400 		.word	15000000
 259              	.LBE113:
 260              		.cfi_endproc
 261              	.LFE198:
 263              		.section	.text.get_speed,"ax",%progbits
 264              		.align	1
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 268              		.fpu fpv4-sp-d16
 270              	get_speed:
 271              	.LVL12:
 272              	.LFB199:
 339:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 340:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static tusb_speed_t get_speed(uint8_t rhport)
 341:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 273              		.loc 1 341 1 is_stmt 1 view -0
 274              		.cfi_startproc
 275              		@ args = 0, pretend = 0, frame = 0
 276              		@ frame_needed = 0, uses_anonymous_args = 0
 277              		@ link register save eliminated.
 342:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 278              		.loc 1 342 3 view .LVU69
 343:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 279              		.loc 1 343 3 view .LVU70
 344:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint32_t const enum_spd = (dev->DSTS & USB_OTG_DSTS_ENUMSPD_Msk) >> USB_OTG_DSTS_ENUMSPD_Pos;
 280              		.loc 1 344 3 view .LVU71
 281              		.loc 1 344 33 is_stmt 0 view .LVU72
 282 0000 044B     		ldr	r3, .L26
 283 0002 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/ccOP5HA3.s 			page 15


 284              	.LVL13:
 345:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   return (enum_spd == DCD_HIGH_SPEED) ? TUSB_SPEED_HIGH : TUSB_SPEED_FULL;
 285              		.loc 1 345 3 is_stmt 1 view .LVU73
 286              		.loc 1 345 57 is_stmt 0 view .LVU74
 287 0004 13F0060F 		tst	r3, #6
 288 0008 01D0     		beq	.L25
 289 000a 0020     		movs	r0, #0
 290              	.LVL14:
 346:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 291              		.loc 1 346 1 view .LVU75
 292 000c 7047     		bx	lr
 293              	.LVL15:
 294              	.L25:
 345:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   return (enum_spd == DCD_HIGH_SPEED) ? TUSB_SPEED_HIGH : TUSB_SPEED_FULL;
 295              		.loc 1 345 57 view .LVU76
 296 000e 0220     		movs	r0, #2
 297              	.LVL16:
 345:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   return (enum_spd == DCD_HIGH_SPEED) ? TUSB_SPEED_HIGH : TUSB_SPEED_FULL;
 298              		.loc 1 345 57 view .LVU77
 299 0010 7047     		bx	lr
 300              	.L27:
 301 0012 00BF     		.align	2
 302              	.L26:
 303 0014 00080050 		.word	1342179328
 304              		.cfi_endproc
 305              	.LFE199:
 307              		.section	.text.set_speed,"ax",%progbits
 308              		.align	1
 309              		.syntax unified
 310              		.thumb
 311              		.thumb_func
 312              		.fpu fpv4-sp-d16
 314              	set_speed:
 315              	.LVL17:
 316              	.LFB200:
 347:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 348:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void set_speed(uint8_t rhport, tusb_speed_t speed)
 349:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 317              		.loc 1 349 1 is_stmt 1 view -0
 318              		.cfi_startproc
 319              		@ args = 0, pretend = 0, frame = 0
 320              		@ frame_needed = 0, uses_anonymous_args = 0
 321              		@ link register save eliminated.
 350:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint32_t bitvalue;
 322              		.loc 1 350 3 view .LVU79
 351:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 352:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if ( rhport == 1 )
 323              		.loc 1 352 3 view .LVU80
 324              		.loc 1 352 6 is_stmt 0 view .LVU81
 325 0000 0128     		cmp	r0, #1
 326 0002 09D0     		beq	.L31
 353:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 354:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     bitvalue = ((TUSB_SPEED_HIGH == speed) ? DCD_HIGH_SPEED : DCD_FULL_SPEED_USE_HS);
 355:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 356:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   else
 357:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 358:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     bitvalue = DCD_FULL_SPEED;
ARM GAS  /tmp/ccOP5HA3.s 			page 16


 327              		.loc 1 358 14 view .LVU82
 328 0004 0321     		movs	r1, #3
 329              	.LVL18:
 330              	.L29:
 359:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 360:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 361:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 331              		.loc 1 361 3 is_stmt 1 view .LVU83
 362:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 363:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Clear and set speed bits
 364:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCFG &= ~(3 << USB_OTG_DCFG_DSPD_Pos);
 332              		.loc 1 364 3 view .LVU84
 333              		.loc 1 364 13 is_stmt 0 view .LVU85
 334 0006 064B     		ldr	r3, .L32
 335 0008 1A68     		ldr	r2, [r3]
 336 000a 22F00302 		bic	r2, r2, #3
 337 000e 1A60     		str	r2, [r3]
 365:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCFG |= (bitvalue << USB_OTG_DCFG_DSPD_Pos);
 338              		.loc 1 365 3 is_stmt 1 view .LVU86
 339              		.loc 1 365 13 is_stmt 0 view .LVU87
 340 0010 1A68     		ldr	r2, [r3]
 341 0012 1143     		orrs	r1, r1, r2
 342              	.LVL19:
 343              		.loc 1 365 13 view .LVU88
 344 0014 1960     		str	r1, [r3]
 366:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 345              		.loc 1 366 1 view .LVU89
 346 0016 7047     		bx	lr
 347              	.LVL20:
 348              	.L31:
 354:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 349              		.loc 1 354 5 is_stmt 1 view .LVU90
 354:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 350              		.loc 1 354 61 is_stmt 0 view .LVU91
 351 0018 0239     		subs	r1, r1, #2
 352              	.LVL21:
 354:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 353              		.loc 1 354 61 view .LVU92
 354 001a 18BF     		it	ne
 355 001c 0121     		movne	r1, #1
 356              	.LVL22:
 354:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 357              		.loc 1 354 61 view .LVU93
 358 001e F2E7     		b	.L29
 359              	.L33:
 360              		.align	2
 361              	.L32:
 362 0020 00080050 		.word	1342179328
 363              		.cfi_endproc
 364              	.LFE200:
 366              		.section	.text.edpt_schedule_packets,"ax",%progbits
 367              		.align	1
 368              		.syntax unified
 369              		.thumb
 370              		.thumb_func
 371              		.fpu fpv4-sp-d16
 373              	edpt_schedule_packets:
ARM GAS  /tmp/ccOP5HA3.s 			page 17


 374              	.LVL23:
 375              	.LFB201:
 367:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 368:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #if defined(USB_HS_PHYC)
 369:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static bool USB_HS_PHYCInit(void)
 370:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 371:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_HS_PHYC_GlobalTypeDef *usb_hs_phyc = (USB_HS_PHYC_GlobalTypeDef*) USB_HS_PHYC_CONTROLLER_BASE
 372:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 373:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Enable LDO: Note STM32F72/3xx Reference Manual rev 3 June 2018 incorrectly defined this bit as
 374:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_hs_phyc->USB_HS_PHYC_LDO |= USB_HS_PHYC_LDO_ENABLE;
 375:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 376:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Wait until LDO ready
 377:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ( 0 == (usb_hs_phyc->USB_HS_PHYC_LDO & USB_HS_PHYC_LDO_STATUS) ) {}
 378:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 379:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint32_t phyc_pll = 0;
 380:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 381:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // TODO Try to get HSE_VALUE from registers instead of depending CFLAGS
 382:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   switch ( HSE_VALUE )
 383:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 384:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 12000000: phyc_pll = USB_HS_PHYC_PLL1_PLLSEL_12MHZ   ; break;
 385:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 12500000: phyc_pll = USB_HS_PHYC_PLL1_PLLSEL_12_5MHZ ; break;
 386:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 16000000: phyc_pll = USB_HS_PHYC_PLL1_PLLSEL_16MHZ   ; break;
 387:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 24000000: phyc_pll = USB_HS_PHYC_PLL1_PLLSEL_24MHZ   ; break;
 388:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 25000000: phyc_pll = USB_HS_PHYC_PLL1_PLLSEL_25MHZ   ; break;
 389:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 32000000: phyc_pll = USB_HS_PHYC_PLL1_PLLSEL_Msk     ; break; // Value not defined in head
 390:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     default:
 391:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       TU_ASSERT(0);
 392:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 393:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_hs_phyc->USB_HS_PHYC_PLL = phyc_pll;
 394:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 395:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Control the tuning interface of the High Speed PHY
 396:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Use magic value (USB_HS_PHYC_TUNE_VALUE) from ST driver
 397:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_hs_phyc->USB_HS_PHYC_TUNE |= 0x00000F13U;
 398:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 399:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Enable PLL internal PHY
 400:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_hs_phyc->USB_HS_PHYC_PLL |= USB_HS_PHYC_PLL_PLLEN;
 401:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 402:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Original ST code has 2 ms delay for PLL stabilization.
 403:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Primitive test shows that more than 10 USB un/replug cycle showed no error with enumeration
 404:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 405:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   return true;
 406:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 407:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #endif
 408:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 409:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void edpt_schedule_packets(uint8_t rhport, uint8_t const epnum, uint8_t const dir, uint16_t 
 410:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 376              		.loc 1 410 1 is_stmt 1 view -0
 377              		.cfi_startproc
 378              		@ args = 4, pretend = 0, frame = 0
 379              		@ frame_needed = 0, uses_anonymous_args = 0
 380              		.loc 1 410 1 is_stmt 0 view .LVU95
 381 0000 30B5     		push	{r4, r5, lr}
 382              	.LCFI0:
 383              		.cfi_def_cfa_offset 12
 384              		.cfi_offset 4, -12
 385              		.cfi_offset 5, -8
 386              		.cfi_offset 14, -4
ARM GAS  /tmp/ccOP5HA3.s 			page 18


 387 0002 BDF80C00 		ldrh	r0, [sp, #12]
 388              	.LVL24:
 411:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 389              		.loc 1 411 3 is_stmt 1 view .LVU96
 412:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 413:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 390              		.loc 1 413 3 view .LVU97
 414:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
 391              		.loc 1 414 3 view .LVU98
 415:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 392              		.loc 1 415 3 view .LVU99
 416:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 417:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // EP0 is limited to one packet each xfer
 418:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // We use multiple transaction of xfer->max_size length to get a whole transfer done
 419:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(epnum == 0) {
 393              		.loc 1 419 3 view .LVU100
 394              		.loc 1 419 5 is_stmt 0 view .LVU101
 395 0006 8E46     		mov	lr, r1
 396 0008 71B9     		cbnz	r1, .L35
 397              	.LBB114:
 420:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_ctl_t * const xfer = XFER_CTL_BASE(epnum, dir);
 398              		.loc 1 420 5 is_stmt 1 view .LVU102
 399              	.LVL25:
 421:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     total_bytes = tu_min16(ep0_pending[dir], xfer->max_size);
 400              		.loc 1 421 5 view .LVU103
 401              		.loc 1 421 19 is_stmt 0 view .LVU104
 402 000a 404D     		ldr	r5, .L47
 403 000c 35F81210 		ldrh	r1, [r5, r2, lsl #1]
 404              	.LVL26:
 405              		.loc 1 421 19 view .LVU105
 406 0010 02EB4E00 		add	r0, r2, lr, lsl #1
 407 0014 3E4C     		ldr	r4, .L47+4
 408 0016 04EB0010 		add	r0, r4, r0, lsl #4
 409 001a 4089     		ldrh	r0, [r0, #10]
 410              	.LVL27:
 411              	.LBB115:
 412              	.LBI115:
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 413              		.loc 2 149 46 is_stmt 1 view .LVU106
 414              	.LBB116:
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 415              		.loc 2 149 82 view .LVU107
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 416              		.loc 2 149 101 is_stmt 0 view .LVU108
 417 001c 8842     		cmp	r0, r1
 418 001e 28BF     		it	cs
 419 0020 0846     		movcs	r0, r1
 420              	.LVL28:
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 421              		.loc 2 149 101 view .LVU109
 422              	.LBE116:
 423              	.LBE115:
 422:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     ep0_pending[dir] -= total_bytes;
 424              		.loc 1 422 5 is_stmt 1 view .LVU110
 425              		.loc 1 422 22 is_stmt 0 view .LVU111
 426 0022 091A     		subs	r1, r1, r0
 427 0024 25F81210 		strh	r1, [r5, r2, lsl #1]	@ movhi
ARM GAS  /tmp/ccOP5HA3.s 			page 19


 428              	.LVL29:
 429              	.L35:
 430              		.loc 1 422 22 view .LVU112
 431              	.LBE114:
 423:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 424:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 425:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // IN and OUT endpoint xfers are interrupt-driven, we just schedule them here.
 426:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(dir == TUSB_DIR_IN) {
 432              		.loc 1 426 3 is_stmt 1 view .LVU113
 433              		.loc 1 426 5 is_stmt 0 view .LVU114
 434 0028 012A     		cmp	r2, #1
 435 002a 1ED0     		beq	.L44
 427:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // A full IN transfer (multiple packets, possibly) triggers XFRC.
 428:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPTSIZ = (num_packets << USB_OTG_DIEPTSIZ_PKTCNT_Pos) |
 429:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         ((total_bytes << USB_OTG_DIEPTSIZ_XFRSIZ_Pos) & USB_OTG_DIEPTSIZ_XFRSIZ_Msk);
 430:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 431:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_EPENA | USB_OTG_DIEPCTL_CNAK;
 432:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // For ISO endpoint set correct odd/even bit for next frame.
 433:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if ((in_ep[epnum].DIEPCTL & USB_OTG_DIEPCTL_EPTYP) == USB_OTG_DIEPCTL_EPTYP_0 && (XFER_CTL_BASE
 434:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 435:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Take odd/even bit from frame counter.
 436:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       uint32_t const odd_frame_now = (dev->DSTS & (1u << USB_OTG_DSTS_FNSOF_Pos));
 437:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= (odd_frame_now ? USB_OTG_DIEPCTL_SD0PID_SEVNFRM_Msk : USB_OTG_DIEPCTL
 438:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 439:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Enable fifo empty interrupt only if there are something to put in the fifo.
 440:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if(total_bytes != 0) {
 441:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       dev->DIEPEMPMSK |= (1 << epnum);
 442:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 443:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
 444:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // A full OUT transfer (multiple packets, possibly) triggers XFRC.
 445:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[epnum].DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT_Msk | USB_OTG_DOEPTSIZ_XFRSIZ);
 436              		.loc 1 445 5 is_stmt 1 view .LVU115
 437              		.loc 1 445 11 is_stmt 0 view .LVU116
 438 002c 4FEA4E11 		lsl	r1, lr, #5
 439              		.loc 1 445 28 view .LVU117
 440 0030 01F1A041 		add	r1, r1, #1342177280
 441 0034 D1F8104B 		ldr	r4, [r1, #2832]
 442 0038 04F06044 		and	r4, r4, #-536870912
 443 003c C1F8104B 		str	r4, [r1, #2832]
 446:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[epnum].DOEPTSIZ |= (num_packets << USB_OTG_DOEPTSIZ_PKTCNT_Pos) |
 444              		.loc 1 446 5 is_stmt 1 view .LVU118
 445              		.loc 1 446 28 is_stmt 0 view .LVU119
 446 0040 D1F8104B 		ldr	r4, [r1, #2832]
 447              		.loc 1 446 76 view .LVU120
 448 0044 40EAC340 		orr	r0, r0, r3, lsl #19
 449              	.LVL30:
 450              		.loc 1 446 28 view .LVU121
 451 0048 2043     		orrs	r0, r0, r4
 452 004a C1F8100B 		str	r0, [r1, #2832]
 447:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         ((total_bytes << USB_OTG_DOEPTSIZ_XFRSIZ_Pos) & USB_OTG_DOEPTSIZ_XFRSIZ_Msk);
 448:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 449:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[epnum].DOEPCTL |= USB_OTG_DOEPCTL_EPENA | USB_OTG_DOEPCTL_CNAK;
 453              		.loc 1 449 5 is_stmt 1 view .LVU122
 454              		.loc 1 449 27 is_stmt 0 view .LVU123
 455 004e D1F8003B 		ldr	r3, [r1, #2816]
 456              	.LVL31:
 457              		.loc 1 449 27 view .LVU124
ARM GAS  /tmp/ccOP5HA3.s 			page 20


 458 0052 43F00443 		orr	r3, r3, #-2080374784
 459 0056 C1F8003B 		str	r3, [r1, #2816]
 450:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if ((out_ep[epnum].DOEPCTL & USB_OTG_DOEPCTL_EPTYP) == USB_OTG_DOEPCTL_EPTYP_0 && (XFER_CTL_BAS
 460              		.loc 1 450 5 is_stmt 1 view .LVU125
 461              		.loc 1 450 23 is_stmt 0 view .LVU126
 462 005a D1F8003B 		ldr	r3, [r1, #2816]
 463              		.loc 1 450 32 view .LVU127
 464 005e 03F44023 		and	r3, r3, #786432
 465              		.loc 1 450 8 view .LVU128
 466 0062 B3F5802F 		cmp	r3, #262144
 467 0066 38D0     		beq	.L45
 468              	.LVL32:
 469              	.L34:
 451:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 452:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Take odd/even bit from frame counter.
 453:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       uint32_t const odd_frame_now = (dev->DSTS & (1u << USB_OTG_DSTS_FNSOF_Pos));
 454:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPCTL |= (odd_frame_now ? USB_OTG_DOEPCTL_SD0PID_SEVNFRM_Msk : USB_OTG_DOEPCT
 455:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 456:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 457:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 470              		.loc 1 457 1 view .LVU129
 471 0068 30BD     		pop	{r4, r5, pc}
 472              	.LVL33:
 473              	.L44:
 428:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         ((total_bytes << USB_OTG_DIEPTSIZ_XFRSIZ_Pos) & USB_OTG_DIEPTSIZ_XFRSIZ_Msk);
 474              		.loc 1 428 5 is_stmt 1 view .LVU130
 428:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         ((total_bytes << USB_OTG_DIEPTSIZ_XFRSIZ_Pos) & USB_OTG_DIEPTSIZ_XFRSIZ_Msk);
 475              		.loc 1 428 10 is_stmt 0 view .LVU131
 476 006a 4FEA4E11 		lsl	r1, lr, #5
 477 006e 01F1A041 		add	r1, r1, #1342177280
 428:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         ((total_bytes << USB_OTG_DIEPTSIZ_XFRSIZ_Pos) & USB_OTG_DIEPTSIZ_XFRSIZ_Msk);
 478              		.loc 1 428 74 view .LVU132
 479 0072 40EAC343 		orr	r3, r0, r3, lsl #19
 480              	.LVL34:
 428:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         ((total_bytes << USB_OTG_DIEPTSIZ_XFRSIZ_Pos) & USB_OTG_DIEPTSIZ_XFRSIZ_Msk);
 481              		.loc 1 428 27 view .LVU133
 482 0076 C1F81039 		str	r3, [r1, #2320]
 431:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // For ISO endpoint set correct odd/even bit for next frame.
 483              		.loc 1 431 5 is_stmt 1 view .LVU134
 431:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // For ISO endpoint set correct odd/even bit for next frame.
 484              		.loc 1 431 26 is_stmt 0 view .LVU135
 485 007a D1F80039 		ldr	r3, [r1, #2304]
 486 007e 43F00443 		orr	r3, r3, #-2080374784
 487 0082 C1F80039 		str	r3, [r1, #2304]
 433:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 488              		.loc 1 433 5 is_stmt 1 view .LVU136
 433:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 489              		.loc 1 433 22 is_stmt 0 view .LVU137
 490 0086 D1F80039 		ldr	r3, [r1, #2304]
 433:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 491              		.loc 1 433 31 view .LVU138
 492 008a 03F44023 		and	r3, r3, #786432
 433:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 493              		.loc 1 433 8 view .LVU139
 494 008e B3F5802F 		cmp	r3, #262144
 495 0092 0AD0     		beq	.L46
 496              	.LVL35:
ARM GAS  /tmp/ccOP5HA3.s 			page 21


 497              	.L37:
 440:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       dev->DIEPEMPMSK |= (1 << epnum);
 498              		.loc 1 440 5 is_stmt 1 view .LVU140
 440:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       dev->DIEPEMPMSK |= (1 << epnum);
 499              		.loc 1 440 7 is_stmt 0 view .LVU141
 500 0094 0028     		cmp	r0, #0
 501 0096 E7D0     		beq	.L34
 441:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 502              		.loc 1 441 7 is_stmt 1 view .LVU142
 441:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 503              		.loc 1 441 23 is_stmt 0 view .LVU143
 504 0098 1E49     		ldr	r1, .L47+8
 505 009a 4A6B     		ldr	r2, [r1, #52]
 441:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 506              		.loc 1 441 29 view .LVU144
 507 009c 0123     		movs	r3, #1
 508 009e 03FA0EFE 		lsl	lr, r3, lr
 441:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 509              		.loc 1 441 23 view .LVU145
 510 00a2 42EA0E02 		orr	r2, r2, lr
 511 00a6 4A63     		str	r2, [r1, #52]
 512 00a8 DEE7     		b	.L34
 513              	.LVL36:
 514              	.L46:
 433:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 515              		.loc 1 433 113 discriminator 1 view .LVU146
 516 00aa 02EB4E02 		add	r2, r2, lr, lsl #1
 517              	.LVL37:
 433:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 518              		.loc 1 433 113 discriminator 1 view .LVU147
 519 00ae 184B     		ldr	r3, .L47+4
 520 00b0 03EB0212 		add	r2, r3, r2, lsl #4
 521 00b4 137B     		ldrb	r3, [r2, #12]	@ zero_extendqisi2
 433:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 522              		.loc 1 433 83 discriminator 1 view .LVU148
 523 00b6 012B     		cmp	r3, #1
 524 00b8 ECD1     		bne	.L37
 525              	.LBB117:
 436:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= (odd_frame_now ? USB_OTG_DIEPCTL_SD0PID_SEVNFRM_Msk : USB_OTG_DIEPCTL
 526              		.loc 1 436 7 is_stmt 1 view .LVU149
 436:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= (odd_frame_now ? USB_OTG_DIEPCTL_SD0PID_SEVNFRM_Msk : USB_OTG_DIEPCTL
 527              		.loc 1 436 42 is_stmt 0 view .LVU150
 528 00ba 164B     		ldr	r3, .L47+8
 529 00bc 9A68     		ldr	r2, [r3, #8]
 530              	.LVL38:
 437:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 531              		.loc 1 437 7 is_stmt 1 view .LVU151
 437:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 532              		.loc 1 437 28 is_stmt 0 view .LVU152
 533 00be D1F80039 		ldr	r3, [r1, #2304]
 437:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 534              		.loc 1 437 83 view .LVU153
 535 00c2 12F4807F 		tst	r2, #256
 536 00c6 05D0     		beq	.L41
 537 00c8 4FF08052 		mov	r2, #268435456
 538              	.LVL39:
 539              	.L38:
ARM GAS  /tmp/ccOP5HA3.s 			page 22


 437:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 540              		.loc 1 437 28 discriminator 4 view .LVU154
 541 00cc 1343     		orrs	r3, r3, r2
 542 00ce C1F80039 		str	r3, [r1, #2304]
 543 00d2 DFE7     		b	.L37
 544              	.LVL40:
 545              	.L41:
 437:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 546              		.loc 1 437 83 view .LVU155
 547 00d4 4FF00052 		mov	r2, #536870912
 548              	.LVL41:
 437:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 549              		.loc 1 437 83 view .LVU156
 550 00d8 F8E7     		b	.L38
 551              	.LVL42:
 552              	.L45:
 437:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 553              		.loc 1 437 83 view .LVU157
 554              	.LBE117:
 450:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 555              		.loc 1 450 114 discriminator 1 view .LVU158
 556 00da 02EB4E02 		add	r2, r2, lr, lsl #1
 557              	.LVL43:
 450:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 558              		.loc 1 450 114 discriminator 1 view .LVU159
 559 00de 0C4B     		ldr	r3, .L47+4
 560 00e0 03EB0212 		add	r2, r3, r2, lsl #4
 561 00e4 137B     		ldrb	r3, [r2, #12]	@ zero_extendqisi2
 450:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 562              		.loc 1 450 84 discriminator 1 view .LVU160
 563 00e6 012B     		cmp	r3, #1
 564 00e8 BED1     		bne	.L34
 565              	.LBB118:
 453:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPCTL |= (odd_frame_now ? USB_OTG_DOEPCTL_SD0PID_SEVNFRM_Msk : USB_OTG_DOEPCT
 566              		.loc 1 453 7 is_stmt 1 view .LVU161
 453:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPCTL |= (odd_frame_now ? USB_OTG_DOEPCTL_SD0PID_SEVNFRM_Msk : USB_OTG_DOEPCT
 567              		.loc 1 453 42 is_stmt 0 view .LVU162
 568 00ea 0A4B     		ldr	r3, .L47+8
 569 00ec 9A68     		ldr	r2, [r3, #8]
 570              	.LVL44:
 454:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 571              		.loc 1 454 7 is_stmt 1 view .LVU163
 454:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 572              		.loc 1 454 29 is_stmt 0 view .LVU164
 573 00ee D1F8003B 		ldr	r3, [r1, #2816]
 454:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 574              		.loc 1 454 84 view .LVU165
 575 00f2 12F4807F 		tst	r2, #256
 576 00f6 05D0     		beq	.L42
 577 00f8 4FF08052 		mov	r2, #268435456
 578              	.LVL45:
 579              	.L40:
 454:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 580              		.loc 1 454 29 discriminator 4 view .LVU166
 581 00fc 1343     		orrs	r3, r3, r2
 582 00fe C1F8003B 		str	r3, [r1, #2816]
 583              	.LBE118:
ARM GAS  /tmp/ccOP5HA3.s 			page 23


 584              		.loc 1 457 1 discriminator 4 view .LVU167
 585 0102 B1E7     		b	.L34
 586              	.LVL46:
 587              	.L42:
 588              	.LBB119:
 454:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 589              		.loc 1 454 84 view .LVU168
 590 0104 4FF00052 		mov	r2, #536870912
 591              	.LVL47:
 454:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 592              		.loc 1 454 84 view .LVU169
 593 0108 F8E7     		b	.L40
 594              	.L48:
 595 010a 00BF     		.align	2
 596              	.L47:
 597 010c 00000000 		.word	.LANCHOR1
 598 0110 00000000 		.word	.LANCHOR0
 599 0114 00080050 		.word	1342179328
 600              	.LBE119:
 601              		.cfi_endproc
 602              	.LFE201:
 604              		.section	.text.remote_wakeup_delay,"ax",%progbits
 605              		.align	1
 606              		.syntax unified
 607              		.thumb
 608              		.thumb_func
 609              		.fpu fpv4-sp-d16
 611              	remote_wakeup_delay:
 612              	.LFB206:
 458:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 459:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** /*------------------------------------------------------------------*/
 460:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** /* Controller API
 461:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  *------------------------------------------------------------------*/
 462:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_init (uint8_t rhport)
 463:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 464:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Programming model begins in the last section of the chapter on the USB
 465:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // peripheral in each Reference Manual.
 466:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 467:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 468:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 469:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // No HNP/SRP (no OTG support), program timeout later.
 470:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if ( rhport == 1 )
 471:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 472:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // On selected MCUs HS port1 can be used with external PHY via ULPI interface
 473:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #if CFG_TUSB_RHPORT1_MODE & OPT_MODE_HIGH_SPEED
 474:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // deactivate internal PHY
 475:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GCCFG &= ~USB_OTG_GCCFG_PWRDWN;
 476:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 477:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Init The UTMI Interface
 478:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL
 479:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 480:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Select default internal VBUS Indicator and Drive for ULPI
 481:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
 482:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #else
 483:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
 484:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #endif
 485:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 24


 486:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #if defined(USB_HS_PHYC)
 487:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Highspeed with embedded UTMI PHYC
 488:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 489:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Select UTMI Interface
 490:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GUSBCFG &= ~USB_OTG_GUSBCFG_ULPI_UTMI_SEL;
 491:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GCCFG |= USB_OTG_GCCFG_PHYHSEN;
 492:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 493:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Enables control of a High Speed USB PHY
 494:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     USB_HS_PHYCInit();
 495:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #endif
 496:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else
 497:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 498:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Enable internal PHY
 499:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
 500:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 501:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 502:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Reset core after selecting PHY
 503:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Wait AHB IDLE, reset then wait until it is cleared
 504:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ((usb_otg->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U) {}
 505:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 506:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ((usb_otg->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST) {}
 507:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 508:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Restart PHY clock
 509:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   *((volatile uint32_t *)(RHPORT_REGS_BASE + USB_OTG_PCGCCTL_BASE)) = 0;
 510:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 511:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Clear all interrupts
 512:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GINTSTS |= usb_otg->GINTSTS;
 513:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 514:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Required as part of core initialization.
 515:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // TODO: How should mode mismatch be handled? It will cause
 516:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // the core to stop working/require reset.
 517:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GINTMSK |= USB_OTG_GINTMSK_OTGINT | USB_OTG_GINTMSK_MMISM;
 518:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 519:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 520:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 521:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // If USB host misbehaves during status portion of control xfer
 522:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // (non zero-length packet), send STALL back and discard.
 523:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCFG |=  USB_OTG_DCFG_NZLSOHSK;
 524:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 525:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   set_speed(rhport, TUD_OPT_HIGH_SPEED ? TUSB_SPEED_HIGH : TUSB_SPEED_FULL);
 526:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 527:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Enable internal USB transceiver, unless using HS core (port 1) with external PHY.
 528:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if (!(rhport == 1 && (CFG_TUH_ENABLED & OPT_MODE_HIGH_SPEED))) usb_otg->GCCFG |= USB_OTG_GCCFG_PW
 529:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 530:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GINTMSK |= USB_OTG_GINTMSK_USBRST   | USB_OTG_GINTMSK_ENUMDNEM |
 531:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_WUIM     |
 532:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       USB_OTG_GINTMSK_RXFLVLM  | (USE_SOF ? USB_OTG_GINTMSK_SOFM : 0);
 533:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 534:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Enable global interrupt
 535:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 536:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 537:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dcd_connect(rhport);
 538:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 539:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 540:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_int_enable (uint8_t rhport)
 541:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 542:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
ARM GAS  /tmp/ccOP5HA3.s 			page 25


 543:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   NVIC_EnableIRQ(RHPORT_IRQn);
 544:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 545:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 546:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_int_disable (uint8_t rhport)
 547:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 548:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 549:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   NVIC_DisableIRQ(RHPORT_IRQn);
 550:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 551:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 552:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_set_address (uint8_t rhport, uint8_t dev_addr)
 553:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 554:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 555:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCFG = (dev->DCFG & ~USB_OTG_DCFG_DAD_Msk) | (dev_addr << USB_OTG_DCFG_DAD_Pos);
 556:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 557:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Response with status after changing device address
 558:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dcd_edpt_xfer(rhport, tu_edpt_addr(0, TUSB_DIR_IN), NULL, 0);
 559:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 560:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 561:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void remote_wakeup_delay(void)
 562:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 613              		.loc 1 562 1 is_stmt 1 view -0
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 0
 616              		@ frame_needed = 0, uses_anonymous_args = 0
 617              		@ link register save eliminated.
 563:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // try to delay for 1 ms
 564:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint32_t count = SystemCoreClock / 1000;
 618              		.loc 1 564 3 view .LVU171
 619              		.loc 1 564 36 is_stmt 0 view .LVU172
 620 0000 064B     		ldr	r3, .L52
 621 0002 1B68     		ldr	r3, [r3]
 622              		.loc 1 564 12 view .LVU173
 623 0004 064A     		ldr	r2, .L52+4
 624 0006 A2FB0323 		umull	r2, r3, r2, r3
 625 000a 9B09     		lsrs	r3, r3, #6
 626              	.LVL48:
 565:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ( count-- )
 627              		.loc 1 565 3 is_stmt 1 view .LVU174
 628              		.loc 1 565 9 is_stmt 0 view .LVU175
 629 000c 01E0     		b	.L50
 630              	.LVL49:
 631              	.L51:
 566:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 567:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     __NOP();
 632              		.loc 1 567 5 is_stmt 1 view .LVU176
 633              		.syntax unified
 634              	@ 567 "tinyusb/src/portable/st/synopsys/dcd_synopsys.c" 1
 635 000e 00BF     		nop
 636              	@ 0 "" 2
 565:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ( count-- )
 637              		.loc 1 565 16 is_stmt 0 view .LVU177
 638              		.thumb
 639              		.syntax unified
 640 0010 1346     		mov	r3, r2
 641              	.LVL50:
 642              	.L50:
 565:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ( count-- )
ARM GAS  /tmp/ccOP5HA3.s 			page 26


 643              		.loc 1 565 9 is_stmt 1 view .LVU178
 565:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ( count-- )
 644              		.loc 1 565 16 is_stmt 0 view .LVU179
 645 0012 5A1E     		subs	r2, r3, #1
 646              	.LVL51:
 565:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ( count-- )
 647              		.loc 1 565 9 view .LVU180
 648 0014 002B     		cmp	r3, #0
 649 0016 FAD1     		bne	.L51
 568:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 569:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 650              		.loc 1 569 1 view .LVU181
 651 0018 7047     		bx	lr
 652              	.L53:
 653 001a 00BF     		.align	2
 654              	.L52:
 655 001c 00000000 		.word	SystemCoreClock
 656 0020 D34D6210 		.word	274877907
 657              		.cfi_endproc
 658              	.LFE206:
 660              		.section	.text.dcd_edpt_disable,"ax",%progbits
 661              		.align	1
 662              		.syntax unified
 663              		.thumb
 664              		.thumb_func
 665              		.fpu fpv4-sp-d16
 667              	dcd_edpt_disable:
 668              	.LVL52:
 669              	.LFB215:
 570:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 571:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_remote_wakeup(uint8_t rhport)
 572:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 573:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 574:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 575:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 576:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 577:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 578:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // set remote wakeup
 579:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCTL |= USB_OTG_DCTL_RWUSIG;
 580:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 581:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // enable SOF to detect bus resume
 582:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GINTSTS = USB_OTG_GINTSTS_SOF;
 583:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 584:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 585:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Per specs: remote wakeup signal bit must be clear within 1-15ms
 586:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   remote_wakeup_delay();
 587:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 588:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCTL &= ~USB_OTG_DCTL_RWUSIG;
 589:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 590:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 591:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_connect(uint8_t rhport)
 592:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 593:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 594:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 595:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCTL &= ~USB_OTG_DCTL_SDIS;
 596:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 597:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 27


 598:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_disconnect(uint8_t rhport)
 599:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 600:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 601:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 602:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCTL |= USB_OTG_DCTL_SDIS;
 603:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 604:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 605:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_sof_enable(uint8_t rhport, bool en)
 606:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 607:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 608:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) en;
 609:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 610:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // TODO implement later
 611:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 612:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 613:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** /*------------------------------------------------------------------*/
 614:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** /* DCD Endpoint port
 615:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  *------------------------------------------------------------------*/
 616:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 617:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** bool dcd_edpt_open (uint8_t rhport, tusb_desc_endpoint_t const * desc_edpt)
 618:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 619:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 620:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 621:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 622:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 623:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
 624:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 625:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 626:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const epnum = tu_edpt_number(desc_edpt->bEndpointAddress);
 627:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(desc_edpt->bEndpointAddress);
 628:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   TU_ASSERT(epnum < EP_MAX);
 630:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 631:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer_ctl_t * xfer = XFER_CTL_BASE(epnum, dir);
 632:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->max_size = tu_edpt_packet_size(desc_edpt);
 633:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->interval = desc_edpt->bInterval;
 634:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 635:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const fifo_size = (xfer->max_size + 3) / 4; // Round up to next full word
 636:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 637:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(dir == TUSB_DIR_OUT)
 638:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 639:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Calculate required size of RX FIFO
 640:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint16_t const sz = calc_rx_ff_size(4*fifo_size);
 641:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 642:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // If size_rx needs to be extended check if possible and if so enlarge it
 643:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if (usb_otg->GRXFSIZ < sz)
 644:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       TU_ASSERT(sz + _allocated_fifo_words_tx <= EP_FIFO_SIZE/4);
 646:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 647:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Enlarge RX FIFO
 648:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       usb_otg->GRXFSIZ = sz;
 649:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 650:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 651:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[epnum].DOEPCTL |= (1 << USB_OTG_DOEPCTL_USBAEP_Pos)        |
 652:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer << USB_OTG_DOEPCTL_EPTYP_Pos)   |
 653:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer != TUSB_XFER_ISOCHRONOUS ? USB_OTG_DOEPCTL_SD0PID_SEVNFRM : 0
 654:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DOEPCTL_MPSIZ_Pos);
ARM GAS  /tmp/ccOP5HA3.s 			page 28


 655:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 656:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dev->DAINTMSK |= (1 << (USB_OTG_DAINTMSK_OEPM_Pos + epnum));
 657:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 658:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   else
 659:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 660:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // "USB Data FIFOs" section in reference manual
 661:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Peripheral FIFO architecture
 662:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     //
 663:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // --------------- 320 or 1024 ( 1280 or 4096 bytes )
 664:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // | IN FIFO 0   |
 665:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // --------------- (320 or 1024) - 16
 666:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // | IN FIFO 1   |
 667:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // --------------- (320 or 1024) - 16 - x
 668:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // |   . . . .   |
 669:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // --------------- (320 or 1024) - 16 - x - y - ... - z
 670:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // | IN FIFO MAX |
 671:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // ---------------
 672:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // |    FREE     |
 673:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // --------------- GRXFSIZ
 674:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // | OUT FIFO    |
 675:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // | ( Shared )  |
 676:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // --------------- 0
 677:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     //
 678:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // In FIFO is allocated by following rules:
 679:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // - IN EP 1 gets FIFO 1, IN EP "n" gets FIFO "n".
 680:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 681:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Check if free space is available
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     TU_ASSERT(_allocated_fifo_words_tx + fifo_size + usb_otg->GRXFSIZ <= EP_FIFO_SIZE/4);
 683:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 684:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx += fifo_size;
 685:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 686:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     TU_LOG(2, "    Allocated %u bytes at offset %u", fifo_size*4, EP_FIFO_SIZE-_allocated_fifo_word
 687:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 688:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // DIEPTXF starts at FIFO #1.
 689:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Both TXFD and TXSA are in unit of 32-bit words.
 690:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->DIEPTXF[epnum - 1] = (fifo_size << USB_OTG_DIEPTXF_INEPTXFD_Pos) | (EP_FIFO_SIZE/4 - _
 691:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 692:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPCTL |= (1 << USB_OTG_DIEPCTL_USBAEP_Pos) |
 693:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (epnum << USB_OTG_DIEPCTL_TXFNUM_Pos) |
 694:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer << USB_OTG_DIEPCTL_EPTYP_Pos) |
 695:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer != TUSB_XFER_ISOCHRONOUS ? USB_OTG_DIEPCTL_SD0PID_SEVNFRM : 0
 696:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DIEPCTL_MPSIZ_Pos);
 697:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 698:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dev->DAINTMSK |= (1 << (USB_OTG_DAINTMSK_IEPM_Pos + epnum));
 699:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 700:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 701:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   return true;
 702:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 703:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 704:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // Close all non-control endpoints, cancel all pending transfers if any.
 705:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_edpt_close_all (uint8_t rhport)
 706:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 707:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 708:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 709:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** //  USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 710:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 711:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
ARM GAS  /tmp/ccOP5HA3.s 			page 29


 712:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 713:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 714:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Disable non-control interrupt
 715:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DAINTMSK = (1 << USB_OTG_DAINTMSK_OEPM_Pos) | (1 << USB_OTG_DAINTMSK_IEPM_Pos);
 716:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint8_t n = 1; n < EP_MAX; n++)
 718:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 719:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // disable OUT endpoint
 720:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL = 0;
 721:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_status[n][TUSB_DIR_OUT].max_size = 0;
 722:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 723:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // disable IN endpoint
 724:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[n].DIEPCTL = 0;
 725:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_status[n][TUSB_DIR_IN].max_size = 0;
 726:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 727:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 728:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // reset allocated fifo IN
 729:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   _allocated_fifo_words_tx = 16;
 730:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 731:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 732:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** bool dcd_edpt_xfer (uint8_t rhport, uint8_t ep_addr, uint8_t * buffer, uint16_t total_bytes)
 733:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 734:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 735:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 736:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 737:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer_ctl_t * xfer = XFER_CTL_BASE(epnum, dir);
 738:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->buffer      = buffer;
 739:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->ff          = NULL;
 740:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->total_len   = total_bytes;
 741:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 742:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // EP0 can only handle one packet
 743:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(epnum == 0) {
 744:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     ep0_pending[dir] = total_bytes;
 745:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Schedule the first transaction for EP0 transfer
 746:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     edpt_schedule_packets(rhport, epnum, dir, 1, ep0_pending[dir]);
 747:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     return true;
 748:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 749:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 750:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t num_packets = (total_bytes / xfer->max_size);
 751:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const short_packet_size = total_bytes % xfer->max_size;
 752:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 753:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Zero-size packet is special case.
 754:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(short_packet_size > 0 || (total_bytes == 0)) {
 755:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     num_packets++;
 756:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 757:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 758:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Schedule packets to be sent within interrupt
 759:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   edpt_schedule_packets(rhport, epnum, dir, num_packets, total_bytes);
 760:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 761:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   return true;
 762:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 763:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 764:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // The number of bytes has to be given explicitly to allow more flexible control of how many
 765:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // bytes should be written and second to keep the return value free to give back a boolean
 766:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // success message. If total_bytes is too big, the FIFO will copy only what is available
 767:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // into the USB buffer!
 768:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** bool dcd_edpt_xfer_fifo (uint8_t rhport, uint8_t ep_addr, tu_fifo_t * ff, uint16_t total_bytes)
ARM GAS  /tmp/ccOP5HA3.s 			page 30


 769:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 770:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // USB buffers always work in bytes so to avoid unnecessary divisions we demand item_size = 1
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   TU_ASSERT(ff->item_size == 1);
 772:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 773:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 774:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 775:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 776:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer_ctl_t * xfer = XFER_CTL_BASE(epnum, dir);
 777:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->buffer      = NULL;
 778:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->ff          = ff;
 779:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->total_len   = total_bytes;
 780:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 781:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t num_packets = (total_bytes / xfer->max_size);
 782:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const short_packet_size = total_bytes % xfer->max_size;
 783:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 784:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Zero-size packet is special case.
 785:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(short_packet_size > 0 || (total_bytes == 0)) num_packets++;
 786:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 787:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Schedule packets to be sent within interrupt
 788:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   edpt_schedule_packets(rhport, epnum, dir, num_packets, total_bytes);
 789:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 790:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   return true;
 791:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 792:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 793:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void dcd_edpt_disable (uint8_t rhport, uint8_t ep_addr, bool stall)
 794:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 670              		.loc 1 794 1 is_stmt 1 view -0
 671              		.cfi_startproc
 672              		@ args = 0, pretend = 0, frame = 0
 673              		@ frame_needed = 0, uses_anonymous_args = 0
 674              		@ link register save eliminated.
 795:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 675              		.loc 1 795 3 view .LVU183
 796:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 797:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 676              		.loc 1 797 3 view .LVU184
 798:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 677              		.loc 1 798 3 view .LVU185
 799:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
 678              		.loc 1 799 3 view .LVU186
 800:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 679              		.loc 1 800 3 view .LVU187
 801:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 802:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 680              		.loc 1 802 3 view .LVU188
 681              	.LBB120:
 682              	.LBI120:
 683              		.file 3 "tinyusb/src/common/tusb_types.h"
   1:tinyusb/src/common/tusb_types.h **** /*
   2:tinyusb/src/common/tusb_types.h ****  * The MIT License (MIT)
   3:tinyusb/src/common/tusb_types.h ****  *
   4:tinyusb/src/common/tusb_types.h ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/common/tusb_types.h ****  *
   6:tinyusb/src/common/tusb_types.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/common/tusb_types.h ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/common/tusb_types.h ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/common/tusb_types.h ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
ARM GAS  /tmp/ccOP5HA3.s 			page 31


  10:tinyusb/src/common/tusb_types.h ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/common/tusb_types.h ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/common/tusb_types.h ****  *
  13:tinyusb/src/common/tusb_types.h ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/common/tusb_types.h ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/common/tusb_types.h ****  *
  16:tinyusb/src/common/tusb_types.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  17:tinyusb/src/common/tusb_types.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/common/tusb_types.h ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/common/tusb_types.h ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/common/tusb_types.h ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/common/tusb_types.h ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/common/tusb_types.h ****  * THE SOFTWARE.
  23:tinyusb/src/common/tusb_types.h ****  *
  24:tinyusb/src/common/tusb_types.h ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/common/tusb_types.h ****  */
  26:tinyusb/src/common/tusb_types.h **** 
  27:tinyusb/src/common/tusb_types.h **** /** \ingroup group_usb_definitions
  28:tinyusb/src/common/tusb_types.h ****  *  \defgroup USBDef_Type USB Types
  29:tinyusb/src/common/tusb_types.h ****  *  @{ */
  30:tinyusb/src/common/tusb_types.h **** 
  31:tinyusb/src/common/tusb_types.h **** #ifndef _TUSB_TYPES_H_
  32:tinyusb/src/common/tusb_types.h **** #define _TUSB_TYPES_H_
  33:tinyusb/src/common/tusb_types.h **** 
  34:tinyusb/src/common/tusb_types.h **** #include <stdbool.h>
  35:tinyusb/src/common/tusb_types.h **** #include <stdint.h>
  36:tinyusb/src/common/tusb_types.h **** #include "tusb_compiler.h"
  37:tinyusb/src/common/tusb_types.h **** 
  38:tinyusb/src/common/tusb_types.h **** #ifdef __cplusplus
  39:tinyusb/src/common/tusb_types.h ****  extern "C" {
  40:tinyusb/src/common/tusb_types.h **** #endif
  41:tinyusb/src/common/tusb_types.h **** 
  42:tinyusb/src/common/tusb_types.h **** /*------------------------------------------------------------------*/
  43:tinyusb/src/common/tusb_types.h **** /* CONSTANTS
  44:tinyusb/src/common/tusb_types.h ****  *------------------------------------------------------------------*/
  45:tinyusb/src/common/tusb_types.h **** 
  46:tinyusb/src/common/tusb_types.h **** /// defined base on EHCI specs value for Endpoint Speed
  47:tinyusb/src/common/tusb_types.h **** typedef enum
  48:tinyusb/src/common/tusb_types.h **** {
  49:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_FULL = 0,
  50:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_LOW  = 1,
  51:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_HIGH = 2,
  52:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_INVALID = 0xff,
  53:tinyusb/src/common/tusb_types.h **** }tusb_speed_t;
  54:tinyusb/src/common/tusb_types.h **** 
  55:tinyusb/src/common/tusb_types.h **** /// defined base on USB Specs Endpoint's bmAttributes
  56:tinyusb/src/common/tusb_types.h **** typedef enum
  57:tinyusb/src/common/tusb_types.h **** {
  58:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_CONTROL = 0 ,
  59:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_ISOCHRONOUS ,
  60:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_BULK        ,
  61:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_INTERRUPT
  62:tinyusb/src/common/tusb_types.h **** }tusb_xfer_type_t;
  63:tinyusb/src/common/tusb_types.h **** 
  64:tinyusb/src/common/tusb_types.h **** typedef enum
  65:tinyusb/src/common/tusb_types.h **** {
  66:tinyusb/src/common/tusb_types.h ****   TUSB_DIR_OUT = 0,
ARM GAS  /tmp/ccOP5HA3.s 			page 32


  67:tinyusb/src/common/tusb_types.h ****   TUSB_DIR_IN  = 1,
  68:tinyusb/src/common/tusb_types.h **** 
  69:tinyusb/src/common/tusb_types.h ****   TUSB_DIR_IN_MASK = 0x80
  70:tinyusb/src/common/tusb_types.h **** }tusb_dir_t;
  71:tinyusb/src/common/tusb_types.h **** 
  72:tinyusb/src/common/tusb_types.h **** enum
  73:tinyusb/src/common/tusb_types.h **** {
  74:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_BULK_FS = 64,
  75:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_BULK_HS= 512,
  76:tinyusb/src/common/tusb_types.h **** 
  77:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_ISO_FS_MAX = 1023,
  78:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_ISO_HS_MAX = 1024,
  79:tinyusb/src/common/tusb_types.h **** };
  80:tinyusb/src/common/tusb_types.h **** 
  81:tinyusb/src/common/tusb_types.h **** /// Isochronous End Point Attributes
  82:tinyusb/src/common/tusb_types.h **** typedef enum
  83:tinyusb/src/common/tusb_types.h **** {
  84:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_NO_SYNC         = 0x00,
  85:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_ASYNCHRONOUS    = 0x04,
  86:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_ADAPTIVE        = 0x08,
  87:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_SYNCHRONOUS     = 0x0C,
  88:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_DATA            = 0x00, ///< Data End Point
  89:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_EXPLICIT_FB     = 0x10, ///< Feedback End Point
  90:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_IMPLICIT_FB     = 0x20, ///< Data endpoint that also serves as an implicit feedba
  91:tinyusb/src/common/tusb_types.h **** }tusb_iso_ep_attribute_t;
  92:tinyusb/src/common/tusb_types.h **** 
  93:tinyusb/src/common/tusb_types.h **** /// USB Descriptor Types
  94:tinyusb/src/common/tusb_types.h **** typedef enum
  95:tinyusb/src/common/tusb_types.h **** {
  96:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEVICE                = 0x01,
  97:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CONFIGURATION         = 0x02,
  98:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_STRING                = 0x03,
  99:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_INTERFACE             = 0x04,
 100:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_ENDPOINT              = 0x05,
 101:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEVICE_QUALIFIER      = 0x06,
 102:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_OTHER_SPEED_CONFIG    = 0x07,
 103:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_INTERFACE_POWER       = 0x08,
 104:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_OTG                   = 0x09,
 105:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEBUG                 = 0x0A,
 106:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_INTERFACE_ASSOCIATION = 0x0B,
 107:tinyusb/src/common/tusb_types.h **** 
 108:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_BOS                   = 0x0F,
 109:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEVICE_CAPABILITY     = 0x10,
 110:tinyusb/src/common/tusb_types.h **** 
 111:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_FUNCTIONAL            = 0x21,
 112:tinyusb/src/common/tusb_types.h **** 
 113:tinyusb/src/common/tusb_types.h ****   // Class Specific Descriptor
 114:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_DEVICE             = 0x21,
 115:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_CONFIGURATION      = 0x22,
 116:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_STRING             = 0x23,
 117:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_INTERFACE          = 0x24,
 118:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_ENDPOINT           = 0x25,
 119:tinyusb/src/common/tusb_types.h **** 
 120:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_SUPERSPEED_ENDPOINT_COMPANION     = 0x30,
 121:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_SUPERSPEED_ISO_ENDPOINT_COMPANION = 0x31
 122:tinyusb/src/common/tusb_types.h **** }tusb_desc_type_t;
 123:tinyusb/src/common/tusb_types.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 33


 124:tinyusb/src/common/tusb_types.h **** typedef enum
 125:tinyusb/src/common/tusb_types.h **** {
 126:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_STATUS        = 0  ,
 127:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_CLEAR_FEATURE     = 1  ,
 128:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RESERVED          = 2  ,
 129:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_FEATURE       = 3  ,
 130:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RESERVED2         = 4  ,
 131:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_ADDRESS       = 5  ,
 132:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_DESCRIPTOR    = 6  ,
 133:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_DESCRIPTOR    = 7  ,
 134:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_CONFIGURATION = 8  ,
 135:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_CONFIGURATION = 9  ,
 136:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_INTERFACE     = 10 ,
 137:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_INTERFACE     = 11 ,
 138:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SYNCH_FRAME       = 12
 139:tinyusb/src/common/tusb_types.h **** }tusb_request_code_t;
 140:tinyusb/src/common/tusb_types.h **** 
 141:tinyusb/src/common/tusb_types.h **** typedef enum
 142:tinyusb/src/common/tusb_types.h **** {
 143:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_FEATURE_EDPT_HALT     = 0,
 144:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_FEATURE_REMOTE_WAKEUP = 1,
 145:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_FEATURE_TEST_MODE     = 2
 146:tinyusb/src/common/tusb_types.h **** }tusb_request_feature_selector_t;
 147:tinyusb/src/common/tusb_types.h **** 
 148:tinyusb/src/common/tusb_types.h **** typedef enum
 149:tinyusb/src/common/tusb_types.h **** {
 150:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_STANDARD = 0,
 151:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_CLASS,
 152:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_VENDOR,
 153:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_INVALID
 154:tinyusb/src/common/tusb_types.h **** } tusb_request_type_t;
 155:tinyusb/src/common/tusb_types.h **** 
 156:tinyusb/src/common/tusb_types.h **** typedef enum
 157:tinyusb/src/common/tusb_types.h **** {
 158:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_DEVICE =0,
 159:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_INTERFACE,
 160:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_ENDPOINT,
 161:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_OTHER
 162:tinyusb/src/common/tusb_types.h **** } tusb_request_recipient_t;
 163:tinyusb/src/common/tusb_types.h **** 
 164:tinyusb/src/common/tusb_types.h **** // https://www.usb.org/defined-class-codes
 165:tinyusb/src/common/tusb_types.h **** typedef enum
 166:tinyusb/src/common/tusb_types.h **** {
 167:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_UNSPECIFIED          = 0    ,
 168:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_AUDIO                = 1    ,
 169:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_CDC                  = 2    ,
 170:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_HID                  = 3    ,
 171:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_RESERVED_4           = 4    ,
 172:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_PHYSICAL             = 5    ,
 173:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_IMAGE                = 6    ,
 174:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_PRINTER              = 7    ,
 175:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_MSC                  = 8    ,
 176:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_HUB                  = 9    ,
 177:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_CDC_DATA             = 10   ,
 178:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_SMART_CARD           = 11   ,
 179:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_RESERVED_12          = 12   ,
 180:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_CONTENT_SECURITY     = 13   ,
ARM GAS  /tmp/ccOP5HA3.s 			page 34


 181:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_VIDEO                = 14   ,
 182:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_PERSONAL_HEALTHCARE  = 15   ,
 183:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_AUDIO_VIDEO          = 16   ,
 184:tinyusb/src/common/tusb_types.h **** 
 185:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_DIAGNOSTIC           = 0xDC ,
 186:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_WIRELESS_CONTROLLER  = 0xE0 ,
 187:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_MISC                 = 0xEF ,
 188:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_APPLICATION_SPECIFIC = 0xFE ,
 189:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_VENDOR_SPECIFIC      = 0xFF
 190:tinyusb/src/common/tusb_types.h **** }tusb_class_code_t;
 191:tinyusb/src/common/tusb_types.h **** 
 192:tinyusb/src/common/tusb_types.h **** typedef enum
 193:tinyusb/src/common/tusb_types.h **** {
 194:tinyusb/src/common/tusb_types.h ****   MISC_SUBCLASS_COMMON = 2
 195:tinyusb/src/common/tusb_types.h **** }misc_subclass_type_t;
 196:tinyusb/src/common/tusb_types.h **** 
 197:tinyusb/src/common/tusb_types.h **** typedef enum
 198:tinyusb/src/common/tusb_types.h **** {
 199:tinyusb/src/common/tusb_types.h ****   MISC_PROTOCOL_IAD = 1
 200:tinyusb/src/common/tusb_types.h **** }misc_protocol_type_t;
 201:tinyusb/src/common/tusb_types.h **** 
 202:tinyusb/src/common/tusb_types.h **** typedef enum
 203:tinyusb/src/common/tusb_types.h **** {
 204:tinyusb/src/common/tusb_types.h ****   APP_SUBCLASS_USBTMC = 0x03,
 205:tinyusb/src/common/tusb_types.h ****   APP_SUBCLASS_DFU_RUNTIME = 0x01
 206:tinyusb/src/common/tusb_types.h **** } app_subclass_type_t;
 207:tinyusb/src/common/tusb_types.h **** 
 208:tinyusb/src/common/tusb_types.h **** typedef enum
 209:tinyusb/src/common/tusb_types.h **** {
 210:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_WIRELESS_USB               = 0x01,
 211:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_USB20_EXTENSION            = 0x02,
 212:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_SUPERSPEED_USB             = 0x03,
 213:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_CONTAINER_id               = 0x04,
 214:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PLATFORM                   = 0x05,
 215:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_POWER_DELIVERY             = 0x06,
 216:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_BATTERY_INFO               = 0x07,
 217:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PD_CONSUMER_PORT           = 0x08,
 218:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PD_PROVIDER_PORT           = 0x09,
 219:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_SUPERSPEED_PLUS            = 0x0A,
 220:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PRECESION_TIME_MEASUREMENT = 0x0B,
 221:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_WIRELESS_USB_EXT           = 0x0C,
 222:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_BILLBOARD                  = 0x0D,
 223:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_AUTHENTICATION             = 0x0E,
 224:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_BILLBOARD_EX               = 0x0F,
 225:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_CONFIGURATION_SUMMARY      = 0x10
 226:tinyusb/src/common/tusb_types.h **** }device_capability_type_t;
 227:tinyusb/src/common/tusb_types.h **** 
 228:tinyusb/src/common/tusb_types.h **** enum {
 229:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CONFIG_ATT_REMOTE_WAKEUP = TU_BIT(5),
 230:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CONFIG_ATT_SELF_POWERED  = TU_BIT(6),
 231:tinyusb/src/common/tusb_types.h **** };
 232:tinyusb/src/common/tusb_types.h **** 
 233:tinyusb/src/common/tusb_types.h **** #define TUSB_DESC_CONFIG_POWER_MA(x)  ((x)/2)
 234:tinyusb/src/common/tusb_types.h **** 
 235:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 236:tinyusb/src/common/tusb_types.h **** //
 237:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
ARM GAS  /tmp/ccOP5HA3.s 			page 35


 238:tinyusb/src/common/tusb_types.h **** typedef enum
 239:tinyusb/src/common/tusb_types.h **** {
 240:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_SUCCESS = 0,
 241:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_FAILED,
 242:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_STALLED,
 243:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_TIMEOUT,
 244:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_INVALID
 245:tinyusb/src/common/tusb_types.h **** }xfer_result_t;
 246:tinyusb/src/common/tusb_types.h **** 
 247:tinyusb/src/common/tusb_types.h **** enum // TODO remove
 248:tinyusb/src/common/tusb_types.h **** {
 249:tinyusb/src/common/tusb_types.h ****   DESC_OFFSET_LEN  = 0,
 250:tinyusb/src/common/tusb_types.h ****   DESC_OFFSET_TYPE = 1
 251:tinyusb/src/common/tusb_types.h **** };
 252:tinyusb/src/common/tusb_types.h **** 
 253:tinyusb/src/common/tusb_types.h **** enum
 254:tinyusb/src/common/tusb_types.h **** {
 255:tinyusb/src/common/tusb_types.h ****   INTERFACE_INVALID_NUMBER = 0xff
 256:tinyusb/src/common/tusb_types.h **** };
 257:tinyusb/src/common/tusb_types.h **** 
 258:tinyusb/src/common/tusb_types.h **** typedef enum
 259:tinyusb/src/common/tusb_types.h **** {
 260:tinyusb/src/common/tusb_types.h ****   MS_OS_20_SET_HEADER_DESCRIPTOR       = 0x00,
 261:tinyusb/src/common/tusb_types.h ****   MS_OS_20_SUBSET_HEADER_CONFIGURATION = 0x01,
 262:tinyusb/src/common/tusb_types.h ****   MS_OS_20_SUBSET_HEADER_FUNCTION      = 0x02,
 263:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_COMPATBLE_ID        = 0x03,
 264:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_REG_PROPERTY        = 0x04,
 265:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_MIN_RESUME_TIME     = 0x05,
 266:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_MODEL_ID            = 0x06,
 267:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_CCGP_DEVICE         = 0x07,
 268:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_VENDOR_REVISION     = 0x08
 269:tinyusb/src/common/tusb_types.h **** } microsoft_os_20_type_t;
 270:tinyusb/src/common/tusb_types.h **** 
 271:tinyusb/src/common/tusb_types.h **** enum
 272:tinyusb/src/common/tusb_types.h **** {
 273:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_IDLE,
 274:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_SETUP,
 275:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_DATA,
 276:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_ACK
 277:tinyusb/src/common/tusb_types.h **** };
 278:tinyusb/src/common/tusb_types.h **** 
 279:tinyusb/src/common/tusb_types.h **** enum
 280:tinyusb/src/common/tusb_types.h **** {
 281:tinyusb/src/common/tusb_types.h ****   TUSB_INDEX_INVALID_8 = 0xFFu
 282:tinyusb/src/common/tusb_types.h **** };
 283:tinyusb/src/common/tusb_types.h **** 
 284:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 285:tinyusb/src/common/tusb_types.h **** // USB Descriptors
 286:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 287:tinyusb/src/common/tusb_types.h **** 
 288:tinyusb/src/common/tusb_types.h **** // Start of all packed definitions for compiler without per-type packed
 289:tinyusb/src/common/tusb_types.h **** TU_ATTR_PACKED_BEGIN
 290:tinyusb/src/common/tusb_types.h **** TU_ATTR_BIT_FIELD_ORDER_BEGIN
 291:tinyusb/src/common/tusb_types.h **** 
 292:tinyusb/src/common/tusb_types.h **** /// USB Device Descriptor
 293:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 294:tinyusb/src/common/tusb_types.h **** {
ARM GAS  /tmp/ccOP5HA3.s 			page 36


 295:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength            ; ///< Size of this descriptor in bytes.
 296:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType    ; ///< DEVICE Descriptor Type.
 297:tinyusb/src/common/tusb_types.h ****   uint16_t bcdUSB             ; ///< BUSB Specification Release Number in Binary-Coded Decimal (i.e
 298:tinyusb/src/common/tusb_types.h **** 
 299:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceClass       ; ///< Class code (assigned by the USB-IF). \li If this field is rese
 300:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceSubClass    ; ///< Subclass code (assigned by the USB-IF). These codes are qualif
 301:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceProtocol    ; ///< Protocol code (assigned by the USB-IF). These codes are qualif
 302:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPacketSize0    ; ///< Maximum packet size for endpoint zero (only 8, 16, 32, or 64 a
 303:tinyusb/src/common/tusb_types.h **** 
 304:tinyusb/src/common/tusb_types.h ****   uint16_t idVendor           ; ///< Vendor ID (assigned by the USB-IF).
 305:tinyusb/src/common/tusb_types.h ****   uint16_t idProduct          ; ///< Product ID (assigned by the manufacturer).
 306:tinyusb/src/common/tusb_types.h ****   uint16_t bcdDevice          ; ///< Device release number in binary-coded decimal.
 307:tinyusb/src/common/tusb_types.h ****   uint8_t  iManufacturer      ; ///< Index of string descriptor describing manufacturer.
 308:tinyusb/src/common/tusb_types.h ****   uint8_t  iProduct           ; ///< Index of string descriptor describing product.
 309:tinyusb/src/common/tusb_types.h ****   uint8_t  iSerialNumber      ; ///< Index of string descriptor describing the device's serial numb
 310:tinyusb/src/common/tusb_types.h **** 
 311:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumConfigurations ; ///< Number of possible configurations.
 312:tinyusb/src/common/tusb_types.h **** } tusb_desc_device_t;
 313:tinyusb/src/common/tusb_types.h **** 
 314:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_device_t) == 18, "size is not correct");
 315:tinyusb/src/common/tusb_types.h **** 
 316:tinyusb/src/common/tusb_types.h **** // USB Binary Device Object Store (BOS) Descriptor
 317:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 318:tinyusb/src/common/tusb_types.h **** {
 319:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength         ; ///< Size of this descriptor in bytes
 320:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType ; ///< CONFIGURATION Descriptor Type
 321:tinyusb/src/common/tusb_types.h ****   uint16_t wTotalLength    ; ///< Total length of data returned for this descriptor
 322:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumDeviceCaps  ; ///< Number of device capability descriptors in the BOS
 323:tinyusb/src/common/tusb_types.h **** } tusb_desc_bos_t;
 324:tinyusb/src/common/tusb_types.h **** 
 325:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_bos_t) == 5, "size is not correct");
 326:tinyusb/src/common/tusb_types.h **** 
 327:tinyusb/src/common/tusb_types.h **** /// USB Configuration Descriptor
 328:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 329:tinyusb/src/common/tusb_types.h **** {
 330:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength             ; ///< Size of this descriptor in bytes
 331:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType     ; ///< CONFIGURATION Descriptor Type
 332:tinyusb/src/common/tusb_types.h ****   uint16_t wTotalLength        ; ///< Total length of data returned for this configuration. Include
 333:tinyusb/src/common/tusb_types.h **** 
 334:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumInterfaces      ; ///< Number of interfaces supported by this configuration
 335:tinyusb/src/common/tusb_types.h ****   uint8_t  bConfigurationValue ; ///< Value to use as an argument to the SetConfiguration() request
 336:tinyusb/src/common/tusb_types.h ****   uint8_t  iConfiguration      ; ///< Index of string descriptor describing this configuration
 337:tinyusb/src/common/tusb_types.h ****   uint8_t  bmAttributes        ; ///< Configuration characteristics \n D7: Reserved (set to one)\n 
 338:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPower           ; ///< Maximum power consumption of the USB device from the bus in t
 339:tinyusb/src/common/tusb_types.h **** } tusb_desc_configuration_t;
 340:tinyusb/src/common/tusb_types.h **** 
 341:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_configuration_t) == 9, "size is not correct");
 342:tinyusb/src/common/tusb_types.h **** 
 343:tinyusb/src/common/tusb_types.h **** /// USB Interface Descriptor
 344:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 345:tinyusb/src/common/tusb_types.h **** {
 346:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength            ; ///< Size of this descriptor in bytes
 347:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType    ; ///< INTERFACE Descriptor Type
 348:tinyusb/src/common/tusb_types.h **** 
 349:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceNumber   ; ///< Number of this interface. Zero-based value identifying the ind
 350:tinyusb/src/common/tusb_types.h ****   uint8_t  bAlternateSetting  ; ///< Value used to select this alternate setting for the interface 
 351:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumEndpoints      ; ///< Number of endpoints used by this interface (excluding endpoint
ARM GAS  /tmp/ccOP5HA3.s 			page 37


 352:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceClass    ; ///< Class code (assigned by the USB-IF). \li A value of zero is re
 353:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceSubClass ; ///< Subclass code (assigned by the USB-IF). \n These codes are qua
 354:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceProtocol ; ///< Protocol code (assigned by the USB). \n These codes are qualif
 355:tinyusb/src/common/tusb_types.h ****   uint8_t  iInterface         ; ///< Index of string descriptor describing this interface
 356:tinyusb/src/common/tusb_types.h **** } tusb_desc_interface_t;
 357:tinyusb/src/common/tusb_types.h **** 
 358:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_interface_t) == 9, "size is not correct");
 359:tinyusb/src/common/tusb_types.h **** 
 360:tinyusb/src/common/tusb_types.h **** /// USB Endpoint Descriptor
 361:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 362:tinyusb/src/common/tusb_types.h **** {
 363:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength          ; // Size of this descriptor in bytes
 364:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType  ; // ENDPOINT Descriptor Type
 365:tinyusb/src/common/tusb_types.h **** 
 366:tinyusb/src/common/tusb_types.h ****   uint8_t  bEndpointAddress ; // The address of the endpoint
 367:tinyusb/src/common/tusb_types.h **** 
 368:tinyusb/src/common/tusb_types.h ****   struct TU_ATTR_PACKED {
 369:tinyusb/src/common/tusb_types.h ****     uint8_t xfer  : 2;        // Control, ISO, Bulk, Interrupt
 370:tinyusb/src/common/tusb_types.h ****     uint8_t sync  : 2;        // None, Asynchronous, Adaptive, Synchronous
 371:tinyusb/src/common/tusb_types.h ****     uint8_t usage : 2;        // Data, Feedback, Implicit feedback
 372:tinyusb/src/common/tusb_types.h ****     uint8_t       : 2;
 373:tinyusb/src/common/tusb_types.h ****   } bmAttributes;
 374:tinyusb/src/common/tusb_types.h **** 
 375:tinyusb/src/common/tusb_types.h ****   uint16_t wMaxPacketSize   ; // Bit 10..0 : max packet size, bit 12..11 additional transaction per
 376:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterval        ; // Polling interval, in frames or microframes depending on the operat
 377:tinyusb/src/common/tusb_types.h **** } tusb_desc_endpoint_t;
 378:tinyusb/src/common/tusb_types.h **** 
 379:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_endpoint_t) == 7, "size is not correct");
 380:tinyusb/src/common/tusb_types.h **** 
 381:tinyusb/src/common/tusb_types.h **** /// USB Other Speed Configuration Descriptor
 382:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 383:tinyusb/src/common/tusb_types.h **** {
 384:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength             ; ///< Size of descriptor
 385:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType     ; ///< Other_speed_Configuration Type
 386:tinyusb/src/common/tusb_types.h ****   uint16_t wTotalLength        ; ///< Total length of data returned
 387:tinyusb/src/common/tusb_types.h **** 
 388:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumInterfaces      ; ///< Number of interfaces supported by this speed configuration
 389:tinyusb/src/common/tusb_types.h ****   uint8_t  bConfigurationValue ; ///< Value to use to select configuration
 390:tinyusb/src/common/tusb_types.h ****   uint8_t  iConfiguration      ; ///< Index of string descriptor
 391:tinyusb/src/common/tusb_types.h ****   uint8_t  bmAttributes        ; ///< Same as Configuration descriptor
 392:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPower           ; ///< Same as Configuration descriptor
 393:tinyusb/src/common/tusb_types.h **** } tusb_desc_other_speed_t;
 394:tinyusb/src/common/tusb_types.h **** 
 395:tinyusb/src/common/tusb_types.h **** /// USB Device Qualifier Descriptor
 396:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 397:tinyusb/src/common/tusb_types.h **** {
 398:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength            ; ///< Size of descriptor
 399:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType    ; ///< Device Qualifier Type
 400:tinyusb/src/common/tusb_types.h ****   uint16_t bcdUSB             ; ///< USB specification version number (e.g., 0200H for V2.00)
 401:tinyusb/src/common/tusb_types.h **** 
 402:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceClass       ; ///< Class Code
 403:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceSubClass    ; ///< SubClass Code
 404:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceProtocol    ; ///< Protocol Code
 405:tinyusb/src/common/tusb_types.h **** 
 406:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPacketSize0    ; ///< Maximum packet size for other speed
 407:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumConfigurations ; ///< Number of Other-speed Configurations
 408:tinyusb/src/common/tusb_types.h ****   uint8_t  bReserved          ; ///< Reserved for future use, must be zero
ARM GAS  /tmp/ccOP5HA3.s 			page 38


 409:tinyusb/src/common/tusb_types.h **** } tusb_desc_device_qualifier_t;
 410:tinyusb/src/common/tusb_types.h **** 
 411:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_device_qualifier_t) == 10, "size is not correct");
 412:tinyusb/src/common/tusb_types.h **** 
 413:tinyusb/src/common/tusb_types.h **** /// USB Interface Association Descriptor (IAD ECN)
 414:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 415:tinyusb/src/common/tusb_types.h **** {
 416:tinyusb/src/common/tusb_types.h ****   uint8_t bLength           ; ///< Size of descriptor
 417:tinyusb/src/common/tusb_types.h ****   uint8_t bDescriptorType   ; ///< Other_speed_Configuration Type
 418:tinyusb/src/common/tusb_types.h **** 
 419:tinyusb/src/common/tusb_types.h ****   uint8_t bFirstInterface   ; ///< Index of the first associated interface.
 420:tinyusb/src/common/tusb_types.h ****   uint8_t bInterfaceCount   ; ///< Total number of associated interfaces.
 421:tinyusb/src/common/tusb_types.h **** 
 422:tinyusb/src/common/tusb_types.h ****   uint8_t bFunctionClass    ; ///< Interface class ID.
 423:tinyusb/src/common/tusb_types.h ****   uint8_t bFunctionSubClass ; ///< Interface subclass ID.
 424:tinyusb/src/common/tusb_types.h ****   uint8_t bFunctionProtocol ; ///< Interface protocol ID.
 425:tinyusb/src/common/tusb_types.h **** 
 426:tinyusb/src/common/tusb_types.h ****   uint8_t iFunction         ; ///< Index of the string descriptor describing the interface associat
 427:tinyusb/src/common/tusb_types.h **** } tusb_desc_interface_assoc_t;
 428:tinyusb/src/common/tusb_types.h **** 
 429:tinyusb/src/common/tusb_types.h **** // USB String Descriptor
 430:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 431:tinyusb/src/common/tusb_types.h **** {
 432:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength         ; ///< Size of this descriptor in bytes
 433:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType ; ///< Descriptor Type
 434:tinyusb/src/common/tusb_types.h ****   uint16_t unicode_string[];
 435:tinyusb/src/common/tusb_types.h **** } tusb_desc_string_t;
 436:tinyusb/src/common/tusb_types.h **** 
 437:tinyusb/src/common/tusb_types.h **** // USB Binary Device Object Store (BOS)
 438:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 439:tinyusb/src/common/tusb_types.h **** {
 440:tinyusb/src/common/tusb_types.h ****   uint8_t bLength;
 441:tinyusb/src/common/tusb_types.h ****   uint8_t bDescriptorType ;
 442:tinyusb/src/common/tusb_types.h ****   uint8_t bDevCapabilityType;
 443:tinyusb/src/common/tusb_types.h ****   uint8_t bReserved;
 444:tinyusb/src/common/tusb_types.h ****   uint8_t PlatformCapabilityUUID[16];
 445:tinyusb/src/common/tusb_types.h ****   uint8_t CapabilityData[];
 446:tinyusb/src/common/tusb_types.h **** } tusb_desc_bos_platform_t;
 447:tinyusb/src/common/tusb_types.h **** 
 448:tinyusb/src/common/tusb_types.h **** // USB WebuSB URL Descriptor
 449:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 450:tinyusb/src/common/tusb_types.h **** {
 451:tinyusb/src/common/tusb_types.h ****   uint8_t bLength;
 452:tinyusb/src/common/tusb_types.h ****   uint8_t bDescriptorType;
 453:tinyusb/src/common/tusb_types.h ****   uint8_t bScheme;
 454:tinyusb/src/common/tusb_types.h ****   char    url[];
 455:tinyusb/src/common/tusb_types.h **** } tusb_desc_webusb_url_t;
 456:tinyusb/src/common/tusb_types.h **** 
 457:tinyusb/src/common/tusb_types.h **** // DFU Functional Descriptor
 458:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 459:tinyusb/src/common/tusb_types.h **** {
 460:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength;
 461:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType;
 462:tinyusb/src/common/tusb_types.h **** 
 463:tinyusb/src/common/tusb_types.h ****   union {
 464:tinyusb/src/common/tusb_types.h ****     struct TU_ATTR_PACKED {
 465:tinyusb/src/common/tusb_types.h ****       uint8_t bitCanDnload             : 1;
ARM GAS  /tmp/ccOP5HA3.s 			page 39


 466:tinyusb/src/common/tusb_types.h ****       uint8_t bitCanUpload             : 1;
 467:tinyusb/src/common/tusb_types.h ****       uint8_t bitManifestationTolerant : 1;
 468:tinyusb/src/common/tusb_types.h ****       uint8_t bitWillDetach            : 1;
 469:tinyusb/src/common/tusb_types.h ****       uint8_t reserved                 : 4;
 470:tinyusb/src/common/tusb_types.h ****     } bmAttributes;
 471:tinyusb/src/common/tusb_types.h **** 
 472:tinyusb/src/common/tusb_types.h ****     uint8_t bAttributes;
 473:tinyusb/src/common/tusb_types.h ****   };
 474:tinyusb/src/common/tusb_types.h **** 
 475:tinyusb/src/common/tusb_types.h ****   uint16_t wDetachTimeOut;
 476:tinyusb/src/common/tusb_types.h ****   uint16_t wTransferSize;
 477:tinyusb/src/common/tusb_types.h ****   uint16_t bcdDFUVersion;
 478:tinyusb/src/common/tusb_types.h **** } tusb_desc_dfu_functional_t;
 479:tinyusb/src/common/tusb_types.h **** 
 480:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 481:tinyusb/src/common/tusb_types.h **** //
 482:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 483:tinyusb/src/common/tusb_types.h **** 
 484:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED{
 485:tinyusb/src/common/tusb_types.h ****   union {
 486:tinyusb/src/common/tusb_types.h ****     struct TU_ATTR_PACKED {
 487:tinyusb/src/common/tusb_types.h ****       uint8_t recipient :  5; ///< Recipient type tusb_request_recipient_t.
 488:tinyusb/src/common/tusb_types.h ****       uint8_t type      :  2; ///< Request type tusb_request_type_t.
 489:tinyusb/src/common/tusb_types.h ****       uint8_t direction :  1; ///< Direction type. tusb_dir_t
 490:tinyusb/src/common/tusb_types.h ****     } bmRequestType_bit;
 491:tinyusb/src/common/tusb_types.h **** 
 492:tinyusb/src/common/tusb_types.h ****     uint8_t bmRequestType;
 493:tinyusb/src/common/tusb_types.h ****   };
 494:tinyusb/src/common/tusb_types.h **** 
 495:tinyusb/src/common/tusb_types.h ****   uint8_t  bRequest;
 496:tinyusb/src/common/tusb_types.h ****   uint16_t wValue;
 497:tinyusb/src/common/tusb_types.h ****   uint16_t wIndex;
 498:tinyusb/src/common/tusb_types.h ****   uint16_t wLength;
 499:tinyusb/src/common/tusb_types.h **** } tusb_control_request_t;
 500:tinyusb/src/common/tusb_types.h **** 
 501:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_control_request_t) == 8, "size is not correct");
 502:tinyusb/src/common/tusb_types.h **** 
 503:tinyusb/src/common/tusb_types.h **** 
 504:tinyusb/src/common/tusb_types.h **** TU_ATTR_PACKED_END  // End of all packed definitions
 505:tinyusb/src/common/tusb_types.h **** TU_ATTR_BIT_FIELD_ORDER_END
 506:tinyusb/src/common/tusb_types.h **** 
 507:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 508:tinyusb/src/common/tusb_types.h **** // Endpoint helper
 509:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 510:tinyusb/src/common/tusb_types.h **** 
 511:tinyusb/src/common/tusb_types.h **** // Get direction from Endpoint address
 512:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline tusb_dir_t tu_edpt_dir(uint8_t addr)
 513:tinyusb/src/common/tusb_types.h **** {
 514:tinyusb/src/common/tusb_types.h ****   return (addr & TUSB_DIR_IN_MASK) ? TUSB_DIR_IN : TUSB_DIR_OUT;
 515:tinyusb/src/common/tusb_types.h **** }
 516:tinyusb/src/common/tusb_types.h **** 
 517:tinyusb/src/common/tusb_types.h **** // Get Endpoint number from address
 518:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_edpt_number(uint8_t addr)
 684              		.loc 3 518 45 view .LVU189
 685              	.LBB121:
 519:tinyusb/src/common/tusb_types.h **** {
 520:tinyusb/src/common/tusb_types.h ****   return (uint8_t)(addr & (~TUSB_DIR_IN_MASK));
ARM GAS  /tmp/ccOP5HA3.s 			page 40


 686              		.loc 3 520 3 view .LVU190
 687              		.loc 3 520 10 is_stmt 0 view .LVU191
 688 0000 01F07F03 		and	r3, r1, #127
 689              	.LVL53:
 690              		.loc 3 520 10 view .LVU192
 691              	.LBE121:
 692              	.LBE120:
 803:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 693              		.loc 1 803 3 is_stmt 1 view .LVU193
 694              	.LBB122:
 695              	.LBI122:
 512:tinyusb/src/common/tusb_types.h **** {
 696              		.loc 3 512 48 view .LVU194
 697              	.LBB123:
 514:tinyusb/src/common/tusb_types.h **** }
 698              		.loc 3 514 3 view .LVU195
 514:tinyusb/src/common/tusb_types.h **** }
 699              		.loc 3 514 3 is_stmt 0 view .LVU196
 700              	.LBE123:
 701              	.LBE122:
 804:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 805:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(dir == TUSB_DIR_IN) {
 702              		.loc 1 805 3 is_stmt 1 view .LVU197
 703              		.loc 1 805 5 is_stmt 0 view .LVU198
 704 0004 C909     		lsrs	r1, r1, #7
 705              	.LVL54:
 706              		.loc 1 805 5 view .LVU199
 707 0006 1BD1     		bne	.L83
 806:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Only disable currently enabled non-control endpoint
 807:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if ( (epnum == 0) || !(in_ep[epnum].DIEPCTL & USB_OTG_DIEPCTL_EPENA) ){
 808:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SNAK | (stall ? USB_OTG_DIEPCTL_STALL : 0);
 809:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 810:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Stop transmitting packets and NAK IN xfers.
 811:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SNAK;
 812:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_INEPNE) == 0);
 813:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 814:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Disable the endpoint.
 815:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_EPDIS | (stall ? USB_OTG_DIEPCTL_STALL : 0);
 816:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_EPDISD_Msk) == 0);
 817:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPINT = USB_OTG_DIEPINT_EPDISD;
 818:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 819:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 820:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Flush the FIFO, and wait until we have confirmed it cleared.
 821:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GRSTCTL |= (epnum << USB_OTG_GRSTCTL_TXFNUM_Pos);
 822:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GRSTCTL |= USB_OTG_GRSTCTL_TXFFLSH;
 823:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     while((usb_otg->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH_Msk) != 0);
 824:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
 825:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Only disable currently enabled non-control endpoint
 826:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if ( (epnum == 0) || !(out_ep[epnum].DOEPCTL & USB_OTG_DOEPCTL_EPENA) ){
 708              		.loc 1 826 5 is_stmt 1 view .LVU200
 709              		.loc 1 826 8 is_stmt 0 view .LVU201
 710 0008 002B     		cmp	r3, #0
 711 000a 00F08180 		beq	.L77
 794:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 712              		.loc 1 794 1 discriminator 1 view .LVU202
 713 000e 10B4     		push	{r4}
 714              	.LCFI1:
ARM GAS  /tmp/ccOP5HA3.s 			page 41


 715              		.cfi_def_cfa_offset 4
 716              		.cfi_offset 4, -4
 717              		.loc 1 826 34 discriminator 1 view .LVU203
 718 0010 5901     		lsls	r1, r3, #5
 719 0012 01F1A041 		add	r1, r1, #1342177280
 720 0016 01F53060 		add	r0, r1, #2816
 721              	.LVL55:
 722              		.loc 1 826 41 discriminator 1 view .LVU204
 723 001a D1F8004B 		ldr	r4, [r1, #2816]
 724              		.loc 1 826 23 discriminator 1 view .LVU205
 725 001e 002C     		cmp	r4, #0
 726 0020 55DB     		blt	.L66
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPCTL |= stall ? USB_OTG_DOEPCTL_STALL : 0;
 727              		.loc 1 827 7 is_stmt 1 view .LVU206
 728              		.loc 1 827 13 is_stmt 0 view .LVU207
 729 0022 5B01     		lsls	r3, r3, #5
 730              	.LVL56:
 731              		.loc 1 827 29 view .LVU208
 732 0024 03F1A043 		add	r3, r3, #1342177280
 733 0028 D3F8001B 		ldr	r1, [r3, #2816]
 734              		.loc 1 827 62 view .LVU209
 735 002c 002A     		cmp	r2, #0
 736 002e 4CD0     		beq	.L73
 737 0030 4FF40012 		mov	r2, #2097152
 738              	.LVL57:
 739              	.L67:
 740              		.loc 1 827 29 discriminator 4 view .LVU210
 741 0034 0A43     		orrs	r2, r2, r1
 742 0036 C3F8002B 		str	r2, [r3, #2816]
 743              	.L54:
 828:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 829:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Asserting GONAK is required to STALL an OUT endpoint.
 830:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Simpler to use polling here, we don't use the "B"OUTNAKEFF interrupt
 831:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // anyway, and it can't be cleared by user code. If this while loop never
 832:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // finishes, we have bigger problems than just the stack.
 833:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       dev->DCTL |= USB_OTG_DCTL_SGONAK;
 834:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((usb_otg->GINTSTS & USB_OTG_GINTSTS_BOUTNAKEFF_Msk) == 0);
 835:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 836:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Ditto here- disable the endpoint.
 837:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPCTL |= USB_OTG_DOEPCTL_EPDIS | (stall ? USB_OTG_DOEPCTL_STALL : 0);
 838:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((out_ep[epnum].DOEPINT & USB_OTG_DOEPINT_EPDISD_Msk) == 0);
 839:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPINT = USB_OTG_DOEPINT_EPDISD;
 840:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 841:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Allow other OUT endpoints to keep receiving.
 842:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       dev->DCTL |= USB_OTG_DCTL_CGONAK;
 843:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 844:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 845:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 744              		.loc 1 845 1 view .LVU211
 745 003a 5DF8044B 		ldr	r4, [sp], #4
 746              	.LCFI2:
 747              		.cfi_restore 4
 748              		.cfi_def_cfa_offset 0
 749 003e 7047     		bx	lr
 750              	.LVL58:
 751              	.L83:
 807:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SNAK | (stall ? USB_OTG_DIEPCTL_STALL : 0);
ARM GAS  /tmp/ccOP5HA3.s 			page 42


 752              		.loc 1 807 5 is_stmt 1 view .LVU212
 807:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SNAK | (stall ? USB_OTG_DIEPCTL_STALL : 0);
 753              		.loc 1 807 8 is_stmt 0 view .LVU213
 754 0040 4BB1     		cbz	r3, .L56
 807:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SNAK | (stall ? USB_OTG_DIEPCTL_STALL : 0);
 755              		.loc 1 807 33 discriminator 1 view .LVU214
 756 0042 4FEA431C 		lsl	ip, r3, #5
 757 0046 0CF1A04C 		add	ip, ip, #1342177280
 758 004a 0CF51061 		add	r1, ip, #2304
 807:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SNAK | (stall ? USB_OTG_DIEPCTL_STALL : 0);
 759              		.loc 1 807 40 discriminator 1 view .LVU215
 760 004e DCF80009 		ldr	r0, [ip, #2304]
 761              	.LVL59:
 807:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SNAK | (stall ? USB_OTG_DIEPCTL_STALL : 0);
 762              		.loc 1 807 23 discriminator 1 view .LVU216
 763 0052 0028     		cmp	r0, #0
 764 0054 1EDB     		blt	.L57
 765              	.L56:
 808:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 766              		.loc 1 808 7 is_stmt 1 view .LVU217
 808:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 767              		.loc 1 808 12 is_stmt 0 view .LVU218
 768 0056 5901     		lsls	r1, r3, #5
 808:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 769              		.loc 1 808 28 view .LVU219
 770 0058 01F1A041 		add	r1, r1, #1342177280
 771 005c D1F80009 		ldr	r0, [r1, #2304]
 808:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 772              		.loc 1 808 52 view .LVU220
 773 0060 AAB1     		cbz	r2, .L71
 774 0062 4FF00262 		mov	r2, #136314880
 775              	.LVL60:
 776              	.L58:
 808:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 777              		.loc 1 808 28 discriminator 4 view .LVU221
 778 0066 0243     		orrs	r2, r2, r0
 779 0068 C1F80029 		str	r2, [r1, #2304]
 780              	.L59:
 821:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GRSTCTL |= USB_OTG_GRSTCTL_TXFFLSH;
 781              		.loc 1 821 5 is_stmt 1 view .LVU222
 821:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GRSTCTL |= USB_OTG_GRSTCTL_TXFFLSH;
 782              		.loc 1 821 22 is_stmt 0 view .LVU223
 783 006c 4FF0A042 		mov	r2, #1342177280
 784 0070 1169     		ldr	r1, [r2, #16]
 785 0072 41EA8313 		orr	r3, r1, r3, lsl #6
 786              	.LVL61:
 821:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GRSTCTL |= USB_OTG_GRSTCTL_TXFFLSH;
 787              		.loc 1 821 22 view .LVU224
 788 0076 1361     		str	r3, [r2, #16]
 822:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     while((usb_otg->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH_Msk) != 0);
 789              		.loc 1 822 5 is_stmt 1 view .LVU225
 822:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     while((usb_otg->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH_Msk) != 0);
 790              		.loc 1 822 22 is_stmt 0 view .LVU226
 791 0078 1369     		ldr	r3, [r2, #16]
 792 007a 43F02003 		orr	r3, r3, #32
 793 007e 1361     		str	r3, [r2, #16]
 823:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
ARM GAS  /tmp/ccOP5HA3.s 			page 43


 794              		.loc 1 823 5 is_stmt 1 view .LVU227
 795              	.L63:
 823:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
 796              		.loc 1 823 65 discriminator 1 view .LVU228
 823:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
 797              		.loc 1 823 10 discriminator 1 view .LVU229
 823:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
 798              		.loc 1 823 19 is_stmt 0 discriminator 1 view .LVU230
 799 0080 4FF0A043 		mov	r3, #1342177280
 800 0084 1B69     		ldr	r3, [r3, #16]
 823:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
 801              		.loc 1 823 10 discriminator 1 view .LVU231
 802 0086 13F0200F 		tst	r3, #32
 803 008a F9D1     		bne	.L63
 804 008c 7047     		bx	lr
 805              	.LVL62:
 806              	.L71:
 808:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 807              		.loc 1 808 52 view .LVU232
 808 008e 4FF00062 		mov	r2, #134217728
 809              	.LVL63:
 808:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 810              		.loc 1 808 52 view .LVU233
 811 0092 E8E7     		b	.L58
 812              	.LVL64:
 813              	.L57:
 811:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_INEPNE) == 0);
 814              		.loc 1 811 7 is_stmt 1 view .LVU234
 811:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_INEPNE) == 0);
 815              		.loc 1 811 28 is_stmt 0 view .LVU235
 816 0094 DCF80009 		ldr	r0, [ip, #2304]
 817 0098 40F00060 		orr	r0, r0, #134217728
 818 009c CCF80009 		str	r0, [ip, #2304]
 812:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 819              		.loc 1 812 7 is_stmt 1 view .LVU236
 820              	.L60:
 812:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 821              		.loc 1 812 66 discriminator 1 view .LVU237
 812:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 822              		.loc 1 812 12 discriminator 1 view .LVU238
 812:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 823              		.loc 1 812 26 is_stmt 0 discriminator 1 view .LVU239
 824 00a0 8868     		ldr	r0, [r1, #8]
 812:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 825              		.loc 1 812 12 discriminator 1 view .LVU240
 826 00a2 10F0400F 		tst	r0, #64
 827 00a6 FBD0     		beq	.L60
 815:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_EPDISD_Msk) == 0);
 828              		.loc 1 815 7 is_stmt 1 view .LVU241
 815:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_EPDISD_Msk) == 0);
 829              		.loc 1 815 28 is_stmt 0 view .LVU242
 830 00a8 DCF80009 		ldr	r0, [ip, #2304]
 815:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_EPDISD_Msk) == 0);
 831              		.loc 1 815 53 view .LVU243
 832 00ac 52B1     		cbz	r2, .L72
 833 00ae 1F4A     		ldr	r2, .L84
 834              	.LVL65:
ARM GAS  /tmp/ccOP5HA3.s 			page 44


 835              	.L61:
 815:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_EPDISD_Msk) == 0);
 836              		.loc 1 815 28 discriminator 4 view .LVU244
 837 00b0 0243     		orrs	r2, r2, r0
 838 00b2 CCF80029 		str	r2, [ip, #2304]
 816:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPINT = USB_OTG_DIEPINT_EPDISD;
 839              		.loc 1 816 7 is_stmt 1 discriminator 4 view .LVU245
 840              	.L62:
 816:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPINT = USB_OTG_DIEPINT_EPDISD;
 841              		.loc 1 816 70 discriminator 1 view .LVU246
 816:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPINT = USB_OTG_DIEPINT_EPDISD;
 842              		.loc 1 816 12 discriminator 1 view .LVU247
 816:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPINT = USB_OTG_DIEPINT_EPDISD;
 843              		.loc 1 816 26 is_stmt 0 discriminator 1 view .LVU248
 844 00b6 8A68     		ldr	r2, [r1, #8]
 816:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       in_ep[epnum].DIEPINT = USB_OTG_DIEPINT_EPDISD;
 845              		.loc 1 816 12 discriminator 1 view .LVU249
 846 00b8 12F0020F 		tst	r2, #2
 847 00bc FBD0     		beq	.L62
 817:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 848              		.loc 1 817 7 is_stmt 1 view .LVU250
 817:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 849              		.loc 1 817 28 is_stmt 0 view .LVU251
 850 00be 0222     		movs	r2, #2
 851 00c0 8A60     		str	r2, [r1, #8]
 852 00c2 D3E7     		b	.L59
 853              	.LVL66:
 854              	.L72:
 815:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_EPDISD_Msk) == 0);
 855              		.loc 1 815 53 view .LVU252
 856 00c4 4FF08042 		mov	r2, #1073741824
 857              	.LVL67:
 815:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((in_ep[epnum].DIEPINT & USB_OTG_DIEPINT_EPDISD_Msk) == 0);
 858              		.loc 1 815 53 view .LVU253
 859 00c8 F2E7     		b	.L61
 860              	.LVL68:
 861              	.L73:
 862              	.LCFI3:
 863              		.cfi_def_cfa_offset 4
 864              		.cfi_offset 4, -4
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 865              		.loc 1 827 62 view .LVU254
 866 00ca 0022     		movs	r2, #0
 867              	.LVL69:
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 868              		.loc 1 827 62 view .LVU255
 869 00cc B2E7     		b	.L67
 870              	.LVL70:
 871              	.L66:
 833:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((usb_otg->GINTSTS & USB_OTG_GINTSTS_BOUTNAKEFF_Msk) == 0);
 872              		.loc 1 833 7 is_stmt 1 view .LVU256
 833:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((usb_otg->GINTSTS & USB_OTG_GINTSTS_BOUTNAKEFF_Msk) == 0);
 873              		.loc 1 833 17 is_stmt 0 view .LVU257
 874 00ce 184C     		ldr	r4, .L84+4
 875 00d0 6368     		ldr	r3, [r4, #4]
 876              	.LVL71:
 833:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((usb_otg->GINTSTS & USB_OTG_GINTSTS_BOUTNAKEFF_Msk) == 0);
ARM GAS  /tmp/ccOP5HA3.s 			page 45


 877              		.loc 1 833 17 view .LVU258
 878 00d2 43F40073 		orr	r3, r3, #512
 879 00d6 6360     		str	r3, [r4, #4]
 834:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 880              		.loc 1 834 7 is_stmt 1 view .LVU259
 881              	.L68:
 834:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 882              		.loc 1 834 70 discriminator 1 view .LVU260
 834:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 883              		.loc 1 834 12 discriminator 1 view .LVU261
 834:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 884              		.loc 1 834 21 is_stmt 0 discriminator 1 view .LVU262
 885 00d8 4FF0A043 		mov	r3, #1342177280
 886 00dc 5B69     		ldr	r3, [r3, #20]
 834:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 887              		.loc 1 834 12 discriminator 1 view .LVU263
 888 00de 13F0800F 		tst	r3, #128
 889 00e2 F9D0     		beq	.L68
 837:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((out_ep[epnum].DOEPINT & USB_OTG_DOEPINT_EPDISD_Msk) == 0);
 890              		.loc 1 837 7 is_stmt 1 view .LVU264
 837:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((out_ep[epnum].DOEPINT & USB_OTG_DOEPINT_EPDISD_Msk) == 0);
 891              		.loc 1 837 29 is_stmt 0 view .LVU265
 892 00e4 D1F8003B 		ldr	r3, [r1, #2816]
 837:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((out_ep[epnum].DOEPINT & USB_OTG_DOEPINT_EPDISD_Msk) == 0);
 893              		.loc 1 837 54 view .LVU266
 894 00e8 7AB1     		cbz	r2, .L74
 895 00ea 104A     		ldr	r2, .L84
 896              	.LVL72:
 897              	.L69:
 837:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((out_ep[epnum].DOEPINT & USB_OTG_DOEPINT_EPDISD_Msk) == 0);
 898              		.loc 1 837 29 discriminator 4 view .LVU267
 899 00ec 1343     		orrs	r3, r3, r2
 900 00ee C1F8003B 		str	r3, [r1, #2816]
 838:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPINT = USB_OTG_DOEPINT_EPDISD;
 901              		.loc 1 838 7 is_stmt 1 discriminator 4 view .LVU268
 902              	.L70:
 838:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPINT = USB_OTG_DOEPINT_EPDISD;
 903              		.loc 1 838 71 discriminator 1 view .LVU269
 838:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPINT = USB_OTG_DOEPINT_EPDISD;
 904              		.loc 1 838 12 discriminator 1 view .LVU270
 838:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPINT = USB_OTG_DOEPINT_EPDISD;
 905              		.loc 1 838 27 is_stmt 0 discriminator 1 view .LVU271
 906 00f2 8368     		ldr	r3, [r0, #8]
 838:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPINT = USB_OTG_DOEPINT_EPDISD;
 907              		.loc 1 838 12 discriminator 1 view .LVU272
 908 00f4 13F0020F 		tst	r3, #2
 909 00f8 FBD0     		beq	.L70
 839:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 910              		.loc 1 839 7 is_stmt 1 view .LVU273
 839:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 911              		.loc 1 839 29 is_stmt 0 view .LVU274
 912 00fa 0223     		movs	r3, #2
 913 00fc 8360     		str	r3, [r0, #8]
 842:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 914              		.loc 1 842 7 is_stmt 1 view .LVU275
 842:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 915              		.loc 1 842 17 is_stmt 0 view .LVU276
ARM GAS  /tmp/ccOP5HA3.s 			page 46


 916 00fe 0C4A     		ldr	r2, .L84+4
 917 0100 5368     		ldr	r3, [r2, #4]
 918 0102 43F48063 		orr	r3, r3, #1024
 919 0106 5360     		str	r3, [r2, #4]
 920              		.loc 1 845 1 view .LVU277
 921 0108 97E7     		b	.L54
 922              	.LVL73:
 923              	.L74:
 837:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((out_ep[epnum].DOEPINT & USB_OTG_DOEPINT_EPDISD_Msk) == 0);
 924              		.loc 1 837 54 view .LVU278
 925 010a 4FF08042 		mov	r2, #1073741824
 926              	.LVL74:
 837:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       while((out_ep[epnum].DOEPINT & USB_OTG_DOEPINT_EPDISD_Msk) == 0);
 927              		.loc 1 837 54 view .LVU279
 928 010e EDE7     		b	.L69
 929              	.LVL75:
 930              	.L77:
 931              	.LCFI4:
 932              		.cfi_def_cfa_offset 0
 933              		.cfi_restore 4
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 934              		.loc 1 827 7 is_stmt 1 view .LVU280
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 935              		.loc 1 827 13 is_stmt 0 view .LVU281
 936 0110 5B01     		lsls	r3, r3, #5
 937              	.LVL76:
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 938              		.loc 1 827 29 view .LVU282
 939 0112 03F1A043 		add	r3, r3, #1342177280
 940 0116 D3F8001B 		ldr	r1, [r3, #2816]
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 941              		.loc 1 827 62 view .LVU283
 942 011a 2AB1     		cbz	r2, .L79
 943 011c 4FF40012 		mov	r2, #2097152
 944              	.LVL77:
 945              	.L80:
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 946              		.loc 1 827 29 view .LVU284
 947 0120 0A43     		orrs	r2, r2, r1
 948 0122 C3F8002B 		str	r2, [r3, #2816]
 949 0126 7047     		bx	lr
 950              	.LVL78:
 951              	.L79:
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 952              		.loc 1 827 62 view .LVU285
 953 0128 0022     		movs	r2, #0
 954              	.LVL79:
 827:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } else {
 955              		.loc 1 827 62 view .LVU286
 956 012a F9E7     		b	.L80
 957              	.L85:
 958              		.align	2
 959              	.L84:
 960 012c 00002040 		.word	1075838976
 961 0130 00080050 		.word	1342179328
 962              		.cfi_endproc
 963              	.LFE215:
ARM GAS  /tmp/ccOP5HA3.s 			page 47


 965              		.section	.text.read_fifo_packet,"ax",%progbits
 966              		.align	1
 967              		.syntax unified
 968              		.thumb
 969              		.thumb_func
 970              		.fpu fpv4-sp-d16
 972              	read_fifo_packet:
 973              	.LVL80:
 974              	.LFB219:
 846:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 847:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** /**
 848:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  * Close an endpoint.
 849:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****  */
 850:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_edpt_close (uint8_t rhport, uint8_t ep_addr)
 851:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 852:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 853:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 854:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 855:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 856:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 857:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dcd_edpt_disable(rhport, ep_addr, false);
 858:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 859:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Update max_size
 860:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer_status[epnum][dir].max_size = 0;  // max_size = 0 marks a disabled EP - required for changin
 861:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 862:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if (dir == TUSB_DIR_IN)
 863:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 864:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint16_t const fifo_size = (usb_otg->DIEPTXF[epnum - 1] & USB_OTG_DIEPTXF_INEPTXFD_Msk) >> USB_
 865:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint16_t const fifo_start = (usb_otg->DIEPTXF[epnum - 1] & USB_OTG_DIEPTXF_INEPTXSA_Msk) >> USB
 866:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // For now only the last opened endpoint can be closed without fuss.
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     TU_ASSERT(fifo_start == EP_FIFO_SIZE/4 - _allocated_fifo_words_tx,);
 868:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 869:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 870:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   else
 871:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 872:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _out_ep_closed = true;     // Set flag such that RX FIFO gets reduced in size once RX FIFO is e
 873:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 874:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 875:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 876:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_edpt_stall (uint8_t rhport, uint8_t ep_addr)
 877:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 878:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dcd_edpt_disable(rhport, ep_addr, true);
 879:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 880:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 881:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_edpt_clear_stall (uint8_t rhport, uint8_t ep_addr)
 882:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 883:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 884:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 885:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
 886:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 887:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 888:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 889:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 890:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 891:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Clear stall and reset data toggle
 892:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(dir == TUSB_DIR_IN) {
 893:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
ARM GAS  /tmp/ccOP5HA3.s 			page 48


 894:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 895:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
 896:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[epnum].DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 897:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[epnum].DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 898:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 899:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 900:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 901:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** /*------------------------------------------------------------------*/
 902:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 903:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // Read a single data packet from receive FIFO
 904:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void read_fifo_packet(uint8_t rhport, uint8_t * dst, uint16_t len)
 905:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 975              		.loc 1 905 1 is_stmt 1 view -0
 976              		.cfi_startproc
 977              		@ args = 0, pretend = 0, frame = 0
 978              		@ frame_needed = 0, uses_anonymous_args = 0
 979              		.loc 1 905 1 is_stmt 0 view .LVU288
 980 0000 00B5     		push	{lr}
 981              	.LCFI5:
 982              		.cfi_def_cfa_offset 4
 983              		.cfi_offset 14, -4
 906:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 984              		.loc 1 906 3 is_stmt 1 view .LVU289
 907:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 908:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_fifo_t rx_fifo = FIFO_BASE(rhport, 0);
 985              		.loc 1 908 3 view .LVU290
 986              	.LVL81:
 909:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 910:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Reading full available 32 bit words from fifo
 911:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t full_words = len >> 2;
 987              		.loc 1 911 3 view .LVU291
 988              		.loc 1 911 12 is_stmt 0 view .LVU292
 989 0002 4FEA920E 		lsr	lr, r2, #2
 990              	.LVL82:
 912:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint16_t i = 0; i < full_words; i++) {
 991              		.loc 1 912 3 is_stmt 1 view .LVU293
 992              	.LBB124:
 993              		.loc 1 912 7 view .LVU294
 994              		.loc 1 912 16 is_stmt 0 view .LVU295
 995 0006 0020     		movs	r0, #0
 996              	.LVL83:
 997              		.loc 1 912 3 view .LVU296
 998 0008 0FE0     		b	.L87
 999              	.LVL84:
 1000              	.L88:
 1001              	.LBB125:
 913:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t tmp = *rx_fifo;
 1002              		.loc 1 913 5 is_stmt 1 discriminator 3 view .LVU297
 1003              		.loc 1 913 14 is_stmt 0 discriminator 3 view .LVU298
 1004 000a 124B     		ldr	r3, .L92
 1005 000c 1B68     		ldr	r3, [r3]
 1006              	.LVL85:
 914:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dst[0] = tmp & 0x000000FF;
 1007              		.loc 1 914 5 is_stmt 1 discriminator 3 view .LVU299
 1008              		.loc 1 914 12 is_stmt 0 discriminator 3 view .LVU300
 1009 000e 0B70     		strb	r3, [r1]
 915:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dst[1] = (tmp & 0x0000FF00) >> 8;
ARM GAS  /tmp/ccOP5HA3.s 			page 49


 1010              		.loc 1 915 5 is_stmt 1 discriminator 3 view .LVU301
 1011              		.loc 1 915 33 is_stmt 0 discriminator 3 view .LVU302
 1012 0010 4FEA132C 		lsr	ip, r3, #8
 1013              		.loc 1 915 12 discriminator 3 view .LVU303
 1014 0014 81F801C0 		strb	ip, [r1, #1]
 916:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dst[2] = (tmp & 0x00FF0000) >> 16;
 1015              		.loc 1 916 5 is_stmt 1 discriminator 3 view .LVU304
 1016              		.loc 1 916 33 is_stmt 0 discriminator 3 view .LVU305
 1017 0018 4FEA134C 		lsr	ip, r3, #16
 1018              		.loc 1 916 12 discriminator 3 view .LVU306
 1019 001c 81F802C0 		strb	ip, [r1, #2]
 917:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dst[3] = (tmp & 0xFF000000) >> 24;
 1020              		.loc 1 917 5 is_stmt 1 discriminator 3 view .LVU307
 1021              		.loc 1 917 33 is_stmt 0 discriminator 3 view .LVU308
 1022 0020 1B0E     		lsrs	r3, r3, #24
 1023              	.LVL86:
 1024              		.loc 1 917 12 discriminator 3 view .LVU309
 1025 0022 CB70     		strb	r3, [r1, #3]
 918:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dst += 4;
 1026              		.loc 1 918 5 is_stmt 1 discriminator 3 view .LVU310
 1027              		.loc 1 918 9 is_stmt 0 discriminator 3 view .LVU311
 1028 0024 0431     		adds	r1, r1, #4
 1029              	.LVL87:
 1030              		.loc 1 918 9 discriminator 3 view .LVU312
 1031              	.LBE125:
 912:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t tmp = *rx_fifo;
 1032              		.loc 1 912 39 is_stmt 1 discriminator 3 view .LVU313
 912:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t tmp = *rx_fifo;
 1033              		.loc 1 912 40 is_stmt 0 discriminator 3 view .LVU314
 1034 0026 0130     		adds	r0, r0, #1
 1035              	.LVL88:
 912:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t tmp = *rx_fifo;
 1036              		.loc 1 912 40 discriminator 3 view .LVU315
 1037 0028 80B2     		uxth	r0, r0
 1038              	.LVL89:
 1039              	.L87:
 912:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t tmp = *rx_fifo;
 1040              		.loc 1 912 23 is_stmt 1 discriminator 1 view .LVU316
 912:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t tmp = *rx_fifo;
 1041              		.loc 1 912 3 is_stmt 0 discriminator 1 view .LVU317
 1042 002a 7045     		cmp	r0, lr
 1043 002c EDD3     		bcc	.L88
 912:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t tmp = *rx_fifo;
 1044              		.loc 1 912 3 discriminator 1 view .LVU318
 1045              	.LBE124:
 919:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 920:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 921:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Read the remaining 1-3 bytes from fifo
 922:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t bytes_rem = len & 0x03;
 1046              		.loc 1 922 3 is_stmt 1 view .LVU319
 1047              		.loc 1 922 27 is_stmt 0 view .LVU320
 1048 002e D0B2     		uxtb	r0, r2
 1049              	.LVL90:
 923:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(bytes_rem != 0) {
 1050              		.loc 1 923 3 is_stmt 1 view .LVU321
 1051              		.loc 1 923 5 is_stmt 0 view .LVU322
 1052 0030 12F00302 		ands	r2, r2, #3
ARM GAS  /tmp/ccOP5HA3.s 			page 50


 1053              	.LVL91:
 1054              		.loc 1 923 5 view .LVU323
 1055 0034 0BD0     		beq	.L86
 1056              	.LBB126:
 924:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t tmp = *rx_fifo;
 1057              		.loc 1 924 5 is_stmt 1 view .LVU324
 1058              		.loc 1 924 14 is_stmt 0 view .LVU325
 1059 0036 074B     		ldr	r3, .L92
 1060 0038 1B68     		ldr	r3, [r3]
 1061              	.LVL92:
 925:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dst[0] = tmp & 0x000000FF;
 1062              		.loc 1 925 5 is_stmt 1 view .LVU326
 1063              		.loc 1 925 12 is_stmt 0 view .LVU327
 1064 003a 0B70     		strb	r3, [r1]
 926:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if(bytes_rem > 1) {
 1065              		.loc 1 926 5 is_stmt 1 view .LVU328
 1066              		.loc 1 926 7 is_stmt 0 view .LVU329
 1067 003c 10F0020F 		tst	r0, #2
 1068 0040 01D0     		beq	.L90
 927:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       dst[1] = (tmp & 0x0000FF00) >> 8;
 1069              		.loc 1 927 7 is_stmt 1 view .LVU330
 1070              		.loc 1 927 35 is_stmt 0 view .LVU331
 1071 0042 180A     		lsrs	r0, r3, #8
 1072              		.loc 1 927 14 view .LVU332
 1073 0044 4870     		strb	r0, [r1, #1]
 1074              	.L90:
 928:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 929:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if(bytes_rem > 2) {
 1075              		.loc 1 929 5 is_stmt 1 view .LVU333
 1076              		.loc 1 929 7 is_stmt 0 view .LVU334
 1077 0046 022A     		cmp	r2, #2
 1078 0048 01D9     		bls	.L86
 930:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       dst[2] = (tmp & 0x00FF0000) >> 16;
 1079              		.loc 1 930 7 is_stmt 1 view .LVU335
 1080              		.loc 1 930 35 is_stmt 0 view .LVU336
 1081 004a 1B0C     		lsrs	r3, r3, #16
 1082              	.LVL93:
 1083              		.loc 1 930 14 view .LVU337
 1084 004c 8B70     		strb	r3, [r1, #2]
 1085              	.L86:
 1086              		.loc 1 930 14 view .LVU338
 1087              	.LBE126:
 931:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 932:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 933:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 1088              		.loc 1 933 1 view .LVU339
 1089 004e 5DF804FB 		ldr	pc, [sp], #4
 1090              	.L93:
 1091 0052 00BF     		.align	2
 1092              	.L92:
 1093 0054 00100050 		.word	1342181376
 1094              		.cfi_endproc
 1095              	.LFE219:
 1097              		.section	.text.write_fifo_packet,"ax",%progbits
 1098              		.align	1
 1099              		.syntax unified
 1100              		.thumb
ARM GAS  /tmp/ccOP5HA3.s 			page 51


 1101              		.thumb_func
 1102              		.fpu fpv4-sp-d16
 1104              	write_fifo_packet:
 1105              	.LVL94:
 1106              	.LFB220:
 934:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 935:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** // Write a single data packet to EPIN FIFO
 936:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void write_fifo_packet(uint8_t rhport, uint8_t fifo_num, uint8_t * src, uint16_t len)
 937:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 1107              		.loc 1 937 1 is_stmt 1 view -0
 1108              		.cfi_startproc
 1109              		@ args = 0, pretend = 0, frame = 0
 1110              		@ frame_needed = 0, uses_anonymous_args = 0
 1111              		.loc 1 937 1 is_stmt 0 view .LVU341
 1112 0000 10B5     		push	{r4, lr}
 1113              	.LCFI6:
 1114              		.cfi_def_cfa_offset 8
 1115              		.cfi_offset 4, -8
 1116              		.cfi_offset 14, -4
 938:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 1117              		.loc 1 938 3 is_stmt 1 view .LVU342
 939:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 940:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_fifo_t tx_fifo = FIFO_BASE(rhport, fifo_num);
 1118              		.loc 1 940 3 view .LVU343
 1119              		.loc 1 940 24 is_stmt 0 view .LVU344
 1120 0002 01F5A02E 		add	lr, r1, #327680
 1121 0006 0EF1010E 		add	lr, lr, #1
 1122 000a 4FEA0E3E 		lsl	lr, lr, #12
 1123              	.LVL95:
 941:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 942:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Pushing full available 32 bit words to fifo
 943:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t full_words = len >> 2;
 1124              		.loc 1 943 3 is_stmt 1 view .LVU345
 1125              		.loc 1 943 12 is_stmt 0 view .LVU346
 1126 000e 9C08     		lsrs	r4, r3, #2
 1127              	.LVL96:
 944:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint16_t i = 0; i < full_words; i++){
 1128              		.loc 1 944 3 is_stmt 1 view .LVU347
 1129              	.LBB127:
 1130              		.loc 1 944 7 view .LVU348
 1131              		.loc 1 944 16 is_stmt 0 view .LVU349
 1132 0010 0020     		movs	r0, #0
 1133              	.LVL97:
 1134              		.loc 1 944 3 view .LVU350
 1135 0012 11E0     		b	.L95
 1136              	.LVL98:
 1137              	.L96:
 945:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     *tx_fifo = (src[3] << 24) | (src[2] << 16) | (src[1] << 8) | src[0];
 1138              		.loc 1 945 5 is_stmt 1 discriminator 3 view .LVU351
 1139              		.loc 1 945 20 is_stmt 0 discriminator 3 view .LVU352
 1140 0014 92F803C0 		ldrb	ip, [r2, #3]	@ zero_extendqisi2
 1141              		.loc 1 945 37 discriminator 3 view .LVU353
 1142 0018 9178     		ldrb	r1, [r2, #2]	@ zero_extendqisi2
 1143              		.loc 1 945 41 discriminator 3 view .LVU354
 1144 001a 0904     		lsls	r1, r1, #16
 1145              		.loc 1 945 31 discriminator 3 view .LVU355
 1146 001c 41EA0C61 		orr	r1, r1, ip, lsl #24
ARM GAS  /tmp/ccOP5HA3.s 			page 52


 1147              		.loc 1 945 54 discriminator 3 view .LVU356
 1148 0020 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
 1149              		.loc 1 945 48 discriminator 3 view .LVU357
 1150 0024 41EA0C21 		orr	r1, r1, ip, lsl #8
 1151              		.loc 1 945 69 discriminator 3 view .LVU358
 1152 0028 12F804CB 		ldrb	ip, [r2], #4	@ zero_extendqisi2
 1153              	.LVL99:
 1154              		.loc 1 945 64 discriminator 3 view .LVU359
 1155 002c 41EA0C01 		orr	r1, r1, ip
 1156              		.loc 1 945 14 discriminator 3 view .LVU360
 1157 0030 CEF80010 		str	r1, [lr]
 946:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     src += 4;
 1158              		.loc 1 946 5 is_stmt 1 discriminator 3 view .LVU361
 1159              	.LVL100:
 944:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint16_t i = 0; i < full_words; i++){
 1160              		.loc 1 944 39 discriminator 3 view .LVU362
 944:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint16_t i = 0; i < full_words; i++){
 1161              		.loc 1 944 40 is_stmt 0 discriminator 3 view .LVU363
 1162 0034 0130     		adds	r0, r0, #1
 1163              	.LVL101:
 944:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint16_t i = 0; i < full_words; i++){
 1164              		.loc 1 944 40 discriminator 3 view .LVU364
 1165 0036 80B2     		uxth	r0, r0
 1166              	.LVL102:
 1167              	.L95:
 944:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint16_t i = 0; i < full_words; i++){
 1168              		.loc 1 944 23 is_stmt 1 discriminator 1 view .LVU365
 944:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint16_t i = 0; i < full_words; i++){
 1169              		.loc 1 944 3 is_stmt 0 discriminator 1 view .LVU366
 1170 0038 A042     		cmp	r0, r4
 1171 003a EBD3     		bcc	.L96
 944:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint16_t i = 0; i < full_words; i++){
 1172              		.loc 1 944 3 discriminator 1 view .LVU367
 1173              	.LBE127:
 947:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 948:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 949:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Write the remaining 1-3 bytes into fifo
 950:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t bytes_rem = len & 0x03;
 1174              		.loc 1 950 3 is_stmt 1 view .LVU368
 1175              		.loc 1 950 27 is_stmt 0 view .LVU369
 1176 003c D8B2     		uxtb	r0, r3
 1177              	.LVL103:
 951:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(bytes_rem){
 1178              		.loc 1 951 3 is_stmt 1 view .LVU370
 1179              		.loc 1 951 5 is_stmt 0 view .LVU371
 1180 003e 13F00303 		ands	r3, r3, #3
 1181              	.LVL104:
 1182              		.loc 1 951 5 view .LVU372
 1183 0042 0DD0     		beq	.L94
 1184              	.LBB128:
 952:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t tmp_word = 0;
 1185              		.loc 1 952 5 is_stmt 1 view .LVU373
 1186              	.LVL105:
 953:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     tmp_word |= src[0];
 1187              		.loc 1 953 5 view .LVU374
 1188              		.loc 1 953 20 is_stmt 0 view .LVU375
 1189 0044 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
ARM GAS  /tmp/ccOP5HA3.s 			page 53


 1190              	.LVL106:
 954:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if(bytes_rem > 1){
 1191              		.loc 1 954 5 is_stmt 1 view .LVU376
 1192              		.loc 1 954 7 is_stmt 0 view .LVU377
 1193 0046 10F0020F 		tst	r0, #2
 1194 004a 02D0     		beq	.L98
 955:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       tmp_word |= src[1] << 8;
 1195              		.loc 1 955 7 is_stmt 1 view .LVU378
 1196              		.loc 1 955 22 is_stmt 0 view .LVU379
 1197 004c 5078     		ldrb	r0, [r2, #1]	@ zero_extendqisi2
 1198              		.loc 1 955 16 view .LVU380
 1199 004e 41EA0021 		orr	r1, r1, r0, lsl #8
 1200              	.LVL107:
 1201              	.L98:
 956:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 957:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if(bytes_rem > 2){
 1202              		.loc 1 957 5 is_stmt 1 view .LVU381
 1203              		.loc 1 957 7 is_stmt 0 view .LVU382
 1204 0052 022B     		cmp	r3, #2
 1205 0054 02D9     		bls	.L99
 958:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       tmp_word |= src[2] << 16;
 1206              		.loc 1 958 7 is_stmt 1 view .LVU383
 1207              		.loc 1 958 22 is_stmt 0 view .LVU384
 1208 0056 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 1209              		.loc 1 958 16 view .LVU385
 1210 0058 41EA0341 		orr	r1, r1, r3, lsl #16
 1211              	.LVL108:
 1212              	.L99:
 959:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 960:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     *tx_fifo = tmp_word;
 1213              		.loc 1 960 5 is_stmt 1 view .LVU386
 1214              		.loc 1 960 14 is_stmt 0 view .LVU387
 1215 005c CEF80010 		str	r1, [lr]
 1216              	.LVL109:
 1217              	.L94:
 1218              		.loc 1 960 14 view .LVU388
 1219              	.LBE128:
 961:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 962:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 1220              		.loc 1 962 1 view .LVU389
 1221 0060 10BD     		pop	{r4, pc}
 1222              		.loc 1 962 1 view .LVU390
 1223              		.cfi_endproc
 1224              	.LFE220:
 1226              		.section	.text.bus_reset,"ax",%progbits
 1227              		.align	1
 1228              		.syntax unified
 1229              		.thumb
 1230              		.thumb_func
 1231              		.fpu fpv4-sp-d16
 1233              	bus_reset:
 1234              	.LVL110:
 1235              	.LFB197:
 208:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 1236              		.loc 1 208 1 is_stmt 1 view -0
 1237              		.cfi_startproc
 1238              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccOP5HA3.s 			page 54


 1239              		@ frame_needed = 0, uses_anonymous_args = 0
 208:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 1240              		.loc 1 208 1 is_stmt 0 view .LVU392
 1241 0000 08B5     		push	{r3, lr}
 1242              	.LCFI7:
 1243              		.cfi_def_cfa_offset 8
 1244              		.cfi_offset 3, -8
 1245              		.cfi_offset 14, -4
 209:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1246              		.loc 1 209 3 is_stmt 1 view .LVU393
 211:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 1247              		.loc 1 211 3 view .LVU394
 1248              	.LVL111:
 212:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
 1249              		.loc 1 212 3 view .LVU395
 213:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 1250              		.loc 1 213 3 view .LVU396
 214:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1251              		.loc 1 214 3 view .LVU397
 216:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   _out_ep_closed = false;
 1252              		.loc 1 216 3 view .LVU398
 1253 0002 C022     		movs	r2, #192
 1254 0004 0021     		movs	r1, #0
 1255 0006 1E48     		ldr	r0, .L105
 1256              	.LVL112:
 216:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   _out_ep_closed = false;
 1257              		.loc 1 216 3 is_stmt 0 view .LVU399
 1258 0008 FFF7FEFF 		bl	memset
 1259              	.LVL113:
 217:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1260              		.loc 1 217 3 is_stmt 1 view .LVU400
 217:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1261              		.loc 1 217 18 is_stmt 0 view .LVU401
 1262 000c 0023     		movs	r3, #0
 1263 000e 1D4A     		ldr	r2, .L105+4
 1264 0010 1370     		strb	r3, [r2]
 220:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1265              		.loc 1 220 3 is_stmt 1 view .LVU402
 220:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1266              		.loc 1 220 13 is_stmt 0 view .LVU403
 1267 0012 1D49     		ldr	r1, .L105+8
 1268 0014 0A68     		ldr	r2, [r1]
 1269 0016 22F4FE62 		bic	r2, r2, #2032
 1270 001a 0A60     		str	r2, [r1]
 223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1271              		.loc 1 223 3 is_stmt 1 view .LVU404
 1272              	.LBB129:
 223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1273              		.loc 1 223 7 view .LVU405
 1274              	.LVL114:
 223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1275              		.loc 1 223 3 is_stmt 0 view .LVU406
 1276 001c 0AE0     		b	.L102
 1277              	.LVL115:
 1278              	.L103:
 224:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 1279              		.loc 1 224 5 is_stmt 1 discriminator 3 view .LVU407
ARM GAS  /tmp/ccOP5HA3.s 			page 55


 224:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 1280              		.loc 1 224 23 is_stmt 0 discriminator 3 view .LVU408
 1281 001e 5A01     		lsls	r2, r3, #5
 1282 0020 02F1A042 		add	r2, r2, #1342177280
 1283 0024 D2F8001B 		ldr	r1, [r2, #2816]
 1284 0028 41F00061 		orr	r1, r1, #134217728
 1285 002c C2F8001B 		str	r1, [r2, #2816]
 223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1286              		.loc 1 223 34 is_stmt 1 discriminator 3 view .LVU409
 223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1287              		.loc 1 223 35 is_stmt 0 discriminator 3 view .LVU410
 1288 0030 0133     		adds	r3, r3, #1
 1289              	.LVL116:
 223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1290              		.loc 1 223 35 discriminator 3 view .LVU411
 1291 0032 DBB2     		uxtb	r3, r3
 1292              	.LVL117:
 1293              	.L102:
 223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1294              		.loc 1 223 22 is_stmt 1 discriminator 1 view .LVU412
 223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[n].DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1295              		.loc 1 223 3 is_stmt 0 discriminator 1 view .LVU413
 1296 0034 052B     		cmp	r3, #5
 1297 0036 F2D9     		bls	.L103
 1298              	.LBE129:
 228:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DOEPMSK = USB_OTG_DOEPMSK_STUPM | USB_OTG_DOEPMSK_XFRCM;
 1299              		.loc 1 228 3 is_stmt 1 view .LVU414
 228:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DOEPMSK = USB_OTG_DOEPMSK_STUPM | USB_OTG_DOEPMSK_XFRCM;
 1300              		.loc 1 228 17 is_stmt 0 view .LVU415
 1301 0038 134B     		ldr	r3, .L105+8
 1302              	.LVL118:
 228:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DOEPMSK = USB_OTG_DOEPMSK_STUPM | USB_OTG_DOEPMSK_XFRCM;
 1303              		.loc 1 228 17 view .LVU416
 1304 003a 4FF00112 		mov	r2, #65537
 1305 003e DA61     		str	r2, [r3, #28]
 229:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DIEPMSK = USB_OTG_DIEPMSK_TOM | USB_OTG_DIEPMSK_XFRCM;
 1306              		.loc 1 229 3 is_stmt 1 view .LVU417
 229:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DIEPMSK = USB_OTG_DIEPMSK_TOM | USB_OTG_DIEPMSK_XFRCM;
 1307              		.loc 1 229 16 is_stmt 0 view .LVU418
 1308 0040 0922     		movs	r2, #9
 1309 0042 5A61     		str	r2, [r3, #20]
 230:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1310              		.loc 1 230 3 is_stmt 1 view .LVU419
 230:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1311              		.loc 1 230 16 is_stmt 0 view .LVU420
 1312 0044 1A61     		str	r2, [r3, #16]
 282:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1313              		.loc 1 282 3 is_stmt 1 view .LVU421
 1314              	.LVL119:
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 1315              		.loc 1 186 3 view .LVU422
 282:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1316              		.loc 1 282 20 is_stmt 0 view .LVU423
 1317 0046 4FF0A043 		mov	r3, #1342177280
 1318 004a 3B22     		movs	r2, #59
 1319 004c 5A62     		str	r2, [r3, #36]
 284:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 56


 1320              		.loc 1 284 3 is_stmt 1 view .LVU424
 284:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1321              		.loc 1 284 28 is_stmt 0 view .LVU425
 1322 004e 0F4A     		ldr	r2, .L105+12
 1323 0050 1021     		movs	r1, #16
 1324 0052 1180     		strh	r1, [r2]	@ movhi
 287:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1325              		.loc 1 287 3 is_stmt 1 view .LVU426
 287:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1326              		.loc 1 287 31 is_stmt 0 view .LVU427
 1327 0054 0E4A     		ldr	r2, .L105+16
 1328 0056 9A62     		str	r2, [r3, #40]
 290:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer_status[0][TUSB_DIR_OUT].max_size = xfer_status[0][TUSB_DIR_IN].max_size = 64;
 1329              		.loc 1 290 3 is_stmt 1 view .LVU428
 290:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer_status[0][TUSB_DIR_OUT].max_size = xfer_status[0][TUSB_DIR_IN].max_size = 64;
 1330              		.loc 1 290 20 is_stmt 0 view .LVU429
 1331 0058 0E49     		ldr	r1, .L105+20
 1332 005a 0A68     		ldr	r2, [r1]
 1333 005c 22F00302 		bic	r2, r2, #3
 1334 0060 0A60     		str	r2, [r1]
 291:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1335              		.loc 1 291 3 is_stmt 1 view .LVU430
 291:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1336              		.loc 1 291 80 is_stmt 0 view .LVU431
 1337 0062 074A     		ldr	r2, .L105
 1338 0064 4021     		movs	r1, #64
 1339 0066 5183     		strh	r1, [r2, #26]	@ movhi
 291:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1340              		.loc 1 291 41 view .LVU432
 1341 0068 5181     		strh	r1, [r2, #10]	@ movhi
 293:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1342              		.loc 1 293 3 is_stmt 1 view .LVU433
 293:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1343              		.loc 1 293 22 is_stmt 0 view .LVU434
 1344 006a 0B49     		ldr	r1, .L105+24
 1345 006c 0A69     		ldr	r2, [r1, #16]
 1346 006e 42F0C042 		orr	r2, r2, #1610612736
 1347 0072 0A61     		str	r2, [r1, #16]
 295:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 1348              		.loc 1 295 3 is_stmt 1 view .LVU435
 295:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 1349              		.loc 1 295 20 is_stmt 0 view .LVU436
 1350 0074 9A69     		ldr	r2, [r3, #24]
 1351 0076 42F44022 		orr	r2, r2, #786432
 1352 007a 9A61     		str	r2, [r3, #24]
 296:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1353              		.loc 1 296 1 view .LVU437
 1354 007c 08BD     		pop	{r3, pc}
 1355              	.L106:
 1356 007e 00BF     		.align	2
 1357              	.L105:
 1358 0080 00000000 		.word	.LANCHOR0
 1359 0084 00000000 		.word	.LANCHOR2
 1360 0088 00080050 		.word	1342179328
 1361 008c 00000000 		.word	.LANCHOR3
 1362 0090 30011000 		.word	1048880
 1363 0094 00090050 		.word	1342179584
ARM GAS  /tmp/ccOP5HA3.s 			page 57


 1364 0098 000B0050 		.word	1342180096
 1365              		.cfi_endproc
 1366              	.LFE197:
 1368              		.section	.text.handle_epout_ints,"ax",%progbits
 1369              		.align	1
 1370              		.syntax unified
 1371              		.thumb
 1372              		.thumb_func
 1373              		.fpu fpv4-sp-d16
 1375              	handle_epout_ints:
 1376              	.LVL120:
 1377              	.LFB222:
 963:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 964:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void handle_rxflvl_ints(uint8_t rhport, USB_OTG_OUTEndpointTypeDef * out_ep) {
 965:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 966:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_fifo_t rx_fifo = FIFO_BASE(rhport, 0);
 967:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 968:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Pop control word off FIFO
 969:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint32_t ctl_word = usb_otg->GRXSTSP;
 970:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t pktsts = (ctl_word & USB_OTG_GRXSTSP_PKTSTS_Msk) >> USB_OTG_GRXSTSP_PKTSTS_Pos;
 971:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t epnum = (ctl_word &  USB_OTG_GRXSTSP_EPNUM_Msk) >>  USB_OTG_GRXSTSP_EPNUM_Pos;
 972:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t bcnt = (ctl_word & USB_OTG_GRXSTSP_BCNT_Msk) >> USB_OTG_GRXSTSP_BCNT_Pos;
 973:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 974:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   switch(pktsts) {
 975:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 0x01: // Global OUT NAK (Interrupt)
 976:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 977:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 978:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 0x02: // Out packet recvd
 979:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 980:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       xfer_ctl_t * xfer = XFER_CTL_BASE(epnum, TUSB_DIR_OUT);
 981:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 982:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Read packet off RxFIFO
 983:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       if (xfer->ff)
 984:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 985:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // Ring buffer
 986:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         tu_fifo_write_n_const_addr_full_words(xfer->ff, (const void *)(uintptr_t) rx_fifo, bcnt);
 987:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
 988:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       else
 989:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 990:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // Linear buffer
 991:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         read_fifo_packet(rhport, xfer->buffer, bcnt);
 992:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 993:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // Increment pointer to xfer data
 994:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         xfer->buffer += bcnt;
 995:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
 996:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 997:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Truncate transfer length in case of short packet
 998:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       if(bcnt < xfer->max_size) {
 999:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         xfer->total_len -= (out_ep[epnum].DOEPTSIZ & USB_OTG_DOEPTSIZ_XFRSIZ_Msk) >> USB_OTG_DOEPTS
1000:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         if(epnum == 0) {
1001:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           xfer->total_len -= ep0_pending[TUSB_DIR_OUT];
1002:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           ep0_pending[TUSB_DIR_OUT] = 0;
1003:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         }
1004:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
1005:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
1006:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     break;
1007:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 58


1008:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 0x03: // Out packet done (Interrupt)
1009:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
1010:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1011:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 0x04: // Setup packet done (Interrupt)
1012:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       out_ep[epnum].DOEPTSIZ |= (3 << USB_OTG_DOEPTSIZ_STUPCNT_Pos);
1013:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
1014:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1015:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 0x06: // Setup packet recvd
1016:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // We can receive up to three setup packets in succession, but
1017:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // only the last one is valid.
1018:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       _setup_packet[0] = (* rx_fifo);
1019:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       _setup_packet[1] = (* rx_fifo);
1020:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
1021:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1022:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     default: // Invalid
1023:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       TU_BREAKPOINT();
1024:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
1025:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1026:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
1027:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1028:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void handle_epout_ints(uint8_t rhport, USB_OTG_DeviceTypeDef * dev, USB_OTG_OUTEndpointTypeD
 1378              		.loc 1 1028 113 is_stmt 1 view -0
 1379              		.cfi_startproc
 1380              		@ args = 0, pretend = 0, frame = 16
 1381              		@ frame_needed = 0, uses_anonymous_args = 0
 1382              		.loc 1 1028 113 is_stmt 0 view .LVU439
 1383 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1384              	.LCFI8:
 1385              		.cfi_def_cfa_offset 28
 1386              		.cfi_offset 4, -28
 1387              		.cfi_offset 5, -24
 1388              		.cfi_offset 6, -20
 1389              		.cfi_offset 7, -16
 1390              		.cfi_offset 8, -12
 1391              		.cfi_offset 9, -8
 1392              		.cfi_offset 14, -4
 1393 0004 87B0     		sub	sp, sp, #28
 1394              	.LCFI9:
 1395              		.cfi_def_cfa_offset 56
 1396 0006 8046     		mov	r8, r0
 1397 0008 0E46     		mov	r6, r1
 1398 000a 1746     		mov	r7, r2
1029:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // DAINT for a given EP clears when DOEPINTx is cleared.
1030:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // OEPINT will be cleared when DAINT's out bits are cleared.
1031:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for(uint8_t n = 0; n < EP_MAX; n++) {
 1399              		.loc 1 1031 3 is_stmt 1 view .LVU440
 1400              	.LBB130:
 1401              		.loc 1 1031 7 view .LVU441
 1402              	.LVL121:
 1403              		.loc 1 1031 15 is_stmt 0 view .LVU442
 1404 000c 0024     		movs	r4, #0
 1405              		.loc 1 1031 3 view .LVU443
 1406 000e 2CE0     		b	.L108
 1407              	.LVL122:
 1408              	.L115:
 1409              	.LBB131:
1032:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_ctl_t * xfer = XFER_CTL_BASE(n, TUSB_DIR_OUT);
ARM GAS  /tmp/ccOP5HA3.s 			page 59


1033:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1034:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if(dev->DAINT & (1 << (USB_OTG_DAINT_OEPINT_Pos + n))) {
1035:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // SETUP packet Setup Phase done.
1036:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       if(out_ep[n].DOEPINT & USB_OTG_DOEPINT_STUP) {
1037:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         out_ep[n].DOEPINT =  USB_OTG_DOEPINT_STUP;
 1410              		.loc 1 1037 9 is_stmt 1 view .LVU444
 1411              		.loc 1 1037 27 is_stmt 0 view .LVU445
 1412 0010 0823     		movs	r3, #8
 1413 0012 AB60     		str	r3, [r5, #8]
1038:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         dcd_event_setup_received(rhport, (uint8_t*) &_setup_packet[0], true);
 1414              		.loc 1 1038 9 is_stmt 1 view .LVU446
 1415              	.LVL123:
 1416              	.LBB132:
 1417              	.LBI132:
 1418              		.file 4 "tinyusb/src/device/dcd.h"
   1:tinyusb/src/device/dcd.h **** /*
   2:tinyusb/src/device/dcd.h ****  * The MIT License (MIT)
   3:tinyusb/src/device/dcd.h ****  *
   4:tinyusb/src/device/dcd.h ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/device/dcd.h ****  *
   6:tinyusb/src/device/dcd.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/device/dcd.h ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/device/dcd.h ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/device/dcd.h ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  10:tinyusb/src/device/dcd.h ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/device/dcd.h ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/device/dcd.h ****  *
  13:tinyusb/src/device/dcd.h ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/device/dcd.h ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/device/dcd.h ****  *
  16:tinyusb/src/device/dcd.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  17:tinyusb/src/device/dcd.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/device/dcd.h ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/device/dcd.h ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/device/dcd.h ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/device/dcd.h ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/device/dcd.h ****  * THE SOFTWARE.
  23:tinyusb/src/device/dcd.h ****  *
  24:tinyusb/src/device/dcd.h ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/device/dcd.h ****  */
  26:tinyusb/src/device/dcd.h **** 
  27:tinyusb/src/device/dcd.h **** #ifndef _TUSB_DCD_H_
  28:tinyusb/src/device/dcd.h **** #define _TUSB_DCD_H_
  29:tinyusb/src/device/dcd.h **** 
  30:tinyusb/src/device/dcd.h **** #include "common/tusb_common.h"
  31:tinyusb/src/device/dcd.h **** #include "osal/osal.h"
  32:tinyusb/src/device/dcd.h **** #include "common/tusb_fifo.h"
  33:tinyusb/src/device/dcd.h **** 
  34:tinyusb/src/device/dcd.h **** #ifdef __cplusplus
  35:tinyusb/src/device/dcd.h ****  extern "C" {
  36:tinyusb/src/device/dcd.h **** #endif
  37:tinyusb/src/device/dcd.h **** 
  38:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
  39:tinyusb/src/device/dcd.h **** // Configuration
  40:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
  41:tinyusb/src/device/dcd.h **** 
  42:tinyusb/src/device/dcd.h **** #ifndef CFG_TUD_ENDPPOINT_MAX
ARM GAS  /tmp/ccOP5HA3.s 			page 60


  43:tinyusb/src/device/dcd.h ****   #define CFG_TUD_ENDPPOINT_MAX   TUP_DCD_ENDPOINT_MAX
  44:tinyusb/src/device/dcd.h **** #endif
  45:tinyusb/src/device/dcd.h **** 
  46:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
  47:tinyusb/src/device/dcd.h **** // MACRO CONSTANT TYPEDEF PROTYPES
  48:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
  49:tinyusb/src/device/dcd.h **** 
  50:tinyusb/src/device/dcd.h **** typedef enum
  51:tinyusb/src/device/dcd.h **** {
  52:tinyusb/src/device/dcd.h ****   DCD_EVENT_INVALID = 0,
  53:tinyusb/src/device/dcd.h ****   DCD_EVENT_BUS_RESET,
  54:tinyusb/src/device/dcd.h ****   DCD_EVENT_UNPLUGGED,
  55:tinyusb/src/device/dcd.h ****   DCD_EVENT_SOF,
  56:tinyusb/src/device/dcd.h ****   DCD_EVENT_SUSPEND, // TODO LPM Sleep L1 support
  57:tinyusb/src/device/dcd.h ****   DCD_EVENT_RESUME,
  58:tinyusb/src/device/dcd.h **** 
  59:tinyusb/src/device/dcd.h ****   DCD_EVENT_SETUP_RECEIVED,
  60:tinyusb/src/device/dcd.h ****   DCD_EVENT_XFER_COMPLETE,
  61:tinyusb/src/device/dcd.h **** 
  62:tinyusb/src/device/dcd.h ****   // Not an DCD event, just a convenient way to defer ISR function
  63:tinyusb/src/device/dcd.h ****   USBD_EVENT_FUNC_CALL,
  64:tinyusb/src/device/dcd.h **** 
  65:tinyusb/src/device/dcd.h ****   DCD_EVENT_COUNT
  66:tinyusb/src/device/dcd.h **** } dcd_eventid_t;
  67:tinyusb/src/device/dcd.h **** 
  68:tinyusb/src/device/dcd.h **** typedef struct TU_ATTR_ALIGNED(4)
  69:tinyusb/src/device/dcd.h **** {
  70:tinyusb/src/device/dcd.h ****   uint8_t rhport;
  71:tinyusb/src/device/dcd.h ****   uint8_t event_id;
  72:tinyusb/src/device/dcd.h **** 
  73:tinyusb/src/device/dcd.h ****   union
  74:tinyusb/src/device/dcd.h ****   {
  75:tinyusb/src/device/dcd.h ****     // BUS RESET
  76:tinyusb/src/device/dcd.h ****     struct {
  77:tinyusb/src/device/dcd.h ****       tusb_speed_t speed;
  78:tinyusb/src/device/dcd.h ****     } bus_reset;
  79:tinyusb/src/device/dcd.h **** 
  80:tinyusb/src/device/dcd.h ****     // SOF
  81:tinyusb/src/device/dcd.h ****     struct {
  82:tinyusb/src/device/dcd.h ****       uint32_t frame_count;
  83:tinyusb/src/device/dcd.h ****     }sof;
  84:tinyusb/src/device/dcd.h **** 
  85:tinyusb/src/device/dcd.h ****     // SETUP_RECEIVED
  86:tinyusb/src/device/dcd.h ****     tusb_control_request_t setup_received;
  87:tinyusb/src/device/dcd.h **** 
  88:tinyusb/src/device/dcd.h ****     // XFER_COMPLETE
  89:tinyusb/src/device/dcd.h ****     struct {
  90:tinyusb/src/device/dcd.h ****       uint8_t  ep_addr;
  91:tinyusb/src/device/dcd.h ****       uint8_t  result;
  92:tinyusb/src/device/dcd.h ****       uint32_t len;
  93:tinyusb/src/device/dcd.h ****     }xfer_complete;
  94:tinyusb/src/device/dcd.h **** 
  95:tinyusb/src/device/dcd.h ****     // FUNC_CALL
  96:tinyusb/src/device/dcd.h ****     struct {
  97:tinyusb/src/device/dcd.h ****       void (*func) (void*);
  98:tinyusb/src/device/dcd.h ****       void* param;
  99:tinyusb/src/device/dcd.h ****     }func_call;
ARM GAS  /tmp/ccOP5HA3.s 			page 61


 100:tinyusb/src/device/dcd.h ****   };
 101:tinyusb/src/device/dcd.h **** } dcd_event_t;
 102:tinyusb/src/device/dcd.h **** 
 103:tinyusb/src/device/dcd.h **** //TU_VERIFY_STATIC(sizeof(dcd_event_t) <= 12, "size is not correct");
 104:tinyusb/src/device/dcd.h **** 
 105:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
 106:tinyusb/src/device/dcd.h **** // Memory API
 107:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
 108:tinyusb/src/device/dcd.h **** 
 109:tinyusb/src/device/dcd.h **** // clean/flush data cache: write cache -> memory.
 110:tinyusb/src/device/dcd.h **** // Required before an DMA TX transfer to make sure data is in memory
 111:tinyusb/src/device/dcd.h **** void dcd_dcache_clean(void const* addr, uint32_t data_size) TU_ATTR_WEAK;
 112:tinyusb/src/device/dcd.h **** 
 113:tinyusb/src/device/dcd.h **** // invalidate data cache: mark cache as invalid, next read will read from memory
 114:tinyusb/src/device/dcd.h **** // Required BOTH before and after an DMA RX transfer
 115:tinyusb/src/device/dcd.h **** void dcd_dcache_invalidate(void const* addr, uint32_t data_size) TU_ATTR_WEAK;
 116:tinyusb/src/device/dcd.h **** 
 117:tinyusb/src/device/dcd.h **** // clean and invalidate data cache
 118:tinyusb/src/device/dcd.h **** // Required before an DMA transfer where memory is both read/write by DMA
 119:tinyusb/src/device/dcd.h **** void dcd_dcache_clean_invalidate(void const* addr, uint32_t data_size) TU_ATTR_WEAK;
 120:tinyusb/src/device/dcd.h **** 
 121:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
 122:tinyusb/src/device/dcd.h **** // Controller API
 123:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
 124:tinyusb/src/device/dcd.h **** 
 125:tinyusb/src/device/dcd.h **** // Initialize controller to device mode
 126:tinyusb/src/device/dcd.h **** void dcd_init       (uint8_t rhport);
 127:tinyusb/src/device/dcd.h **** 
 128:tinyusb/src/device/dcd.h **** // Interrupt Handler
 129:tinyusb/src/device/dcd.h **** void dcd_int_handler(uint8_t rhport);
 130:tinyusb/src/device/dcd.h **** 
 131:tinyusb/src/device/dcd.h **** // Enable device interrupt
 132:tinyusb/src/device/dcd.h **** void dcd_int_enable (uint8_t rhport);
 133:tinyusb/src/device/dcd.h **** 
 134:tinyusb/src/device/dcd.h **** // Disable device interrupt
 135:tinyusb/src/device/dcd.h **** void dcd_int_disable(uint8_t rhport);
 136:tinyusb/src/device/dcd.h **** 
 137:tinyusb/src/device/dcd.h **** // Receive Set Address request, mcu port must also include status IN response
 138:tinyusb/src/device/dcd.h **** void dcd_set_address(uint8_t rhport, uint8_t dev_addr);
 139:tinyusb/src/device/dcd.h **** 
 140:tinyusb/src/device/dcd.h **** // Wake up host
 141:tinyusb/src/device/dcd.h **** void dcd_remote_wakeup(uint8_t rhport);
 142:tinyusb/src/device/dcd.h **** 
 143:tinyusb/src/device/dcd.h **** // Connect by enabling internal pull-up resistor on D+/D-
 144:tinyusb/src/device/dcd.h **** void dcd_connect(uint8_t rhport) TU_ATTR_WEAK;
 145:tinyusb/src/device/dcd.h **** 
 146:tinyusb/src/device/dcd.h **** // Disconnect by disabling internal pull-up resistor on D+/D-
 147:tinyusb/src/device/dcd.h **** void dcd_disconnect(uint8_t rhport) TU_ATTR_WEAK;
 148:tinyusb/src/device/dcd.h **** 
 149:tinyusb/src/device/dcd.h **** // Enable/Disable Start-of-frame interrupt. Default is disabled
 150:tinyusb/src/device/dcd.h **** void dcd_sof_enable(uint8_t rhport, bool en);
 151:tinyusb/src/device/dcd.h **** 
 152:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
 153:tinyusb/src/device/dcd.h **** // Endpoint API
 154:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
 155:tinyusb/src/device/dcd.h **** 
 156:tinyusb/src/device/dcd.h **** // Invoked when a control transfer's status stage is complete.
ARM GAS  /tmp/ccOP5HA3.s 			page 62


 157:tinyusb/src/device/dcd.h **** // May help DCD to prepare for next control transfer, this API is optional.
 158:tinyusb/src/device/dcd.h **** void dcd_edpt0_status_complete(uint8_t rhport, tusb_control_request_t const * request) TU_ATTR_WEAK
 159:tinyusb/src/device/dcd.h **** 
 160:tinyusb/src/device/dcd.h **** // Configure endpoint's registers according to descriptor
 161:tinyusb/src/device/dcd.h **** bool dcd_edpt_open            (uint8_t rhport, tusb_desc_endpoint_t const * desc_ep);
 162:tinyusb/src/device/dcd.h **** 
 163:tinyusb/src/device/dcd.h **** // Close all non-control endpoints, cancel all pending transfers if any.
 164:tinyusb/src/device/dcd.h **** // Invoked when switching from a non-zero Configuration by SET_CONFIGURE therefore
 165:tinyusb/src/device/dcd.h **** // required for multiple configuration support.
 166:tinyusb/src/device/dcd.h **** void dcd_edpt_close_all       (uint8_t rhport);
 167:tinyusb/src/device/dcd.h **** 
 168:tinyusb/src/device/dcd.h **** // Close an endpoint.
 169:tinyusb/src/device/dcd.h **** // Since it is weak, caller must TU_ASSERT this function's existence before calling it.
 170:tinyusb/src/device/dcd.h **** void dcd_edpt_close           (uint8_t rhport, uint8_t ep_addr) TU_ATTR_WEAK;
 171:tinyusb/src/device/dcd.h **** 
 172:tinyusb/src/device/dcd.h **** // Submit a transfer, When complete dcd_event_xfer_complete() is invoked to notify the stack
 173:tinyusb/src/device/dcd.h **** bool dcd_edpt_xfer            (uint8_t rhport, uint8_t ep_addr, uint8_t * buffer, uint16_t total_by
 174:tinyusb/src/device/dcd.h **** 
 175:tinyusb/src/device/dcd.h **** // Submit an transfer using fifo, When complete dcd_event_xfer_complete() is invoked to notify the 
 176:tinyusb/src/device/dcd.h **** // This API is optional, may be useful for register-based for transferring data.
 177:tinyusb/src/device/dcd.h **** bool dcd_edpt_xfer_fifo       (uint8_t rhport, uint8_t ep_addr, tu_fifo_t * ff, uint16_t total_byte
 178:tinyusb/src/device/dcd.h **** 
 179:tinyusb/src/device/dcd.h **** // Stall endpoint, any queuing transfer should be removed from endpoint
 180:tinyusb/src/device/dcd.h **** void dcd_edpt_stall           (uint8_t rhport, uint8_t ep_addr);
 181:tinyusb/src/device/dcd.h **** 
 182:tinyusb/src/device/dcd.h **** // clear stall, data toggle is also reset to DATA0
 183:tinyusb/src/device/dcd.h **** // This API never calls with control endpoints, since it is auto cleared when receiving setup packe
 184:tinyusb/src/device/dcd.h **** void dcd_edpt_clear_stall     (uint8_t rhport, uint8_t ep_addr);
 185:tinyusb/src/device/dcd.h **** 
 186:tinyusb/src/device/dcd.h **** // Allocate packet buffer used by ISO endpoints
 187:tinyusb/src/device/dcd.h **** // Some MCU need manual packet buffer allocation, we allocation largest size to avoid clustering
 188:tinyusb/src/device/dcd.h **** TU_ATTR_WEAK bool dcd_edpt_iso_alloc(uint8_t rhport, uint8_t ep_addr, uint16_t largest_packet_size)
 189:tinyusb/src/device/dcd.h **** 
 190:tinyusb/src/device/dcd.h **** // Configure and enable an ISO endpoint according to descriptor
 191:tinyusb/src/device/dcd.h **** TU_ATTR_WEAK bool dcd_edpt_iso_activate(uint8_t rhport,  tusb_desc_endpoint_t const * p_endpoint_de
 192:tinyusb/src/device/dcd.h **** 
 193:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
 194:tinyusb/src/device/dcd.h **** // Event API (implemented by stack)
 195:tinyusb/src/device/dcd.h **** //--------------------------------------------------------------------+
 196:tinyusb/src/device/dcd.h **** 
 197:tinyusb/src/device/dcd.h **** // Called by DCD to notify device stack
 198:tinyusb/src/device/dcd.h **** extern void dcd_event_handler(dcd_event_t const * event, bool in_isr);
 199:tinyusb/src/device/dcd.h **** 
 200:tinyusb/src/device/dcd.h **** // helper to send bus signal event
 201:tinyusb/src/device/dcd.h **** TU_ATTR_ALWAYS_INLINE static inline void dcd_event_bus_signal (uint8_t rhport, dcd_eventid_t eid, b
 202:tinyusb/src/device/dcd.h **** {
 203:tinyusb/src/device/dcd.h ****   dcd_event_t event = { .rhport = rhport, .event_id = eid };
 204:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 205:tinyusb/src/device/dcd.h **** }
 206:tinyusb/src/device/dcd.h **** 
 207:tinyusb/src/device/dcd.h **** // helper to send bus reset event
 208:tinyusb/src/device/dcd.h **** TU_ATTR_ALWAYS_INLINE static inline  void dcd_event_bus_reset (uint8_t rhport, tusb_speed_t speed, 
 209:tinyusb/src/device/dcd.h **** {
 210:tinyusb/src/device/dcd.h ****   dcd_event_t event = { .rhport = rhport, .event_id = DCD_EVENT_BUS_RESET };
 211:tinyusb/src/device/dcd.h ****   event.bus_reset.speed = speed;
 212:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 213:tinyusb/src/device/dcd.h **** }
ARM GAS  /tmp/ccOP5HA3.s 			page 63


 214:tinyusb/src/device/dcd.h **** 
 215:tinyusb/src/device/dcd.h **** // helper to send setup received
 216:tinyusb/src/device/dcd.h **** TU_ATTR_ALWAYS_INLINE static inline void dcd_event_setup_received(uint8_t rhport, uint8_t const * s
 1419              		.loc 4 216 42 view .LVU447
 1420              	.LBB133:
 217:tinyusb/src/device/dcd.h **** {
 218:tinyusb/src/device/dcd.h ****   dcd_event_t event = { .rhport = rhport, .event_id = DCD_EVENT_SETUP_RECEIVED };
 1421              		.loc 4 218 3 view .LVU448
 1422              		.loc 4 218 15 is_stmt 0 view .LVU449
 1423 0014 0023     		movs	r3, #0
 1424 0016 0393     		str	r3, [sp, #12]
 1425 0018 0493     		str	r3, [sp, #16]
 1426 001a 0593     		str	r3, [sp, #20]
 1427 001c 8DF80C80 		strb	r8, [sp, #12]
 1428 0020 0623     		movs	r3, #6
 1429 0022 8DF80D30 		strb	r3, [sp, #13]
 219:tinyusb/src/device/dcd.h ****   memcpy(&event.setup_received, setup, sizeof(tusb_control_request_t));
 1430              		.loc 4 219 3 is_stmt 1 view .LVU450
 1431 0026 244B     		ldr	r3, .L116
 1432 0028 93E80300 		ldm	r3, {r0, r1}
 1433 002c 06AB     		add	r3, sp, #24
 1434 002e 03E90300 		stmdb	r3, {r0, r1}
 220:tinyusb/src/device/dcd.h **** 
 221:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 1435              		.loc 4 221 3 view .LVU451
 1436 0032 0121     		movs	r1, #1
 1437 0034 03A8     		add	r0, sp, #12
 1438 0036 FFF7FEFF 		bl	dcd_event_handler
 1439              	.LVL124:
 222:tinyusb/src/device/dcd.h **** }
 1440              		.loc 4 222 1 is_stmt 0 view .LVU452
 1441 003a 26E0     		b	.L110
 1442              	.LVL125:
 1443              	.L111:
 1444              		.loc 4 222 1 view .LVU453
 1445              	.LBE133:
 1446              	.LBE132:
1039:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
1040:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1041:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // OUT XFER complete
1042:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       if(out_ep[n].DOEPINT & USB_OTG_DOEPINT_XFRC) {
1043:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         out_ep[n].DOEPINT = USB_OTG_DOEPINT_XFRC;
1044:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1045:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // EP0 can only handle one packet
1046:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         if((n == 0) && ep0_pending[TUSB_DIR_OUT]) {
1047:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be received.
1048:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           edpt_schedule_packets(rhport, n, TUSB_DIR_OUT, 1, ep0_pending[TUSB_DIR_OUT]);
1049:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         } else {
1050:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           dcd_event_xfer_complete(rhport, n, xfer->total_len, XFER_RESULT_SUCCESS, true);
 1447              		.loc 1 1050 11 is_stmt 1 view .LVU454
 1448              		.loc 1 1050 50 is_stmt 0 view .LVU455
 1449 003c 1F4B     		ldr	r3, .L116+4
 1450 003e 03EB4919 		add	r9, r3, r9, lsl #5
 1451 0042 B9F80820 		ldrh	r2, [r9, #8]
 1452              	.LVL126:
 1453              	.LBB134:
 1454              	.LBI134:
ARM GAS  /tmp/ccOP5HA3.s 			page 64


 223:tinyusb/src/device/dcd.h **** 
 224:tinyusb/src/device/dcd.h **** // helper to send transfer complete event
 225:tinyusb/src/device/dcd.h **** TU_ATTR_ALWAYS_INLINE static inline void dcd_event_xfer_complete (uint8_t rhport, uint8_t ep_addr, 
 1455              		.loc 4 225 42 is_stmt 1 view .LVU456
 1456              	.LBB135:
 226:tinyusb/src/device/dcd.h **** {
 227:tinyusb/src/device/dcd.h ****   dcd_event_t event = { .rhport = rhport, .event_id = DCD_EVENT_XFER_COMPLETE };
 1457              		.loc 4 227 3 view .LVU457
 1458              		.loc 4 227 15 is_stmt 0 view .LVU458
 1459 0046 0023     		movs	r3, #0
 1460 0048 0393     		str	r3, [sp, #12]
 1461 004a 0493     		str	r3, [sp, #16]
 1462 004c 0593     		str	r3, [sp, #20]
 1463 004e 8DF80C80 		strb	r8, [sp, #12]
 1464 0052 0723     		movs	r3, #7
 1465 0054 8DF80D30 		strb	r3, [sp, #13]
 228:tinyusb/src/device/dcd.h **** 
 229:tinyusb/src/device/dcd.h ****   event.xfer_complete.ep_addr = ep_addr;
 1466              		.loc 4 229 3 is_stmt 1 view .LVU459
 1467              		.loc 4 229 31 is_stmt 0 view .LVU460
 1468 0058 8DF81040 		strb	r4, [sp, #16]
 230:tinyusb/src/device/dcd.h ****   event.xfer_complete.len     = xferred_bytes;
 1469              		.loc 4 230 3 is_stmt 1 view .LVU461
 1470              		.loc 4 230 31 is_stmt 0 view .LVU462
 1471 005c 0592     		str	r2, [sp, #20]
 231:tinyusb/src/device/dcd.h ****   event.xfer_complete.result  = result;
 1472              		.loc 4 231 3 is_stmt 1 view .LVU463
 232:tinyusb/src/device/dcd.h **** 
 233:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 1473              		.loc 4 233 3 view .LVU464
 1474 005e 0121     		movs	r1, #1
 1475 0060 03A8     		add	r0, sp, #12
 1476 0062 FFF7FEFF 		bl	dcd_event_handler
 1477              	.LVL127:
 1478              	.L109:
 1479              		.loc 4 233 3 is_stmt 0 view .LVU465
 1480              	.LBE135:
 1481              	.LBE134:
 1482              	.LBE131:
1031:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_ctl_t * xfer = XFER_CTL_BASE(n, TUSB_DIR_OUT);
 1483              		.loc 1 1031 34 is_stmt 1 discriminator 2 view .LVU466
1031:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_ctl_t * xfer = XFER_CTL_BASE(n, TUSB_DIR_OUT);
 1484              		.loc 1 1031 35 is_stmt 0 discriminator 2 view .LVU467
 1485 0066 0134     		adds	r4, r4, #1
 1486              	.LVL128:
1031:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_ctl_t * xfer = XFER_CTL_BASE(n, TUSB_DIR_OUT);
 1487              		.loc 1 1031 35 discriminator 2 view .LVU468
 1488 0068 E4B2     		uxtb	r4, r4
 1489              	.LVL129:
 1490              	.L108:
1031:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_ctl_t * xfer = XFER_CTL_BASE(n, TUSB_DIR_OUT);
 1491              		.loc 1 1031 22 is_stmt 1 discriminator 1 view .LVU469
1031:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_ctl_t * xfer = XFER_CTL_BASE(n, TUSB_DIR_OUT);
 1492              		.loc 1 1031 3 is_stmt 0 discriminator 1 view .LVU470
 1493 006a 052C     		cmp	r4, #5
 1494 006c 21D8     		bhi	.L114
 1495              	.LBB136:
ARM GAS  /tmp/ccOP5HA3.s 			page 65


1032:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1496              		.loc 1 1032 5 is_stmt 1 view .LVU471
1032:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1497              		.loc 1 1032 25 is_stmt 0 view .LVU472
 1498 006e A146     		mov	r9, r4
 1499              	.LVL130:
1034:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // SETUP packet Setup Phase done.
 1500              		.loc 1 1034 5 is_stmt 1 view .LVU473
1034:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // SETUP packet Setup Phase done.
 1501              		.loc 1 1034 11 is_stmt 0 view .LVU474
 1502 0070 B569     		ldr	r5, [r6, #24]
1034:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // SETUP packet Setup Phase done.
 1503              		.loc 1 1034 53 view .LVU475
 1504 0072 04F11002 		add	r2, r4, #16
1034:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // SETUP packet Setup Phase done.
 1505              		.loc 1 1034 24 view .LVU476
 1506 0076 0123     		movs	r3, #1
 1507 0078 9340     		lsls	r3, r3, r2
1034:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // SETUP packet Setup Phase done.
 1508              		.loc 1 1034 7 view .LVU477
 1509 007a 1D42     		tst	r5, r3
 1510 007c F3D0     		beq	.L109
1036:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         out_ep[n].DOEPINT =  USB_OTG_DOEPINT_STUP;
 1511              		.loc 1 1036 7 is_stmt 1 view .LVU478
1036:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         out_ep[n].DOEPINT =  USB_OTG_DOEPINT_STUP;
 1512              		.loc 1 1036 16 is_stmt 0 view .LVU479
 1513 007e 07EB4415 		add	r5, r7, r4, lsl #5
1036:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         out_ep[n].DOEPINT =  USB_OTG_DOEPINT_STUP;
 1514              		.loc 1 1036 19 view .LVU480
 1515 0082 AB68     		ldr	r3, [r5, #8]
1036:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         out_ep[n].DOEPINT =  USB_OTG_DOEPINT_STUP;
 1516              		.loc 1 1036 9 view .LVU481
 1517 0084 13F0080F 		tst	r3, #8
 1518 0088 C2D1     		bne	.L115
 1519              	.L110:
1042:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         out_ep[n].DOEPINT = USB_OTG_DOEPINT_XFRC;
 1520              		.loc 1 1042 7 is_stmt 1 view .LVU482
1042:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         out_ep[n].DOEPINT = USB_OTG_DOEPINT_XFRC;
 1521              		.loc 1 1042 19 is_stmt 0 view .LVU483
 1522 008a AB68     		ldr	r3, [r5, #8]
1042:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         out_ep[n].DOEPINT = USB_OTG_DOEPINT_XFRC;
 1523              		.loc 1 1042 9 view .LVU484
 1524 008c 13F0010F 		tst	r3, #1
 1525 0090 E9D0     		beq	.L109
1043:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1526              		.loc 1 1043 9 is_stmt 1 view .LVU485
1043:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1527              		.loc 1 1043 27 is_stmt 0 view .LVU486
 1528 0092 0123     		movs	r3, #1
 1529 0094 AB60     		str	r3, [r5, #8]
1046:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be received.
 1530              		.loc 1 1046 9 is_stmt 1 view .LVU487
1046:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be received.
 1531              		.loc 1 1046 11 is_stmt 0 view .LVU488
 1532 0096 002C     		cmp	r4, #0
 1533 0098 D0D1     		bne	.L111
1046:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be received.
ARM GAS  /tmp/ccOP5HA3.s 			page 66


 1534              		.loc 1 1046 35 discriminator 1 view .LVU489
 1535 009a 094B     		ldr	r3, .L116+8
 1536 009c 1B88     		ldrh	r3, [r3]
1046:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be received.
 1537              		.loc 1 1046 21 discriminator 1 view .LVU490
 1538 009e 002B     		cmp	r3, #0
 1539 00a0 CCD0     		beq	.L111
1048:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         } else {
 1540              		.loc 1 1048 11 is_stmt 1 view .LVU491
 1541 00a2 0093     		str	r3, [sp]
 1542 00a4 0123     		movs	r3, #1
 1543 00a6 0022     		movs	r2, #0
 1544 00a8 2146     		mov	r1, r4
 1545 00aa 4046     		mov	r0, r8
 1546 00ac FFF7FEFF 		bl	edpt_schedule_packets
 1547              	.LVL131:
 1548 00b0 D9E7     		b	.L109
 1549              	.LVL132:
 1550              	.L114:
1048:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         } else {
 1551              		.loc 1 1048 11 is_stmt 0 view .LVU492
 1552              	.LBE136:
 1553              	.LBE130:
1051:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         }
1052:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
1053:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
1054:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1055:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 1554              		.loc 1 1055 1 view .LVU493
 1555 00b2 07B0     		add	sp, sp, #28
 1556              	.LCFI10:
 1557              		.cfi_def_cfa_offset 28
 1558              		@ sp needed
 1559 00b4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1560              	.LVL133:
 1561              	.L117:
 1562              		.loc 1 1055 1 view .LVU494
 1563              		.align	2
 1564              	.L116:
 1565 00b8 00000000 		.word	.LANCHOR4
 1566 00bc 00000000 		.word	.LANCHOR0
 1567 00c0 00000000 		.word	.LANCHOR1
 1568              		.cfi_endproc
 1569              	.LFE222:
 1571              		.section	.text.handle_rxflvl_ints,"ax",%progbits
 1572              		.align	1
 1573              		.syntax unified
 1574              		.thumb
 1575              		.thumb_func
 1576              		.fpu fpv4-sp-d16
 1578              	handle_rxflvl_ints:
 1579              	.LVL134:
 1580              	.LFB221:
 964:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 1581              		.loc 1 964 85 is_stmt 1 view -0
 1582              		.cfi_startproc
 1583              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccOP5HA3.s 			page 67


 1584              		@ frame_needed = 0, uses_anonymous_args = 0
 964:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 1585              		.loc 1 964 85 is_stmt 0 view .LVU496
 1586 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1587              	.LCFI11:
 1588              		.cfi_def_cfa_offset 24
 1589              		.cfi_offset 4, -24
 1590              		.cfi_offset 5, -20
 1591              		.cfi_offset 6, -16
 1592              		.cfi_offset 7, -12
 1593              		.cfi_offset 8, -8
 1594              		.cfi_offset 14, -4
 1595 0004 0D46     		mov	r5, r1
 965:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_fifo_t rx_fifo = FIFO_BASE(rhport, 0);
 1596              		.loc 1 965 3 is_stmt 1 view .LVU497
 1597              	.LVL135:
 966:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1598              		.loc 1 966 3 view .LVU498
 969:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t pktsts = (ctl_word & USB_OTG_GRXSTSP_PKTSTS_Msk) >> USB_OTG_GRXSTSP_PKTSTS_Pos;
 1599              		.loc 1 969 3 view .LVU499
 969:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t pktsts = (ctl_word & USB_OTG_GRXSTSP_PKTSTS_Msk) >> USB_OTG_GRXSTSP_PKTSTS_Pos;
 1600              		.loc 1 969 12 is_stmt 0 view .LVU500
 1601 0006 4FF0A043 		mov	r3, #1342177280
 1602 000a 1C6A     		ldr	r4, [r3, #32]
 1603              	.LVL136:
 970:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t epnum = (ctl_word &  USB_OTG_GRXSTSP_EPNUM_Msk) >>  USB_OTG_GRXSTSP_EPNUM_Pos;
 1604              		.loc 1 970 3 is_stmt 1 view .LVU501
 970:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t epnum = (ctl_word &  USB_OTG_GRXSTSP_EPNUM_Msk) >>  USB_OTG_GRXSTSP_EPNUM_Pos;
 1605              		.loc 1 970 11 is_stmt 0 view .LVU502
 1606 000c C4F34343 		ubfx	r3, r4, #17, #4
 1607              	.LVL137:
 971:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t bcnt = (ctl_word & USB_OTG_GRXSTSP_BCNT_Msk) >> USB_OTG_GRXSTSP_BCNT_Pos;
 1608              		.loc 1 971 3 is_stmt 1 view .LVU503
 971:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t bcnt = (ctl_word & USB_OTG_GRXSTSP_BCNT_Msk) >> USB_OTG_GRXSTSP_BCNT_Pos;
 1609              		.loc 1 971 11 is_stmt 0 view .LVU504
 1610 0010 04F00F06 		and	r6, r4, #15
 1611              	.LVL138:
 972:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1612              		.loc 1 972 3 is_stmt 1 view .LVU505
 972:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1613              		.loc 1 972 12 is_stmt 0 view .LVU506
 1614 0014 C4F30A14 		ubfx	r4, r4, #4, #11
 1615              	.LVL139:
 974:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 0x01: // Global OUT NAK (Interrupt)
 1616              		.loc 1 974 3 is_stmt 1 view .LVU507
 1617 0018 013B     		subs	r3, r3, #1
 1618              	.LVL140:
 974:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     case 0x01: // Global OUT NAK (Interrupt)
 1619              		.loc 1 974 3 is_stmt 0 view .LVU508
 1620 001a 052B     		cmp	r3, #5
 1621 001c 48D8     		bhi	.L119
 1622 001e DFE803F0 		tbb	[pc, r3]
 1623              	.L121:
 1624 0022 3E       		.byte	(.L118-.L121)/2
 1625 0023 03       		.byte	(.L124-.L121)/2
 1626 0024 3E       		.byte	(.L118-.L121)/2
 1627 0025 38       		.byte	(.L122-.L121)/2
ARM GAS  /tmp/ccOP5HA3.s 			page 68


 1628 0026 47       		.byte	(.L119-.L121)/2
 1629 0027 40       		.byte	(.L120-.L121)/2
 1630              		.p2align 1
 1631              	.L124:
 1632              	.LBB137:
 980:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1633              		.loc 1 980 7 is_stmt 1 view .LVU509
 1634              	.LVL141:
 983:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 1635              		.loc 1 983 7 view .LVU510
 983:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 1636              		.loc 1 983 15 is_stmt 0 view .LVU511
 1637 0028 264B     		ldr	r3, .L128
 1638              	.LVL142:
 983:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 1639              		.loc 1 983 15 view .LVU512
 1640 002a 03EB4613 		add	r3, r3, r6, lsl #5
 1641 002e 5B68     		ldr	r3, [r3, #4]
 983:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 1642              		.loc 1 983 10 view .LVU513
 1643 0030 0BB3     		cbz	r3, .L125
 986:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
 1644              		.loc 1 986 9 is_stmt 1 view .LVU514
 1645 0032 2246     		mov	r2, r4
 1646 0034 2449     		ldr	r1, .L128+4
 1647              	.LVL143:
 986:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
 1648              		.loc 1 986 9 is_stmt 0 view .LVU515
 1649 0036 1846     		mov	r0, r3
 1650              	.LVL144:
 986:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
 1651              		.loc 1 986 9 view .LVU516
 1652 0038 FFF7FEFF 		bl	tu_fifo_write_n_const_addr_full_words
 1653              	.LVL145:
 1654              	.L126:
 998:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         xfer->total_len -= (out_ep[epnum].DOEPTSIZ & USB_OTG_DOEPTSIZ_XFRSIZ_Msk) >> USB_OTG_DOEPTS
 1655              		.loc 1 998 7 is_stmt 1 view .LVU517
 998:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         xfer->total_len -= (out_ep[epnum].DOEPTSIZ & USB_OTG_DOEPTSIZ_XFRSIZ_Msk) >> USB_OTG_DOEPTS
 1656              		.loc 1 998 21 is_stmt 0 view .LVU518
 1657 003c 214B     		ldr	r3, .L128
 1658 003e 03EB4613 		add	r3, r3, r6, lsl #5
 1659 0042 5B89     		ldrh	r3, [r3, #10]
 998:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         xfer->total_len -= (out_ep[epnum].DOEPTSIZ & USB_OTG_DOEPTSIZ_XFRSIZ_Msk) >> USB_OTG_DOEPTS
 1660              		.loc 1 998 9 view .LVU519
 1661 0044 A342     		cmp	r3, r4
 1662 0046 2AD9     		bls	.L118
 999:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         if(epnum == 0) {
 1663              		.loc 1 999 9 is_stmt 1 view .LVU520
 999:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         if(epnum == 0) {
 1664              		.loc 1 999 35 is_stmt 0 view .LVU521
 1665 0048 05EB4611 		add	r1, r5, r6, lsl #5
 999:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         if(epnum == 0) {
 1666              		.loc 1 999 42 view .LVU522
 1667 004c 0969     		ldr	r1, [r1, #16]
 999:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         if(epnum == 0) {
 1668              		.loc 1 999 83 view .LVU523
 1669 004e C1F31201 		ubfx	r1, r1, #0, #19
ARM GAS  /tmp/ccOP5HA3.s 			page 69


 999:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         if(epnum == 0) {
 1670              		.loc 1 999 25 view .LVU524
 1671 0052 1C4A     		ldr	r2, .L128
 1672 0054 02EB4612 		add	r2, r2, r6, lsl #5
 1673 0058 1389     		ldrh	r3, [r2, #8]
 1674 005a 5B1A     		subs	r3, r3, r1
 1675 005c 9BB2     		uxth	r3, r3
 1676 005e 1381     		strh	r3, [r2, #8]	@ movhi
1000:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           xfer->total_len -= ep0_pending[TUSB_DIR_OUT];
 1677              		.loc 1 1000 9 is_stmt 1 view .LVU525
1000:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           xfer->total_len -= ep0_pending[TUSB_DIR_OUT];
 1678              		.loc 1 1000 11 is_stmt 0 view .LVU526
 1679 0060 EEB9     		cbnz	r6, .L118
1001:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           ep0_pending[TUSB_DIR_OUT] = 0;
 1680              		.loc 1 1001 11 is_stmt 1 view .LVU527
1001:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           ep0_pending[TUSB_DIR_OUT] = 0;
 1681              		.loc 1 1001 41 is_stmt 0 view .LVU528
 1682 0062 1A49     		ldr	r1, .L128+8
 1683 0064 0888     		ldrh	r0, [r1]
1001:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           ep0_pending[TUSB_DIR_OUT] = 0;
 1684              		.loc 1 1001 27 view .LVU529
 1685 0066 174A     		ldr	r2, .L128
 1686 0068 02EB4616 		add	r6, r2, r6, lsl #5
 1687              	.LVL146:
1001:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           ep0_pending[TUSB_DIR_OUT] = 0;
 1688              		.loc 1 1001 27 view .LVU530
 1689 006c 1B1A     		subs	r3, r3, r0
 1690 006e 3381     		strh	r3, [r6, #8]	@ movhi
1002:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         }
 1691              		.loc 1 1002 11 is_stmt 1 view .LVU531
1002:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         }
 1692              		.loc 1 1002 37 is_stmt 0 view .LVU532
 1693 0070 0023     		movs	r3, #0
 1694 0072 0B80     		strh	r3, [r1]	@ movhi
 1695 0074 13E0     		b	.L118
 1696              	.LVL147:
 1697              	.L125:
 991:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1698              		.loc 1 991 9 is_stmt 1 view .LVU533
 1699 0076 DFF84C80 		ldr	r8, .L128
 1700 007a 7701     		lsls	r7, r6, #5
 1701 007c 2246     		mov	r2, r4
 1702 007e 58F80710 		ldr	r1, [r8, r7]
 1703              	.LVL148:
 991:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1704              		.loc 1 991 9 is_stmt 0 view .LVU534
 1705 0082 FFF7FEFF 		bl	read_fifo_packet
 1706              	.LVL149:
 994:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
 1707              		.loc 1 994 9 is_stmt 1 view .LVU535
 994:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
 1708              		.loc 1 994 22 is_stmt 0 view .LVU536
 1709 0086 58F80730 		ldr	r3, [r8, r7]
 1710 008a 2344     		add	r3, r3, r4
 1711 008c 48F80730 		str	r3, [r8, r7]
 1712 0090 D4E7     		b	.L126
 1713              	.LVL150:
ARM GAS  /tmp/ccOP5HA3.s 			page 70


 1714              	.L122:
 994:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
 1715              		.loc 1 994 22 view .LVU537
 1716              	.LBE137:
1012:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1717              		.loc 1 1012 7 is_stmt 1 view .LVU538
1012:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1718              		.loc 1 1012 30 is_stmt 0 view .LVU539
 1719 0092 01EB4611 		add	r1, r1, r6, lsl #5
 1720              	.LVL151:
1012:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1721              		.loc 1 1012 30 view .LVU540
 1722 0096 0B69     		ldr	r3, [r1, #16]
 1723              	.LVL152:
1012:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1724              		.loc 1 1012 30 view .LVU541
 1725 0098 43F0C043 		orr	r3, r3, #1610612736
 1726 009c 0B61     		str	r3, [r1, #16]
1013:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1727              		.loc 1 1013 7 is_stmt 1 view .LVU542
 1728              	.LVL153:
 1729              	.L118:
1026:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1730              		.loc 1 1026 1 is_stmt 0 view .LVU543
 1731 009e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1732              	.LVL154:
 1733              	.L120:
1018:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       _setup_packet[1] = (* rx_fifo);
 1734              		.loc 1 1018 7 is_stmt 1 view .LVU544
1018:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       _setup_packet[1] = (* rx_fifo);
 1735              		.loc 1 1018 27 is_stmt 0 view .LVU545
 1736 00a2 094A     		ldr	r2, .L128+4
 1737 00a4 1168     		ldr	r1, [r2]
 1738              	.LVL155:
1018:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       _setup_packet[1] = (* rx_fifo);
 1739              		.loc 1 1018 24 view .LVU546
 1740 00a6 0A4B     		ldr	r3, .L128+12
 1741              	.LVL156:
1018:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       _setup_packet[1] = (* rx_fifo);
 1742              		.loc 1 1018 24 view .LVU547
 1743 00a8 1960     		str	r1, [r3]
1019:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1744              		.loc 1 1019 7 is_stmt 1 view .LVU548
1019:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1745              		.loc 1 1019 27 is_stmt 0 view .LVU549
 1746 00aa 1268     		ldr	r2, [r2]
1019:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1747              		.loc 1 1019 24 view .LVU550
 1748 00ac 5A60     		str	r2, [r3, #4]
1020:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1749              		.loc 1 1020 7 is_stmt 1 view .LVU551
 1750 00ae F6E7     		b	.L118
 1751              	.LVL157:
 1752              	.L119:
1023:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1753              		.loc 1 1023 7 view .LVU552
 1754              	.LBB138:
ARM GAS  /tmp/ccOP5HA3.s 			page 71


1023:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1755              		.loc 1 1023 7 view .LVU553
1023:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1756              		.loc 1 1023 7 view .LVU554
 1757 00b0 4FF0E023 		mov	r3, #-536813568
 1758              	.LVL158:
1023:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1759              		.loc 1 1023 7 is_stmt 0 view .LVU555
 1760 00b4 D3F8F03D 		ldr	r3, [r3, #3568]
 1761 00b8 13F0010F 		tst	r3, #1
 1762 00bc EFD0     		beq	.L118
1023:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       break;
 1763              		.loc 1 1023 7 is_stmt 1 discriminator 1 view .LVU556
 1764              		.syntax unified
 1765              	@ 1023 "tinyusb/src/portable/st/synopsys/dcd_synopsys.c" 1
 1766 00be 00BE     		BKPT #0
 1767              	
 1768              	@ 0 "" 2
 1769              		.thumb
 1770              		.syntax unified
 1771              	.LBE138:
1026:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1772              		.loc 1 1026 1 is_stmt 0 discriminator 1 view .LVU557
 1773 00c0 EDE7     		b	.L118
 1774              	.L129:
 1775 00c2 00BF     		.align	2
 1776              	.L128:
 1777 00c4 00000000 		.word	.LANCHOR0
 1778 00c8 00100050 		.word	1342181376
 1779 00cc 00000000 		.word	.LANCHOR1
 1780 00d0 00000000 		.word	.LANCHOR4
 1781              		.cfi_endproc
 1782              	.LFE221:
 1784              		.section	.text.handle_epin_ints,"ax",%progbits
 1785              		.align	1
 1786              		.syntax unified
 1787              		.thumb
 1788              		.thumb_func
 1789              		.fpu fpv4-sp-d16
 1791              	handle_epin_ints:
 1792              	.LVL159:
 1793              	.LFB223:
1056:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1057:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** static void handle_epin_ints(uint8_t rhport, USB_OTG_DeviceTypeDef * dev, USB_OTG_INEndpointTypeDef
 1794              		.loc 1 1057 110 is_stmt 1 view -0
 1795              		.cfi_startproc
 1796              		@ args = 0, pretend = 0, frame = 32
 1797              		@ frame_needed = 0, uses_anonymous_args = 0
 1798              		.loc 1 1057 110 is_stmt 0 view .LVU559
 1799 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1800              	.LCFI12:
 1801              		.cfi_def_cfa_offset 36
 1802              		.cfi_offset 4, -36
 1803              		.cfi_offset 5, -32
 1804              		.cfi_offset 6, -28
 1805              		.cfi_offset 7, -24
 1806              		.cfi_offset 8, -20
ARM GAS  /tmp/ccOP5HA3.s 			page 72


 1807              		.cfi_offset 9, -16
 1808              		.cfi_offset 10, -12
 1809              		.cfi_offset 11, -8
 1810              		.cfi_offset 14, -4
 1811 0004 8BB0     		sub	sp, sp, #44
 1812              	.LCFI13:
 1813              		.cfi_def_cfa_offset 80
 1814 0006 0390     		str	r0, [sp, #12]
 1815 0008 8B46     		mov	fp, r1
 1816 000a 0292     		str	r2, [sp, #8]
1058:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // DAINT for a given EP clears when DIEPINTx is cleared.
1059:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // IEPINT will be cleared when DAINT's out bits are cleared.
1060:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   for ( uint8_t n = 0; n < EP_MAX; n++ )
 1817              		.loc 1 1060 3 is_stmt 1 view .LVU560
 1818              	.LBB139:
 1819              		.loc 1 1060 9 view .LVU561
 1820              	.LVL160:
 1821              		.loc 1 1060 17 is_stmt 0 view .LVU562
 1822 000c 0024     		movs	r4, #0
 1823              		.loc 1 1060 3 view .LVU563
 1824 000e 24E0     		b	.L131
 1825              	.LVL161:
 1826              	.L134:
 1827              	.LBB140:
1061:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1062:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_ctl_t *xfer = XFER_CTL_BASE(n, TUSB_DIR_IN);
1063:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1064:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if ( dev->DAINT & (1 << (USB_OTG_DAINT_IEPINT_Pos + n)) )
1065:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
1066:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // IN XFER complete (entire xfer).
1067:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       if ( in_ep[n].DIEPINT & USB_OTG_DIEPINT_XFRC )
1068:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
1069:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         in_ep[n].DIEPINT = USB_OTG_DIEPINT_XFRC;
1070:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1071:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // EP0 can only handle one packet
1072:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         if((n == 0) && ep0_pending[TUSB_DIR_IN]) {
1073:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be transmitted.
1074:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           edpt_schedule_packets(rhport, n, TUSB_DIR_IN, 1, ep0_pending[TUSB_DIR_IN]);
1075:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         } else {
1076:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           dcd_event_xfer_complete(rhport, n | TUSB_DIR_IN_MASK, xfer->total_len, XFER_RESULT_SUCCES
 1828              		.loc 1 1076 11 is_stmt 1 view .LVU564
 1829 0010 44F08003 		orr	r3, r4, #128
 1830              		.loc 1 1076 69 is_stmt 0 view .LVU565
 1831 0014 464A     		ldr	r2, .L144
 1832 0016 02EB4812 		add	r2, r2, r8, lsl #5
 1833 001a 118B     		ldrh	r1, [r2, #24]
 1834              	.LVL162:
 1835              	.LBB141:
 1836              	.LBI141:
 225:tinyusb/src/device/dcd.h **** {
 1837              		.loc 4 225 42 is_stmt 1 view .LVU566
 1838              	.LBB142:
 227:tinyusb/src/device/dcd.h **** 
 1839              		.loc 4 227 3 view .LVU567
 227:tinyusb/src/device/dcd.h **** 
 1840              		.loc 4 227 15 is_stmt 0 view .LVU568
 1841 001c 0022     		movs	r2, #0
ARM GAS  /tmp/ccOP5HA3.s 			page 73


 1842 001e 0792     		str	r2, [sp, #28]
 1843 0020 0892     		str	r2, [sp, #32]
 1844 0022 0992     		str	r2, [sp, #36]
 1845 0024 039A     		ldr	r2, [sp, #12]
 1846 0026 8DF81C20 		strb	r2, [sp, #28]
 1847 002a 0722     		movs	r2, #7
 1848 002c 8DF81D20 		strb	r2, [sp, #29]
 229:tinyusb/src/device/dcd.h ****   event.xfer_complete.len     = xferred_bytes;
 1849              		.loc 4 229 3 is_stmt 1 view .LVU569
 229:tinyusb/src/device/dcd.h ****   event.xfer_complete.len     = xferred_bytes;
 1850              		.loc 4 229 31 is_stmt 0 view .LVU570
 1851 0030 8DF82030 		strb	r3, [sp, #32]
 230:tinyusb/src/device/dcd.h ****   event.xfer_complete.result  = result;
 1852              		.loc 4 230 3 is_stmt 1 view .LVU571
 230:tinyusb/src/device/dcd.h ****   event.xfer_complete.result  = result;
 1853              		.loc 4 230 31 is_stmt 0 view .LVU572
 1854 0034 0991     		str	r1, [sp, #36]
 231:tinyusb/src/device/dcd.h **** 
 1855              		.loc 4 231 3 is_stmt 1 view .LVU573
 1856              		.loc 4 233 3 view .LVU574
 1857 0036 0121     		movs	r1, #1
 1858              	.LVL163:
 1859              		.loc 4 233 3 is_stmt 0 view .LVU575
 1860 0038 07A8     		add	r0, sp, #28
 1861 003a FFF7FEFF 		bl	dcd_event_handler
 1862              	.LVL164:
 1863              	.L133:
 1864              		.loc 4 233 3 view .LVU576
 1865              	.LBE142:
 1866              	.LBE141:
1077:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         }
1078:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
1079:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1080:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // XFER FIFO empty
1081:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       if ( (in_ep[n].DIEPINT & USB_OTG_DIEPINT_TXFE) && (dev->DIEPEMPMSK & (1 << n)) )
 1867              		.loc 1 1081 7 is_stmt 1 view .LVU577
 1868              		.loc 1 1081 21 is_stmt 0 view .LVU578
 1869 003e B368     		ldr	r3, [r6, #8]
 1870              		.loc 1 1081 10 view .LVU579
 1871 0040 13F0800F 		tst	r3, #128
 1872 0044 07D0     		beq	.L132
 1873              		.loc 1 1081 61 discriminator 1 view .LVU580
 1874 0046 DBF83430 		ldr	r3, [fp, #52]
 1875              		.loc 1 1081 79 discriminator 1 view .LVU581
 1876 004a 0122     		movs	r2, #1
 1877 004c 02FA08F2 		lsl	r2, r2, r8
 1878 0050 0492     		str	r2, [sp, #16]
 1879              		.loc 1 1081 54 discriminator 1 view .LVU582
 1880 0052 1342     		tst	r3, r2
 1881 0054 22D1     		bne	.L142
 1882              	.L132:
 1883              		.loc 1 1081 54 discriminator 1 view .LVU583
 1884              	.LBE140:
1060:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 1885              		.loc 1 1060 36 is_stmt 1 discriminator 2 view .LVU584
1060:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 1886              		.loc 1 1060 37 is_stmt 0 discriminator 2 view .LVU585
ARM GAS  /tmp/ccOP5HA3.s 			page 74


 1887 0056 0134     		adds	r4, r4, #1
 1888              	.LVL165:
1060:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 1889              		.loc 1 1060 37 discriminator 2 view .LVU586
 1890 0058 E4B2     		uxtb	r4, r4
 1891              	.LVL166:
 1892              	.L131:
1060:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 1893              		.loc 1 1060 24 is_stmt 1 discriminator 1 view .LVU587
1060:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 1894              		.loc 1 1060 3 is_stmt 0 discriminator 1 view .LVU588
 1895 005a 052C     		cmp	r4, #5
 1896 005c 65D8     		bhi	.L143
 1897              	.LBB150:
1062:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1898              		.loc 1 1062 5 is_stmt 1 view .LVU589
1062:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1899              		.loc 1 1062 24 is_stmt 0 view .LVU590
 1900 005e A046     		mov	r8, r4
 1901              	.LVL167:
1064:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 1902              		.loc 1 1064 5 is_stmt 1 view .LVU591
1064:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 1903              		.loc 1 1064 13 is_stmt 0 view .LVU592
 1904 0060 DBF81820 		ldr	r2, [fp, #24]
1064:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 1905              		.loc 1 1064 55 view .LVU593
 1906 0064 2546     		mov	r5, r4
1064:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 1907              		.loc 1 1064 26 view .LVU594
 1908 0066 0123     		movs	r3, #1
 1909 0068 A340     		lsls	r3, r3, r4
1064:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 1910              		.loc 1 1064 8 view .LVU595
 1911 006a 1A42     		tst	r2, r3
 1912 006c F3D0     		beq	.L132
1067:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 1913              		.loc 1 1067 7 is_stmt 1 view .LVU596
1067:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 1914              		.loc 1 1067 17 is_stmt 0 view .LVU597
 1915 006e 029B     		ldr	r3, [sp, #8]
 1916 0070 03EB4416 		add	r6, r3, r4, lsl #5
1067:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 1917              		.loc 1 1067 20 view .LVU598
 1918 0074 B368     		ldr	r3, [r6, #8]
1067:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
 1919              		.loc 1 1067 10 view .LVU599
 1920 0076 13F0010F 		tst	r3, #1
 1921 007a E0D0     		beq	.L133
1069:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1922              		.loc 1 1069 9 is_stmt 1 view .LVU600
1069:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1923              		.loc 1 1069 26 is_stmt 0 view .LVU601
 1924 007c 0123     		movs	r3, #1
 1925 007e B360     		str	r3, [r6, #8]
1072:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be transmitted.
 1926              		.loc 1 1072 9 is_stmt 1 view .LVU602
ARM GAS  /tmp/ccOP5HA3.s 			page 75


1072:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be transmitted.
 1927              		.loc 1 1072 11 is_stmt 0 view .LVU603
 1928 0080 002C     		cmp	r4, #0
 1929 0082 C5D1     		bne	.L134
1072:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be transmitted.
 1930              		.loc 1 1072 35 discriminator 1 view .LVU604
 1931 0084 2B4B     		ldr	r3, .L144+4
 1932 0086 5B88     		ldrh	r3, [r3, #2]
1072:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Schedule another packet to be transmitted.
 1933              		.loc 1 1072 21 discriminator 1 view .LVU605
 1934 0088 002B     		cmp	r3, #0
 1935 008a C1D0     		beq	.L134
1074:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         } else {
 1936              		.loc 1 1074 11 is_stmt 1 view .LVU606
 1937 008c 0093     		str	r3, [sp]
 1938 008e 0123     		movs	r3, #1
 1939 0090 1A46     		mov	r2, r3
 1940 0092 2146     		mov	r1, r4
 1941 0094 0398     		ldr	r0, [sp, #12]
 1942 0096 FFF7FEFF 		bl	edpt_schedule_packets
 1943              	.LVL168:
 1944 009a D0E7     		b	.L133
 1945              	.L142:
 1946              	.LBB143:
1082:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       {
1083:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // DIEPINT's TXFE bit is read-only, software cannot clear it.
1084:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // It will only be cleared by hardware when written bytes is more than
1085:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // - 64 bytes or
1086:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // - Half of TX FIFO size (configured by DIEPTXF)
1087:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1088:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         uint16_t remaining_packets = (in_ep[n].DIEPTSIZ & USB_OTG_DIEPTSIZ_PKTCNT_Msk) >> USB_OTG_D
 1947              		.loc 1 1088 9 view .LVU607
 1948              		.loc 1 1088 47 is_stmt 0 view .LVU608
 1949 009c 3369     		ldr	r3, [r6, #16]
 1950              		.loc 1 1088 18 view .LVU609
 1951 009e C3F3C94A 		ubfx	r10, r3, #19, #10
 1952              	.LVL169:
1089:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1090:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // Process every single packet (only whole packets can be written to fifo)
1091:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         for(uint16_t i = 0; i < remaining_packets; i++)
 1953              		.loc 1 1091 9 is_stmt 1 view .LVU610
 1954              	.LBB144:
 1955              		.loc 1 1091 13 view .LVU611
 1956              		.loc 1 1091 22 is_stmt 0 view .LVU612
 1957 00a2 0027     		movs	r7, #0
 1958 00a4 CDF814B0 		str	fp, [sp, #20]
 1959 00a8 AB46     		mov	fp, r5
 1960              		.loc 1 1091 9 view .LVU613
 1961 00aa 10E0     		b	.L135
 1962              	.LVL170:
 1963              	.L137:
 1964              	.LBB145:
1092:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         {
1093:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           uint16_t const remaining_bytes = (in_ep[n].DIEPTSIZ & USB_OTG_DIEPTSIZ_XFRSIZ_Msk) >> USB
1094:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1095:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Packet can not be larger than ep max size
1096:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           uint16_t const packet_size = tu_min16(remaining_bytes, xfer->max_size);
ARM GAS  /tmp/ccOP5HA3.s 			page 76


1097:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1098:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // It's only possible to write full packets into FIFO. Therefore DTXFSTS register of curr
1099:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // EP has to be checked if the buffer can take another WHOLE packet
1100:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           if(packet_size > ((in_ep[n].DTXFSTS & USB_OTG_DTXFSTS_INEPTFSAV_Msk) << 2)) break;
1101:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1102:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           // Push packet to Tx-FIFO
1103:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           if (xfer->ff)
1104:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           {
1105:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****             usb_fifo_t tx_fifo = FIFO_BASE(rhport, n);
1106:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****             tu_fifo_read_n_const_addr_full_words(xfer->ff, (void *)(uintptr_t) tx_fifo, packet_size
1107:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           }
1108:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           else
1109:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           {
1110:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****             write_fifo_packet(rhport, n, xfer->buffer, packet_size);
 1965              		.loc 1 1110 13 is_stmt 1 view .LVU614
 1966 00ac 204B     		ldr	r3, .L144
 1967 00ae 03EB4819 		add	r9, r3, r8, lsl #5
 1968 00b2 2B46     		mov	r3, r5
 1969 00b4 D9F81020 		ldr	r2, [r9, #16]
 1970 00b8 2146     		mov	r1, r4
 1971 00ba 0398     		ldr	r0, [sp, #12]
 1972 00bc FFF7FEFF 		bl	write_fifo_packet
 1973              	.LVL171:
1111:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1112:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****             // Increment pointer to xfer data
1113:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****             xfer->buffer += packet_size;
 1974              		.loc 1 1113 13 view .LVU615
 1975              		.loc 1 1113 26 is_stmt 0 view .LVU616
 1976 00c0 D9F81030 		ldr	r3, [r9, #16]
 1977 00c4 2B44     		add	r3, r3, r5
 1978 00c6 C9F81030 		str	r3, [r9, #16]
 1979              	.L138:
 1980              		.loc 1 1113 26 view .LVU617
 1981              	.LBE145:
1091:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         {
 1982              		.loc 1 1091 52 is_stmt 1 discriminator 2 view .LVU618
1091:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         {
 1983              		.loc 1 1091 53 is_stmt 0 discriminator 2 view .LVU619
 1984 00ca 0137     		adds	r7, r7, #1
 1985              	.LVL172:
1091:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         {
 1986              		.loc 1 1091 53 discriminator 2 view .LVU620
 1987 00cc BFB2     		uxth	r7, r7
 1988              	.LVL173:
 1989              	.L135:
1091:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         {
 1990              		.loc 1 1091 29 is_stmt 1 discriminator 1 view .LVU621
1091:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         {
 1991              		.loc 1 1091 9 is_stmt 0 discriminator 1 view .LVU622
 1992 00ce 5745     		cmp	r7, r10
 1993 00d0 1CD2     		bcs	.L136
 1994              	.LBB149:
1093:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1995              		.loc 1 1093 11 is_stmt 1 view .LVU623
1093:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1996              		.loc 1 1093 53 is_stmt 0 view .LVU624
 1997 00d2 3369     		ldr	r3, [r6, #16]
ARM GAS  /tmp/ccOP5HA3.s 			page 77


1093:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 1998              		.loc 1 1093 26 view .LVU625
 1999 00d4 9BB2     		uxth	r3, r3
 2000              	.LVL174:
1096:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2001              		.loc 1 1096 11 is_stmt 1 view .LVU626
1096:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2002              		.loc 1 1096 40 is_stmt 0 view .LVU627
 2003 00d6 164A     		ldr	r2, .L144
 2004 00d8 02EB4812 		add	r2, r2, r8, lsl #5
 2005 00dc 558B     		ldrh	r5, [r2, #26]
 2006              	.LVL175:
 2007              	.LBB146:
 2008              	.LBI146:
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 2009              		.loc 2 149 46 is_stmt 1 view .LVU628
 2010              	.LBB147:
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 2011              		.loc 2 149 82 view .LVU629
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 2012              		.loc 2 149 101 is_stmt 0 view .LVU630
 2013 00de 9D42     		cmp	r5, r3
 2014 00e0 28BF     		it	cs
 2015 00e2 1D46     		movcs	r5, r3
 2016              	.LVL176:
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 2017              		.loc 2 149 101 view .LVU631
 2018              	.LBE147:
 2019              	.LBE146:
1100:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2020              		.loc 1 1100 11 is_stmt 1 view .LVU632
1100:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2021              		.loc 1 1100 38 is_stmt 0 view .LVU633
 2022 00e4 B269     		ldr	r2, [r6, #24]
1100:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2023              		.loc 1 1100 80 view .LVU634
 2024 00e6 144B     		ldr	r3, .L144+8
 2025              	.LVL177:
1100:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2026              		.loc 1 1100 80 view .LVU635
 2027 00e8 03EA8203 		and	r3, r3, r2, lsl #2
1100:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2028              		.loc 1 1100 13 view .LVU636
 2029 00ec 9D42     		cmp	r5, r3
 2030 00ee 0DD8     		bhi	.L136
1103:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           {
 2031              		.loc 1 1103 11 is_stmt 1 view .LVU637
1103:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           {
 2032              		.loc 1 1103 19 is_stmt 0 view .LVU638
 2033 00f0 0F4B     		ldr	r3, .L144
 2034 00f2 03EB4813 		add	r3, r3, r8, lsl #5
 2035 00f6 5869     		ldr	r0, [r3, #20]
1103:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           {
 2036              		.loc 1 1103 14 view .LVU639
 2037 00f8 0028     		cmp	r0, #0
 2038 00fa D7D0     		beq	.L137
 2039              	.LBB148:
ARM GAS  /tmp/ccOP5HA3.s 			page 78


1105:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****             tu_fifo_read_n_const_addr_full_words(xfer->ff, (void *)(uintptr_t) tx_fifo, packet_size
 2040              		.loc 1 1105 13 is_stmt 1 view .LVU640
1105:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****             tu_fifo_read_n_const_addr_full_words(xfer->ff, (void *)(uintptr_t) tx_fifo, packet_size
 2041              		.loc 1 1105 34 is_stmt 0 view .LVU641
 2042 00fc 0BF5A021 		add	r1, fp, #327680
 2043 0100 0131     		adds	r1, r1, #1
 2044              	.LVL178:
1106:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           }
 2045              		.loc 1 1106 13 is_stmt 1 view .LVU642
 2046 0102 2A46     		mov	r2, r5
 2047 0104 0903     		lsls	r1, r1, #12
 2048              	.LVL179:
1106:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           }
 2049              		.loc 1 1106 13 is_stmt 0 view .LVU643
 2050 0106 FFF7FEFF 		bl	tu_fifo_read_n_const_addr_full_words
 2051              	.LVL180:
1106:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           }
 2052              		.loc 1 1106 13 view .LVU644
 2053              	.LBE148:
 2054 010a DEE7     		b	.L138
 2055              	.LVL181:
 2056              	.L136:
1106:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           }
 2057              		.loc 1 1106 13 view .LVU645
 2058              	.LBE149:
 2059              	.LBE144:
1114:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           }
1115:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         }
1116:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1117:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         // Turn off TXFE if all bytes are written.
1118:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         if (((in_ep[n].DIEPTSIZ & USB_OTG_DIEPTSIZ_XFRSIZ_Msk) >> USB_OTG_DIEPTSIZ_XFRSIZ_Pos) == 0
 2060              		.loc 1 1118 23 view .LVU646
 2061 010c DDF814B0 		ldr	fp, [sp, #20]
 2062              		.loc 1 1118 9 is_stmt 1 view .LVU647
 2063              		.loc 1 1118 23 is_stmt 0 view .LVU648
 2064 0110 3369     		ldr	r3, [r6, #16]
 2065              		.loc 1 1118 64 view .LVU649
 2066 0112 C3F31203 		ubfx	r3, r3, #0, #19
 2067              		.loc 1 1118 12 view .LVU650
 2068 0116 002B     		cmp	r3, #0
 2069 0118 9DD1     		bne	.L132
1119:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         {
1120:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****           dev->DIEPEMPMSK &= ~(1 << n);
 2070              		.loc 1 1120 11 is_stmt 1 view .LVU651
 2071              		.loc 1 1120 27 is_stmt 0 view .LVU652
 2072 011a DBF83430 		ldr	r3, [fp, #52]
 2073 011e 049A     		ldr	r2, [sp, #16]
 2074 0120 23EA0203 		bic	r3, r3, r2
 2075 0124 CBF83430 		str	r3, [fp, #52]
 2076 0128 95E7     		b	.L132
 2077              	.LVL182:
 2078              	.L143:
 2079              		.loc 1 1120 27 view .LVU653
 2080              	.LBE143:
 2081              	.LBE150:
 2082              	.LBE139:
1121:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         }
ARM GAS  /tmp/ccOP5HA3.s 			page 79


1122:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       }
1123:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
1124:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1125:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2083              		.loc 1 1125 1 view .LVU654
 2084 012a 0BB0     		add	sp, sp, #44
 2085              	.LCFI14:
 2086              		.cfi_def_cfa_offset 36
 2087              		@ sp needed
 2088 012c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2089              	.LVL183:
 2090              	.L145:
 2091              		.loc 1 1125 1 view .LVU655
 2092              		.align	2
 2093              	.L144:
 2094 0130 00000000 		.word	.LANCHOR0
 2095 0134 00000000 		.word	.LANCHOR1
 2096 0138 FCFF0300 		.word	262140
 2097              		.cfi_endproc
 2098              	.LFE223:
 2100              		.section	.text.dcd_int_enable,"ax",%progbits
 2101              		.align	1
 2102              		.global	dcd_int_enable
 2103              		.syntax unified
 2104              		.thumb
 2105              		.thumb_func
 2106              		.fpu fpv4-sp-d16
 2108              	dcd_int_enable:
 2109              	.LVL184:
 2110              	.LFB203:
 541:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2111              		.loc 1 541 1 is_stmt 1 view -0
 2112              		.cfi_startproc
 2113              		@ args = 0, pretend = 0, frame = 0
 2114              		@ frame_needed = 0, uses_anonymous_args = 0
 2115              		@ link register save eliminated.
 542:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   NVIC_EnableIRQ(RHPORT_IRQn);
 2116              		.loc 1 542 3 view .LVU657
 543:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2117              		.loc 1 543 3 view .LVU658
 2118              	.LBB151:
 2119              	.LBI151:
 2120              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
   1:Drivers/CMSIS/Include/core_cm4.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/core_cm4.h ****  * @file     core_cm4.h
   3:Drivers/CMSIS/Include/core_cm4.h ****  * @brief    CMSIS Cortex-M4 Core Peripheral Access Layer Header File
   4:Drivers/CMSIS/Include/core_cm4.h ****  * @version  V5.1.0
   5:Drivers/CMSIS/Include/core_cm4.h ****  * @date     13. March 2019
   6:Drivers/CMSIS/Include/core_cm4.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/core_cm4.h **** /*
   8:Drivers/CMSIS/Include/core_cm4.h ****  * Copyright (c) 2009-2019 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/core_cm4.h ****  *
  10:Drivers/CMSIS/Include/core_cm4.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/core_cm4.h ****  *
  12:Drivers/CMSIS/Include/core_cm4.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/core_cm4.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/core_cm4.h ****  * You may obtain a copy of the License at
ARM GAS  /tmp/ccOP5HA3.s 			page 80


  15:Drivers/CMSIS/Include/core_cm4.h ****  *
  16:Drivers/CMSIS/Include/core_cm4.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/core_cm4.h ****  *
  18:Drivers/CMSIS/Include/core_cm4.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/core_cm4.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/core_cm4.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/core_cm4.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/core_cm4.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/core_cm4.h ****  */
  24:Drivers/CMSIS/Include/core_cm4.h **** 
  25:Drivers/CMSIS/Include/core_cm4.h **** #if   defined ( __ICCARM__ )
  26:Drivers/CMSIS/Include/core_cm4.h ****   #pragma system_include         /* treat file as system include file for MISRA check */
  27:Drivers/CMSIS/Include/core_cm4.h **** #elif defined (__clang__)
  28:Drivers/CMSIS/Include/core_cm4.h ****   #pragma clang system_header   /* treat file as system include file */
  29:Drivers/CMSIS/Include/core_cm4.h **** #endif
  30:Drivers/CMSIS/Include/core_cm4.h **** 
  31:Drivers/CMSIS/Include/core_cm4.h **** #ifndef __CORE_CM4_H_GENERIC
  32:Drivers/CMSIS/Include/core_cm4.h **** #define __CORE_CM4_H_GENERIC
  33:Drivers/CMSIS/Include/core_cm4.h **** 
  34:Drivers/CMSIS/Include/core_cm4.h **** #include <stdint.h>
  35:Drivers/CMSIS/Include/core_cm4.h **** 
  36:Drivers/CMSIS/Include/core_cm4.h **** #ifdef __cplusplus
  37:Drivers/CMSIS/Include/core_cm4.h ****  extern "C" {
  38:Drivers/CMSIS/Include/core_cm4.h **** #endif
  39:Drivers/CMSIS/Include/core_cm4.h **** 
  40:Drivers/CMSIS/Include/core_cm4.h **** /**
  41:Drivers/CMSIS/Include/core_cm4.h ****   \page CMSIS_MISRA_Exceptions  MISRA-C:2004 Compliance Exceptions
  42:Drivers/CMSIS/Include/core_cm4.h ****   CMSIS violates the following MISRA-C:2004 rules:
  43:Drivers/CMSIS/Include/core_cm4.h **** 
  44:Drivers/CMSIS/Include/core_cm4.h ****    \li Required Rule 8.5, object/function definition in header file.<br>
  45:Drivers/CMSIS/Include/core_cm4.h ****      Function definitions in header files are used to allow 'inlining'.
  46:Drivers/CMSIS/Include/core_cm4.h **** 
  47:Drivers/CMSIS/Include/core_cm4.h ****    \li Required Rule 18.4, declaration of union type or object of union type: '{...}'.<br>
  48:Drivers/CMSIS/Include/core_cm4.h ****      Unions are used for effective representation of core registers.
  49:Drivers/CMSIS/Include/core_cm4.h **** 
  50:Drivers/CMSIS/Include/core_cm4.h ****    \li Advisory Rule 19.7, Function-like macro defined.<br>
  51:Drivers/CMSIS/Include/core_cm4.h ****      Function-like macros are used to allow more efficient code.
  52:Drivers/CMSIS/Include/core_cm4.h ****  */
  53:Drivers/CMSIS/Include/core_cm4.h **** 
  54:Drivers/CMSIS/Include/core_cm4.h **** 
  55:Drivers/CMSIS/Include/core_cm4.h **** /*******************************************************************************
  56:Drivers/CMSIS/Include/core_cm4.h ****  *                 CMSIS definitions
  57:Drivers/CMSIS/Include/core_cm4.h ****  ******************************************************************************/
  58:Drivers/CMSIS/Include/core_cm4.h **** /**
  59:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup Cortex_M4
  60:Drivers/CMSIS/Include/core_cm4.h ****   @{
  61:Drivers/CMSIS/Include/core_cm4.h ****  */
  62:Drivers/CMSIS/Include/core_cm4.h **** 
  63:Drivers/CMSIS/Include/core_cm4.h **** #include "cmsis_version.h"
  64:Drivers/CMSIS/Include/core_cm4.h **** 
  65:Drivers/CMSIS/Include/core_cm4.h **** /* CMSIS CM4 definitions */
  66:Drivers/CMSIS/Include/core_cm4.h **** #define __CM4_CMSIS_VERSION_MAIN  (__CM_CMSIS_VERSION_MAIN)              /*!< \deprecated [31:16] C
  67:Drivers/CMSIS/Include/core_cm4.h **** #define __CM4_CMSIS_VERSION_SUB   (__CM_CMSIS_VERSION_SUB)               /*!< \deprecated [15:0]  C
  68:Drivers/CMSIS/Include/core_cm4.h **** #define __CM4_CMSIS_VERSION       ((__CM4_CMSIS_VERSION_MAIN << 16U) | \
  69:Drivers/CMSIS/Include/core_cm4.h ****                                     __CM4_CMSIS_VERSION_SUB           )  /*!< \deprecated CMSIS HAL
  70:Drivers/CMSIS/Include/core_cm4.h **** 
  71:Drivers/CMSIS/Include/core_cm4.h **** #define __CORTEX_M                (4U)                                   /*!< Cortex-M Core */
ARM GAS  /tmp/ccOP5HA3.s 			page 81


  72:Drivers/CMSIS/Include/core_cm4.h **** 
  73:Drivers/CMSIS/Include/core_cm4.h **** /** __FPU_USED indicates whether an FPU is used or not.
  74:Drivers/CMSIS/Include/core_cm4.h ****     For this, __FPU_PRESENT has to be checked prior to making use of FPU specific registers and fun
  75:Drivers/CMSIS/Include/core_cm4.h **** */
  76:Drivers/CMSIS/Include/core_cm4.h **** #if defined ( __CC_ARM )
  77:Drivers/CMSIS/Include/core_cm4.h ****   #if defined __TARGET_FPU_VFP
  78:Drivers/CMSIS/Include/core_cm4.h ****     #if defined (__FPU_PRESENT) && (__FPU_PRESENT == 1U)
  79:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       1U
  80:Drivers/CMSIS/Include/core_cm4.h ****     #else
  81:Drivers/CMSIS/Include/core_cm4.h ****       #error "Compiler generates FPU instructions for a device without an FPU (check __FPU_PRESENT)
  82:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       0U
  83:Drivers/CMSIS/Include/core_cm4.h ****     #endif
  84:Drivers/CMSIS/Include/core_cm4.h ****   #else
  85:Drivers/CMSIS/Include/core_cm4.h ****     #define __FPU_USED         0U
  86:Drivers/CMSIS/Include/core_cm4.h ****   #endif
  87:Drivers/CMSIS/Include/core_cm4.h **** 
  88:Drivers/CMSIS/Include/core_cm4.h **** #elif defined (__ARMCC_VERSION) && (__ARMCC_VERSION >= 6010050)
  89:Drivers/CMSIS/Include/core_cm4.h ****   #if defined __ARM_FP
  90:Drivers/CMSIS/Include/core_cm4.h ****     #if defined (__FPU_PRESENT) && (__FPU_PRESENT == 1U)
  91:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       1U
  92:Drivers/CMSIS/Include/core_cm4.h ****     #else
  93:Drivers/CMSIS/Include/core_cm4.h ****       #warning "Compiler generates FPU instructions for a device without an FPU (check __FPU_PRESEN
  94:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       0U
  95:Drivers/CMSIS/Include/core_cm4.h ****     #endif
  96:Drivers/CMSIS/Include/core_cm4.h ****   #else
  97:Drivers/CMSIS/Include/core_cm4.h ****     #define __FPU_USED         0U
  98:Drivers/CMSIS/Include/core_cm4.h ****   #endif
  99:Drivers/CMSIS/Include/core_cm4.h **** 
 100:Drivers/CMSIS/Include/core_cm4.h **** #elif defined ( __GNUC__ )
 101:Drivers/CMSIS/Include/core_cm4.h ****   #if defined (__VFP_FP__) && !defined(__SOFTFP__)
 102:Drivers/CMSIS/Include/core_cm4.h ****     #if defined (__FPU_PRESENT) && (__FPU_PRESENT == 1U)
 103:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       1U
 104:Drivers/CMSIS/Include/core_cm4.h ****     #else
 105:Drivers/CMSIS/Include/core_cm4.h ****       #error "Compiler generates FPU instructions for a device without an FPU (check __FPU_PRESENT)
 106:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       0U
 107:Drivers/CMSIS/Include/core_cm4.h ****     #endif
 108:Drivers/CMSIS/Include/core_cm4.h ****   #else
 109:Drivers/CMSIS/Include/core_cm4.h ****     #define __FPU_USED         0U
 110:Drivers/CMSIS/Include/core_cm4.h ****   #endif
 111:Drivers/CMSIS/Include/core_cm4.h **** 
 112:Drivers/CMSIS/Include/core_cm4.h **** #elif defined ( __ICCARM__ )
 113:Drivers/CMSIS/Include/core_cm4.h ****   #if defined __ARMVFP__
 114:Drivers/CMSIS/Include/core_cm4.h ****     #if defined (__FPU_PRESENT) && (__FPU_PRESENT == 1U)
 115:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       1U
 116:Drivers/CMSIS/Include/core_cm4.h ****     #else
 117:Drivers/CMSIS/Include/core_cm4.h ****       #error "Compiler generates FPU instructions for a device without an FPU (check __FPU_PRESENT)
 118:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       0U
 119:Drivers/CMSIS/Include/core_cm4.h ****     #endif
 120:Drivers/CMSIS/Include/core_cm4.h ****   #else
 121:Drivers/CMSIS/Include/core_cm4.h ****     #define __FPU_USED         0U
 122:Drivers/CMSIS/Include/core_cm4.h ****   #endif
 123:Drivers/CMSIS/Include/core_cm4.h **** 
 124:Drivers/CMSIS/Include/core_cm4.h **** #elif defined ( __TI_ARM__ )
 125:Drivers/CMSIS/Include/core_cm4.h ****   #if defined __TI_VFP_SUPPORT__
 126:Drivers/CMSIS/Include/core_cm4.h ****     #if defined (__FPU_PRESENT) && (__FPU_PRESENT == 1U)
 127:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       1U
 128:Drivers/CMSIS/Include/core_cm4.h ****     #else
ARM GAS  /tmp/ccOP5HA3.s 			page 82


 129:Drivers/CMSIS/Include/core_cm4.h ****       #error "Compiler generates FPU instructions for a device without an FPU (check __FPU_PRESENT)
 130:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       0U
 131:Drivers/CMSIS/Include/core_cm4.h ****     #endif
 132:Drivers/CMSIS/Include/core_cm4.h ****   #else
 133:Drivers/CMSIS/Include/core_cm4.h ****     #define __FPU_USED         0U
 134:Drivers/CMSIS/Include/core_cm4.h ****   #endif
 135:Drivers/CMSIS/Include/core_cm4.h **** 
 136:Drivers/CMSIS/Include/core_cm4.h **** #elif defined ( __TASKING__ )
 137:Drivers/CMSIS/Include/core_cm4.h ****   #if defined __FPU_VFP__
 138:Drivers/CMSIS/Include/core_cm4.h ****     #if defined (__FPU_PRESENT) && (__FPU_PRESENT == 1U)
 139:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       1U
 140:Drivers/CMSIS/Include/core_cm4.h ****     #else
 141:Drivers/CMSIS/Include/core_cm4.h ****       #error "Compiler generates FPU instructions for a device without an FPU (check __FPU_PRESENT)
 142:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       0U
 143:Drivers/CMSIS/Include/core_cm4.h ****     #endif
 144:Drivers/CMSIS/Include/core_cm4.h ****   #else
 145:Drivers/CMSIS/Include/core_cm4.h ****     #define __FPU_USED         0U
 146:Drivers/CMSIS/Include/core_cm4.h ****   #endif
 147:Drivers/CMSIS/Include/core_cm4.h **** 
 148:Drivers/CMSIS/Include/core_cm4.h **** #elif defined ( __CSMC__ )
 149:Drivers/CMSIS/Include/core_cm4.h ****   #if ( __CSMC__ & 0x400U)
 150:Drivers/CMSIS/Include/core_cm4.h ****     #if defined (__FPU_PRESENT) && (__FPU_PRESENT == 1U)
 151:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       1U
 152:Drivers/CMSIS/Include/core_cm4.h ****     #else
 153:Drivers/CMSIS/Include/core_cm4.h ****       #error "Compiler generates FPU instructions for a device without an FPU (check __FPU_PRESENT)
 154:Drivers/CMSIS/Include/core_cm4.h ****       #define __FPU_USED       0U
 155:Drivers/CMSIS/Include/core_cm4.h ****     #endif
 156:Drivers/CMSIS/Include/core_cm4.h ****   #else
 157:Drivers/CMSIS/Include/core_cm4.h ****     #define __FPU_USED         0U
 158:Drivers/CMSIS/Include/core_cm4.h ****   #endif
 159:Drivers/CMSIS/Include/core_cm4.h **** 
 160:Drivers/CMSIS/Include/core_cm4.h **** #endif
 161:Drivers/CMSIS/Include/core_cm4.h **** 
 162:Drivers/CMSIS/Include/core_cm4.h **** #include "cmsis_compiler.h"               /* CMSIS compiler specific defines */
 163:Drivers/CMSIS/Include/core_cm4.h **** 
 164:Drivers/CMSIS/Include/core_cm4.h **** 
 165:Drivers/CMSIS/Include/core_cm4.h **** #ifdef __cplusplus
 166:Drivers/CMSIS/Include/core_cm4.h **** }
 167:Drivers/CMSIS/Include/core_cm4.h **** #endif
 168:Drivers/CMSIS/Include/core_cm4.h **** 
 169:Drivers/CMSIS/Include/core_cm4.h **** #endif /* __CORE_CM4_H_GENERIC */
 170:Drivers/CMSIS/Include/core_cm4.h **** 
 171:Drivers/CMSIS/Include/core_cm4.h **** #ifndef __CMSIS_GENERIC
 172:Drivers/CMSIS/Include/core_cm4.h **** 
 173:Drivers/CMSIS/Include/core_cm4.h **** #ifndef __CORE_CM4_H_DEPENDANT
 174:Drivers/CMSIS/Include/core_cm4.h **** #define __CORE_CM4_H_DEPENDANT
 175:Drivers/CMSIS/Include/core_cm4.h **** 
 176:Drivers/CMSIS/Include/core_cm4.h **** #ifdef __cplusplus
 177:Drivers/CMSIS/Include/core_cm4.h ****  extern "C" {
 178:Drivers/CMSIS/Include/core_cm4.h **** #endif
 179:Drivers/CMSIS/Include/core_cm4.h **** 
 180:Drivers/CMSIS/Include/core_cm4.h **** /* check device defines and use defaults */
 181:Drivers/CMSIS/Include/core_cm4.h **** #if defined __CHECK_DEVICE_DEFINES
 182:Drivers/CMSIS/Include/core_cm4.h ****   #ifndef __CM4_REV
 183:Drivers/CMSIS/Include/core_cm4.h ****     #define __CM4_REV               0x0000U
 184:Drivers/CMSIS/Include/core_cm4.h ****     #warning "__CM4_REV not defined in device header file; using default!"
 185:Drivers/CMSIS/Include/core_cm4.h ****   #endif
ARM GAS  /tmp/ccOP5HA3.s 			page 83


 186:Drivers/CMSIS/Include/core_cm4.h **** 
 187:Drivers/CMSIS/Include/core_cm4.h ****   #ifndef __FPU_PRESENT
 188:Drivers/CMSIS/Include/core_cm4.h ****     #define __FPU_PRESENT             0U
 189:Drivers/CMSIS/Include/core_cm4.h ****     #warning "__FPU_PRESENT not defined in device header file; using default!"
 190:Drivers/CMSIS/Include/core_cm4.h ****   #endif
 191:Drivers/CMSIS/Include/core_cm4.h **** 
 192:Drivers/CMSIS/Include/core_cm4.h ****   #ifndef __MPU_PRESENT
 193:Drivers/CMSIS/Include/core_cm4.h ****     #define __MPU_PRESENT             0U
 194:Drivers/CMSIS/Include/core_cm4.h ****     #warning "__MPU_PRESENT not defined in device header file; using default!"
 195:Drivers/CMSIS/Include/core_cm4.h ****   #endif
 196:Drivers/CMSIS/Include/core_cm4.h **** 
 197:Drivers/CMSIS/Include/core_cm4.h ****   #ifndef __NVIC_PRIO_BITS
 198:Drivers/CMSIS/Include/core_cm4.h ****     #define __NVIC_PRIO_BITS          3U
 199:Drivers/CMSIS/Include/core_cm4.h ****     #warning "__NVIC_PRIO_BITS not defined in device header file; using default!"
 200:Drivers/CMSIS/Include/core_cm4.h ****   #endif
 201:Drivers/CMSIS/Include/core_cm4.h **** 
 202:Drivers/CMSIS/Include/core_cm4.h ****   #ifndef __Vendor_SysTickConfig
 203:Drivers/CMSIS/Include/core_cm4.h ****     #define __Vendor_SysTickConfig    0U
 204:Drivers/CMSIS/Include/core_cm4.h ****     #warning "__Vendor_SysTickConfig not defined in device header file; using default!"
 205:Drivers/CMSIS/Include/core_cm4.h ****   #endif
 206:Drivers/CMSIS/Include/core_cm4.h **** #endif
 207:Drivers/CMSIS/Include/core_cm4.h **** 
 208:Drivers/CMSIS/Include/core_cm4.h **** /* IO definitions (access restrictions to peripheral registers) */
 209:Drivers/CMSIS/Include/core_cm4.h **** /**
 210:Drivers/CMSIS/Include/core_cm4.h ****     \defgroup CMSIS_glob_defs CMSIS Global Defines
 211:Drivers/CMSIS/Include/core_cm4.h **** 
 212:Drivers/CMSIS/Include/core_cm4.h ****     <strong>IO Type Qualifiers</strong> are used
 213:Drivers/CMSIS/Include/core_cm4.h ****     \li to specify the access to peripheral variables.
 214:Drivers/CMSIS/Include/core_cm4.h ****     \li for automatic generation of peripheral register debug information.
 215:Drivers/CMSIS/Include/core_cm4.h **** */
 216:Drivers/CMSIS/Include/core_cm4.h **** #ifdef __cplusplus
 217:Drivers/CMSIS/Include/core_cm4.h ****   #define   __I     volatile             /*!< Defines 'read only' permissions */
 218:Drivers/CMSIS/Include/core_cm4.h **** #else
 219:Drivers/CMSIS/Include/core_cm4.h ****   #define   __I     volatile const       /*!< Defines 'read only' permissions */
 220:Drivers/CMSIS/Include/core_cm4.h **** #endif
 221:Drivers/CMSIS/Include/core_cm4.h **** #define     __O     volatile             /*!< Defines 'write only' permissions */
 222:Drivers/CMSIS/Include/core_cm4.h **** #define     __IO    volatile             /*!< Defines 'read / write' permissions */
 223:Drivers/CMSIS/Include/core_cm4.h **** 
 224:Drivers/CMSIS/Include/core_cm4.h **** /* following defines should be used for structure members */
 225:Drivers/CMSIS/Include/core_cm4.h **** #define     __IM     volatile const      /*! Defines 'read only' structure member permissions */
 226:Drivers/CMSIS/Include/core_cm4.h **** #define     __OM     volatile            /*! Defines 'write only' structure member permissions */
 227:Drivers/CMSIS/Include/core_cm4.h **** #define     __IOM    volatile            /*! Defines 'read / write' structure member permissions */
 228:Drivers/CMSIS/Include/core_cm4.h **** 
 229:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group Cortex_M4 */
 230:Drivers/CMSIS/Include/core_cm4.h **** 
 231:Drivers/CMSIS/Include/core_cm4.h **** 
 232:Drivers/CMSIS/Include/core_cm4.h **** 
 233:Drivers/CMSIS/Include/core_cm4.h **** /*******************************************************************************
 234:Drivers/CMSIS/Include/core_cm4.h ****  *                 Register Abstraction
 235:Drivers/CMSIS/Include/core_cm4.h ****   Core Register contain:
 236:Drivers/CMSIS/Include/core_cm4.h ****   - Core Register
 237:Drivers/CMSIS/Include/core_cm4.h ****   - Core NVIC Register
 238:Drivers/CMSIS/Include/core_cm4.h ****   - Core SCB Register
 239:Drivers/CMSIS/Include/core_cm4.h ****   - Core SysTick Register
 240:Drivers/CMSIS/Include/core_cm4.h ****   - Core Debug Register
 241:Drivers/CMSIS/Include/core_cm4.h ****   - Core MPU Register
 242:Drivers/CMSIS/Include/core_cm4.h ****   - Core FPU Register
ARM GAS  /tmp/ccOP5HA3.s 			page 84


 243:Drivers/CMSIS/Include/core_cm4.h ****  ******************************************************************************/
 244:Drivers/CMSIS/Include/core_cm4.h **** /**
 245:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_core_register Defines and Type Definitions
 246:Drivers/CMSIS/Include/core_cm4.h ****   \brief Type definitions and defines for Cortex-M processor based devices.
 247:Drivers/CMSIS/Include/core_cm4.h **** */
 248:Drivers/CMSIS/Include/core_cm4.h **** 
 249:Drivers/CMSIS/Include/core_cm4.h **** /**
 250:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup    CMSIS_core_register
 251:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup   CMSIS_CORE  Status and Control Registers
 252:Drivers/CMSIS/Include/core_cm4.h ****   \brief      Core Register type definitions.
 253:Drivers/CMSIS/Include/core_cm4.h ****   @{
 254:Drivers/CMSIS/Include/core_cm4.h ****  */
 255:Drivers/CMSIS/Include/core_cm4.h **** 
 256:Drivers/CMSIS/Include/core_cm4.h **** /**
 257:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Union type to access the Application Program Status Register (APSR).
 258:Drivers/CMSIS/Include/core_cm4.h ****  */
 259:Drivers/CMSIS/Include/core_cm4.h **** typedef union
 260:Drivers/CMSIS/Include/core_cm4.h **** {
 261:Drivers/CMSIS/Include/core_cm4.h ****   struct
 262:Drivers/CMSIS/Include/core_cm4.h ****   {
 263:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t _reserved0:16;              /*!< bit:  0..15  Reserved */
 264:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t GE:4;                       /*!< bit: 16..19  Greater than or Equal flags */
 265:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t _reserved1:7;               /*!< bit: 20..26  Reserved */
 266:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t Q:1;                        /*!< bit:     27  Saturation condition flag */
 267:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t V:1;                        /*!< bit:     28  Overflow condition code flag */
 268:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t C:1;                        /*!< bit:     29  Carry condition code flag */
 269:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t Z:1;                        /*!< bit:     30  Zero condition code flag */
 270:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t N:1;                        /*!< bit:     31  Negative condition code flag */
 271:Drivers/CMSIS/Include/core_cm4.h ****   } b;                                   /*!< Structure used for bit  access */
 272:Drivers/CMSIS/Include/core_cm4.h ****   uint32_t w;                            /*!< Type      used for word access */
 273:Drivers/CMSIS/Include/core_cm4.h **** } APSR_Type;
 274:Drivers/CMSIS/Include/core_cm4.h **** 
 275:Drivers/CMSIS/Include/core_cm4.h **** /* APSR Register Definitions */
 276:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_N_Pos                         31U                                            /*!< APSR
 277:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_N_Msk                         (1UL << APSR_N_Pos)                            /*!< APSR
 278:Drivers/CMSIS/Include/core_cm4.h **** 
 279:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_Z_Pos                         30U                                            /*!< APSR
 280:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_Z_Msk                         (1UL << APSR_Z_Pos)                            /*!< APSR
 281:Drivers/CMSIS/Include/core_cm4.h **** 
 282:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_C_Pos                         29U                                            /*!< APSR
 283:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_C_Msk                         (1UL << APSR_C_Pos)                            /*!< APSR
 284:Drivers/CMSIS/Include/core_cm4.h **** 
 285:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_V_Pos                         28U                                            /*!< APSR
 286:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_V_Msk                         (1UL << APSR_V_Pos)                            /*!< APSR
 287:Drivers/CMSIS/Include/core_cm4.h **** 
 288:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_Q_Pos                         27U                                            /*!< APSR
 289:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_Q_Msk                         (1UL << APSR_Q_Pos)                            /*!< APSR
 290:Drivers/CMSIS/Include/core_cm4.h **** 
 291:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_GE_Pos                        16U                                            /*!< APSR
 292:Drivers/CMSIS/Include/core_cm4.h **** #define APSR_GE_Msk                        (0xFUL << APSR_GE_Pos)                         /*!< APSR
 293:Drivers/CMSIS/Include/core_cm4.h **** 
 294:Drivers/CMSIS/Include/core_cm4.h **** 
 295:Drivers/CMSIS/Include/core_cm4.h **** /**
 296:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Union type to access the Interrupt Program Status Register (IPSR).
 297:Drivers/CMSIS/Include/core_cm4.h ****  */
 298:Drivers/CMSIS/Include/core_cm4.h **** typedef union
 299:Drivers/CMSIS/Include/core_cm4.h **** {
ARM GAS  /tmp/ccOP5HA3.s 			page 85


 300:Drivers/CMSIS/Include/core_cm4.h ****   struct
 301:Drivers/CMSIS/Include/core_cm4.h ****   {
 302:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t ISR:9;                      /*!< bit:  0.. 8  Exception number */
 303:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t _reserved0:23;              /*!< bit:  9..31  Reserved */
 304:Drivers/CMSIS/Include/core_cm4.h ****   } b;                                   /*!< Structure used for bit  access */
 305:Drivers/CMSIS/Include/core_cm4.h ****   uint32_t w;                            /*!< Type      used for word access */
 306:Drivers/CMSIS/Include/core_cm4.h **** } IPSR_Type;
 307:Drivers/CMSIS/Include/core_cm4.h **** 
 308:Drivers/CMSIS/Include/core_cm4.h **** /* IPSR Register Definitions */
 309:Drivers/CMSIS/Include/core_cm4.h **** #define IPSR_ISR_Pos                        0U                                            /*!< IPSR
 310:Drivers/CMSIS/Include/core_cm4.h **** #define IPSR_ISR_Msk                       (0x1FFUL /*<< IPSR_ISR_Pos*/)                  /*!< IPSR
 311:Drivers/CMSIS/Include/core_cm4.h **** 
 312:Drivers/CMSIS/Include/core_cm4.h **** 
 313:Drivers/CMSIS/Include/core_cm4.h **** /**
 314:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Union type to access the Special-Purpose Program Status Registers (xPSR).
 315:Drivers/CMSIS/Include/core_cm4.h ****  */
 316:Drivers/CMSIS/Include/core_cm4.h **** typedef union
 317:Drivers/CMSIS/Include/core_cm4.h **** {
 318:Drivers/CMSIS/Include/core_cm4.h ****   struct
 319:Drivers/CMSIS/Include/core_cm4.h ****   {
 320:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t ISR:9;                      /*!< bit:  0.. 8  Exception number */
 321:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t _reserved0:1;               /*!< bit:      9  Reserved */
 322:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t ICI_IT_1:6;                 /*!< bit: 10..15  ICI/IT part 1 */
 323:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t GE:4;                       /*!< bit: 16..19  Greater than or Equal flags */
 324:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t _reserved1:4;               /*!< bit: 20..23  Reserved */
 325:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t T:1;                        /*!< bit:     24  Thumb bit */
 326:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t ICI_IT_2:2;                 /*!< bit: 25..26  ICI/IT part 2 */
 327:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t Q:1;                        /*!< bit:     27  Saturation condition flag */
 328:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t V:1;                        /*!< bit:     28  Overflow condition code flag */
 329:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t C:1;                        /*!< bit:     29  Carry condition code flag */
 330:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t Z:1;                        /*!< bit:     30  Zero condition code flag */
 331:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t N:1;                        /*!< bit:     31  Negative condition code flag */
 332:Drivers/CMSIS/Include/core_cm4.h ****   } b;                                   /*!< Structure used for bit  access */
 333:Drivers/CMSIS/Include/core_cm4.h ****   uint32_t w;                            /*!< Type      used for word access */
 334:Drivers/CMSIS/Include/core_cm4.h **** } xPSR_Type;
 335:Drivers/CMSIS/Include/core_cm4.h **** 
 336:Drivers/CMSIS/Include/core_cm4.h **** /* xPSR Register Definitions */
 337:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_N_Pos                         31U                                            /*!< xPSR
 338:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_N_Msk                         (1UL << xPSR_N_Pos)                            /*!< xPSR
 339:Drivers/CMSIS/Include/core_cm4.h **** 
 340:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_Z_Pos                         30U                                            /*!< xPSR
 341:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_Z_Msk                         (1UL << xPSR_Z_Pos)                            /*!< xPSR
 342:Drivers/CMSIS/Include/core_cm4.h **** 
 343:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_C_Pos                         29U                                            /*!< xPSR
 344:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_C_Msk                         (1UL << xPSR_C_Pos)                            /*!< xPSR
 345:Drivers/CMSIS/Include/core_cm4.h **** 
 346:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_V_Pos                         28U                                            /*!< xPSR
 347:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_V_Msk                         (1UL << xPSR_V_Pos)                            /*!< xPSR
 348:Drivers/CMSIS/Include/core_cm4.h **** 
 349:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_Q_Pos                         27U                                            /*!< xPSR
 350:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_Q_Msk                         (1UL << xPSR_Q_Pos)                            /*!< xPSR
 351:Drivers/CMSIS/Include/core_cm4.h **** 
 352:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_ICI_IT_2_Pos                  25U                                            /*!< xPSR
 353:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_ICI_IT_2_Msk                  (3UL << xPSR_ICI_IT_2_Pos)                     /*!< xPSR
 354:Drivers/CMSIS/Include/core_cm4.h **** 
 355:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_T_Pos                         24U                                            /*!< xPSR
 356:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_T_Msk                         (1UL << xPSR_T_Pos)                            /*!< xPSR
ARM GAS  /tmp/ccOP5HA3.s 			page 86


 357:Drivers/CMSIS/Include/core_cm4.h **** 
 358:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_GE_Pos                        16U                                            /*!< xPSR
 359:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_GE_Msk                        (0xFUL << xPSR_GE_Pos)                         /*!< xPSR
 360:Drivers/CMSIS/Include/core_cm4.h **** 
 361:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_ICI_IT_1_Pos                  10U                                            /*!< xPSR
 362:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_ICI_IT_1_Msk                  (0x3FUL << xPSR_ICI_IT_1_Pos)                  /*!< xPSR
 363:Drivers/CMSIS/Include/core_cm4.h **** 
 364:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_ISR_Pos                        0U                                            /*!< xPSR
 365:Drivers/CMSIS/Include/core_cm4.h **** #define xPSR_ISR_Msk                       (0x1FFUL /*<< xPSR_ISR_Pos*/)                  /*!< xPSR
 366:Drivers/CMSIS/Include/core_cm4.h **** 
 367:Drivers/CMSIS/Include/core_cm4.h **** 
 368:Drivers/CMSIS/Include/core_cm4.h **** /**
 369:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Union type to access the Control Registers (CONTROL).
 370:Drivers/CMSIS/Include/core_cm4.h ****  */
 371:Drivers/CMSIS/Include/core_cm4.h **** typedef union
 372:Drivers/CMSIS/Include/core_cm4.h **** {
 373:Drivers/CMSIS/Include/core_cm4.h ****   struct
 374:Drivers/CMSIS/Include/core_cm4.h ****   {
 375:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t nPRIV:1;                    /*!< bit:      0  Execution privilege in Thread mode */
 376:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t SPSEL:1;                    /*!< bit:      1  Stack to be used */
 377:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t FPCA:1;                     /*!< bit:      2  FP extension active flag */
 378:Drivers/CMSIS/Include/core_cm4.h ****     uint32_t _reserved0:29;              /*!< bit:  3..31  Reserved */
 379:Drivers/CMSIS/Include/core_cm4.h ****   } b;                                   /*!< Structure used for bit  access */
 380:Drivers/CMSIS/Include/core_cm4.h ****   uint32_t w;                            /*!< Type      used for word access */
 381:Drivers/CMSIS/Include/core_cm4.h **** } CONTROL_Type;
 382:Drivers/CMSIS/Include/core_cm4.h **** 
 383:Drivers/CMSIS/Include/core_cm4.h **** /* CONTROL Register Definitions */
 384:Drivers/CMSIS/Include/core_cm4.h **** #define CONTROL_FPCA_Pos                    2U                                            /*!< CONT
 385:Drivers/CMSIS/Include/core_cm4.h **** #define CONTROL_FPCA_Msk                   (1UL << CONTROL_FPCA_Pos)                      /*!< CONT
 386:Drivers/CMSIS/Include/core_cm4.h **** 
 387:Drivers/CMSIS/Include/core_cm4.h **** #define CONTROL_SPSEL_Pos                   1U                                            /*!< CONT
 388:Drivers/CMSIS/Include/core_cm4.h **** #define CONTROL_SPSEL_Msk                  (1UL << CONTROL_SPSEL_Pos)                     /*!< CONT
 389:Drivers/CMSIS/Include/core_cm4.h **** 
 390:Drivers/CMSIS/Include/core_cm4.h **** #define CONTROL_nPRIV_Pos                   0U                                            /*!< CONT
 391:Drivers/CMSIS/Include/core_cm4.h **** #define CONTROL_nPRIV_Msk                  (1UL /*<< CONTROL_nPRIV_Pos*/)                 /*!< CONT
 392:Drivers/CMSIS/Include/core_cm4.h **** 
 393:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group CMSIS_CORE */
 394:Drivers/CMSIS/Include/core_cm4.h **** 
 395:Drivers/CMSIS/Include/core_cm4.h **** 
 396:Drivers/CMSIS/Include/core_cm4.h **** /**
 397:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup    CMSIS_core_register
 398:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup   CMSIS_NVIC  Nested Vectored Interrupt Controller (NVIC)
 399:Drivers/CMSIS/Include/core_cm4.h ****   \brief      Type definitions for the NVIC Registers
 400:Drivers/CMSIS/Include/core_cm4.h ****   @{
 401:Drivers/CMSIS/Include/core_cm4.h ****  */
 402:Drivers/CMSIS/Include/core_cm4.h **** 
 403:Drivers/CMSIS/Include/core_cm4.h **** /**
 404:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the Nested Vectored Interrupt Controller (NVIC).
 405:Drivers/CMSIS/Include/core_cm4.h ****  */
 406:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
 407:Drivers/CMSIS/Include/core_cm4.h **** {
 408:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t ISER[8U];               /*!< Offset: 0x000 (R/W)  Interrupt Set Enable Register */
 409:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED0[24U];
 410:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t ICER[8U];               /*!< Offset: 0x080 (R/W)  Interrupt Clear Enable Register 
 411:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED1[24U];
 412:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t ISPR[8U];               /*!< Offset: 0x100 (R/W)  Interrupt Set Pending Register *
 413:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED2[24U];
ARM GAS  /tmp/ccOP5HA3.s 			page 87


 414:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t ICPR[8U];               /*!< Offset: 0x180 (R/W)  Interrupt Clear Pending Register
 415:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED3[24U];
 416:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t IABR[8U];               /*!< Offset: 0x200 (R/W)  Interrupt Active bit Register */
 417:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED4[56U];
 418:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint8_t  IP[240U];               /*!< Offset: 0x300 (R/W)  Interrupt Priority Register (8Bi
 419:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED5[644U];
 420:Drivers/CMSIS/Include/core_cm4.h ****   __OM  uint32_t STIR;                   /*!< Offset: 0xE00 ( /W)  Software Trigger Interrupt Regis
 421:Drivers/CMSIS/Include/core_cm4.h **** }  NVIC_Type;
 422:Drivers/CMSIS/Include/core_cm4.h **** 
 423:Drivers/CMSIS/Include/core_cm4.h **** /* Software Triggered Interrupt Register Definitions */
 424:Drivers/CMSIS/Include/core_cm4.h **** #define NVIC_STIR_INTID_Pos                 0U                                         /*!< STIR: I
 425:Drivers/CMSIS/Include/core_cm4.h **** #define NVIC_STIR_INTID_Msk                (0x1FFUL /*<< NVIC_STIR_INTID_Pos*/)        /*!< STIR: I
 426:Drivers/CMSIS/Include/core_cm4.h **** 
 427:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group CMSIS_NVIC */
 428:Drivers/CMSIS/Include/core_cm4.h **** 
 429:Drivers/CMSIS/Include/core_cm4.h **** 
 430:Drivers/CMSIS/Include/core_cm4.h **** /**
 431:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_core_register
 432:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_SCB     System Control Block (SCB)
 433:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Type definitions for the System Control Block Registers
 434:Drivers/CMSIS/Include/core_cm4.h ****   @{
 435:Drivers/CMSIS/Include/core_cm4.h ****  */
 436:Drivers/CMSIS/Include/core_cm4.h **** 
 437:Drivers/CMSIS/Include/core_cm4.h **** /**
 438:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the System Control Block (SCB).
 439:Drivers/CMSIS/Include/core_cm4.h ****  */
 440:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
 441:Drivers/CMSIS/Include/core_cm4.h **** {
 442:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t CPUID;                  /*!< Offset: 0x000 (R/ )  CPUID Base Register */
 443:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t ICSR;                   /*!< Offset: 0x004 (R/W)  Interrupt Control and State Regi
 444:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t VTOR;                   /*!< Offset: 0x008 (R/W)  Vector Table Offset Register */
 445:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t AIRCR;                  /*!< Offset: 0x00C (R/W)  Application Interrupt and Reset 
 446:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t SCR;                    /*!< Offset: 0x010 (R/W)  System Control Register */
 447:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CCR;                    /*!< Offset: 0x014 (R/W)  Configuration Control Register *
 448:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint8_t  SHP[12U];               /*!< Offset: 0x018 (R/W)  System Handlers Priority Registe
 449:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t SHCSR;                  /*!< Offset: 0x024 (R/W)  System Handler Control and State
 450:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CFSR;                   /*!< Offset: 0x028 (R/W)  Configurable Fault Status Regist
 451:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t HFSR;                   /*!< Offset: 0x02C (R/W)  HardFault Status Register */
 452:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t DFSR;                   /*!< Offset: 0x030 (R/W)  Debug Fault Status Register */
 453:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t MMFAR;                  /*!< Offset: 0x034 (R/W)  MemManage Fault Address Register
 454:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t BFAR;                   /*!< Offset: 0x038 (R/W)  BusFault Address Register */
 455:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t AFSR;                   /*!< Offset: 0x03C (R/W)  Auxiliary Fault Status Register 
 456:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PFR[2U];                /*!< Offset: 0x040 (R/ )  Processor Feature Register */
 457:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t DFR;                    /*!< Offset: 0x048 (R/ )  Debug Feature Register */
 458:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t ADR;                    /*!< Offset: 0x04C (R/ )  Auxiliary Feature Register */
 459:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t MMFR[4U];               /*!< Offset: 0x050 (R/ )  Memory Model Feature Register */
 460:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t ISAR[5U];               /*!< Offset: 0x060 (R/ )  Instruction Set Attributes Regis
 461:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED0[5U];
 462:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CPACR;                  /*!< Offset: 0x088 (R/W)  Coprocessor Access Control Regis
 463:Drivers/CMSIS/Include/core_cm4.h **** } SCB_Type;
 464:Drivers/CMSIS/Include/core_cm4.h **** 
 465:Drivers/CMSIS/Include/core_cm4.h **** /* SCB CPUID Register Definitions */
 466:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_IMPLEMENTER_Pos          24U                                            /*!< SCB 
 467:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_IMPLEMENTER_Msk          (0xFFUL << SCB_CPUID_IMPLEMENTER_Pos)          /*!< SCB 
 468:Drivers/CMSIS/Include/core_cm4.h **** 
 469:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_VARIANT_Pos              20U                                            /*!< SCB 
 470:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_VARIANT_Msk              (0xFUL << SCB_CPUID_VARIANT_Pos)               /*!< SCB 
ARM GAS  /tmp/ccOP5HA3.s 			page 88


 471:Drivers/CMSIS/Include/core_cm4.h **** 
 472:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_ARCHITECTURE_Pos         16U                                            /*!< SCB 
 473:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_ARCHITECTURE_Msk         (0xFUL << SCB_CPUID_ARCHITECTURE_Pos)          /*!< SCB 
 474:Drivers/CMSIS/Include/core_cm4.h **** 
 475:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_PARTNO_Pos                4U                                            /*!< SCB 
 476:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_PARTNO_Msk               (0xFFFUL << SCB_CPUID_PARTNO_Pos)              /*!< SCB 
 477:Drivers/CMSIS/Include/core_cm4.h **** 
 478:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_REVISION_Pos              0U                                            /*!< SCB 
 479:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CPUID_REVISION_Msk             (0xFUL /*<< SCB_CPUID_REVISION_Pos*/)          /*!< SCB 
 480:Drivers/CMSIS/Include/core_cm4.h **** 
 481:Drivers/CMSIS/Include/core_cm4.h **** /* SCB Interrupt Control State Register Definitions */
 482:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_NMIPENDSET_Pos            31U                                            /*!< SCB 
 483:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_NMIPENDSET_Msk            (1UL << SCB_ICSR_NMIPENDSET_Pos)               /*!< SCB 
 484:Drivers/CMSIS/Include/core_cm4.h **** 
 485:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_PENDSVSET_Pos             28U                                            /*!< SCB 
 486:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_PENDSVSET_Msk             (1UL << SCB_ICSR_PENDSVSET_Pos)                /*!< SCB 
 487:Drivers/CMSIS/Include/core_cm4.h **** 
 488:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_PENDSVCLR_Pos             27U                                            /*!< SCB 
 489:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_PENDSVCLR_Msk             (1UL << SCB_ICSR_PENDSVCLR_Pos)                /*!< SCB 
 490:Drivers/CMSIS/Include/core_cm4.h **** 
 491:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_PENDSTSET_Pos             26U                                            /*!< SCB 
 492:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_PENDSTSET_Msk             (1UL << SCB_ICSR_PENDSTSET_Pos)                /*!< SCB 
 493:Drivers/CMSIS/Include/core_cm4.h **** 
 494:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_PENDSTCLR_Pos             25U                                            /*!< SCB 
 495:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_PENDSTCLR_Msk             (1UL << SCB_ICSR_PENDSTCLR_Pos)                /*!< SCB 
 496:Drivers/CMSIS/Include/core_cm4.h **** 
 497:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_ISRPREEMPT_Pos            23U                                            /*!< SCB 
 498:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_ISRPREEMPT_Msk            (1UL << SCB_ICSR_ISRPREEMPT_Pos)               /*!< SCB 
 499:Drivers/CMSIS/Include/core_cm4.h **** 
 500:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_ISRPENDING_Pos            22U                                            /*!< SCB 
 501:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_ISRPENDING_Msk            (1UL << SCB_ICSR_ISRPENDING_Pos)               /*!< SCB 
 502:Drivers/CMSIS/Include/core_cm4.h **** 
 503:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_VECTPENDING_Pos           12U                                            /*!< SCB 
 504:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_VECTPENDING_Msk           (0x1FFUL << SCB_ICSR_VECTPENDING_Pos)          /*!< SCB 
 505:Drivers/CMSIS/Include/core_cm4.h **** 
 506:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_RETTOBASE_Pos             11U                                            /*!< SCB 
 507:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_RETTOBASE_Msk             (1UL << SCB_ICSR_RETTOBASE_Pos)                /*!< SCB 
 508:Drivers/CMSIS/Include/core_cm4.h **** 
 509:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_VECTACTIVE_Pos             0U                                            /*!< SCB 
 510:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_ICSR_VECTACTIVE_Msk            (0x1FFUL /*<< SCB_ICSR_VECTACTIVE_Pos*/)       /*!< SCB 
 511:Drivers/CMSIS/Include/core_cm4.h **** 
 512:Drivers/CMSIS/Include/core_cm4.h **** /* SCB Vector Table Offset Register Definitions */
 513:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_VTOR_TBLOFF_Pos                 7U                                            /*!< SCB 
 514:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_VTOR_TBLOFF_Msk                (0x1FFFFFFUL << SCB_VTOR_TBLOFF_Pos)           /*!< SCB 
 515:Drivers/CMSIS/Include/core_cm4.h **** 
 516:Drivers/CMSIS/Include/core_cm4.h **** /* SCB Application Interrupt and Reset Control Register Definitions */
 517:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_VECTKEY_Pos              16U                                            /*!< SCB 
 518:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_VECTKEY_Msk              (0xFFFFUL << SCB_AIRCR_VECTKEY_Pos)            /*!< SCB 
 519:Drivers/CMSIS/Include/core_cm4.h **** 
 520:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_VECTKEYSTAT_Pos          16U                                            /*!< SCB 
 521:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_VECTKEYSTAT_Msk          (0xFFFFUL << SCB_AIRCR_VECTKEYSTAT_Pos)        /*!< SCB 
 522:Drivers/CMSIS/Include/core_cm4.h **** 
 523:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_ENDIANESS_Pos            15U                                            /*!< SCB 
 524:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_ENDIANESS_Msk            (1UL << SCB_AIRCR_ENDIANESS_Pos)               /*!< SCB 
 525:Drivers/CMSIS/Include/core_cm4.h **** 
 526:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_PRIGROUP_Pos              8U                                            /*!< SCB 
 527:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_PRIGROUP_Msk             (7UL << SCB_AIRCR_PRIGROUP_Pos)                /*!< SCB 
ARM GAS  /tmp/ccOP5HA3.s 			page 89


 528:Drivers/CMSIS/Include/core_cm4.h **** 
 529:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_SYSRESETREQ_Pos           2U                                            /*!< SCB 
 530:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_SYSRESETREQ_Msk          (1UL << SCB_AIRCR_SYSRESETREQ_Pos)             /*!< SCB 
 531:Drivers/CMSIS/Include/core_cm4.h **** 
 532:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_VECTCLRACTIVE_Pos         1U                                            /*!< SCB 
 533:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_VECTCLRACTIVE_Msk        (1UL << SCB_AIRCR_VECTCLRACTIVE_Pos)           /*!< SCB 
 534:Drivers/CMSIS/Include/core_cm4.h **** 
 535:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_VECTRESET_Pos             0U                                            /*!< SCB 
 536:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_AIRCR_VECTRESET_Msk            (1UL /*<< SCB_AIRCR_VECTRESET_Pos*/)           /*!< SCB 
 537:Drivers/CMSIS/Include/core_cm4.h **** 
 538:Drivers/CMSIS/Include/core_cm4.h **** /* SCB System Control Register Definitions */
 539:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SCR_SEVONPEND_Pos               4U                                            /*!< SCB 
 540:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SCR_SEVONPEND_Msk              (1UL << SCB_SCR_SEVONPEND_Pos)                 /*!< SCB 
 541:Drivers/CMSIS/Include/core_cm4.h **** 
 542:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SCR_SLEEPDEEP_Pos               2U                                            /*!< SCB 
 543:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SCR_SLEEPDEEP_Msk              (1UL << SCB_SCR_SLEEPDEEP_Pos)                 /*!< SCB 
 544:Drivers/CMSIS/Include/core_cm4.h **** 
 545:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SCR_SLEEPONEXIT_Pos             1U                                            /*!< SCB 
 546:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SCR_SLEEPONEXIT_Msk            (1UL << SCB_SCR_SLEEPONEXIT_Pos)               /*!< SCB 
 547:Drivers/CMSIS/Include/core_cm4.h **** 
 548:Drivers/CMSIS/Include/core_cm4.h **** /* SCB Configuration Control Register Definitions */
 549:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_STKALIGN_Pos                9U                                            /*!< SCB 
 550:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_STKALIGN_Msk               (1UL << SCB_CCR_STKALIGN_Pos)                  /*!< SCB 
 551:Drivers/CMSIS/Include/core_cm4.h **** 
 552:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_BFHFNMIGN_Pos               8U                                            /*!< SCB 
 553:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_BFHFNMIGN_Msk              (1UL << SCB_CCR_BFHFNMIGN_Pos)                 /*!< SCB 
 554:Drivers/CMSIS/Include/core_cm4.h **** 
 555:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_DIV_0_TRP_Pos               4U                                            /*!< SCB 
 556:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_DIV_0_TRP_Msk              (1UL << SCB_CCR_DIV_0_TRP_Pos)                 /*!< SCB 
 557:Drivers/CMSIS/Include/core_cm4.h **** 
 558:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_UNALIGN_TRP_Pos             3U                                            /*!< SCB 
 559:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_UNALIGN_TRP_Msk            (1UL << SCB_CCR_UNALIGN_TRP_Pos)               /*!< SCB 
 560:Drivers/CMSIS/Include/core_cm4.h **** 
 561:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_USERSETMPEND_Pos            1U                                            /*!< SCB 
 562:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_USERSETMPEND_Msk           (1UL << SCB_CCR_USERSETMPEND_Pos)              /*!< SCB 
 563:Drivers/CMSIS/Include/core_cm4.h **** 
 564:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_NONBASETHRDENA_Pos          0U                                            /*!< SCB 
 565:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CCR_NONBASETHRDENA_Msk         (1UL /*<< SCB_CCR_NONBASETHRDENA_Pos*/)        /*!< SCB 
 566:Drivers/CMSIS/Include/core_cm4.h **** 
 567:Drivers/CMSIS/Include/core_cm4.h **** /* SCB System Handler Control and State Register Definitions */
 568:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_USGFAULTENA_Pos          18U                                            /*!< SCB 
 569:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_USGFAULTENA_Msk          (1UL << SCB_SHCSR_USGFAULTENA_Pos)             /*!< SCB 
 570:Drivers/CMSIS/Include/core_cm4.h **** 
 571:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_BUSFAULTENA_Pos          17U                                            /*!< SCB 
 572:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_BUSFAULTENA_Msk          (1UL << SCB_SHCSR_BUSFAULTENA_Pos)             /*!< SCB 
 573:Drivers/CMSIS/Include/core_cm4.h **** 
 574:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_MEMFAULTENA_Pos          16U                                            /*!< SCB 
 575:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_MEMFAULTENA_Msk          (1UL << SCB_SHCSR_MEMFAULTENA_Pos)             /*!< SCB 
 576:Drivers/CMSIS/Include/core_cm4.h **** 
 577:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_SVCALLPENDED_Pos         15U                                            /*!< SCB 
 578:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_SVCALLPENDED_Msk         (1UL << SCB_SHCSR_SVCALLPENDED_Pos)            /*!< SCB 
 579:Drivers/CMSIS/Include/core_cm4.h **** 
 580:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_BUSFAULTPENDED_Pos       14U                                            /*!< SCB 
 581:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_BUSFAULTPENDED_Msk       (1UL << SCB_SHCSR_BUSFAULTPENDED_Pos)          /*!< SCB 
 582:Drivers/CMSIS/Include/core_cm4.h **** 
 583:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_MEMFAULTPENDED_Pos       13U                                            /*!< SCB 
 584:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_MEMFAULTPENDED_Msk       (1UL << SCB_SHCSR_MEMFAULTPENDED_Pos)          /*!< SCB 
ARM GAS  /tmp/ccOP5HA3.s 			page 90


 585:Drivers/CMSIS/Include/core_cm4.h **** 
 586:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_USGFAULTPENDED_Pos       12U                                            /*!< SCB 
 587:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_USGFAULTPENDED_Msk       (1UL << SCB_SHCSR_USGFAULTPENDED_Pos)          /*!< SCB 
 588:Drivers/CMSIS/Include/core_cm4.h **** 
 589:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_SYSTICKACT_Pos           11U                                            /*!< SCB 
 590:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_SYSTICKACT_Msk           (1UL << SCB_SHCSR_SYSTICKACT_Pos)              /*!< SCB 
 591:Drivers/CMSIS/Include/core_cm4.h **** 
 592:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_PENDSVACT_Pos            10U                                            /*!< SCB 
 593:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_PENDSVACT_Msk            (1UL << SCB_SHCSR_PENDSVACT_Pos)               /*!< SCB 
 594:Drivers/CMSIS/Include/core_cm4.h **** 
 595:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_MONITORACT_Pos            8U                                            /*!< SCB 
 596:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_MONITORACT_Msk           (1UL << SCB_SHCSR_MONITORACT_Pos)              /*!< SCB 
 597:Drivers/CMSIS/Include/core_cm4.h **** 
 598:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_SVCALLACT_Pos             7U                                            /*!< SCB 
 599:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_SVCALLACT_Msk            (1UL << SCB_SHCSR_SVCALLACT_Pos)               /*!< SCB 
 600:Drivers/CMSIS/Include/core_cm4.h **** 
 601:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_USGFAULTACT_Pos           3U                                            /*!< SCB 
 602:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_USGFAULTACT_Msk          (1UL << SCB_SHCSR_USGFAULTACT_Pos)             /*!< SCB 
 603:Drivers/CMSIS/Include/core_cm4.h **** 
 604:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_BUSFAULTACT_Pos           1U                                            /*!< SCB 
 605:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_BUSFAULTACT_Msk          (1UL << SCB_SHCSR_BUSFAULTACT_Pos)             /*!< SCB 
 606:Drivers/CMSIS/Include/core_cm4.h **** 
 607:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_MEMFAULTACT_Pos           0U                                            /*!< SCB 
 608:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_SHCSR_MEMFAULTACT_Msk          (1UL /*<< SCB_SHCSR_MEMFAULTACT_Pos*/)         /*!< SCB 
 609:Drivers/CMSIS/Include/core_cm4.h **** 
 610:Drivers/CMSIS/Include/core_cm4.h **** /* SCB Configurable Fault Status Register Definitions */
 611:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_USGFAULTSR_Pos            16U                                            /*!< SCB 
 612:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_USGFAULTSR_Msk            (0xFFFFUL << SCB_CFSR_USGFAULTSR_Pos)          /*!< SCB 
 613:Drivers/CMSIS/Include/core_cm4.h **** 
 614:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_BUSFAULTSR_Pos             8U                                            /*!< SCB 
 615:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_BUSFAULTSR_Msk            (0xFFUL << SCB_CFSR_BUSFAULTSR_Pos)            /*!< SCB 
 616:Drivers/CMSIS/Include/core_cm4.h **** 
 617:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MEMFAULTSR_Pos             0U                                            /*!< SCB 
 618:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MEMFAULTSR_Msk            (0xFFUL /*<< SCB_CFSR_MEMFAULTSR_Pos*/)        /*!< SCB 
 619:Drivers/CMSIS/Include/core_cm4.h **** 
 620:Drivers/CMSIS/Include/core_cm4.h **** /* MemManage Fault Status Register (part of SCB Configurable Fault Status Register) */
 621:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MMARVALID_Pos             (SCB_SHCSR_MEMFAULTACT_Pos + 7U)               /*!< SCB 
 622:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MMARVALID_Msk             (1UL << SCB_CFSR_MMARVALID_Pos)                /*!< SCB 
 623:Drivers/CMSIS/Include/core_cm4.h **** 
 624:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MLSPERR_Pos               (SCB_SHCSR_MEMFAULTACT_Pos + 5U)               /*!< SCB 
 625:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MLSPERR_Msk               (1UL << SCB_CFSR_MLSPERR_Pos)                  /*!< SCB 
 626:Drivers/CMSIS/Include/core_cm4.h **** 
 627:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MSTKERR_Pos               (SCB_SHCSR_MEMFAULTACT_Pos + 4U)               /*!< SCB 
 628:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MSTKERR_Msk               (1UL << SCB_CFSR_MSTKERR_Pos)                  /*!< SCB 
 629:Drivers/CMSIS/Include/core_cm4.h **** 
 630:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MUNSTKERR_Pos             (SCB_SHCSR_MEMFAULTACT_Pos + 3U)               /*!< SCB 
 631:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_MUNSTKERR_Msk             (1UL << SCB_CFSR_MUNSTKERR_Pos)                /*!< SCB 
 632:Drivers/CMSIS/Include/core_cm4.h **** 
 633:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_DACCVIOL_Pos              (SCB_SHCSR_MEMFAULTACT_Pos + 1U)               /*!< SCB 
 634:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_DACCVIOL_Msk              (1UL << SCB_CFSR_DACCVIOL_Pos)                 /*!< SCB 
 635:Drivers/CMSIS/Include/core_cm4.h **** 
 636:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_IACCVIOL_Pos              (SCB_SHCSR_MEMFAULTACT_Pos + 0U)               /*!< SCB 
 637:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_IACCVIOL_Msk              (1UL /*<< SCB_CFSR_IACCVIOL_Pos*/)             /*!< SCB 
 638:Drivers/CMSIS/Include/core_cm4.h **** 
 639:Drivers/CMSIS/Include/core_cm4.h **** /* BusFault Status Register (part of SCB Configurable Fault Status Register) */
 640:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_BFARVALID_Pos            (SCB_CFSR_BUSFAULTSR_Pos + 7U)                  /*!< SCB 
 641:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_BFARVALID_Msk            (1UL << SCB_CFSR_BFARVALID_Pos)                 /*!< SCB 
ARM GAS  /tmp/ccOP5HA3.s 			page 91


 642:Drivers/CMSIS/Include/core_cm4.h **** 
 643:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_LSPERR_Pos               (SCB_CFSR_BUSFAULTSR_Pos + 5U)                  /*!< SCB 
 644:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_LSPERR_Msk               (1UL << SCB_CFSR_LSPERR_Pos)                    /*!< SCB 
 645:Drivers/CMSIS/Include/core_cm4.h **** 
 646:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_STKERR_Pos               (SCB_CFSR_BUSFAULTSR_Pos + 4U)                  /*!< SCB 
 647:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_STKERR_Msk               (1UL << SCB_CFSR_STKERR_Pos)                    /*!< SCB 
 648:Drivers/CMSIS/Include/core_cm4.h **** 
 649:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_UNSTKERR_Pos             (SCB_CFSR_BUSFAULTSR_Pos + 3U)                  /*!< SCB 
 650:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_UNSTKERR_Msk             (1UL << SCB_CFSR_UNSTKERR_Pos)                  /*!< SCB 
 651:Drivers/CMSIS/Include/core_cm4.h **** 
 652:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_IMPRECISERR_Pos          (SCB_CFSR_BUSFAULTSR_Pos + 2U)                  /*!< SCB 
 653:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_IMPRECISERR_Msk          (1UL << SCB_CFSR_IMPRECISERR_Pos)               /*!< SCB 
 654:Drivers/CMSIS/Include/core_cm4.h **** 
 655:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_PRECISERR_Pos            (SCB_CFSR_BUSFAULTSR_Pos + 1U)                  /*!< SCB 
 656:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_PRECISERR_Msk            (1UL << SCB_CFSR_PRECISERR_Pos)                 /*!< SCB 
 657:Drivers/CMSIS/Include/core_cm4.h **** 
 658:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_IBUSERR_Pos              (SCB_CFSR_BUSFAULTSR_Pos + 0U)                  /*!< SCB 
 659:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_IBUSERR_Msk              (1UL << SCB_CFSR_IBUSERR_Pos)                   /*!< SCB 
 660:Drivers/CMSIS/Include/core_cm4.h **** 
 661:Drivers/CMSIS/Include/core_cm4.h **** /* UsageFault Status Register (part of SCB Configurable Fault Status Register) */
 662:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_DIVBYZERO_Pos            (SCB_CFSR_USGFAULTSR_Pos + 9U)                  /*!< SCB 
 663:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_DIVBYZERO_Msk            (1UL << SCB_CFSR_DIVBYZERO_Pos)                 /*!< SCB 
 664:Drivers/CMSIS/Include/core_cm4.h **** 
 665:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_UNALIGNED_Pos            (SCB_CFSR_USGFAULTSR_Pos + 8U)                  /*!< SCB 
 666:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_UNALIGNED_Msk            (1UL << SCB_CFSR_UNALIGNED_Pos)                 /*!< SCB 
 667:Drivers/CMSIS/Include/core_cm4.h **** 
 668:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_NOCP_Pos                 (SCB_CFSR_USGFAULTSR_Pos + 3U)                  /*!< SCB 
 669:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_NOCP_Msk                 (1UL << SCB_CFSR_NOCP_Pos)                      /*!< SCB 
 670:Drivers/CMSIS/Include/core_cm4.h **** 
 671:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_INVPC_Pos                (SCB_CFSR_USGFAULTSR_Pos + 2U)                  /*!< SCB 
 672:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_INVPC_Msk                (1UL << SCB_CFSR_INVPC_Pos)                     /*!< SCB 
 673:Drivers/CMSIS/Include/core_cm4.h **** 
 674:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_INVSTATE_Pos             (SCB_CFSR_USGFAULTSR_Pos + 1U)                  /*!< SCB 
 675:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_INVSTATE_Msk             (1UL << SCB_CFSR_INVSTATE_Pos)                  /*!< SCB 
 676:Drivers/CMSIS/Include/core_cm4.h **** 
 677:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_UNDEFINSTR_Pos           (SCB_CFSR_USGFAULTSR_Pos + 0U)                  /*!< SCB 
 678:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_CFSR_UNDEFINSTR_Msk           (1UL << SCB_CFSR_UNDEFINSTR_Pos)                /*!< SCB 
 679:Drivers/CMSIS/Include/core_cm4.h **** 
 680:Drivers/CMSIS/Include/core_cm4.h **** /* SCB Hard Fault Status Register Definitions */
 681:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_HFSR_DEBUGEVT_Pos              31U                                            /*!< SCB 
 682:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_HFSR_DEBUGEVT_Msk              (1UL << SCB_HFSR_DEBUGEVT_Pos)                 /*!< SCB 
 683:Drivers/CMSIS/Include/core_cm4.h **** 
 684:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_HFSR_FORCED_Pos                30U                                            /*!< SCB 
 685:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_HFSR_FORCED_Msk                (1UL << SCB_HFSR_FORCED_Pos)                   /*!< SCB 
 686:Drivers/CMSIS/Include/core_cm4.h **** 
 687:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_HFSR_VECTTBL_Pos                1U                                            /*!< SCB 
 688:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_HFSR_VECTTBL_Msk               (1UL << SCB_HFSR_VECTTBL_Pos)                  /*!< SCB 
 689:Drivers/CMSIS/Include/core_cm4.h **** 
 690:Drivers/CMSIS/Include/core_cm4.h **** /* SCB Debug Fault Status Register Definitions */
 691:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_EXTERNAL_Pos               4U                                            /*!< SCB 
 692:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_EXTERNAL_Msk              (1UL << SCB_DFSR_EXTERNAL_Pos)                 /*!< SCB 
 693:Drivers/CMSIS/Include/core_cm4.h **** 
 694:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_VCATCH_Pos                 3U                                            /*!< SCB 
 695:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_VCATCH_Msk                (1UL << SCB_DFSR_VCATCH_Pos)                   /*!< SCB 
 696:Drivers/CMSIS/Include/core_cm4.h **** 
 697:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_DWTTRAP_Pos                2U                                            /*!< SCB 
 698:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_DWTTRAP_Msk               (1UL << SCB_DFSR_DWTTRAP_Pos)                  /*!< SCB 
ARM GAS  /tmp/ccOP5HA3.s 			page 92


 699:Drivers/CMSIS/Include/core_cm4.h **** 
 700:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_BKPT_Pos                   1U                                            /*!< SCB 
 701:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_BKPT_Msk                  (1UL << SCB_DFSR_BKPT_Pos)                     /*!< SCB 
 702:Drivers/CMSIS/Include/core_cm4.h **** 
 703:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_HALTED_Pos                 0U                                            /*!< SCB 
 704:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_DFSR_HALTED_Msk                (1UL /*<< SCB_DFSR_HALTED_Pos*/)               /*!< SCB 
 705:Drivers/CMSIS/Include/core_cm4.h **** 
 706:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group CMSIS_SCB */
 707:Drivers/CMSIS/Include/core_cm4.h **** 
 708:Drivers/CMSIS/Include/core_cm4.h **** 
 709:Drivers/CMSIS/Include/core_cm4.h **** /**
 710:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_core_register
 711:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_SCnSCB System Controls not in SCB (SCnSCB)
 712:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Type definitions for the System Control and ID Register not in the SCB
 713:Drivers/CMSIS/Include/core_cm4.h ****   @{
 714:Drivers/CMSIS/Include/core_cm4.h ****  */
 715:Drivers/CMSIS/Include/core_cm4.h **** 
 716:Drivers/CMSIS/Include/core_cm4.h **** /**
 717:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the System Control and ID Register not in the SCB.
 718:Drivers/CMSIS/Include/core_cm4.h ****  */
 719:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
 720:Drivers/CMSIS/Include/core_cm4.h **** {
 721:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED0[1U];
 722:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t ICTR;                   /*!< Offset: 0x004 (R/ )  Interrupt Controller Type Regist
 723:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t ACTLR;                  /*!< Offset: 0x008 (R/W)  Auxiliary Control Register */
 724:Drivers/CMSIS/Include/core_cm4.h **** } SCnSCB_Type;
 725:Drivers/CMSIS/Include/core_cm4.h **** 
 726:Drivers/CMSIS/Include/core_cm4.h **** /* Interrupt Controller Type Register Definitions */
 727:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ICTR_INTLINESNUM_Pos         0U                                         /*!< ICTR: I
 728:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ICTR_INTLINESNUM_Msk        (0xFUL /*<< SCnSCB_ICTR_INTLINESNUM_Pos*/)  /*!< ICTR: I
 729:Drivers/CMSIS/Include/core_cm4.h **** 
 730:Drivers/CMSIS/Include/core_cm4.h **** /* Auxiliary Control Register Definitions */
 731:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISOOFP_Pos            9U                                         /*!< ACTLR: 
 732:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISOOFP_Msk           (1UL << SCnSCB_ACTLR_DISOOFP_Pos)           /*!< ACTLR: 
 733:Drivers/CMSIS/Include/core_cm4.h **** 
 734:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISFPCA_Pos            8U                                         /*!< ACTLR: 
 735:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISFPCA_Msk           (1UL << SCnSCB_ACTLR_DISFPCA_Pos)           /*!< ACTLR: 
 736:Drivers/CMSIS/Include/core_cm4.h **** 
 737:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISFOLD_Pos            2U                                         /*!< ACTLR: 
 738:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISFOLD_Msk           (1UL << SCnSCB_ACTLR_DISFOLD_Pos)           /*!< ACTLR: 
 739:Drivers/CMSIS/Include/core_cm4.h **** 
 740:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISDEFWBUF_Pos         1U                                         /*!< ACTLR: 
 741:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISDEFWBUF_Msk        (1UL << SCnSCB_ACTLR_DISDEFWBUF_Pos)        /*!< ACTLR: 
 742:Drivers/CMSIS/Include/core_cm4.h **** 
 743:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISMCYCINT_Pos         0U                                         /*!< ACTLR: 
 744:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB_ACTLR_DISMCYCINT_Msk        (1UL /*<< SCnSCB_ACTLR_DISMCYCINT_Pos*/)    /*!< ACTLR: 
 745:Drivers/CMSIS/Include/core_cm4.h **** 
 746:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group CMSIS_SCnotSCB */
 747:Drivers/CMSIS/Include/core_cm4.h **** 
 748:Drivers/CMSIS/Include/core_cm4.h **** 
 749:Drivers/CMSIS/Include/core_cm4.h **** /**
 750:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_core_register
 751:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_SysTick     System Tick Timer (SysTick)
 752:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Type definitions for the System Timer Registers.
 753:Drivers/CMSIS/Include/core_cm4.h ****   @{
 754:Drivers/CMSIS/Include/core_cm4.h ****  */
 755:Drivers/CMSIS/Include/core_cm4.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 93


 756:Drivers/CMSIS/Include/core_cm4.h **** /**
 757:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the System Timer (SysTick).
 758:Drivers/CMSIS/Include/core_cm4.h ****  */
 759:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
 760:Drivers/CMSIS/Include/core_cm4.h **** {
 761:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CTRL;                   /*!< Offset: 0x000 (R/W)  SysTick Control and Status Regis
 762:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t LOAD;                   /*!< Offset: 0x004 (R/W)  SysTick Reload Value Register */
 763:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t VAL;                    /*!< Offset: 0x008 (R/W)  SysTick Current Value Register *
 764:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t CALIB;                  /*!< Offset: 0x00C (R/ )  SysTick Calibration Register */
 765:Drivers/CMSIS/Include/core_cm4.h **** } SysTick_Type;
 766:Drivers/CMSIS/Include/core_cm4.h **** 
 767:Drivers/CMSIS/Include/core_cm4.h **** /* SysTick Control / Status Register Definitions */
 768:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CTRL_COUNTFLAG_Pos         16U                                            /*!< SysT
 769:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CTRL_COUNTFLAG_Msk         (1UL << SysTick_CTRL_COUNTFLAG_Pos)            /*!< SysT
 770:Drivers/CMSIS/Include/core_cm4.h **** 
 771:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CTRL_CLKSOURCE_Pos          2U                                            /*!< SysT
 772:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CTRL_CLKSOURCE_Msk         (1UL << SysTick_CTRL_CLKSOURCE_Pos)            /*!< SysT
 773:Drivers/CMSIS/Include/core_cm4.h **** 
 774:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CTRL_TICKINT_Pos            1U                                            /*!< SysT
 775:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CTRL_TICKINT_Msk           (1UL << SysTick_CTRL_TICKINT_Pos)              /*!< SysT
 776:Drivers/CMSIS/Include/core_cm4.h **** 
 777:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CTRL_ENABLE_Pos             0U                                            /*!< SysT
 778:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CTRL_ENABLE_Msk            (1UL /*<< SysTick_CTRL_ENABLE_Pos*/)           /*!< SysT
 779:Drivers/CMSIS/Include/core_cm4.h **** 
 780:Drivers/CMSIS/Include/core_cm4.h **** /* SysTick Reload Register Definitions */
 781:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_LOAD_RELOAD_Pos             0U                                            /*!< SysT
 782:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_LOAD_RELOAD_Msk            (0xFFFFFFUL /*<< SysTick_LOAD_RELOAD_Pos*/)    /*!< SysT
 783:Drivers/CMSIS/Include/core_cm4.h **** 
 784:Drivers/CMSIS/Include/core_cm4.h **** /* SysTick Current Register Definitions */
 785:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_VAL_CURRENT_Pos             0U                                            /*!< SysT
 786:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_VAL_CURRENT_Msk            (0xFFFFFFUL /*<< SysTick_VAL_CURRENT_Pos*/)    /*!< SysT
 787:Drivers/CMSIS/Include/core_cm4.h **** 
 788:Drivers/CMSIS/Include/core_cm4.h **** /* SysTick Calibration Register Definitions */
 789:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CALIB_NOREF_Pos            31U                                            /*!< SysT
 790:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CALIB_NOREF_Msk            (1UL << SysTick_CALIB_NOREF_Pos)               /*!< SysT
 791:Drivers/CMSIS/Include/core_cm4.h **** 
 792:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CALIB_SKEW_Pos             30U                                            /*!< SysT
 793:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CALIB_SKEW_Msk             (1UL << SysTick_CALIB_SKEW_Pos)                /*!< SysT
 794:Drivers/CMSIS/Include/core_cm4.h **** 
 795:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CALIB_TENMS_Pos             0U                                            /*!< SysT
 796:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_CALIB_TENMS_Msk            (0xFFFFFFUL /*<< SysTick_CALIB_TENMS_Pos*/)    /*!< SysT
 797:Drivers/CMSIS/Include/core_cm4.h **** 
 798:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group CMSIS_SysTick */
 799:Drivers/CMSIS/Include/core_cm4.h **** 
 800:Drivers/CMSIS/Include/core_cm4.h **** 
 801:Drivers/CMSIS/Include/core_cm4.h **** /**
 802:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_core_register
 803:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_ITM     Instrumentation Trace Macrocell (ITM)
 804:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Type definitions for the Instrumentation Trace Macrocell (ITM)
 805:Drivers/CMSIS/Include/core_cm4.h ****   @{
 806:Drivers/CMSIS/Include/core_cm4.h ****  */
 807:Drivers/CMSIS/Include/core_cm4.h **** 
 808:Drivers/CMSIS/Include/core_cm4.h **** /**
 809:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the Instrumentation Trace Macrocell Register (ITM).
 810:Drivers/CMSIS/Include/core_cm4.h ****  */
 811:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
 812:Drivers/CMSIS/Include/core_cm4.h **** {
ARM GAS  /tmp/ccOP5HA3.s 			page 94


 813:Drivers/CMSIS/Include/core_cm4.h ****   __OM  union
 814:Drivers/CMSIS/Include/core_cm4.h ****   {
 815:Drivers/CMSIS/Include/core_cm4.h ****     __OM  uint8_t    u8;                 /*!< Offset: 0x000 ( /W)  ITM Stimulus Port 8-bit */
 816:Drivers/CMSIS/Include/core_cm4.h ****     __OM  uint16_t   u16;                /*!< Offset: 0x000 ( /W)  ITM Stimulus Port 16-bit */
 817:Drivers/CMSIS/Include/core_cm4.h ****     __OM  uint32_t   u32;                /*!< Offset: 0x000 ( /W)  ITM Stimulus Port 32-bit */
 818:Drivers/CMSIS/Include/core_cm4.h ****   }  PORT [32U];                         /*!< Offset: 0x000 ( /W)  ITM Stimulus Port Registers */
 819:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED0[864U];
 820:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t TER;                    /*!< Offset: 0xE00 (R/W)  ITM Trace Enable Register */
 821:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED1[15U];
 822:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t TPR;                    /*!< Offset: 0xE40 (R/W)  ITM Trace Privilege Register */
 823:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED2[15U];
 824:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t TCR;                    /*!< Offset: 0xE80 (R/W)  ITM Trace Control Register */
 825:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED3[32U];
 826:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED4[43U];
 827:Drivers/CMSIS/Include/core_cm4.h ****   __OM  uint32_t LAR;                    /*!< Offset: 0xFB0 ( /W)  ITM Lock Access Register */
 828:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t LSR;                    /*!< Offset: 0xFB4 (R/ )  ITM Lock Status Register */
 829:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED5[6U];
 830:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PID4;                   /*!< Offset: 0xFD0 (R/ )  ITM Peripheral Identification Re
 831:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PID5;                   /*!< Offset: 0xFD4 (R/ )  ITM Peripheral Identification Re
 832:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PID6;                   /*!< Offset: 0xFD8 (R/ )  ITM Peripheral Identification Re
 833:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PID7;                   /*!< Offset: 0xFDC (R/ )  ITM Peripheral Identification Re
 834:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PID0;                   /*!< Offset: 0xFE0 (R/ )  ITM Peripheral Identification Re
 835:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PID1;                   /*!< Offset: 0xFE4 (R/ )  ITM Peripheral Identification Re
 836:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PID2;                   /*!< Offset: 0xFE8 (R/ )  ITM Peripheral Identification Re
 837:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PID3;                   /*!< Offset: 0xFEC (R/ )  ITM Peripheral Identification Re
 838:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t CID0;                   /*!< Offset: 0xFF0 (R/ )  ITM Component  Identification Re
 839:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t CID1;                   /*!< Offset: 0xFF4 (R/ )  ITM Component  Identification Re
 840:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t CID2;                   /*!< Offset: 0xFF8 (R/ )  ITM Component  Identification Re
 841:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t CID3;                   /*!< Offset: 0xFFC (R/ )  ITM Component  Identification Re
 842:Drivers/CMSIS/Include/core_cm4.h **** } ITM_Type;
 843:Drivers/CMSIS/Include/core_cm4.h **** 
 844:Drivers/CMSIS/Include/core_cm4.h **** /* ITM Trace Privilege Register Definitions */
 845:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TPR_PRIVMASK_Pos                0U                                            /*!< ITM 
 846:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TPR_PRIVMASK_Msk               (0xFFFFFFFFUL /*<< ITM_TPR_PRIVMASK_Pos*/)     /*!< ITM 
 847:Drivers/CMSIS/Include/core_cm4.h **** 
 848:Drivers/CMSIS/Include/core_cm4.h **** /* ITM Trace Control Register Definitions */
 849:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_BUSY_Pos                   23U                                            /*!< ITM 
 850:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_BUSY_Msk                   (1UL << ITM_TCR_BUSY_Pos)                      /*!< ITM 
 851:Drivers/CMSIS/Include/core_cm4.h **** 
 852:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_TraceBusID_Pos             16U                                            /*!< ITM 
 853:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_TraceBusID_Msk             (0x7FUL << ITM_TCR_TraceBusID_Pos)             /*!< ITM 
 854:Drivers/CMSIS/Include/core_cm4.h **** 
 855:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_GTSFREQ_Pos                10U                                            /*!< ITM 
 856:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_GTSFREQ_Msk                (3UL << ITM_TCR_GTSFREQ_Pos)                   /*!< ITM 
 857:Drivers/CMSIS/Include/core_cm4.h **** 
 858:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_TSPrescale_Pos              8U                                            /*!< ITM 
 859:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_TSPrescale_Msk             (3UL << ITM_TCR_TSPrescale_Pos)                /*!< ITM 
 860:Drivers/CMSIS/Include/core_cm4.h **** 
 861:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_SWOENA_Pos                  4U                                            /*!< ITM 
 862:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_SWOENA_Msk                 (1UL << ITM_TCR_SWOENA_Pos)                    /*!< ITM 
 863:Drivers/CMSIS/Include/core_cm4.h **** 
 864:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_DWTENA_Pos                  3U                                            /*!< ITM 
 865:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_DWTENA_Msk                 (1UL << ITM_TCR_DWTENA_Pos)                    /*!< ITM 
 866:Drivers/CMSIS/Include/core_cm4.h **** 
 867:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_SYNCENA_Pos                 2U                                            /*!< ITM 
 868:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_SYNCENA_Msk                (1UL << ITM_TCR_SYNCENA_Pos)                   /*!< ITM 
 869:Drivers/CMSIS/Include/core_cm4.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 95


 870:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_TSENA_Pos                   1U                                            /*!< ITM 
 871:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_TSENA_Msk                  (1UL << ITM_TCR_TSENA_Pos)                     /*!< ITM 
 872:Drivers/CMSIS/Include/core_cm4.h **** 
 873:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_ITMENA_Pos                  0U                                            /*!< ITM 
 874:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_TCR_ITMENA_Msk                 (1UL /*<< ITM_TCR_ITMENA_Pos*/)                /*!< ITM 
 875:Drivers/CMSIS/Include/core_cm4.h **** 
 876:Drivers/CMSIS/Include/core_cm4.h **** /* ITM Lock Status Register Definitions */
 877:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_LSR_ByteAcc_Pos                 2U                                            /*!< ITM 
 878:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_LSR_ByteAcc_Msk                (1UL << ITM_LSR_ByteAcc_Pos)                   /*!< ITM 
 879:Drivers/CMSIS/Include/core_cm4.h **** 
 880:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_LSR_Access_Pos                  1U                                            /*!< ITM 
 881:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_LSR_Access_Msk                 (1UL << ITM_LSR_Access_Pos)                    /*!< ITM 
 882:Drivers/CMSIS/Include/core_cm4.h **** 
 883:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_LSR_Present_Pos                 0U                                            /*!< ITM 
 884:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_LSR_Present_Msk                (1UL /*<< ITM_LSR_Present_Pos*/)               /*!< ITM 
 885:Drivers/CMSIS/Include/core_cm4.h **** 
 886:Drivers/CMSIS/Include/core_cm4.h **** /*@}*/ /* end of group CMSIS_ITM */
 887:Drivers/CMSIS/Include/core_cm4.h **** 
 888:Drivers/CMSIS/Include/core_cm4.h **** 
 889:Drivers/CMSIS/Include/core_cm4.h **** /**
 890:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_core_register
 891:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_DWT     Data Watchpoint and Trace (DWT)
 892:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Type definitions for the Data Watchpoint and Trace (DWT)
 893:Drivers/CMSIS/Include/core_cm4.h ****   @{
 894:Drivers/CMSIS/Include/core_cm4.h ****  */
 895:Drivers/CMSIS/Include/core_cm4.h **** 
 896:Drivers/CMSIS/Include/core_cm4.h **** /**
 897:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the Data Watchpoint and Trace Register (DWT).
 898:Drivers/CMSIS/Include/core_cm4.h ****  */
 899:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
 900:Drivers/CMSIS/Include/core_cm4.h **** {
 901:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CTRL;                   /*!< Offset: 0x000 (R/W)  Control Register */
 902:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CYCCNT;                 /*!< Offset: 0x004 (R/W)  Cycle Count Register */
 903:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CPICNT;                 /*!< Offset: 0x008 (R/W)  CPI Count Register */
 904:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t EXCCNT;                 /*!< Offset: 0x00C (R/W)  Exception Overhead Count Registe
 905:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t SLEEPCNT;               /*!< Offset: 0x010 (R/W)  Sleep Count Register */
 906:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t LSUCNT;                 /*!< Offset: 0x014 (R/W)  LSU Count Register */
 907:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t FOLDCNT;                /*!< Offset: 0x018 (R/W)  Folded-instruction Count Registe
 908:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t PCSR;                   /*!< Offset: 0x01C (R/ )  Program Counter Sample Register 
 909:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t COMP0;                  /*!< Offset: 0x020 (R/W)  Comparator Register 0 */
 910:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t MASK0;                  /*!< Offset: 0x024 (R/W)  Mask Register 0 */
 911:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t FUNCTION0;              /*!< Offset: 0x028 (R/W)  Function Register 0 */
 912:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED0[1U];
 913:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t COMP1;                  /*!< Offset: 0x030 (R/W)  Comparator Register 1 */
 914:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t MASK1;                  /*!< Offset: 0x034 (R/W)  Mask Register 1 */
 915:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t FUNCTION1;              /*!< Offset: 0x038 (R/W)  Function Register 1 */
 916:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED1[1U];
 917:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t COMP2;                  /*!< Offset: 0x040 (R/W)  Comparator Register 2 */
 918:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t MASK2;                  /*!< Offset: 0x044 (R/W)  Mask Register 2 */
 919:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t FUNCTION2;              /*!< Offset: 0x048 (R/W)  Function Register 2 */
 920:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED2[1U];
 921:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t COMP3;                  /*!< Offset: 0x050 (R/W)  Comparator Register 3 */
 922:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t MASK3;                  /*!< Offset: 0x054 (R/W)  Mask Register 3 */
 923:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t FUNCTION3;              /*!< Offset: 0x058 (R/W)  Function Register 3 */
 924:Drivers/CMSIS/Include/core_cm4.h **** } DWT_Type;
 925:Drivers/CMSIS/Include/core_cm4.h **** 
 926:Drivers/CMSIS/Include/core_cm4.h **** /* DWT Control Register Definitions */
ARM GAS  /tmp/ccOP5HA3.s 			page 96


 927:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NUMCOMP_Pos               28U                                         /*!< DWT CTR
 928:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NUMCOMP_Msk               (0xFUL << DWT_CTRL_NUMCOMP_Pos)             /*!< DWT CTR
 929:Drivers/CMSIS/Include/core_cm4.h **** 
 930:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NOTRCPKT_Pos              27U                                         /*!< DWT CTR
 931:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NOTRCPKT_Msk              (0x1UL << DWT_CTRL_NOTRCPKT_Pos)            /*!< DWT CTR
 932:Drivers/CMSIS/Include/core_cm4.h **** 
 933:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NOEXTTRIG_Pos             26U                                         /*!< DWT CTR
 934:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NOEXTTRIG_Msk             (0x1UL << DWT_CTRL_NOEXTTRIG_Pos)           /*!< DWT CTR
 935:Drivers/CMSIS/Include/core_cm4.h **** 
 936:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NOCYCCNT_Pos              25U                                         /*!< DWT CTR
 937:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NOCYCCNT_Msk              (0x1UL << DWT_CTRL_NOCYCCNT_Pos)            /*!< DWT CTR
 938:Drivers/CMSIS/Include/core_cm4.h **** 
 939:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NOPRFCNT_Pos              24U                                         /*!< DWT CTR
 940:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_NOPRFCNT_Msk              (0x1UL << DWT_CTRL_NOPRFCNT_Pos)            /*!< DWT CTR
 941:Drivers/CMSIS/Include/core_cm4.h **** 
 942:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_CYCEVTENA_Pos             22U                                         /*!< DWT CTR
 943:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_CYCEVTENA_Msk             (0x1UL << DWT_CTRL_CYCEVTENA_Pos)           /*!< DWT CTR
 944:Drivers/CMSIS/Include/core_cm4.h **** 
 945:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_FOLDEVTENA_Pos            21U                                         /*!< DWT CTR
 946:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_FOLDEVTENA_Msk            (0x1UL << DWT_CTRL_FOLDEVTENA_Pos)          /*!< DWT CTR
 947:Drivers/CMSIS/Include/core_cm4.h **** 
 948:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_LSUEVTENA_Pos             20U                                         /*!< DWT CTR
 949:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_LSUEVTENA_Msk             (0x1UL << DWT_CTRL_LSUEVTENA_Pos)           /*!< DWT CTR
 950:Drivers/CMSIS/Include/core_cm4.h **** 
 951:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_SLEEPEVTENA_Pos           19U                                         /*!< DWT CTR
 952:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_SLEEPEVTENA_Msk           (0x1UL << DWT_CTRL_SLEEPEVTENA_Pos)         /*!< DWT CTR
 953:Drivers/CMSIS/Include/core_cm4.h **** 
 954:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_EXCEVTENA_Pos             18U                                         /*!< DWT CTR
 955:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_EXCEVTENA_Msk             (0x1UL << DWT_CTRL_EXCEVTENA_Pos)           /*!< DWT CTR
 956:Drivers/CMSIS/Include/core_cm4.h **** 
 957:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_CPIEVTENA_Pos             17U                                         /*!< DWT CTR
 958:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_CPIEVTENA_Msk             (0x1UL << DWT_CTRL_CPIEVTENA_Pos)           /*!< DWT CTR
 959:Drivers/CMSIS/Include/core_cm4.h **** 
 960:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_EXCTRCENA_Pos             16U                                         /*!< DWT CTR
 961:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_EXCTRCENA_Msk             (0x1UL << DWT_CTRL_EXCTRCENA_Pos)           /*!< DWT CTR
 962:Drivers/CMSIS/Include/core_cm4.h **** 
 963:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_PCSAMPLENA_Pos            12U                                         /*!< DWT CTR
 964:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_PCSAMPLENA_Msk            (0x1UL << DWT_CTRL_PCSAMPLENA_Pos)          /*!< DWT CTR
 965:Drivers/CMSIS/Include/core_cm4.h **** 
 966:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_SYNCTAP_Pos               10U                                         /*!< DWT CTR
 967:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_SYNCTAP_Msk               (0x3UL << DWT_CTRL_SYNCTAP_Pos)             /*!< DWT CTR
 968:Drivers/CMSIS/Include/core_cm4.h **** 
 969:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_CYCTAP_Pos                 9U                                         /*!< DWT CTR
 970:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_CYCTAP_Msk                (0x1UL << DWT_CTRL_CYCTAP_Pos)              /*!< DWT CTR
 971:Drivers/CMSIS/Include/core_cm4.h **** 
 972:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_POSTINIT_Pos               5U                                         /*!< DWT CTR
 973:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_POSTINIT_Msk              (0xFUL << DWT_CTRL_POSTINIT_Pos)            /*!< DWT CTR
 974:Drivers/CMSIS/Include/core_cm4.h **** 
 975:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_POSTPRESET_Pos             1U                                         /*!< DWT CTR
 976:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_POSTPRESET_Msk            (0xFUL << DWT_CTRL_POSTPRESET_Pos)          /*!< DWT CTR
 977:Drivers/CMSIS/Include/core_cm4.h **** 
 978:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_CYCCNTENA_Pos              0U                                         /*!< DWT CTR
 979:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CTRL_CYCCNTENA_Msk             (0x1UL /*<< DWT_CTRL_CYCCNTENA_Pos*/)       /*!< DWT CTR
 980:Drivers/CMSIS/Include/core_cm4.h **** 
 981:Drivers/CMSIS/Include/core_cm4.h **** /* DWT CPI Count Register Definitions */
 982:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CPICNT_CPICNT_Pos               0U                                         /*!< DWT CPI
 983:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_CPICNT_CPICNT_Msk              (0xFFUL /*<< DWT_CPICNT_CPICNT_Pos*/)       /*!< DWT CPI
ARM GAS  /tmp/ccOP5HA3.s 			page 97


 984:Drivers/CMSIS/Include/core_cm4.h **** 
 985:Drivers/CMSIS/Include/core_cm4.h **** /* DWT Exception Overhead Count Register Definitions */
 986:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_EXCCNT_EXCCNT_Pos               0U                                         /*!< DWT EXC
 987:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_EXCCNT_EXCCNT_Msk              (0xFFUL /*<< DWT_EXCCNT_EXCCNT_Pos*/)       /*!< DWT EXC
 988:Drivers/CMSIS/Include/core_cm4.h **** 
 989:Drivers/CMSIS/Include/core_cm4.h **** /* DWT Sleep Count Register Definitions */
 990:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_SLEEPCNT_SLEEPCNT_Pos           0U                                         /*!< DWT SLE
 991:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_SLEEPCNT_SLEEPCNT_Msk          (0xFFUL /*<< DWT_SLEEPCNT_SLEEPCNT_Pos*/)   /*!< DWT SLE
 992:Drivers/CMSIS/Include/core_cm4.h **** 
 993:Drivers/CMSIS/Include/core_cm4.h **** /* DWT LSU Count Register Definitions */
 994:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_LSUCNT_LSUCNT_Pos               0U                                         /*!< DWT LSU
 995:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_LSUCNT_LSUCNT_Msk              (0xFFUL /*<< DWT_LSUCNT_LSUCNT_Pos*/)       /*!< DWT LSU
 996:Drivers/CMSIS/Include/core_cm4.h **** 
 997:Drivers/CMSIS/Include/core_cm4.h **** /* DWT Folded-instruction Count Register Definitions */
 998:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FOLDCNT_FOLDCNT_Pos             0U                                         /*!< DWT FOL
 999:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FOLDCNT_FOLDCNT_Msk            (0xFFUL /*<< DWT_FOLDCNT_FOLDCNT_Pos*/)     /*!< DWT FOL
1000:Drivers/CMSIS/Include/core_cm4.h **** 
1001:Drivers/CMSIS/Include/core_cm4.h **** /* DWT Comparator Mask Register Definitions */
1002:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_MASK_MASK_Pos                   0U                                         /*!< DWT MAS
1003:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_MASK_MASK_Msk                  (0x1FUL /*<< DWT_MASK_MASK_Pos*/)           /*!< DWT MAS
1004:Drivers/CMSIS/Include/core_cm4.h **** 
1005:Drivers/CMSIS/Include/core_cm4.h **** /* DWT Comparator Function Register Definitions */
1006:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_MATCHED_Pos           24U                                         /*!< DWT FUN
1007:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_MATCHED_Msk           (0x1UL << DWT_FUNCTION_MATCHED_Pos)         /*!< DWT FUN
1008:Drivers/CMSIS/Include/core_cm4.h **** 
1009:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_DATAVADDR1_Pos        16U                                         /*!< DWT FUN
1010:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_DATAVADDR1_Msk        (0xFUL << DWT_FUNCTION_DATAVADDR1_Pos)      /*!< DWT FUN
1011:Drivers/CMSIS/Include/core_cm4.h **** 
1012:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_DATAVADDR0_Pos        12U                                         /*!< DWT FUN
1013:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_DATAVADDR0_Msk        (0xFUL << DWT_FUNCTION_DATAVADDR0_Pos)      /*!< DWT FUN
1014:Drivers/CMSIS/Include/core_cm4.h **** 
1015:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_DATAVSIZE_Pos         10U                                         /*!< DWT FUN
1016:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_DATAVSIZE_Msk         (0x3UL << DWT_FUNCTION_DATAVSIZE_Pos)       /*!< DWT FUN
1017:Drivers/CMSIS/Include/core_cm4.h **** 
1018:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_LNK1ENA_Pos            9U                                         /*!< DWT FUN
1019:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_LNK1ENA_Msk           (0x1UL << DWT_FUNCTION_LNK1ENA_Pos)         /*!< DWT FUN
1020:Drivers/CMSIS/Include/core_cm4.h **** 
1021:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_DATAVMATCH_Pos         8U                                         /*!< DWT FUN
1022:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_DATAVMATCH_Msk        (0x1UL << DWT_FUNCTION_DATAVMATCH_Pos)      /*!< DWT FUN
1023:Drivers/CMSIS/Include/core_cm4.h **** 
1024:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_CYCMATCH_Pos           7U                                         /*!< DWT FUN
1025:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_CYCMATCH_Msk          (0x1UL << DWT_FUNCTION_CYCMATCH_Pos)        /*!< DWT FUN
1026:Drivers/CMSIS/Include/core_cm4.h **** 
1027:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_EMITRANGE_Pos          5U                                         /*!< DWT FUN
1028:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_EMITRANGE_Msk         (0x1UL << DWT_FUNCTION_EMITRANGE_Pos)       /*!< DWT FUN
1029:Drivers/CMSIS/Include/core_cm4.h **** 
1030:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_FUNCTION_Pos           0U                                         /*!< DWT FUN
1031:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_FUNCTION_FUNCTION_Msk          (0xFUL /*<< DWT_FUNCTION_FUNCTION_Pos*/)    /*!< DWT FUN
1032:Drivers/CMSIS/Include/core_cm4.h **** 
1033:Drivers/CMSIS/Include/core_cm4.h **** /*@}*/ /* end of group CMSIS_DWT */
1034:Drivers/CMSIS/Include/core_cm4.h **** 
1035:Drivers/CMSIS/Include/core_cm4.h **** 
1036:Drivers/CMSIS/Include/core_cm4.h **** /**
1037:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_core_register
1038:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_TPI     Trace Port Interface (TPI)
1039:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Type definitions for the Trace Port Interface (TPI)
1040:Drivers/CMSIS/Include/core_cm4.h ****   @{
ARM GAS  /tmp/ccOP5HA3.s 			page 98


1041:Drivers/CMSIS/Include/core_cm4.h ****  */
1042:Drivers/CMSIS/Include/core_cm4.h **** 
1043:Drivers/CMSIS/Include/core_cm4.h **** /**
1044:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the Trace Port Interface Register (TPI).
1045:Drivers/CMSIS/Include/core_cm4.h ****  */
1046:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
1047:Drivers/CMSIS/Include/core_cm4.h **** {
1048:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t SSPSR;                  /*!< Offset: 0x000 (R/ )  Supported Parallel Port Size Reg
1049:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CSPSR;                  /*!< Offset: 0x004 (R/W)  Current Parallel Port Size Regis
1050:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED0[2U];
1051:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t ACPR;                   /*!< Offset: 0x010 (R/W)  Asynchronous Clock Prescaler Reg
1052:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED1[55U];
1053:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t SPPR;                   /*!< Offset: 0x0F0 (R/W)  Selected Pin Protocol Register *
1054:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED2[131U];
1055:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t FFSR;                   /*!< Offset: 0x300 (R/ )  Formatter and Flush Status Regis
1056:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t FFCR;                   /*!< Offset: 0x304 (R/W)  Formatter and Flush Control Regi
1057:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t FSCR;                   /*!< Offset: 0x308 (R/ )  Formatter Synchronization Counte
1058:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED3[759U];
1059:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t TRIGGER;                /*!< Offset: 0xEE8 (R/ )  TRIGGER Register */
1060:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t FIFO0;                  /*!< Offset: 0xEEC (R/ )  Integration ETM Data */
1061:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t ITATBCTR2;              /*!< Offset: 0xEF0 (R/ )  ITATBCTR2 */
1062:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED4[1U];
1063:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t ITATBCTR0;              /*!< Offset: 0xEF8 (R/ )  ITATBCTR0 */
1064:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t FIFO1;                  /*!< Offset: 0xEFC (R/ )  Integration ITM Data */
1065:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t ITCTRL;                 /*!< Offset: 0xF00 (R/W)  Integration Mode Control */
1066:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED5[39U];
1067:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CLAIMSET;               /*!< Offset: 0xFA0 (R/W)  Claim tag set */
1068:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CLAIMCLR;               /*!< Offset: 0xFA4 (R/W)  Claim tag clear */
1069:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED7[8U];
1070:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t DEVID;                  /*!< Offset: 0xFC8 (R/ )  TPIU_DEVID */
1071:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t DEVTYPE;                /*!< Offset: 0xFCC (R/ )  TPIU_DEVTYPE */
1072:Drivers/CMSIS/Include/core_cm4.h **** } TPI_Type;
1073:Drivers/CMSIS/Include/core_cm4.h **** 
1074:Drivers/CMSIS/Include/core_cm4.h **** /* TPI Asynchronous Clock Prescaler Register Definitions */
1075:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ACPR_PRESCALER_Pos              0U                                         /*!< TPI ACP
1076:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ACPR_PRESCALER_Msk             (0x1FFFUL /*<< TPI_ACPR_PRESCALER_Pos*/)    /*!< TPI ACP
1077:Drivers/CMSIS/Include/core_cm4.h **** 
1078:Drivers/CMSIS/Include/core_cm4.h **** /* TPI Selected Pin Protocol Register Definitions */
1079:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_SPPR_TXMODE_Pos                 0U                                         /*!< TPI SPP
1080:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_SPPR_TXMODE_Msk                (0x3UL /*<< TPI_SPPR_TXMODE_Pos*/)          /*!< TPI SPP
1081:Drivers/CMSIS/Include/core_cm4.h **** 
1082:Drivers/CMSIS/Include/core_cm4.h **** /* TPI Formatter and Flush Status Register Definitions */
1083:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFSR_FtNonStop_Pos              3U                                         /*!< TPI FFS
1084:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFSR_FtNonStop_Msk             (0x1UL << TPI_FFSR_FtNonStop_Pos)           /*!< TPI FFS
1085:Drivers/CMSIS/Include/core_cm4.h **** 
1086:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFSR_TCPresent_Pos              2U                                         /*!< TPI FFS
1087:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFSR_TCPresent_Msk             (0x1UL << TPI_FFSR_TCPresent_Pos)           /*!< TPI FFS
1088:Drivers/CMSIS/Include/core_cm4.h **** 
1089:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFSR_FtStopped_Pos              1U                                         /*!< TPI FFS
1090:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFSR_FtStopped_Msk             (0x1UL << TPI_FFSR_FtStopped_Pos)           /*!< TPI FFS
1091:Drivers/CMSIS/Include/core_cm4.h **** 
1092:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFSR_FlInProg_Pos               0U                                         /*!< TPI FFS
1093:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFSR_FlInProg_Msk              (0x1UL /*<< TPI_FFSR_FlInProg_Pos*/)        /*!< TPI FFS
1094:Drivers/CMSIS/Include/core_cm4.h **** 
1095:Drivers/CMSIS/Include/core_cm4.h **** /* TPI Formatter and Flush Control Register Definitions */
1096:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFCR_TrigIn_Pos                 8U                                         /*!< TPI FFC
1097:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFCR_TrigIn_Msk                (0x1UL << TPI_FFCR_TrigIn_Pos)              /*!< TPI FFC
ARM GAS  /tmp/ccOP5HA3.s 			page 99


1098:Drivers/CMSIS/Include/core_cm4.h **** 
1099:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFCR_EnFCont_Pos                1U                                         /*!< TPI FFC
1100:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FFCR_EnFCont_Msk               (0x1UL << TPI_FFCR_EnFCont_Pos)             /*!< TPI FFC
1101:Drivers/CMSIS/Include/core_cm4.h **** 
1102:Drivers/CMSIS/Include/core_cm4.h **** /* TPI TRIGGER Register Definitions */
1103:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_TRIGGER_TRIGGER_Pos             0U                                         /*!< TPI TRI
1104:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_TRIGGER_TRIGGER_Msk            (0x1UL /*<< TPI_TRIGGER_TRIGGER_Pos*/)      /*!< TPI TRI
1105:Drivers/CMSIS/Include/core_cm4.h **** 
1106:Drivers/CMSIS/Include/core_cm4.h **** /* TPI Integration ETM Data Register Definitions (FIFO0) */
1107:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ITM_ATVALID_Pos          29U                                         /*!< TPI FIF
1108:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ITM_ATVALID_Msk          (0x1UL << TPI_FIFO0_ITM_ATVALID_Pos)        /*!< TPI FIF
1109:Drivers/CMSIS/Include/core_cm4.h **** 
1110:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ITM_bytecount_Pos        27U                                         /*!< TPI FIF
1111:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ITM_bytecount_Msk        (0x3UL << TPI_FIFO0_ITM_bytecount_Pos)      /*!< TPI FIF
1112:Drivers/CMSIS/Include/core_cm4.h **** 
1113:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM_ATVALID_Pos          26U                                         /*!< TPI FIF
1114:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM_ATVALID_Msk          (0x1UL << TPI_FIFO0_ETM_ATVALID_Pos)        /*!< TPI FIF
1115:Drivers/CMSIS/Include/core_cm4.h **** 
1116:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM_bytecount_Pos        24U                                         /*!< TPI FIF
1117:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM_bytecount_Msk        (0x3UL << TPI_FIFO0_ETM_bytecount_Pos)      /*!< TPI FIF
1118:Drivers/CMSIS/Include/core_cm4.h **** 
1119:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM2_Pos                 16U                                         /*!< TPI FIF
1120:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM2_Msk                 (0xFFUL << TPI_FIFO0_ETM2_Pos)              /*!< TPI FIF
1121:Drivers/CMSIS/Include/core_cm4.h **** 
1122:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM1_Pos                  8U                                         /*!< TPI FIF
1123:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM1_Msk                 (0xFFUL << TPI_FIFO0_ETM1_Pos)              /*!< TPI FIF
1124:Drivers/CMSIS/Include/core_cm4.h **** 
1125:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM0_Pos                  0U                                         /*!< TPI FIF
1126:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO0_ETM0_Msk                 (0xFFUL /*<< TPI_FIFO0_ETM0_Pos*/)          /*!< TPI FIF
1127:Drivers/CMSIS/Include/core_cm4.h **** 
1128:Drivers/CMSIS/Include/core_cm4.h **** /* TPI ITATBCTR2 Register Definitions */
1129:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITATBCTR2_ATREADY2_Pos          0U                                         /*!< TPI ITA
1130:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITATBCTR2_ATREADY2_Msk         (0x1UL /*<< TPI_ITATBCTR2_ATREADY2_Pos*/)   /*!< TPI ITA
1131:Drivers/CMSIS/Include/core_cm4.h **** 
1132:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITATBCTR2_ATREADY1_Pos          0U                                         /*!< TPI ITA
1133:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITATBCTR2_ATREADY1_Msk         (0x1UL /*<< TPI_ITATBCTR2_ATREADY1_Pos*/)   /*!< TPI ITA
1134:Drivers/CMSIS/Include/core_cm4.h **** 
1135:Drivers/CMSIS/Include/core_cm4.h **** /* TPI Integration ITM Data Register Definitions (FIFO1) */
1136:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM_ATVALID_Pos          29U                                         /*!< TPI FIF
1137:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM_ATVALID_Msk          (0x1UL << TPI_FIFO1_ITM_ATVALID_Pos)        /*!< TPI FIF
1138:Drivers/CMSIS/Include/core_cm4.h **** 
1139:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM_bytecount_Pos        27U                                         /*!< TPI FIF
1140:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM_bytecount_Msk        (0x3UL << TPI_FIFO1_ITM_bytecount_Pos)      /*!< TPI FIF
1141:Drivers/CMSIS/Include/core_cm4.h **** 
1142:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ETM_ATVALID_Pos          26U                                         /*!< TPI FIF
1143:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ETM_ATVALID_Msk          (0x1UL << TPI_FIFO1_ETM_ATVALID_Pos)        /*!< TPI FIF
1144:Drivers/CMSIS/Include/core_cm4.h **** 
1145:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ETM_bytecount_Pos        24U                                         /*!< TPI FIF
1146:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ETM_bytecount_Msk        (0x3UL << TPI_FIFO1_ETM_bytecount_Pos)      /*!< TPI FIF
1147:Drivers/CMSIS/Include/core_cm4.h **** 
1148:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM2_Pos                 16U                                         /*!< TPI FIF
1149:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM2_Msk                 (0xFFUL << TPI_FIFO1_ITM2_Pos)              /*!< TPI FIF
1150:Drivers/CMSIS/Include/core_cm4.h **** 
1151:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM1_Pos                  8U                                         /*!< TPI FIF
1152:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM1_Msk                 (0xFFUL << TPI_FIFO1_ITM1_Pos)              /*!< TPI FIF
1153:Drivers/CMSIS/Include/core_cm4.h **** 
1154:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM0_Pos                  0U                                         /*!< TPI FIF
ARM GAS  /tmp/ccOP5HA3.s 			page 100


1155:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_FIFO1_ITM0_Msk                 (0xFFUL /*<< TPI_FIFO1_ITM0_Pos*/)          /*!< TPI FIF
1156:Drivers/CMSIS/Include/core_cm4.h **** 
1157:Drivers/CMSIS/Include/core_cm4.h **** /* TPI ITATBCTR0 Register Definitions */
1158:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITATBCTR0_ATREADY2_Pos          0U                                         /*!< TPI ITA
1159:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITATBCTR0_ATREADY2_Msk         (0x1UL /*<< TPI_ITATBCTR0_ATREADY2_Pos*/)   /*!< TPI ITA
1160:Drivers/CMSIS/Include/core_cm4.h **** 
1161:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITATBCTR0_ATREADY1_Pos          0U                                         /*!< TPI ITA
1162:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITATBCTR0_ATREADY1_Msk         (0x1UL /*<< TPI_ITATBCTR0_ATREADY1_Pos*/)   /*!< TPI ITA
1163:Drivers/CMSIS/Include/core_cm4.h **** 
1164:Drivers/CMSIS/Include/core_cm4.h **** /* TPI Integration Mode Control Register Definitions */
1165:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITCTRL_Mode_Pos                 0U                                         /*!< TPI ITC
1166:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_ITCTRL_Mode_Msk                (0x3UL /*<< TPI_ITCTRL_Mode_Pos*/)          /*!< TPI ITC
1167:Drivers/CMSIS/Include/core_cm4.h **** 
1168:Drivers/CMSIS/Include/core_cm4.h **** /* TPI DEVID Register Definitions */
1169:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_NRZVALID_Pos             11U                                         /*!< TPI DEV
1170:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_NRZVALID_Msk             (0x1UL << TPI_DEVID_NRZVALID_Pos)           /*!< TPI DEV
1171:Drivers/CMSIS/Include/core_cm4.h **** 
1172:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_MANCVALID_Pos            10U                                         /*!< TPI DEV
1173:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_MANCVALID_Msk            (0x1UL << TPI_DEVID_MANCVALID_Pos)          /*!< TPI DEV
1174:Drivers/CMSIS/Include/core_cm4.h **** 
1175:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_PTINVALID_Pos             9U                                         /*!< TPI DEV
1176:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_PTINVALID_Msk            (0x1UL << TPI_DEVID_PTINVALID_Pos)          /*!< TPI DEV
1177:Drivers/CMSIS/Include/core_cm4.h **** 
1178:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_MinBufSz_Pos              6U                                         /*!< TPI DEV
1179:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_MinBufSz_Msk             (0x7UL << TPI_DEVID_MinBufSz_Pos)           /*!< TPI DEV
1180:Drivers/CMSIS/Include/core_cm4.h **** 
1181:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_AsynClkIn_Pos             5U                                         /*!< TPI DEV
1182:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_AsynClkIn_Msk            (0x1UL << TPI_DEVID_AsynClkIn_Pos)          /*!< TPI DEV
1183:Drivers/CMSIS/Include/core_cm4.h **** 
1184:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_NrTraceInput_Pos          0U                                         /*!< TPI DEV
1185:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVID_NrTraceInput_Msk         (0x1FUL /*<< TPI_DEVID_NrTraceInput_Pos*/)  /*!< TPI DEV
1186:Drivers/CMSIS/Include/core_cm4.h **** 
1187:Drivers/CMSIS/Include/core_cm4.h **** /* TPI DEVTYPE Register Definitions */
1188:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVTYPE_SubType_Pos             4U                                         /*!< TPI DEV
1189:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVTYPE_SubType_Msk            (0xFUL /*<< TPI_DEVTYPE_SubType_Pos*/)      /*!< TPI DEV
1190:Drivers/CMSIS/Include/core_cm4.h **** 
1191:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVTYPE_MajorType_Pos           0U                                         /*!< TPI DEV
1192:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_DEVTYPE_MajorType_Msk          (0xFUL << TPI_DEVTYPE_MajorType_Pos)        /*!< TPI DEV
1193:Drivers/CMSIS/Include/core_cm4.h **** 
1194:Drivers/CMSIS/Include/core_cm4.h **** /*@}*/ /* end of group CMSIS_TPI */
1195:Drivers/CMSIS/Include/core_cm4.h **** 
1196:Drivers/CMSIS/Include/core_cm4.h **** 
1197:Drivers/CMSIS/Include/core_cm4.h **** #if defined (__MPU_PRESENT) && (__MPU_PRESENT == 1U)
1198:Drivers/CMSIS/Include/core_cm4.h **** /**
1199:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_core_register
1200:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_MPU     Memory Protection Unit (MPU)
1201:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Type definitions for the Memory Protection Unit (MPU)
1202:Drivers/CMSIS/Include/core_cm4.h ****   @{
1203:Drivers/CMSIS/Include/core_cm4.h ****  */
1204:Drivers/CMSIS/Include/core_cm4.h **** 
1205:Drivers/CMSIS/Include/core_cm4.h **** /**
1206:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the Memory Protection Unit (MPU).
1207:Drivers/CMSIS/Include/core_cm4.h ****  */
1208:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
1209:Drivers/CMSIS/Include/core_cm4.h **** {
1210:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t TYPE;                   /*!< Offset: 0x000 (R/ )  MPU Type Register */
1211:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t CTRL;                   /*!< Offset: 0x004 (R/W)  MPU Control Register */
ARM GAS  /tmp/ccOP5HA3.s 			page 101


1212:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t RNR;                    /*!< Offset: 0x008 (R/W)  MPU Region RNRber Register */
1213:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t RBAR;                   /*!< Offset: 0x00C (R/W)  MPU Region Base Address Register
1214:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t RASR;                   /*!< Offset: 0x010 (R/W)  MPU Region Attribute and Size Re
1215:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t RBAR_A1;                /*!< Offset: 0x014 (R/W)  MPU Alias 1 Region Base Address 
1216:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t RASR_A1;                /*!< Offset: 0x018 (R/W)  MPU Alias 1 Region Attribute and
1217:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t RBAR_A2;                /*!< Offset: 0x01C (R/W)  MPU Alias 2 Region Base Address 
1218:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t RASR_A2;                /*!< Offset: 0x020 (R/W)  MPU Alias 2 Region Attribute and
1219:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t RBAR_A3;                /*!< Offset: 0x024 (R/W)  MPU Alias 3 Region Base Address 
1220:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t RASR_A3;                /*!< Offset: 0x028 (R/W)  MPU Alias 3 Region Attribute and
1221:Drivers/CMSIS/Include/core_cm4.h **** } MPU_Type;
1222:Drivers/CMSIS/Include/core_cm4.h **** 
1223:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_TYPE_RALIASES                  4U
1224:Drivers/CMSIS/Include/core_cm4.h **** 
1225:Drivers/CMSIS/Include/core_cm4.h **** /* MPU Type Register Definitions */
1226:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_TYPE_IREGION_Pos               16U                                            /*!< MPU 
1227:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_TYPE_IREGION_Msk               (0xFFUL << MPU_TYPE_IREGION_Pos)               /*!< MPU 
1228:Drivers/CMSIS/Include/core_cm4.h **** 
1229:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_TYPE_DREGION_Pos                8U                                            /*!< MPU 
1230:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_TYPE_DREGION_Msk               (0xFFUL << MPU_TYPE_DREGION_Pos)               /*!< MPU 
1231:Drivers/CMSIS/Include/core_cm4.h **** 
1232:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_TYPE_SEPARATE_Pos               0U                                            /*!< MPU 
1233:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_TYPE_SEPARATE_Msk              (1UL /*<< MPU_TYPE_SEPARATE_Pos*/)             /*!< MPU 
1234:Drivers/CMSIS/Include/core_cm4.h **** 
1235:Drivers/CMSIS/Include/core_cm4.h **** /* MPU Control Register Definitions */
1236:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_CTRL_PRIVDEFENA_Pos             2U                                            /*!< MPU 
1237:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_CTRL_PRIVDEFENA_Msk            (1UL << MPU_CTRL_PRIVDEFENA_Pos)               /*!< MPU 
1238:Drivers/CMSIS/Include/core_cm4.h **** 
1239:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_CTRL_HFNMIENA_Pos               1U                                            /*!< MPU 
1240:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_CTRL_HFNMIENA_Msk              (1UL << MPU_CTRL_HFNMIENA_Pos)                 /*!< MPU 
1241:Drivers/CMSIS/Include/core_cm4.h **** 
1242:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_CTRL_ENABLE_Pos                 0U                                            /*!< MPU 
1243:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_CTRL_ENABLE_Msk                (1UL /*<< MPU_CTRL_ENABLE_Pos*/)               /*!< MPU 
1244:Drivers/CMSIS/Include/core_cm4.h **** 
1245:Drivers/CMSIS/Include/core_cm4.h **** /* MPU Region Number Register Definitions */
1246:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RNR_REGION_Pos                  0U                                            /*!< MPU 
1247:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RNR_REGION_Msk                 (0xFFUL /*<< MPU_RNR_REGION_Pos*/)             /*!< MPU 
1248:Drivers/CMSIS/Include/core_cm4.h **** 
1249:Drivers/CMSIS/Include/core_cm4.h **** /* MPU Region Base Address Register Definitions */
1250:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RBAR_ADDR_Pos                   5U                                            /*!< MPU 
1251:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RBAR_ADDR_Msk                  (0x7FFFFFFUL << MPU_RBAR_ADDR_Pos)             /*!< MPU 
1252:Drivers/CMSIS/Include/core_cm4.h **** 
1253:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RBAR_VALID_Pos                  4U                                            /*!< MPU 
1254:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RBAR_VALID_Msk                 (1UL << MPU_RBAR_VALID_Pos)                    /*!< MPU 
1255:Drivers/CMSIS/Include/core_cm4.h **** 
1256:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RBAR_REGION_Pos                 0U                                            /*!< MPU 
1257:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RBAR_REGION_Msk                (0xFUL /*<< MPU_RBAR_REGION_Pos*/)             /*!< MPU 
1258:Drivers/CMSIS/Include/core_cm4.h **** 
1259:Drivers/CMSIS/Include/core_cm4.h **** /* MPU Region Attribute and Size Register Definitions */
1260:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_ATTRS_Pos                 16U                                            /*!< MPU 
1261:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_ATTRS_Msk                 (0xFFFFUL << MPU_RASR_ATTRS_Pos)               /*!< MPU 
1262:Drivers/CMSIS/Include/core_cm4.h **** 
1263:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_XN_Pos                    28U                                            /*!< MPU 
1264:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_XN_Msk                    (1UL << MPU_RASR_XN_Pos)                       /*!< MPU 
1265:Drivers/CMSIS/Include/core_cm4.h **** 
1266:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_AP_Pos                    24U                                            /*!< MPU 
1267:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_AP_Msk                    (0x7UL << MPU_RASR_AP_Pos)                     /*!< MPU 
1268:Drivers/CMSIS/Include/core_cm4.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 102


1269:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_TEX_Pos                   19U                                            /*!< MPU 
1270:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_TEX_Msk                   (0x7UL << MPU_RASR_TEX_Pos)                    /*!< MPU 
1271:Drivers/CMSIS/Include/core_cm4.h **** 
1272:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_S_Pos                     18U                                            /*!< MPU 
1273:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_S_Msk                     (1UL << MPU_RASR_S_Pos)                        /*!< MPU 
1274:Drivers/CMSIS/Include/core_cm4.h **** 
1275:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_C_Pos                     17U                                            /*!< MPU 
1276:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_C_Msk                     (1UL << MPU_RASR_C_Pos)                        /*!< MPU 
1277:Drivers/CMSIS/Include/core_cm4.h **** 
1278:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_B_Pos                     16U                                            /*!< MPU 
1279:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_B_Msk                     (1UL << MPU_RASR_B_Pos)                        /*!< MPU 
1280:Drivers/CMSIS/Include/core_cm4.h **** 
1281:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_SRD_Pos                    8U                                            /*!< MPU 
1282:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_SRD_Msk                   (0xFFUL << MPU_RASR_SRD_Pos)                   /*!< MPU 
1283:Drivers/CMSIS/Include/core_cm4.h **** 
1284:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_SIZE_Pos                   1U                                            /*!< MPU 
1285:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_SIZE_Msk                  (0x1FUL << MPU_RASR_SIZE_Pos)                  /*!< MPU 
1286:Drivers/CMSIS/Include/core_cm4.h **** 
1287:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_ENABLE_Pos                 0U                                            /*!< MPU 
1288:Drivers/CMSIS/Include/core_cm4.h **** #define MPU_RASR_ENABLE_Msk                (1UL /*<< MPU_RASR_ENABLE_Pos*/)               /*!< MPU 
1289:Drivers/CMSIS/Include/core_cm4.h **** 
1290:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group CMSIS_MPU */
1291:Drivers/CMSIS/Include/core_cm4.h **** #endif /* defined (__MPU_PRESENT) && (__MPU_PRESENT == 1U) */
1292:Drivers/CMSIS/Include/core_cm4.h **** 
1293:Drivers/CMSIS/Include/core_cm4.h **** 
1294:Drivers/CMSIS/Include/core_cm4.h **** /**
1295:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_core_register
1296:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_FPU     Floating Point Unit (FPU)
1297:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Type definitions for the Floating Point Unit (FPU)
1298:Drivers/CMSIS/Include/core_cm4.h ****   @{
1299:Drivers/CMSIS/Include/core_cm4.h ****  */
1300:Drivers/CMSIS/Include/core_cm4.h **** 
1301:Drivers/CMSIS/Include/core_cm4.h **** /**
1302:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the Floating Point Unit (FPU).
1303:Drivers/CMSIS/Include/core_cm4.h ****  */
1304:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
1305:Drivers/CMSIS/Include/core_cm4.h **** {
1306:Drivers/CMSIS/Include/core_cm4.h ****         uint32_t RESERVED0[1U];
1307:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t FPCCR;                  /*!< Offset: 0x004 (R/W)  Floating-Point Context Control R
1308:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t FPCAR;                  /*!< Offset: 0x008 (R/W)  Floating-Point Context Address R
1309:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t FPDSCR;                 /*!< Offset: 0x00C (R/W)  Floating-Point Default Status Co
1310:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t MVFR0;                  /*!< Offset: 0x010 (R/ )  Media and FP Feature Register 0 
1311:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t MVFR1;                  /*!< Offset: 0x014 (R/ )  Media and FP Feature Register 1 
1312:Drivers/CMSIS/Include/core_cm4.h ****   __IM  uint32_t MVFR2;                  /*!< Offset: 0x018 (R/ )  Media and FP Feature Register 2 
1313:Drivers/CMSIS/Include/core_cm4.h **** } FPU_Type;
1314:Drivers/CMSIS/Include/core_cm4.h **** 
1315:Drivers/CMSIS/Include/core_cm4.h **** /* Floating-Point Context Control Register Definitions */
1316:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_ASPEN_Pos                31U                                            /*!< FPCC
1317:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_ASPEN_Msk                (1UL << FPU_FPCCR_ASPEN_Pos)                   /*!< FPCC
1318:Drivers/CMSIS/Include/core_cm4.h **** 
1319:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_LSPEN_Pos                30U                                            /*!< FPCC
1320:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_LSPEN_Msk                (1UL << FPU_FPCCR_LSPEN_Pos)                   /*!< FPCC
1321:Drivers/CMSIS/Include/core_cm4.h **** 
1322:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_MONRDY_Pos                8U                                            /*!< FPCC
1323:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_MONRDY_Msk               (1UL << FPU_FPCCR_MONRDY_Pos)                  /*!< FPCC
1324:Drivers/CMSIS/Include/core_cm4.h **** 
1325:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_BFRDY_Pos                 6U                                            /*!< FPCC
ARM GAS  /tmp/ccOP5HA3.s 			page 103


1326:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_BFRDY_Msk                (1UL << FPU_FPCCR_BFRDY_Pos)                   /*!< FPCC
1327:Drivers/CMSIS/Include/core_cm4.h **** 
1328:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_MMRDY_Pos                 5U                                            /*!< FPCC
1329:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_MMRDY_Msk                (1UL << FPU_FPCCR_MMRDY_Pos)                   /*!< FPCC
1330:Drivers/CMSIS/Include/core_cm4.h **** 
1331:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_HFRDY_Pos                 4U                                            /*!< FPCC
1332:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_HFRDY_Msk                (1UL << FPU_FPCCR_HFRDY_Pos)                   /*!< FPCC
1333:Drivers/CMSIS/Include/core_cm4.h **** 
1334:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_THREAD_Pos                3U                                            /*!< FPCC
1335:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_THREAD_Msk               (1UL << FPU_FPCCR_THREAD_Pos)                  /*!< FPCC
1336:Drivers/CMSIS/Include/core_cm4.h **** 
1337:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_USER_Pos                  1U                                            /*!< FPCC
1338:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_USER_Msk                 (1UL << FPU_FPCCR_USER_Pos)                    /*!< FPCC
1339:Drivers/CMSIS/Include/core_cm4.h **** 
1340:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_LSPACT_Pos                0U                                            /*!< FPCC
1341:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCCR_LSPACT_Msk               (1UL /*<< FPU_FPCCR_LSPACT_Pos*/)              /*!< FPCC
1342:Drivers/CMSIS/Include/core_cm4.h **** 
1343:Drivers/CMSIS/Include/core_cm4.h **** /* Floating-Point Context Address Register Definitions */
1344:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCAR_ADDRESS_Pos               3U                                            /*!< FPCA
1345:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPCAR_ADDRESS_Msk              (0x1FFFFFFFUL << FPU_FPCAR_ADDRESS_Pos)        /*!< FPCA
1346:Drivers/CMSIS/Include/core_cm4.h **** 
1347:Drivers/CMSIS/Include/core_cm4.h **** /* Floating-Point Default Status Control Register Definitions */
1348:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPDSCR_AHP_Pos                 26U                                            /*!< FPDS
1349:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPDSCR_AHP_Msk                 (1UL << FPU_FPDSCR_AHP_Pos)                    /*!< FPDS
1350:Drivers/CMSIS/Include/core_cm4.h **** 
1351:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPDSCR_DN_Pos                  25U                                            /*!< FPDS
1352:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPDSCR_DN_Msk                  (1UL << FPU_FPDSCR_DN_Pos)                     /*!< FPDS
1353:Drivers/CMSIS/Include/core_cm4.h **** 
1354:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPDSCR_FZ_Pos                  24U                                            /*!< FPDS
1355:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPDSCR_FZ_Msk                  (1UL << FPU_FPDSCR_FZ_Pos)                     /*!< FPDS
1356:Drivers/CMSIS/Include/core_cm4.h **** 
1357:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPDSCR_RMode_Pos               22U                                            /*!< FPDS
1358:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_FPDSCR_RMode_Msk               (3UL << FPU_FPDSCR_RMode_Pos)                  /*!< FPDS
1359:Drivers/CMSIS/Include/core_cm4.h **** 
1360:Drivers/CMSIS/Include/core_cm4.h **** /* Media and FP Feature Register 0 Definitions */
1361:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_FP_rounding_modes_Pos    28U                                            /*!< MVFR
1362:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_FP_rounding_modes_Msk    (0xFUL << FPU_MVFR0_FP_rounding_modes_Pos)     /*!< MVFR
1363:Drivers/CMSIS/Include/core_cm4.h **** 
1364:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Short_vectors_Pos        24U                                            /*!< MVFR
1365:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Short_vectors_Msk        (0xFUL << FPU_MVFR0_Short_vectors_Pos)         /*!< MVFR
1366:Drivers/CMSIS/Include/core_cm4.h **** 
1367:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Square_root_Pos          20U                                            /*!< MVFR
1368:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Square_root_Msk          (0xFUL << FPU_MVFR0_Square_root_Pos)           /*!< MVFR
1369:Drivers/CMSIS/Include/core_cm4.h **** 
1370:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Divide_Pos               16U                                            /*!< MVFR
1371:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Divide_Msk               (0xFUL << FPU_MVFR0_Divide_Pos)                /*!< MVFR
1372:Drivers/CMSIS/Include/core_cm4.h **** 
1373:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_FP_excep_trapping_Pos    12U                                            /*!< MVFR
1374:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_FP_excep_trapping_Msk    (0xFUL << FPU_MVFR0_FP_excep_trapping_Pos)     /*!< MVFR
1375:Drivers/CMSIS/Include/core_cm4.h **** 
1376:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Double_precision_Pos      8U                                            /*!< MVFR
1377:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Double_precision_Msk     (0xFUL << FPU_MVFR0_Double_precision_Pos)      /*!< MVFR
1378:Drivers/CMSIS/Include/core_cm4.h **** 
1379:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Single_precision_Pos      4U                                            /*!< MVFR
1380:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_Single_precision_Msk     (0xFUL << FPU_MVFR0_Single_precision_Pos)      /*!< MVFR
1381:Drivers/CMSIS/Include/core_cm4.h **** 
1382:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_A_SIMD_registers_Pos      0U                                            /*!< MVFR
ARM GAS  /tmp/ccOP5HA3.s 			page 104


1383:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR0_A_SIMD_registers_Msk     (0xFUL /*<< FPU_MVFR0_A_SIMD_registers_Pos*/)  /*!< MVFR
1384:Drivers/CMSIS/Include/core_cm4.h **** 
1385:Drivers/CMSIS/Include/core_cm4.h **** /* Media and FP Feature Register 1 Definitions */
1386:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR1_FP_fused_MAC_Pos         28U                                            /*!< MVFR
1387:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR1_FP_fused_MAC_Msk         (0xFUL << FPU_MVFR1_FP_fused_MAC_Pos)          /*!< MVFR
1388:Drivers/CMSIS/Include/core_cm4.h **** 
1389:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR1_FP_HPFP_Pos              24U                                            /*!< MVFR
1390:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR1_FP_HPFP_Msk              (0xFUL << FPU_MVFR1_FP_HPFP_Pos)               /*!< MVFR
1391:Drivers/CMSIS/Include/core_cm4.h **** 
1392:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR1_D_NaN_mode_Pos            4U                                            /*!< MVFR
1393:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR1_D_NaN_mode_Msk           (0xFUL << FPU_MVFR1_D_NaN_mode_Pos)            /*!< MVFR
1394:Drivers/CMSIS/Include/core_cm4.h **** 
1395:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR1_FtZ_mode_Pos              0U                                            /*!< MVFR
1396:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR1_FtZ_mode_Msk             (0xFUL /*<< FPU_MVFR1_FtZ_mode_Pos*/)          /*!< MVFR
1397:Drivers/CMSIS/Include/core_cm4.h **** 
1398:Drivers/CMSIS/Include/core_cm4.h **** /* Media and FP Feature Register 2 Definitions */
1399:Drivers/CMSIS/Include/core_cm4.h **** 
1400:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR2_VFP_Misc_Pos              4U                                            /*!< MVFR
1401:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_MVFR2_VFP_Misc_Msk             (0xFUL << FPU_MVFR2_VFP_Misc_Pos)              /*!< MVFR
1402:Drivers/CMSIS/Include/core_cm4.h **** 
1403:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group CMSIS_FPU */
1404:Drivers/CMSIS/Include/core_cm4.h **** 
1405:Drivers/CMSIS/Include/core_cm4.h **** 
1406:Drivers/CMSIS/Include/core_cm4.h **** /**
1407:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_core_register
1408:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_CoreDebug       Core Debug Registers (CoreDebug)
1409:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Type definitions for the Core Debug Registers
1410:Drivers/CMSIS/Include/core_cm4.h ****   @{
1411:Drivers/CMSIS/Include/core_cm4.h ****  */
1412:Drivers/CMSIS/Include/core_cm4.h **** 
1413:Drivers/CMSIS/Include/core_cm4.h **** /**
1414:Drivers/CMSIS/Include/core_cm4.h ****   \brief  Structure type to access the Core Debug Register (CoreDebug).
1415:Drivers/CMSIS/Include/core_cm4.h ****  */
1416:Drivers/CMSIS/Include/core_cm4.h **** typedef struct
1417:Drivers/CMSIS/Include/core_cm4.h **** {
1418:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t DHCSR;                  /*!< Offset: 0x000 (R/W)  Debug Halting Control and Status
1419:Drivers/CMSIS/Include/core_cm4.h ****   __OM  uint32_t DCRSR;                  /*!< Offset: 0x004 ( /W)  Debug Core Register Selector Reg
1420:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t DCRDR;                  /*!< Offset: 0x008 (R/W)  Debug Core Register Data Registe
1421:Drivers/CMSIS/Include/core_cm4.h ****   __IOM uint32_t DEMCR;                  /*!< Offset: 0x00C (R/W)  Debug Exception and Monitor Cont
1422:Drivers/CMSIS/Include/core_cm4.h **** } CoreDebug_Type;
1423:Drivers/CMSIS/Include/core_cm4.h **** 
1424:Drivers/CMSIS/Include/core_cm4.h **** /* Debug Halting Control and Status Register Definitions */
1425:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_DBGKEY_Pos         16U                                            /*!< Core
1426:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_DBGKEY_Msk         (0xFFFFUL << CoreDebug_DHCSR_DBGKEY_Pos)       /*!< Core
1427:Drivers/CMSIS/Include/core_cm4.h **** 
1428:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_RESET_ST_Pos     25U                                            /*!< Core
1429:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_RESET_ST_Msk     (1UL << CoreDebug_DHCSR_S_RESET_ST_Pos)        /*!< Core
1430:Drivers/CMSIS/Include/core_cm4.h **** 
1431:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_RETIRE_ST_Pos    24U                                            /*!< Core
1432:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_RETIRE_ST_Msk    (1UL << CoreDebug_DHCSR_S_RETIRE_ST_Pos)       /*!< Core
1433:Drivers/CMSIS/Include/core_cm4.h **** 
1434:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_LOCKUP_Pos       19U                                            /*!< Core
1435:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_LOCKUP_Msk       (1UL << CoreDebug_DHCSR_S_LOCKUP_Pos)          /*!< Core
1436:Drivers/CMSIS/Include/core_cm4.h **** 
1437:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_SLEEP_Pos        18U                                            /*!< Core
1438:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_SLEEP_Msk        (1UL << CoreDebug_DHCSR_S_SLEEP_Pos)           /*!< Core
1439:Drivers/CMSIS/Include/core_cm4.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 105


1440:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_HALT_Pos         17U                                            /*!< Core
1441:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_HALT_Msk         (1UL << CoreDebug_DHCSR_S_HALT_Pos)            /*!< Core
1442:Drivers/CMSIS/Include/core_cm4.h **** 
1443:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_REGRDY_Pos       16U                                            /*!< Core
1444:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_S_REGRDY_Msk       (1UL << CoreDebug_DHCSR_S_REGRDY_Pos)          /*!< Core
1445:Drivers/CMSIS/Include/core_cm4.h **** 
1446:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_SNAPSTALL_Pos     5U                                            /*!< Core
1447:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_SNAPSTALL_Msk    (1UL << CoreDebug_DHCSR_C_SNAPSTALL_Pos)       /*!< Core
1448:Drivers/CMSIS/Include/core_cm4.h **** 
1449:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_MASKINTS_Pos      3U                                            /*!< Core
1450:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_MASKINTS_Msk     (1UL << CoreDebug_DHCSR_C_MASKINTS_Pos)        /*!< Core
1451:Drivers/CMSIS/Include/core_cm4.h **** 
1452:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_STEP_Pos          2U                                            /*!< Core
1453:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_STEP_Msk         (1UL << CoreDebug_DHCSR_C_STEP_Pos)            /*!< Core
1454:Drivers/CMSIS/Include/core_cm4.h **** 
1455:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_HALT_Pos          1U                                            /*!< Core
1456:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_HALT_Msk         (1UL << CoreDebug_DHCSR_C_HALT_Pos)            /*!< Core
1457:Drivers/CMSIS/Include/core_cm4.h **** 
1458:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_DEBUGEN_Pos       0U                                            /*!< Core
1459:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DHCSR_C_DEBUGEN_Msk      (1UL /*<< CoreDebug_DHCSR_C_DEBUGEN_Pos*/)     /*!< Core
1460:Drivers/CMSIS/Include/core_cm4.h **** 
1461:Drivers/CMSIS/Include/core_cm4.h **** /* Debug Core Register Selector Register Definitions */
1462:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DCRSR_REGWnR_Pos         16U                                            /*!< Core
1463:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DCRSR_REGWnR_Msk         (1UL << CoreDebug_DCRSR_REGWnR_Pos)            /*!< Core
1464:Drivers/CMSIS/Include/core_cm4.h **** 
1465:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DCRSR_REGSEL_Pos          0U                                            /*!< Core
1466:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DCRSR_REGSEL_Msk         (0x1FUL /*<< CoreDebug_DCRSR_REGSEL_Pos*/)     /*!< Core
1467:Drivers/CMSIS/Include/core_cm4.h **** 
1468:Drivers/CMSIS/Include/core_cm4.h **** /* Debug Exception and Monitor Control Register Definitions */
1469:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_TRCENA_Pos         24U                                            /*!< Core
1470:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_TRCENA_Msk         (1UL << CoreDebug_DEMCR_TRCENA_Pos)            /*!< Core
1471:Drivers/CMSIS/Include/core_cm4.h **** 
1472:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_MON_REQ_Pos        19U                                            /*!< Core
1473:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_MON_REQ_Msk        (1UL << CoreDebug_DEMCR_MON_REQ_Pos)           /*!< Core
1474:Drivers/CMSIS/Include/core_cm4.h **** 
1475:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_MON_STEP_Pos       18U                                            /*!< Core
1476:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_MON_STEP_Msk       (1UL << CoreDebug_DEMCR_MON_STEP_Pos)          /*!< Core
1477:Drivers/CMSIS/Include/core_cm4.h **** 
1478:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_MON_PEND_Pos       17U                                            /*!< Core
1479:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_MON_PEND_Msk       (1UL << CoreDebug_DEMCR_MON_PEND_Pos)          /*!< Core
1480:Drivers/CMSIS/Include/core_cm4.h **** 
1481:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_MON_EN_Pos         16U                                            /*!< Core
1482:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_MON_EN_Msk         (1UL << CoreDebug_DEMCR_MON_EN_Pos)            /*!< Core
1483:Drivers/CMSIS/Include/core_cm4.h **** 
1484:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_HARDERR_Pos     10U                                            /*!< Core
1485:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_HARDERR_Msk     (1UL << CoreDebug_DEMCR_VC_HARDERR_Pos)        /*!< Core
1486:Drivers/CMSIS/Include/core_cm4.h **** 
1487:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_INTERR_Pos       9U                                            /*!< Core
1488:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_INTERR_Msk      (1UL << CoreDebug_DEMCR_VC_INTERR_Pos)         /*!< Core
1489:Drivers/CMSIS/Include/core_cm4.h **** 
1490:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_BUSERR_Pos       8U                                            /*!< Core
1491:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_BUSERR_Msk      (1UL << CoreDebug_DEMCR_VC_BUSERR_Pos)         /*!< Core
1492:Drivers/CMSIS/Include/core_cm4.h **** 
1493:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_STATERR_Pos      7U                                            /*!< Core
1494:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_STATERR_Msk     (1UL << CoreDebug_DEMCR_VC_STATERR_Pos)        /*!< Core
1495:Drivers/CMSIS/Include/core_cm4.h **** 
1496:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_CHKERR_Pos       6U                                            /*!< Core
ARM GAS  /tmp/ccOP5HA3.s 			page 106


1497:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_CHKERR_Msk      (1UL << CoreDebug_DEMCR_VC_CHKERR_Pos)         /*!< Core
1498:Drivers/CMSIS/Include/core_cm4.h **** 
1499:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_NOCPERR_Pos      5U                                            /*!< Core
1500:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_NOCPERR_Msk     (1UL << CoreDebug_DEMCR_VC_NOCPERR_Pos)        /*!< Core
1501:Drivers/CMSIS/Include/core_cm4.h **** 
1502:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_MMERR_Pos        4U                                            /*!< Core
1503:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_MMERR_Msk       (1UL << CoreDebug_DEMCR_VC_MMERR_Pos)          /*!< Core
1504:Drivers/CMSIS/Include/core_cm4.h **** 
1505:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_CORERESET_Pos    0U                                            /*!< Core
1506:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_DEMCR_VC_CORERESET_Msk   (1UL /*<< CoreDebug_DEMCR_VC_CORERESET_Pos*/)  /*!< Core
1507:Drivers/CMSIS/Include/core_cm4.h **** 
1508:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group CMSIS_CoreDebug */
1509:Drivers/CMSIS/Include/core_cm4.h **** 
1510:Drivers/CMSIS/Include/core_cm4.h **** 
1511:Drivers/CMSIS/Include/core_cm4.h **** /**
1512:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup    CMSIS_core_register
1513:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup   CMSIS_core_bitfield     Core register bit field macros
1514:Drivers/CMSIS/Include/core_cm4.h ****   \brief      Macros for use with bit field definitions (xxx_Pos, xxx_Msk).
1515:Drivers/CMSIS/Include/core_cm4.h ****   @{
1516:Drivers/CMSIS/Include/core_cm4.h ****  */
1517:Drivers/CMSIS/Include/core_cm4.h **** 
1518:Drivers/CMSIS/Include/core_cm4.h **** /**
1519:Drivers/CMSIS/Include/core_cm4.h ****   \brief   Mask and shift a bit field value for use in a register bit range.
1520:Drivers/CMSIS/Include/core_cm4.h ****   \param[in] field  Name of the register bit field.
1521:Drivers/CMSIS/Include/core_cm4.h ****   \param[in] value  Value of the bit field. This parameter is interpreted as an uint32_t type.
1522:Drivers/CMSIS/Include/core_cm4.h ****   \return           Masked and shifted value.
1523:Drivers/CMSIS/Include/core_cm4.h **** */
1524:Drivers/CMSIS/Include/core_cm4.h **** #define _VAL2FLD(field, value)    (((uint32_t)(value) << field ## _Pos) & field ## _Msk)
1525:Drivers/CMSIS/Include/core_cm4.h **** 
1526:Drivers/CMSIS/Include/core_cm4.h **** /**
1527:Drivers/CMSIS/Include/core_cm4.h ****   \brief     Mask and shift a register value to extract a bit filed value.
1528:Drivers/CMSIS/Include/core_cm4.h ****   \param[in] field  Name of the register bit field.
1529:Drivers/CMSIS/Include/core_cm4.h ****   \param[in] value  Value of register. This parameter is interpreted as an uint32_t type.
1530:Drivers/CMSIS/Include/core_cm4.h ****   \return           Masked and shifted bit field value.
1531:Drivers/CMSIS/Include/core_cm4.h **** */
1532:Drivers/CMSIS/Include/core_cm4.h **** #define _FLD2VAL(field, value)    (((uint32_t)(value) & field ## _Msk) >> field ## _Pos)
1533:Drivers/CMSIS/Include/core_cm4.h **** 
1534:Drivers/CMSIS/Include/core_cm4.h **** /*@} end of group CMSIS_core_bitfield */
1535:Drivers/CMSIS/Include/core_cm4.h **** 
1536:Drivers/CMSIS/Include/core_cm4.h **** 
1537:Drivers/CMSIS/Include/core_cm4.h **** /**
1538:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup    CMSIS_core_register
1539:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup   CMSIS_core_base     Core Definitions
1540:Drivers/CMSIS/Include/core_cm4.h ****   \brief      Definitions for base addresses, unions, and structures.
1541:Drivers/CMSIS/Include/core_cm4.h ****   @{
1542:Drivers/CMSIS/Include/core_cm4.h ****  */
1543:Drivers/CMSIS/Include/core_cm4.h **** 
1544:Drivers/CMSIS/Include/core_cm4.h **** /* Memory mapping of Core Hardware */
1545:Drivers/CMSIS/Include/core_cm4.h **** #define SCS_BASE            (0xE000E000UL)                            /*!< System Control Space Bas
1546:Drivers/CMSIS/Include/core_cm4.h **** #define ITM_BASE            (0xE0000000UL)                            /*!< ITM Base Address */
1547:Drivers/CMSIS/Include/core_cm4.h **** #define DWT_BASE            (0xE0001000UL)                            /*!< DWT Base Address */
1548:Drivers/CMSIS/Include/core_cm4.h **** #define TPI_BASE            (0xE0040000UL)                            /*!< TPI Base Address */
1549:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug_BASE      (0xE000EDF0UL)                            /*!< Core Debug Base Address 
1550:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick_BASE        (SCS_BASE +  0x0010UL)                    /*!< SysTick Base Address */
1551:Drivers/CMSIS/Include/core_cm4.h **** #define NVIC_BASE           (SCS_BASE +  0x0100UL)                    /*!< NVIC Base Address */
1552:Drivers/CMSIS/Include/core_cm4.h **** #define SCB_BASE            (SCS_BASE +  0x0D00UL)                    /*!< System Control Block Bas
1553:Drivers/CMSIS/Include/core_cm4.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 107


1554:Drivers/CMSIS/Include/core_cm4.h **** #define SCnSCB              ((SCnSCB_Type    *)     SCS_BASE      )   /*!< System control Register 
1555:Drivers/CMSIS/Include/core_cm4.h **** #define SCB                 ((SCB_Type       *)     SCB_BASE      )   /*!< SCB configuration struct
1556:Drivers/CMSIS/Include/core_cm4.h **** #define SysTick             ((SysTick_Type   *)     SysTick_BASE  )   /*!< SysTick configuration st
1557:Drivers/CMSIS/Include/core_cm4.h **** #define NVIC                ((NVIC_Type      *)     NVIC_BASE     )   /*!< NVIC configuration struc
1558:Drivers/CMSIS/Include/core_cm4.h **** #define ITM                 ((ITM_Type       *)     ITM_BASE      )   /*!< ITM configuration struct
1559:Drivers/CMSIS/Include/core_cm4.h **** #define DWT                 ((DWT_Type       *)     DWT_BASE      )   /*!< DWT configuration struct
1560:Drivers/CMSIS/Include/core_cm4.h **** #define TPI                 ((TPI_Type       *)     TPI_BASE      )   /*!< TPI configuration struct
1561:Drivers/CMSIS/Include/core_cm4.h **** #define CoreDebug           ((CoreDebug_Type *)     CoreDebug_BASE)   /*!< Core Debug configuration
1562:Drivers/CMSIS/Include/core_cm4.h **** 
1563:Drivers/CMSIS/Include/core_cm4.h **** #if defined (__MPU_PRESENT) && (__MPU_PRESENT == 1U)
1564:Drivers/CMSIS/Include/core_cm4.h ****   #define MPU_BASE          (SCS_BASE +  0x0D90UL)                    /*!< Memory Protection Unit *
1565:Drivers/CMSIS/Include/core_cm4.h ****   #define MPU               ((MPU_Type       *)     MPU_BASE      )   /*!< Memory Protection Unit *
1566:Drivers/CMSIS/Include/core_cm4.h **** #endif
1567:Drivers/CMSIS/Include/core_cm4.h **** 
1568:Drivers/CMSIS/Include/core_cm4.h **** #define FPU_BASE            (SCS_BASE +  0x0F30UL)                    /*!< Floating Point Unit */
1569:Drivers/CMSIS/Include/core_cm4.h **** #define FPU                 ((FPU_Type       *)     FPU_BASE      )   /*!< Floating Point Unit */
1570:Drivers/CMSIS/Include/core_cm4.h **** 
1571:Drivers/CMSIS/Include/core_cm4.h **** /*@} */
1572:Drivers/CMSIS/Include/core_cm4.h **** 
1573:Drivers/CMSIS/Include/core_cm4.h **** 
1574:Drivers/CMSIS/Include/core_cm4.h **** 
1575:Drivers/CMSIS/Include/core_cm4.h **** /*******************************************************************************
1576:Drivers/CMSIS/Include/core_cm4.h ****  *                Hardware Abstraction Layer
1577:Drivers/CMSIS/Include/core_cm4.h ****   Core Function Interface contains:
1578:Drivers/CMSIS/Include/core_cm4.h ****   - Core NVIC Functions
1579:Drivers/CMSIS/Include/core_cm4.h ****   - Core SysTick Functions
1580:Drivers/CMSIS/Include/core_cm4.h ****   - Core Debug Functions
1581:Drivers/CMSIS/Include/core_cm4.h ****   - Core Register Access Functions
1582:Drivers/CMSIS/Include/core_cm4.h ****  ******************************************************************************/
1583:Drivers/CMSIS/Include/core_cm4.h **** /**
1584:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_Core_FunctionInterface Functions and Instructions Reference
1585:Drivers/CMSIS/Include/core_cm4.h **** */
1586:Drivers/CMSIS/Include/core_cm4.h **** 
1587:Drivers/CMSIS/Include/core_cm4.h **** 
1588:Drivers/CMSIS/Include/core_cm4.h **** 
1589:Drivers/CMSIS/Include/core_cm4.h **** /* ##########################   NVIC functions  #################################### */
1590:Drivers/CMSIS/Include/core_cm4.h **** /**
1591:Drivers/CMSIS/Include/core_cm4.h ****   \ingroup  CMSIS_Core_FunctionInterface
1592:Drivers/CMSIS/Include/core_cm4.h ****   \defgroup CMSIS_Core_NVICFunctions NVIC Functions
1593:Drivers/CMSIS/Include/core_cm4.h ****   \brief    Functions that manage interrupts and exceptions via the NVIC.
1594:Drivers/CMSIS/Include/core_cm4.h ****   @{
1595:Drivers/CMSIS/Include/core_cm4.h ****  */
1596:Drivers/CMSIS/Include/core_cm4.h **** 
1597:Drivers/CMSIS/Include/core_cm4.h **** #ifdef CMSIS_NVIC_VIRTUAL
1598:Drivers/CMSIS/Include/core_cm4.h ****   #ifndef CMSIS_NVIC_VIRTUAL_HEADER_FILE
1599:Drivers/CMSIS/Include/core_cm4.h ****     #define CMSIS_NVIC_VIRTUAL_HEADER_FILE "cmsis_nvic_virtual.h"
1600:Drivers/CMSIS/Include/core_cm4.h ****   #endif
1601:Drivers/CMSIS/Include/core_cm4.h ****   #include CMSIS_NVIC_VIRTUAL_HEADER_FILE
1602:Drivers/CMSIS/Include/core_cm4.h **** #else
1603:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_SetPriorityGrouping    __NVIC_SetPriorityGrouping
1604:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_GetPriorityGrouping    __NVIC_GetPriorityGrouping
1605:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_EnableIRQ              __NVIC_EnableIRQ
1606:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_GetEnableIRQ           __NVIC_GetEnableIRQ
1607:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_DisableIRQ             __NVIC_DisableIRQ
1608:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_GetPendingIRQ          __NVIC_GetPendingIRQ
1609:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_SetPendingIRQ          __NVIC_SetPendingIRQ
1610:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_ClearPendingIRQ        __NVIC_ClearPendingIRQ
ARM GAS  /tmp/ccOP5HA3.s 			page 108


1611:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_GetActive              __NVIC_GetActive
1612:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_SetPriority            __NVIC_SetPriority
1613:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_GetPriority            __NVIC_GetPriority
1614:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_SystemReset            __NVIC_SystemReset
1615:Drivers/CMSIS/Include/core_cm4.h **** #endif /* CMSIS_NVIC_VIRTUAL */
1616:Drivers/CMSIS/Include/core_cm4.h **** 
1617:Drivers/CMSIS/Include/core_cm4.h **** #ifdef CMSIS_VECTAB_VIRTUAL
1618:Drivers/CMSIS/Include/core_cm4.h ****   #ifndef CMSIS_VECTAB_VIRTUAL_HEADER_FILE
1619:Drivers/CMSIS/Include/core_cm4.h ****     #define CMSIS_VECTAB_VIRTUAL_HEADER_FILE "cmsis_vectab_virtual.h"
1620:Drivers/CMSIS/Include/core_cm4.h ****   #endif
1621:Drivers/CMSIS/Include/core_cm4.h ****   #include CMSIS_VECTAB_VIRTUAL_HEADER_FILE
1622:Drivers/CMSIS/Include/core_cm4.h **** #else
1623:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_SetVector              __NVIC_SetVector
1624:Drivers/CMSIS/Include/core_cm4.h ****   #define NVIC_GetVector              __NVIC_GetVector
1625:Drivers/CMSIS/Include/core_cm4.h **** #endif  /* (CMSIS_VECTAB_VIRTUAL) */
1626:Drivers/CMSIS/Include/core_cm4.h **** 
1627:Drivers/CMSIS/Include/core_cm4.h **** #define NVIC_USER_IRQ_OFFSET          16
1628:Drivers/CMSIS/Include/core_cm4.h **** 
1629:Drivers/CMSIS/Include/core_cm4.h **** 
1630:Drivers/CMSIS/Include/core_cm4.h **** /* The following EXC_RETURN values are saved the LR on exception entry */
1631:Drivers/CMSIS/Include/core_cm4.h **** #define EXC_RETURN_HANDLER         (0xFFFFFFF1UL)     /* return to Handler mode, uses MSP after ret
1632:Drivers/CMSIS/Include/core_cm4.h **** #define EXC_RETURN_THREAD_MSP      (0xFFFFFFF9UL)     /* return to Thread mode, uses MSP after retu
1633:Drivers/CMSIS/Include/core_cm4.h **** #define EXC_RETURN_THREAD_PSP      (0xFFFFFFFDUL)     /* return to Thread mode, uses PSP after retu
1634:Drivers/CMSIS/Include/core_cm4.h **** #define EXC_RETURN_HANDLER_FPU     (0xFFFFFFE1UL)     /* return to Handler mode, uses MSP after ret
1635:Drivers/CMSIS/Include/core_cm4.h **** #define EXC_RETURN_THREAD_MSP_FPU  (0xFFFFFFE9UL)     /* return to Thread mode, uses MSP after retu
1636:Drivers/CMSIS/Include/core_cm4.h **** #define EXC_RETURN_THREAD_PSP_FPU  (0xFFFFFFEDUL)     /* return to Thread mode, uses PSP after retu
1637:Drivers/CMSIS/Include/core_cm4.h **** 
1638:Drivers/CMSIS/Include/core_cm4.h **** 
1639:Drivers/CMSIS/Include/core_cm4.h **** /**
1640:Drivers/CMSIS/Include/core_cm4.h ****   \brief   Set Priority Grouping
1641:Drivers/CMSIS/Include/core_cm4.h ****   \details Sets the priority grouping field using the required unlock sequence.
1642:Drivers/CMSIS/Include/core_cm4.h ****            The parameter PriorityGroup is assigned to the field SCB->AIRCR [10:8] PRIGROUP field.
1643:Drivers/CMSIS/Include/core_cm4.h ****            Only values from 0..7 are used.
1644:Drivers/CMSIS/Include/core_cm4.h ****            In case of a conflict between priority grouping and available
1645:Drivers/CMSIS/Include/core_cm4.h ****            priority bits (__NVIC_PRIO_BITS), the smallest possible priority group is set.
1646:Drivers/CMSIS/Include/core_cm4.h ****   \param [in]      PriorityGroup  Priority grouping field.
1647:Drivers/CMSIS/Include/core_cm4.h ****  */
1648:Drivers/CMSIS/Include/core_cm4.h **** __STATIC_INLINE void __NVIC_SetPriorityGrouping(uint32_t PriorityGroup)
1649:Drivers/CMSIS/Include/core_cm4.h **** {
1650:Drivers/CMSIS/Include/core_cm4.h ****   uint32_t reg_value;
1651:Drivers/CMSIS/Include/core_cm4.h ****   uint32_t PriorityGroupTmp = (PriorityGroup & (uint32_t)0x07UL);             /* only values 0..7 a
1652:Drivers/CMSIS/Include/core_cm4.h **** 
1653:Drivers/CMSIS/Include/core_cm4.h ****   reg_value  =  SCB->AIRCR;                                                   /* read old register 
1654:Drivers/CMSIS/Include/core_cm4.h ****   reg_value &= ~((uint32_t)(SCB_AIRCR_VECTKEY_Msk | SCB_AIRCR_PRIGROUP_Msk)); /* clear bits to chan
1655:Drivers/CMSIS/Include/core_cm4.h ****   reg_value  =  (reg_value                                   |
1656:Drivers/CMSIS/Include/core_cm4.h ****                 ((uint32_t)0x5FAUL << SCB_AIRCR_VECTKEY_Pos) |
1657:Drivers/CMSIS/Include/core_cm4.h ****                 (PriorityGroupTmp << SCB_AIRCR_PRIGROUP_Pos)  );              /* Insert write key a
1658:Drivers/CMSIS/Include/core_cm4.h ****   SCB->AIRCR =  reg_value;
1659:Drivers/CMSIS/Include/core_cm4.h **** }
1660:Drivers/CMSIS/Include/core_cm4.h **** 
1661:Drivers/CMSIS/Include/core_cm4.h **** 
1662:Drivers/CMSIS/Include/core_cm4.h **** /**
1663:Drivers/CMSIS/Include/core_cm4.h ****   \brief   Get Priority Grouping
1664:Drivers/CMSIS/Include/core_cm4.h ****   \details Reads the priority grouping field from the NVIC Interrupt Controller.
1665:Drivers/CMSIS/Include/core_cm4.h ****   \return                Priority grouping field (SCB->AIRCR [10:8] PRIGROUP field).
1666:Drivers/CMSIS/Include/core_cm4.h ****  */
1667:Drivers/CMSIS/Include/core_cm4.h **** __STATIC_INLINE uint32_t __NVIC_GetPriorityGrouping(void)
ARM GAS  /tmp/ccOP5HA3.s 			page 109


1668:Drivers/CMSIS/Include/core_cm4.h **** {
1669:Drivers/CMSIS/Include/core_cm4.h ****   return ((uint32_t)((SCB->AIRCR & SCB_AIRCR_PRIGROUP_Msk) >> SCB_AIRCR_PRIGROUP_Pos));
1670:Drivers/CMSIS/Include/core_cm4.h **** }
1671:Drivers/CMSIS/Include/core_cm4.h **** 
1672:Drivers/CMSIS/Include/core_cm4.h **** 
1673:Drivers/CMSIS/Include/core_cm4.h **** /**
1674:Drivers/CMSIS/Include/core_cm4.h ****   \brief   Enable Interrupt
1675:Drivers/CMSIS/Include/core_cm4.h ****   \details Enables a device specific interrupt in the NVIC interrupt controller.
1676:Drivers/CMSIS/Include/core_cm4.h ****   \param [in]      IRQn  Device specific interrupt number.
1677:Drivers/CMSIS/Include/core_cm4.h ****   \note    IRQn must not be negative.
1678:Drivers/CMSIS/Include/core_cm4.h ****  */
1679:Drivers/CMSIS/Include/core_cm4.h **** __STATIC_INLINE void __NVIC_EnableIRQ(IRQn_Type IRQn)
 2121              		.loc 5 1679 22 view .LVU659
 2122              	.LBB152:
1680:Drivers/CMSIS/Include/core_cm4.h **** {
1681:Drivers/CMSIS/Include/core_cm4.h ****   if ((int32_t)(IRQn) >= 0)
 2123              		.loc 5 1681 3 view .LVU660
1682:Drivers/CMSIS/Include/core_cm4.h ****   {
1683:Drivers/CMSIS/Include/core_cm4.h ****     __COMPILER_BARRIER();
 2124              		.loc 5 1683 5 view .LVU661
1684:Drivers/CMSIS/Include/core_cm4.h ****     NVIC->ISER[(((uint32_t)IRQn) >> 5UL)] = (uint32_t)(1UL << (((uint32_t)IRQn) & 0x1FUL));
 2125              		.loc 5 1684 5 view .LVU662
 2126              		.loc 5 1684 43 is_stmt 0 view .LVU663
 2127 0000 014B     		ldr	r3, .L147
 2128 0002 0822     		movs	r2, #8
 2129 0004 9A60     		str	r2, [r3, #8]
1685:Drivers/CMSIS/Include/core_cm4.h ****     __COMPILER_BARRIER();
 2130              		.loc 5 1685 5 is_stmt 1 view .LVU664
 2131              	.LVL185:
 2132              		.loc 5 1685 5 is_stmt 0 view .LVU665
 2133              	.LBE152:
 2134              	.LBE151:
 544:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2135              		.loc 1 544 1 view .LVU666
 2136 0006 7047     		bx	lr
 2137              	.L148:
 2138              		.align	2
 2139              	.L147:
 2140 0008 00E100E0 		.word	-536813312
 2141              		.cfi_endproc
 2142              	.LFE203:
 2144              		.section	.text.dcd_int_disable,"ax",%progbits
 2145              		.align	1
 2146              		.global	dcd_int_disable
 2147              		.syntax unified
 2148              		.thumb
 2149              		.thumb_func
 2150              		.fpu fpv4-sp-d16
 2152              	dcd_int_disable:
 2153              	.LVL186:
 2154              	.LFB204:
 547:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2155              		.loc 1 547 1 is_stmt 1 view -0
 2156              		.cfi_startproc
 2157              		@ args = 0, pretend = 0, frame = 0
 2158              		@ frame_needed = 0, uses_anonymous_args = 0
 2159              		@ link register save eliminated.
ARM GAS  /tmp/ccOP5HA3.s 			page 110


 548:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   NVIC_DisableIRQ(RHPORT_IRQn);
 2160              		.loc 1 548 3 view .LVU668
 549:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2161              		.loc 1 549 3 view .LVU669
 2162              	.LBB153:
 2163              	.LBI153:
1686:Drivers/CMSIS/Include/core_cm4.h ****   }
1687:Drivers/CMSIS/Include/core_cm4.h **** }
1688:Drivers/CMSIS/Include/core_cm4.h **** 
1689:Drivers/CMSIS/Include/core_cm4.h **** 
1690:Drivers/CMSIS/Include/core_cm4.h **** /**
1691:Drivers/CMSIS/Include/core_cm4.h ****   \brief   Get Interrupt Enable status
1692:Drivers/CMSIS/Include/core_cm4.h ****   \details Returns a device specific interrupt enable status from the NVIC interrupt controller.
1693:Drivers/CMSIS/Include/core_cm4.h ****   \param [in]      IRQn  Device specific interrupt number.
1694:Drivers/CMSIS/Include/core_cm4.h ****   \return             0  Interrupt is not enabled.
1695:Drivers/CMSIS/Include/core_cm4.h ****   \return             1  Interrupt is enabled.
1696:Drivers/CMSIS/Include/core_cm4.h ****   \note    IRQn must not be negative.
1697:Drivers/CMSIS/Include/core_cm4.h ****  */
1698:Drivers/CMSIS/Include/core_cm4.h **** __STATIC_INLINE uint32_t __NVIC_GetEnableIRQ(IRQn_Type IRQn)
1699:Drivers/CMSIS/Include/core_cm4.h **** {
1700:Drivers/CMSIS/Include/core_cm4.h ****   if ((int32_t)(IRQn) >= 0)
1701:Drivers/CMSIS/Include/core_cm4.h ****   {
1702:Drivers/CMSIS/Include/core_cm4.h ****     return((uint32_t)(((NVIC->ISER[(((uint32_t)IRQn) >> 5UL)] & (1UL << (((uint32_t)IRQn) & 0x1FUL)
1703:Drivers/CMSIS/Include/core_cm4.h ****   }
1704:Drivers/CMSIS/Include/core_cm4.h ****   else
1705:Drivers/CMSIS/Include/core_cm4.h ****   {
1706:Drivers/CMSIS/Include/core_cm4.h ****     return(0U);
1707:Drivers/CMSIS/Include/core_cm4.h ****   }
1708:Drivers/CMSIS/Include/core_cm4.h **** }
1709:Drivers/CMSIS/Include/core_cm4.h **** 
1710:Drivers/CMSIS/Include/core_cm4.h **** 
1711:Drivers/CMSIS/Include/core_cm4.h **** /**
1712:Drivers/CMSIS/Include/core_cm4.h ****   \brief   Disable Interrupt
1713:Drivers/CMSIS/Include/core_cm4.h ****   \details Disables a device specific interrupt in the NVIC interrupt controller.
1714:Drivers/CMSIS/Include/core_cm4.h ****   \param [in]      IRQn  Device specific interrupt number.
1715:Drivers/CMSIS/Include/core_cm4.h ****   \note    IRQn must not be negative.
1716:Drivers/CMSIS/Include/core_cm4.h ****  */
1717:Drivers/CMSIS/Include/core_cm4.h **** __STATIC_INLINE void __NVIC_DisableIRQ(IRQn_Type IRQn)
 2164              		.loc 5 1717 22 view .LVU670
 2165              	.LBB154:
1718:Drivers/CMSIS/Include/core_cm4.h **** {
1719:Drivers/CMSIS/Include/core_cm4.h ****   if ((int32_t)(IRQn) >= 0)
 2166              		.loc 5 1719 3 view .LVU671
1720:Drivers/CMSIS/Include/core_cm4.h ****   {
1721:Drivers/CMSIS/Include/core_cm4.h ****     NVIC->ICER[(((uint32_t)IRQn) >> 5UL)] = (uint32_t)(1UL << (((uint32_t)IRQn) & 0x1FUL));
 2167              		.loc 5 1721 5 view .LVU672
 2168              		.loc 5 1721 43 is_stmt 0 view .LVU673
 2169 0000 044B     		ldr	r3, .L150
 2170 0002 0822     		movs	r2, #8
 2171 0004 C3F88820 		str	r2, [r3, #136]
1722:Drivers/CMSIS/Include/core_cm4.h ****     __DSB();
 2172              		.loc 5 1722 5 is_stmt 1 view .LVU674
 2173              	.LBB155:
 2174              	.LBI155:
 2175              		.file 6 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
ARM GAS  /tmp/ccOP5HA3.s 			page 111


   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.2.0
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     08. May 2019
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2019 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
ARM GAS  /tmp/ccOP5HA3.s 			page 112


  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __COMPILER_BARRIER
ARM GAS  /tmp/ccOP5HA3.s 			page 113


 117:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __COMPILER_BARRIER()                   __ASM volatile("":::"memory")
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 120:Drivers/CMSIS/Include/cmsis_gcc.h **** /* #########################  Startup and Lowlevel Init  ######################## */
 121:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 122:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __PROGRAM_START
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Initializes data and bss sections
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details This default implementations initialized all data and additional bss
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            sections relying on .copy.table and .zero.table specified properly
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****            in the used linker script.
 129:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 130:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE __NO_RETURN void __cmsis_start(void)
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 133:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern void _start(void) __NO_RETURN;
 134:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 135:Drivers/CMSIS/Include/cmsis_gcc.h ****   typedef struct {
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t const* src;
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t* dest;
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t  wlen;
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****   } __copy_table_t;
 140:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 141:Drivers/CMSIS/Include/cmsis_gcc.h ****   typedef struct {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t* dest;
 143:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t  wlen;
 144:Drivers/CMSIS/Include/cmsis_gcc.h ****   } __zero_table_t;
 145:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 146:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_start__;
 147:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_end__;
 148:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_start__;
 149:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_end__;
 150:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 151:Drivers/CMSIS/Include/cmsis_gcc.h ****   for (__copy_table_t const* pTable = &__copy_table_start__; pTable < &__copy_table_end__; ++pTable
 152:Drivers/CMSIS/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 153:Drivers/CMSIS/Include/cmsis_gcc.h ****       pTable->dest[i] = pTable->src[i];
 154:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 155:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 156:Drivers/CMSIS/Include/cmsis_gcc.h ****  
 157:Drivers/CMSIS/Include/cmsis_gcc.h ****   for (__zero_table_t const* pTable = &__zero_table_start__; pTable < &__zero_table_end__; ++pTable
 158:Drivers/CMSIS/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 159:Drivers/CMSIS/Include/cmsis_gcc.h ****       pTable->dest[i] = 0u;
 160:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 161:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 162:Drivers/CMSIS/Include/cmsis_gcc.h ****  
 163:Drivers/CMSIS/Include/cmsis_gcc.h ****   _start();
 164:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 165:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 166:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __PROGRAM_START           __cmsis_start
 167:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 168:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 169:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __INITIAL_SP
 170:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __INITIAL_SP              __StackTop
 171:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 172:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 173:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __STACK_LIMIT
ARM GAS  /tmp/ccOP5HA3.s 			page 114


 174:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __STACK_LIMIT             __StackLimit
 175:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 176:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 177:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE
 178:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __VECTOR_TABLE            __Vectors
 179:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 180:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 181:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE_ATTRIBUTE
 182:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __VECTOR_TABLE_ATTRIBUTE  __attribute((used, section(".vectors")))
 183:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 184:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 185:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 186:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 187:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 188:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 189:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 190:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 191:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 192:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 193:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 194:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 195:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 196:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 197:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 198:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 199:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 200:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 201:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 202:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 203:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 204:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 205:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 206:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 207:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 208:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 209:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 211:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 212:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 213:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 214:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
 215:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 216:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
 217:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 218:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 219:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 220:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 221:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 222:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 223:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 224:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 225:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 226:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 227:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 228:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 229:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 230:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
ARM GAS  /tmp/ccOP5HA3.s 			page 115


 231:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               non-secure Control Register value
 232:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 233:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 234:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 235:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 236:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 237:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 238:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 239:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 240:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 241:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 242:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 243:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 244:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
 245:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
 246:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 247:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 248:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
 249:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 250:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 251:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 252:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 253:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 254:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 255:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 256:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
 257:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
 258:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 259:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 260:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
 261:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 262:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
 263:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 264:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 265:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 266:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 267:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 268:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 269:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 270:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 271:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 272:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
 273:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 274:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 275:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 276:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 277:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 278:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 279:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 280:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 281:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 282:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get APSR Register
 283:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the APSR Register.
 284:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               APSR Register value
 285:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 286:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_APSR(void)
 287:Drivers/CMSIS/Include/cmsis_gcc.h **** {
ARM GAS  /tmp/ccOP5HA3.s 			page 116


 288:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 289:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 290:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, apsr" : "=r" (result) );
 291:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 292:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 293:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 294:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 295:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 296:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get xPSR Register
 297:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the xPSR Register.
 298:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               xPSR Register value
 299:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 300:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_xPSR(void)
 301:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 302:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 303:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 304:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, xpsr" : "=r" (result) );
 305:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 306:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 307:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 308:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 309:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 310:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer
 311:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Process Stack Pointer (PSP).
 312:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSP Register value
 313:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 314:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PSP(void)
 315:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 316:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 317:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 318:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp"  : "=r" (result) );
 319:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 320:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 321:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 322:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 323:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 324:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 325:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer (non-secure)
 326:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Process Stack Pointer (PSP) when in secure s
 327:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSP Register value
 328:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 329:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PSP_NS(void)
 330:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 331:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 332:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 333:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp_ns"  : "=r" (result) );
 334:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 335:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 336:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 337:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 338:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 339:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 340:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer
 341:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Process Stack Pointer (PSP).
 342:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 343:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 344:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PSP(uint32_t topOfProcStack)
ARM GAS  /tmp/ccOP5HA3.s 			page 117


 345:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 346:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp, %0" : : "r" (topOfProcStack) : );
 347:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 348:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 349:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 350:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 351:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 352:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer (non-secure)
 353:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Process Stack Pointer (PSP) when in secure sta
 354:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 355:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 356:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_PSP_NS(uint32_t topOfProcStack)
 357:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 358:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp_ns, %0" : : "r" (topOfProcStack) : );
 359:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 360:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 361:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 362:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 363:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 364:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer
 365:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Main Stack Pointer (MSP).
 366:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSP Register value
 367:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 368:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_MSP(void)
 369:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 370:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 371:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 372:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp" : "=r" (result) );
 373:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 374:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 375:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 376:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 377:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 378:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 379:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer (non-secure)
 380:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Main Stack Pointer (MSP) when in secure stat
 381:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSP Register value
 382:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 383:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_MSP_NS(void)
 384:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 385:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 386:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 387:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp_ns" : "=r" (result) );
 388:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 389:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 390:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 391:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 392:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 393:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 394:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer
 395:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Main Stack Pointer (MSP).
 396:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
 397:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 398:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_MSP(uint32_t topOfMainStack)
 399:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 400:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp, %0" : : "r" (topOfMainStack) : );
 401:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  /tmp/ccOP5HA3.s 			page 118


 402:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 403:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 404:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 405:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 406:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer (non-secure)
 407:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Main Stack Pointer (MSP) when in secure state.
 408:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
 409:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 410:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_MSP_NS(uint32_t topOfMainStack)
 411:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 412:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp_ns, %0" : : "r" (topOfMainStack) : );
 413:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 414:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 415:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 416:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 417:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 418:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 419:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Stack Pointer (non-secure)
 420:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Stack Pointer (SP) when in secure state.
 421:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               SP Register value
 422:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 423:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_SP_NS(void)
 424:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 425:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 426:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 427:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, sp_ns" : "=r" (result) );
 428:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 429:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 430:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 431:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 432:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 433:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Stack Pointer (non-secure)
 434:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Stack Pointer (SP) when in secure state.
 435:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfStack  Stack Pointer value to set
 436:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 437:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_SP_NS(uint32_t topOfStack)
 438:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 439:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR sp_ns, %0" : : "r" (topOfStack) : );
 440:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 441:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 442:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 443:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 444:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 445:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Priority Mask
 446:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current state of the priority mask bit from the Priority Mask Register.
 447:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Priority Mask value
 448:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 449:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PRIMASK(void)
 450:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 451:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 452:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 453:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask" : "=r" (result) :: "memory");
 454:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 455:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 456:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 457:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 458:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
ARM GAS  /tmp/ccOP5HA3.s 			page 119


 459:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 460:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Priority Mask (non-secure)
 461:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current state of the non-secure priority mask bit from the Priority Mask Reg
 462:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Priority Mask value
 463:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 464:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PRIMASK_NS(void)
 465:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 466:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 467:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 468:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask_ns" : "=r" (result) :: "memory");
 469:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 470:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 471:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 472:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 473:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 474:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 475:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Priority Mask
 476:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Priority Mask Register.
 477:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    priMask  Priority Mask
 478:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 479:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PRIMASK(uint32_t priMask)
 480:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 481:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR primask, %0" : : "r" (priMask) : "memory");
 482:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 483:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 484:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 485:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 486:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 487:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Priority Mask (non-secure)
 488:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Priority Mask Register when in secure state.
 489:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    priMask  Priority Mask
 490:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 491:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_PRIMASK_NS(uint32_t priMask)
 492:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 493:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR primask_ns, %0" : : "r" (priMask) : "memory");
 494:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 495:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 496:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 497:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 498:Drivers/CMSIS/Include/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 499:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 500:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    )
 501:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 502:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable FIQ
 503:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables FIQ interrupts by clearing the F-bit in the CPSR.
 504:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 505:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 506:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_fault_irq(void)
 507:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 508:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie f" : : : "memory");
 509:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 510:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 511:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 512:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 513:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable FIQ
 514:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables FIQ interrupts by setting the F-bit in the CPSR.
 515:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
ARM GAS  /tmp/ccOP5HA3.s 			page 120


 516:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 517:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_fault_irq(void)
 518:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 519:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid f" : : : "memory");
 520:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 521:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 522:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 523:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 524:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Base Priority
 525:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Base Priority register.
 526:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Base Priority register value
 527:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 528:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_BASEPRI(void)
 529:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 530:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 531:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 532:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, basepri" : "=r" (result) );
 533:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 534:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 535:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 536:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 537:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 538:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 539:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Base Priority (non-secure)
 540:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Base Priority register when in secure state.
 541:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Base Priority register value
 542:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 543:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_BASEPRI_NS(void)
 544:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 545:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 546:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 547:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, basepri_ns" : "=r" (result) );
 548:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 549:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 550:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 551:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 552:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 553:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 554:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Base Priority
 555:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Base Priority register.
 556:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    basePri  Base Priority value to set
 557:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 558:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_BASEPRI(uint32_t basePri)
 559:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 560:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR basepri, %0" : : "r" (basePri) : "memory");
 561:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 562:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 563:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 564:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 565:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 566:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Base Priority (non-secure)
 567:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Base Priority register when in secure state.
 568:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    basePri  Base Priority value to set
 569:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 570:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_BASEPRI_NS(uint32_t basePri)
 571:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 572:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR basepri_ns, %0" : : "r" (basePri) : "memory");
ARM GAS  /tmp/ccOP5HA3.s 			page 121


 573:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 574:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 575:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 576:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 577:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 578:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Base Priority with condition
 579:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Base Priority register only if BASEPRI masking is disable
 580:Drivers/CMSIS/Include/cmsis_gcc.h ****            or the new value increases the BASEPRI priority level.
 581:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    basePri  Base Priority value to set
 582:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 583:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_BASEPRI_MAX(uint32_t basePri)
 584:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 585:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR basepri_max, %0" : : "r" (basePri) : "memory");
 586:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 587:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 588:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 589:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 590:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Fault Mask
 591:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Fault Mask register.
 592:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Fault Mask register value
 593:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 594:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_FAULTMASK(void)
 595:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 596:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 597:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 598:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, faultmask" : "=r" (result) );
 599:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 600:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 601:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 602:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 603:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 604:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 605:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Fault Mask (non-secure)
 606:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Fault Mask register when in secure state.
 607:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Fault Mask register value
 608:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 609:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_FAULTMASK_NS(void)
 610:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 611:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 612:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 613:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, faultmask_ns" : "=r" (result) );
 614:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 615:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 616:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 617:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 618:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 619:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 620:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Fault Mask
 621:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Fault Mask register.
 622:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    faultMask  Fault Mask value to set
 623:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 624:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_FAULTMASK(uint32_t faultMask)
 625:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 626:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR faultmask, %0" : : "r" (faultMask) : "memory");
 627:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 628:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 629:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 122


 630:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 631:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 632:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Fault Mask (non-secure)
 633:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Fault Mask register when in secure state.
 634:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    faultMask  Fault Mask value to set
 635:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 636:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_FAULTMASK_NS(uint32_t faultMask)
 637:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 638:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR faultmask_ns, %0" : : "r" (faultMask) : "memory");
 639:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 640:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 641:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 642:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif /* ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 643:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 644:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    ) */
 645:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 646:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 647:Drivers/CMSIS/Include/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 648:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    )
 649:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 650:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 651:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer Limit
 652:Drivers/CMSIS/Include/cmsis_gcc.h ****   Devices without ARMv8-M Main Extensions (i.e. Cortex-M23) lack the non-secure
 653:Drivers/CMSIS/Include/cmsis_gcc.h ****   Stack Pointer Limit register hence zero is returned always in non-secure
 654:Drivers/CMSIS/Include/cmsis_gcc.h ****   mode.
 655:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 656:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Process Stack Pointer Limit (PSPLIM).
 657:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSPLIM Register value
 658:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 659:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PSPLIM(void)
 660:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 661:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (!(defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) && \
 662:Drivers/CMSIS/Include/cmsis_gcc.h ****     (!defined (__ARM_FEATURE_CMSE) || (__ARM_FEATURE_CMSE < 3)))
 663:Drivers/CMSIS/Include/cmsis_gcc.h ****     // without main extensions, the non-secure PSPLIM is RAZ/WI
 664:Drivers/CMSIS/Include/cmsis_gcc.h ****   return 0U;
 665:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 666:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 667:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psplim"  : "=r" (result) );
 668:Drivers/CMSIS/Include/cmsis_gcc.h ****   return result;
 669:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 670:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 671:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 672:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE) && (__ARM_FEATURE_CMSE == 3))
 673:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 674:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer Limit (non-secure)
 675:Drivers/CMSIS/Include/cmsis_gcc.h ****   Devices without ARMv8-M Main Extensions (i.e. Cortex-M23) lack the non-secure
 676:Drivers/CMSIS/Include/cmsis_gcc.h ****   Stack Pointer Limit register hence zero is returned always.
 677:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 678:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Process Stack Pointer Limit (PSPLIM) when in
 679:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSPLIM Register value
 680:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 681:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PSPLIM_NS(void)
 682:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 683:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (!(defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)))
 684:Drivers/CMSIS/Include/cmsis_gcc.h ****   // without main extensions, the non-secure PSPLIM is RAZ/WI
 685:Drivers/CMSIS/Include/cmsis_gcc.h ****   return 0U;
 686:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
ARM GAS  /tmp/ccOP5HA3.s 			page 123


 687:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 688:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psplim_ns"  : "=r" (result) );
 689:Drivers/CMSIS/Include/cmsis_gcc.h ****   return result;
 690:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 691:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 692:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 693:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 694:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 695:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 696:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer Limit
 697:Drivers/CMSIS/Include/cmsis_gcc.h ****   Devices without ARMv8-M Main Extensions (i.e. Cortex-M23) lack the non-secure
 698:Drivers/CMSIS/Include/cmsis_gcc.h ****   Stack Pointer Limit register hence the write is silently ignored in non-secure
 699:Drivers/CMSIS/Include/cmsis_gcc.h ****   mode.
 700:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 701:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Process Stack Pointer Limit (PSPLIM).
 702:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ProcStackPtrLimit  Process Stack Pointer Limit value to set
 703:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 704:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PSPLIM(uint32_t ProcStackPtrLimit)
 705:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 706:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (!(defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) && \
 707:Drivers/CMSIS/Include/cmsis_gcc.h ****     (!defined (__ARM_FEATURE_CMSE) || (__ARM_FEATURE_CMSE < 3)))
 708:Drivers/CMSIS/Include/cmsis_gcc.h ****   // without main extensions, the non-secure PSPLIM is RAZ/WI
 709:Drivers/CMSIS/Include/cmsis_gcc.h ****   (void)ProcStackPtrLimit;
 710:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 711:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psplim, %0" : : "r" (ProcStackPtrLimit));
 712:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 713:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 714:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 715:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 716:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE  ) && (__ARM_FEATURE_CMSE   == 3))
 717:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 718:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer (non-secure)
 719:Drivers/CMSIS/Include/cmsis_gcc.h ****   Devices without ARMv8-M Main Extensions (i.e. Cortex-M23) lack the non-secure
 720:Drivers/CMSIS/Include/cmsis_gcc.h ****   Stack Pointer Limit register hence the write is silently ignored.
 721:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 722:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Process Stack Pointer Limit (PSPLIM) when in s
 723:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    ProcStackPtrLimit  Process Stack Pointer Limit value to set
 724:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 725:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_PSPLIM_NS(uint32_t ProcStackPtrLimit)
 726:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 727:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (!(defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)))
 728:Drivers/CMSIS/Include/cmsis_gcc.h ****   // without main extensions, the non-secure PSPLIM is RAZ/WI
 729:Drivers/CMSIS/Include/cmsis_gcc.h ****   (void)ProcStackPtrLimit;
 730:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 731:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psplim_ns, %0\n" : : "r" (ProcStackPtrLimit));
 732:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 733:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 734:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 735:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 736:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 737:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 738:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer Limit
 739:Drivers/CMSIS/Include/cmsis_gcc.h ****   Devices without ARMv8-M Main Extensions (i.e. Cortex-M23) lack the non-secure
 740:Drivers/CMSIS/Include/cmsis_gcc.h ****   Stack Pointer Limit register hence zero is returned always in non-secure
 741:Drivers/CMSIS/Include/cmsis_gcc.h ****   mode.
 742:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 743:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Main Stack Pointer Limit (MSPLIM).
ARM GAS  /tmp/ccOP5HA3.s 			page 124


 744:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSPLIM Register value
 745:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 746:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_MSPLIM(void)
 747:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 748:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (!(defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) && \
 749:Drivers/CMSIS/Include/cmsis_gcc.h ****     (!defined (__ARM_FEATURE_CMSE) || (__ARM_FEATURE_CMSE < 3)))
 750:Drivers/CMSIS/Include/cmsis_gcc.h ****   // without main extensions, the non-secure MSPLIM is RAZ/WI
 751:Drivers/CMSIS/Include/cmsis_gcc.h ****   return 0U;
 752:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 753:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 754:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msplim" : "=r" (result) );
 755:Drivers/CMSIS/Include/cmsis_gcc.h ****   return result;
 756:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 757:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 758:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 759:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 760:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE  ) && (__ARM_FEATURE_CMSE   == 3))
 761:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 762:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer Limit (non-secure)
 763:Drivers/CMSIS/Include/cmsis_gcc.h ****   Devices without ARMv8-M Main Extensions (i.e. Cortex-M23) lack the non-secure
 764:Drivers/CMSIS/Include/cmsis_gcc.h ****   Stack Pointer Limit register hence zero is returned always.
 765:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 766:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Main Stack Pointer Limit(MSPLIM) when in sec
 767:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSPLIM Register value
 768:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 769:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_MSPLIM_NS(void)
 770:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 771:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (!(defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)))
 772:Drivers/CMSIS/Include/cmsis_gcc.h ****   // without main extensions, the non-secure MSPLIM is RAZ/WI
 773:Drivers/CMSIS/Include/cmsis_gcc.h ****   return 0U;
 774:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 775:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 776:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msplim_ns" : "=r" (result) );
 777:Drivers/CMSIS/Include/cmsis_gcc.h ****   return result;
 778:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 779:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 780:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 781:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 782:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 783:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 784:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer Limit
 785:Drivers/CMSIS/Include/cmsis_gcc.h ****   Devices without ARMv8-M Main Extensions (i.e. Cortex-M23) lack the non-secure
 786:Drivers/CMSIS/Include/cmsis_gcc.h ****   Stack Pointer Limit register hence the write is silently ignored in non-secure
 787:Drivers/CMSIS/Include/cmsis_gcc.h ****   mode.
 788:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 789:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Main Stack Pointer Limit (MSPLIM).
 790:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    MainStackPtrLimit  Main Stack Pointer Limit value to set
 791:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 792:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_MSPLIM(uint32_t MainStackPtrLimit)
 793:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 794:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (!(defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) && \
 795:Drivers/CMSIS/Include/cmsis_gcc.h ****     (!defined (__ARM_FEATURE_CMSE) || (__ARM_FEATURE_CMSE < 3)))
 796:Drivers/CMSIS/Include/cmsis_gcc.h ****   // without main extensions, the non-secure MSPLIM is RAZ/WI
 797:Drivers/CMSIS/Include/cmsis_gcc.h ****   (void)MainStackPtrLimit;
 798:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 799:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msplim, %0" : : "r" (MainStackPtrLimit));
 800:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
ARM GAS  /tmp/ccOP5HA3.s 			page 125


 801:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 802:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 803:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 804:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE  ) && (__ARM_FEATURE_CMSE   == 3))
 805:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 806:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer Limit (non-secure)
 807:Drivers/CMSIS/Include/cmsis_gcc.h ****   Devices without ARMv8-M Main Extensions (i.e. Cortex-M23) lack the non-secure
 808:Drivers/CMSIS/Include/cmsis_gcc.h ****   Stack Pointer Limit register hence the write is silently ignored.
 809:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 810:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Main Stack Pointer Limit (MSPLIM) when in secu
 811:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    MainStackPtrLimit  Main Stack Pointer value to set
 812:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 813:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_MSPLIM_NS(uint32_t MainStackPtrLimit)
 814:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 815:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (!(defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)))
 816:Drivers/CMSIS/Include/cmsis_gcc.h ****   // without main extensions, the non-secure MSPLIM is RAZ/WI
 817:Drivers/CMSIS/Include/cmsis_gcc.h ****   (void)MainStackPtrLimit;
 818:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 819:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msplim_ns, %0" : : "r" (MainStackPtrLimit));
 820:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 821:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 822:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 823:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 824:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif /* ((defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 825:Drivers/CMSIS/Include/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    ) */
 826:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 827:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 828:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 829:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get FPSCR
 830:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Floating Point Status/Control register.
 831:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Floating Point Status/Control register value
 832:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 833:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_FPSCR(void)
 834:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 835:Drivers/CMSIS/Include/cmsis_gcc.h **** #if ((defined (__FPU_PRESENT) && (__FPU_PRESENT == 1U)) && \
 836:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__FPU_USED   ) && (__FPU_USED    == 1U))     )
 837:Drivers/CMSIS/Include/cmsis_gcc.h **** #if __has_builtin(__builtin_arm_get_fpscr) 
 838:Drivers/CMSIS/Include/cmsis_gcc.h **** // Re-enable using built-in when GCC has been fixed
 839:Drivers/CMSIS/Include/cmsis_gcc.h **** // || (__GNUC__ > 7) || (__GNUC__ == 7 && __GNUC_MINOR__ >= 2)
 840:Drivers/CMSIS/Include/cmsis_gcc.h ****   /* see https://gcc.gnu.org/ml/gcc-patches/2017-04/msg00443.html */
 841:Drivers/CMSIS/Include/cmsis_gcc.h ****   return __builtin_arm_get_fpscr();
 842:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 843:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 844:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 845:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("VMRS %0, fpscr" : "=r" (result) );
 846:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 847:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 848:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 849:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(0U);
 850:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 851:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 852:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 853:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 854:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 855:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set FPSCR
 856:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Floating Point Status/Control register.
 857:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    fpscr  Floating Point Status/Control value to set
ARM GAS  /tmp/ccOP5HA3.s 			page 126


 858:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 859:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_FPSCR(uint32_t fpscr)
 860:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 861:Drivers/CMSIS/Include/cmsis_gcc.h **** #if ((defined (__FPU_PRESENT) && (__FPU_PRESENT == 1U)) && \
 862:Drivers/CMSIS/Include/cmsis_gcc.h ****      (defined (__FPU_USED   ) && (__FPU_USED    == 1U))     )
 863:Drivers/CMSIS/Include/cmsis_gcc.h **** #if __has_builtin(__builtin_arm_set_fpscr)
 864:Drivers/CMSIS/Include/cmsis_gcc.h **** // Re-enable using built-in when GCC has been fixed
 865:Drivers/CMSIS/Include/cmsis_gcc.h **** // || (__GNUC__ > 7) || (__GNUC__ == 7 && __GNUC_MINOR__ >= 2)
 866:Drivers/CMSIS/Include/cmsis_gcc.h ****   /* see https://gcc.gnu.org/ml/gcc-patches/2017-04/msg00443.html */
 867:Drivers/CMSIS/Include/cmsis_gcc.h ****   __builtin_arm_set_fpscr(fpscr);
 868:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 869:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("VMSR fpscr, %0" : : "r" (fpscr) : "vfpcc", "memory");
 870:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 871:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 872:Drivers/CMSIS/Include/cmsis_gcc.h ****   (void)fpscr;
 873:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 874:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 875:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 876:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 877:Drivers/CMSIS/Include/cmsis_gcc.h **** /*@} end of CMSIS_Core_RegAccFunctions */
 878:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 879:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 880:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ##########################  Core Instruction Access  ######################### */
 881:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \defgroup CMSIS_Core_InstructionInterface CMSIS Core Instruction Interface
 882:Drivers/CMSIS/Include/cmsis_gcc.h ****   Access to dedicated instructions
 883:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 884:Drivers/CMSIS/Include/cmsis_gcc.h **** */
 885:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 886:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Define macros for porting to both thumb1 and thumb2.
 887:Drivers/CMSIS/Include/cmsis_gcc.h ****  * For thumb1, use low register (r0-r7), specified by constraint "l"
 888:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Otherwise, use general registers, specified by constraint "r" */
 889:Drivers/CMSIS/Include/cmsis_gcc.h **** #if defined (__thumb__) && !defined (__thumb2__)
 890:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_OUT_REG(r) "=l" (r)
 891:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_RW_REG(r) "+l" (r)
 892:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_USE_REG(r) "l" (r)
 893:Drivers/CMSIS/Include/cmsis_gcc.h **** #else
 894:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_OUT_REG(r) "=r" (r)
 895:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_RW_REG(r) "+r" (r)
 896:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_USE_REG(r) "r" (r)
 897:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 898:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 899:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 900:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   No Operation
 901:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details No Operation does nothing. This instruction can be used for code alignment purposes.
 902:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 903:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __NOP()                             __ASM volatile ("nop")
 904:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 905:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 906:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Wait For Interrupt
 907:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Wait For Interrupt is a hint instruction that suspends execution until one of a number o
 908:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 909:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __WFI()                             __ASM volatile ("wfi")
 910:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 911:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 912:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 913:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Wait For Event
 914:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Wait For Event is a hint instruction that permits the processor to enter
ARM GAS  /tmp/ccOP5HA3.s 			page 127


 915:Drivers/CMSIS/Include/cmsis_gcc.h ****            a low-power state until one of a number of events occurs.
 916:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 917:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __WFE()                             __ASM volatile ("wfe")
 918:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 919:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 920:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 921:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Send Event
 922:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Send Event is a hint instruction. It causes an event to be signaled to the CPU.
 923:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 924:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __SEV()                             __ASM volatile ("sev")
 925:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 926:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 927:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 928:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Instruction Synchronization Barrier
 929:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Instruction Synchronization Barrier flushes the pipeline in the processor,
 930:Drivers/CMSIS/Include/cmsis_gcc.h ****            so that all instructions following the ISB are fetched from cache or memory,
 931:Drivers/CMSIS/Include/cmsis_gcc.h ****            after the instruction has been completed.
 932:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 933:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __ISB(void)
 934:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 935:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("isb 0xF":::"memory");
 936:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 937:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 938:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 939:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 940:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Data Synchronization Barrier
 941:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Acts as a special kind of Data Memory Barrier.
 942:Drivers/CMSIS/Include/cmsis_gcc.h ****            It completes when all explicit memory accesses before this instruction complete.
 943:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 944:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __DSB(void)
 2176              		.loc 6 944 27 view .LVU675
 2177              	.LBB156:
 945:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 946:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("dsb 0xF":::"memory");
 2178              		.loc 6 946 3 view .LVU676
 2179              		.syntax unified
 2180              	@ 946 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2181 0008 BFF34F8F 		dsb 0xF
 2182              	@ 0 "" 2
 2183              		.thumb
 2184              		.syntax unified
 2185              	.LBE156:
 2186              	.LBE155:
1723:Drivers/CMSIS/Include/core_cm4.h ****     __ISB();
 2187              		.loc 5 1723 5 view .LVU677
 2188              	.LBB157:
 2189              	.LBI157:
 933:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 2190              		.loc 6 933 27 view .LVU678
 2191              	.LBB158:
 935:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2192              		.loc 6 935 3 view .LVU679
 2193              		.syntax unified
 2194              	@ 935 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 2195 000c BFF36F8F 		isb 0xF
 2196              	@ 0 "" 2
 2197              	.LVL187:
ARM GAS  /tmp/ccOP5HA3.s 			page 128


 935:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 2198              		.loc 6 935 3 is_stmt 0 view .LVU680
 2199              		.thumb
 2200              		.syntax unified
 2201              	.LBE158:
 2202              	.LBE157:
 2203              	.LBE154:
 2204              	.LBE153:
 550:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2205              		.loc 1 550 1 view .LVU681
 2206 0010 7047     		bx	lr
 2207              	.L151:
 2208 0012 00BF     		.align	2
 2209              	.L150:
 2210 0014 00E100E0 		.word	-536813312
 2211              		.cfi_endproc
 2212              	.LFE204:
 2214              		.section	.text.dcd_remote_wakeup,"ax",%progbits
 2215              		.align	1
 2216              		.global	dcd_remote_wakeup
 2217              		.syntax unified
 2218              		.thumb
 2219              		.thumb_func
 2220              		.fpu fpv4-sp-d16
 2222              	dcd_remote_wakeup:
 2223              	.LVL188:
 2224              	.LFB207:
 572:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2225              		.loc 1 572 1 is_stmt 1 view -0
 2226              		.cfi_startproc
 2227              		@ args = 0, pretend = 0, frame = 0
 2228              		@ frame_needed = 0, uses_anonymous_args = 0
 572:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2229              		.loc 1 572 1 is_stmt 0 view .LVU683
 2230 0000 10B5     		push	{r4, lr}
 2231              	.LCFI15:
 2232              		.cfi_def_cfa_offset 8
 2233              		.cfi_offset 4, -8
 2234              		.cfi_offset 14, -4
 573:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2235              		.loc 1 573 3 is_stmt 1 view .LVU684
 575:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 2236              		.loc 1 575 3 view .LVU685
 2237              	.LVL189:
 576:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2238              		.loc 1 576 3 view .LVU686
 579:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2239              		.loc 1 579 3 view .LVU687
 579:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2240              		.loc 1 579 13 is_stmt 0 view .LVU688
 2241 0002 0A4C     		ldr	r4, .L154
 2242 0004 6368     		ldr	r3, [r4, #4]
 2243 0006 43F00103 		orr	r3, r3, #1
 2244 000a 6360     		str	r3, [r4, #4]
 582:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 2245              		.loc 1 582 3 is_stmt 1 view .LVU689
 582:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GINTMSK |= USB_OTG_GINTMSK_SOFM;
ARM GAS  /tmp/ccOP5HA3.s 			page 129


 2246              		.loc 1 582 20 is_stmt 0 view .LVU690
 2247 000c 4FF0A043 		mov	r3, #1342177280
 2248 0010 0822     		movs	r2, #8
 2249 0012 5A61     		str	r2, [r3, #20]
 583:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2250              		.loc 1 583 3 is_stmt 1 view .LVU691
 583:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2251              		.loc 1 583 20 is_stmt 0 view .LVU692
 2252 0014 9A69     		ldr	r2, [r3, #24]
 2253 0016 42F00802 		orr	r2, r2, #8
 2254 001a 9A61     		str	r2, [r3, #24]
 586:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2255              		.loc 1 586 3 is_stmt 1 view .LVU693
 2256 001c FFF7FEFF 		bl	remote_wakeup_delay
 2257              	.LVL190:
 588:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2258              		.loc 1 588 3 view .LVU694
 588:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2259              		.loc 1 588 13 is_stmt 0 view .LVU695
 2260 0020 6368     		ldr	r3, [r4, #4]
 2261 0022 23F00103 		bic	r3, r3, #1
 2262 0026 6360     		str	r3, [r4, #4]
 589:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2263              		.loc 1 589 1 view .LVU696
 2264 0028 10BD     		pop	{r4, pc}
 2265              	.L155:
 2266 002a 00BF     		.align	2
 2267              	.L154:
 2268 002c 00080050 		.word	1342179328
 2269              		.cfi_endproc
 2270              	.LFE207:
 2272              		.section	.text.dcd_connect,"ax",%progbits
 2273              		.align	1
 2274              		.weak	dcd_connect
 2275              		.syntax unified
 2276              		.thumb
 2277              		.thumb_func
 2278              		.fpu fpv4-sp-d16
 2280              	dcd_connect:
 2281              	.LVL191:
 2282              	.LFB208:
 592:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2283              		.loc 1 592 1 is_stmt 1 view -0
 2284              		.cfi_startproc
 2285              		@ args = 0, pretend = 0, frame = 0
 2286              		@ frame_needed = 0, uses_anonymous_args = 0
 2287              		@ link register save eliminated.
 593:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 2288              		.loc 1 593 3 view .LVU698
 594:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCTL &= ~USB_OTG_DCTL_SDIS;
 2289              		.loc 1 594 3 view .LVU699
 595:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2290              		.loc 1 595 3 view .LVU700
 595:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2291              		.loc 1 595 13 is_stmt 0 view .LVU701
 2292 0000 024A     		ldr	r2, .L157
 2293 0002 5368     		ldr	r3, [r2, #4]
ARM GAS  /tmp/ccOP5HA3.s 			page 130


 2294 0004 23F00203 		bic	r3, r3, #2
 2295 0008 5360     		str	r3, [r2, #4]
 596:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2296              		.loc 1 596 1 view .LVU702
 2297 000a 7047     		bx	lr
 2298              	.L158:
 2299              		.align	2
 2300              	.L157:
 2301 000c 00080050 		.word	1342179328
 2302              		.cfi_endproc
 2303              	.LFE208:
 2305              		.section	.text.dcd_init,"ax",%progbits
 2306              		.align	1
 2307              		.global	dcd_init
 2308              		.syntax unified
 2309              		.thumb
 2310              		.thumb_func
 2311              		.fpu fpv4-sp-d16
 2313              	dcd_init:
 2314              	.LVL192:
 2315              	.LFB202:
 463:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Programming model begins in the last section of the chapter on the USB
 2316              		.loc 1 463 1 is_stmt 1 view -0
 2317              		.cfi_startproc
 2318              		@ args = 0, pretend = 0, frame = 0
 2319              		@ frame_needed = 0, uses_anonymous_args = 0
 463:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // Programming model begins in the last section of the chapter on the USB
 2320              		.loc 1 463 1 is_stmt 0 view .LVU704
 2321 0000 38B5     		push	{r3, r4, r5, lr}
 2322              	.LCFI16:
 2323              		.cfi_def_cfa_offset 16
 2324              		.cfi_offset 3, -16
 2325              		.cfi_offset 4, -12
 2326              		.cfi_offset 5, -8
 2327              		.cfi_offset 14, -4
 2328 0002 0546     		mov	r5, r0
 467:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2329              		.loc 1 467 3 is_stmt 1 view .LVU705
 2330              	.LVL193:
 470:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2331              		.loc 1 470 3 view .LVU706
 470:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2332              		.loc 1 470 6 is_stmt 0 view .LVU707
 2333 0004 0128     		cmp	r0, #1
 2334 0006 3BD0     		beq	.L165
 499:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2335              		.loc 1 499 5 is_stmt 1 view .LVU708
 499:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2336              		.loc 1 499 22 is_stmt 0 view .LVU709
 2337 0008 4FF0A042 		mov	r2, #1342177280
 2338 000c D368     		ldr	r3, [r2, #12]
 2339 000e 43F04003 		orr	r3, r3, #64
 2340 0012 D360     		str	r3, [r2, #12]
 2341              	.L162:
 504:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 2342              		.loc 1 504 62 is_stmt 1 discriminator 1 view .LVU710
 504:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
ARM GAS  /tmp/ccOP5HA3.s 			page 131


 2343              		.loc 1 504 9 discriminator 1 view .LVU711
 504:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 2344              		.loc 1 504 18 is_stmt 0 discriminator 1 view .LVU712
 2345 0014 4FF0A043 		mov	r3, #1342177280
 2346 0018 1B69     		ldr	r3, [r3, #16]
 504:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   usb_otg->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 2347              		.loc 1 504 9 discriminator 1 view .LVU713
 2348 001a 002B     		cmp	r3, #0
 2349 001c FADA     		bge	.L162
 505:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ((usb_otg->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST) {}
 2350              		.loc 1 505 3 is_stmt 1 view .LVU714
 505:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   while ((usb_otg->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST) {}
 2351              		.loc 1 505 20 is_stmt 0 view .LVU715
 2352 001e 4FF0A042 		mov	r2, #1342177280
 2353 0022 1369     		ldr	r3, [r2, #16]
 2354 0024 43F00103 		orr	r3, r3, #1
 2355 0028 1361     		str	r3, [r2, #16]
 506:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2356              		.loc 1 506 3 is_stmt 1 view .LVU716
 2357              	.L163:
 506:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2358              		.loc 1 506 80 discriminator 1 view .LVU717
 506:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2359              		.loc 1 506 9 discriminator 1 view .LVU718
 506:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2360              		.loc 1 506 18 is_stmt 0 discriminator 1 view .LVU719
 2361 002a 4FF0A043 		mov	r3, #1342177280
 2362 002e 1B69     		ldr	r3, [r3, #16]
 506:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2363              		.loc 1 506 9 discriminator 1 view .LVU720
 2364 0030 13F0010F 		tst	r3, #1
 2365 0034 F9D1     		bne	.L163
 509:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2366              		.loc 1 509 3 is_stmt 1 view .LVU721
 509:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2367              		.loc 1 509 69 is_stmt 0 view .LVU722
 2368 0036 4FF0A044 		mov	r4, #1342177280
 2369 003a 0021     		movs	r1, #0
 2370 003c C4F8001E 		str	r1, [r4, #3584]
 512:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2371              		.loc 1 512 3 is_stmt 1 view .LVU723
 512:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2372              		.loc 1 512 30 is_stmt 0 view .LVU724
 2373 0040 6269     		ldr	r2, [r4, #20]
 512:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2374              		.loc 1 512 20 view .LVU725
 2375 0042 6369     		ldr	r3, [r4, #20]
 2376 0044 1343     		orrs	r3, r3, r2
 2377 0046 6361     		str	r3, [r4, #20]
 517:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2378              		.loc 1 517 3 is_stmt 1 view .LVU726
 517:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2379              		.loc 1 517 20 is_stmt 0 view .LVU727
 2380 0048 A369     		ldr	r3, [r4, #24]
 2381 004a 43F00603 		orr	r3, r3, #6
 2382 004e A361     		str	r3, [r4, #24]
 519:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 132


 2383              		.loc 1 519 3 is_stmt 1 view .LVU728
 2384              	.LVL194:
 523:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2385              		.loc 1 523 3 view .LVU729
 523:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2386              		.loc 1 523 13 is_stmt 0 view .LVU730
 2387 0050 0F4A     		ldr	r2, .L166
 2388 0052 1368     		ldr	r3, [r2]
 2389 0054 43F00403 		orr	r3, r3, #4
 2390 0058 1360     		str	r3, [r2]
 525:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2391              		.loc 1 525 3 is_stmt 1 view .LVU731
 2392 005a 2846     		mov	r0, r5
 2393              	.LVL195:
 525:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2394              		.loc 1 525 3 is_stmt 0 view .LVU732
 2395 005c FFF7FEFF 		bl	set_speed
 2396              	.LVL196:
 528:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2397              		.loc 1 528 3 is_stmt 1 view .LVU733
 528:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2398              		.loc 1 528 66 view .LVU734
 528:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2399              		.loc 1 528 81 is_stmt 0 view .LVU735
 2400 0060 A36B     		ldr	r3, [r4, #56]
 2401 0062 43F48033 		orr	r3, r3, #65536
 2402 0066 A363     		str	r3, [r4, #56]
 530:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_WUIM     |
 2403              		.loc 1 530 3 is_stmt 1 view .LVU736
 530:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_WUIM     |
 2404              		.loc 1 530 20 is_stmt 0 view .LVU737
 2405 0068 A269     		ldr	r2, [r4, #24]
 2406 006a 0A4B     		ldr	r3, .L166+4
 2407 006c 1343     		orrs	r3, r3, r2
 2408 006e A361     		str	r3, [r4, #24]
 535:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2409              		.loc 1 535 3 is_stmt 1 view .LVU738
 535:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2410              		.loc 1 535 20 is_stmt 0 view .LVU739
 2411 0070 A368     		ldr	r3, [r4, #8]
 2412 0072 43F00103 		orr	r3, r3, #1
 2413 0076 A360     		str	r3, [r4, #8]
 537:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2414              		.loc 1 537 3 is_stmt 1 view .LVU740
 2415 0078 2846     		mov	r0, r5
 2416 007a FFF7FEFF 		bl	dcd_connect
 2417              	.LVL197:
 538:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2418              		.loc 1 538 1 is_stmt 0 view .LVU741
 2419 007e 38BD     		pop	{r3, r4, r5, pc}
 2420              	.LVL198:
 2421              	.L165:
 483:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #endif
 2422              		.loc 1 483 5 is_stmt 1 view .LVU742
 483:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** #endif
 2423              		.loc 1 483 22 is_stmt 0 view .LVU743
 2424 0080 4FF0A042 		mov	r2, #1342177280
ARM GAS  /tmp/ccOP5HA3.s 			page 133


 2425 0084 D368     		ldr	r3, [r2, #12]
 2426 0086 43F04003 		orr	r3, r3, #64
 2427 008a D360     		str	r3, [r2, #12]
 2428 008c C2E7     		b	.L162
 2429              	.L167:
 2430 008e 00BF     		.align	2
 2431              	.L166:
 2432 0090 00080050 		.word	1342179328
 2433 0094 10380080 		.word	-2147469296
 2434              		.cfi_endproc
 2435              	.LFE202:
 2437              		.section	.text.dcd_disconnect,"ax",%progbits
 2438              		.align	1
 2439              		.weak	dcd_disconnect
 2440              		.syntax unified
 2441              		.thumb
 2442              		.thumb_func
 2443              		.fpu fpv4-sp-d16
 2445              	dcd_disconnect:
 2446              	.LVL199:
 2447              	.LFB209:
 599:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2448              		.loc 1 599 1 is_stmt 1 view -0
 2449              		.cfi_startproc
 2450              		@ args = 0, pretend = 0, frame = 0
 2451              		@ frame_needed = 0, uses_anonymous_args = 0
 2452              		@ link register save eliminated.
 600:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 2453              		.loc 1 600 3 view .LVU745
 601:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCTL |= USB_OTG_DCTL_SDIS;
 2454              		.loc 1 601 3 view .LVU746
 602:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2455              		.loc 1 602 3 view .LVU747
 602:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2456              		.loc 1 602 13 is_stmt 0 view .LVU748
 2457 0000 024A     		ldr	r2, .L169
 2458 0002 5368     		ldr	r3, [r2, #4]
 2459 0004 43F00203 		orr	r3, r3, #2
 2460 0008 5360     		str	r3, [r2, #4]
 603:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2461              		.loc 1 603 1 view .LVU749
 2462 000a 7047     		bx	lr
 2463              	.L170:
 2464              		.align	2
 2465              	.L169:
 2466 000c 00080050 		.word	1342179328
 2467              		.cfi_endproc
 2468              	.LFE209:
 2470              		.section	.text.dcd_sof_enable,"ax",%progbits
 2471              		.align	1
 2472              		.global	dcd_sof_enable
 2473              		.syntax unified
 2474              		.thumb
 2475              		.thumb_func
 2476              		.fpu fpv4-sp-d16
 2478              	dcd_sof_enable:
 2479              	.LVL200:
ARM GAS  /tmp/ccOP5HA3.s 			page 134


 2480              	.LFB210:
 606:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2481              		.loc 1 606 1 is_stmt 1 view -0
 2482              		.cfi_startproc
 2483              		@ args = 0, pretend = 0, frame = 0
 2484              		@ frame_needed = 0, uses_anonymous_args = 0
 2485              		@ link register save eliminated.
 607:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) en;
 2486              		.loc 1 607 3 view .LVU751
 608:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2487              		.loc 1 608 3 view .LVU752
 611:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2488              		.loc 1 611 1 is_stmt 0 view .LVU753
 2489 0000 7047     		bx	lr
 2490              		.cfi_endproc
 2491              	.LFE210:
 2493              		.section	.text.dcd_edpt_open,"ax",%progbits
 2494              		.align	1
 2495              		.global	dcd_edpt_open
 2496              		.syntax unified
 2497              		.thumb
 2498              		.thumb_func
 2499              		.fpu fpv4-sp-d16
 2501              	dcd_edpt_open:
 2502              	.LVL201:
 2503              	.LFB211:
 618:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2504              		.loc 1 618 1 is_stmt 1 view -0
 2505              		.cfi_startproc
 2506              		@ args = 0, pretend = 0, frame = 0
 2507              		@ frame_needed = 0, uses_anonymous_args = 0
 619:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2508              		.loc 1 619 3 view .LVU755
 621:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 2509              		.loc 1 621 3 view .LVU756
 622:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
 2510              		.loc 1 622 3 view .LVU757
 623:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 2511              		.loc 1 623 3 view .LVU758
 624:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2512              		.loc 1 624 3 view .LVU759
 626:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(desc_edpt->bEndpointAddress);
 2513              		.loc 1 626 3 view .LVU760
 626:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(desc_edpt->bEndpointAddress);
 2514              		.loc 1 626 25 is_stmt 0 view .LVU761
 2515 0000 8A78     		ldrb	r2, [r1, #2]	@ zero_extendqisi2
 2516              	.LVL202:
 2517              	.LBB159:
 2518              	.LBI159:
 518:tinyusb/src/common/tusb_types.h **** {
 2519              		.loc 3 518 45 is_stmt 1 view .LVU762
 2520              	.LBB160:
 2521              		.loc 3 520 3 view .LVU763
 2522              		.loc 3 520 10 is_stmt 0 view .LVU764
 2523 0002 02F07F03 		and	r3, r2, #127
 2524              	.LVL203:
 2525              		.loc 3 520 10 view .LVU765
ARM GAS  /tmp/ccOP5HA3.s 			page 135


 2526              	.LBE160:
 2527              	.LBE159:
 627:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2528              		.loc 1 627 3 is_stmt 1 view .LVU766
 2529              	.LBB161:
 2530              	.LBI161:
 512:tinyusb/src/common/tusb_types.h **** {
 2531              		.loc 3 512 48 view .LVU767
 2532              	.LBB162:
 514:tinyusb/src/common/tusb_types.h **** }
 2533              		.loc 3 514 3 view .LVU768
 514:tinyusb/src/common/tusb_types.h **** }
 2534              		.loc 3 514 3 is_stmt 0 view .LVU769
 2535              	.LBE162:
 2536              	.LBE161:
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2537              		.loc 1 629 3 is_stmt 1 view .LVU770
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2538              		.loc 1 629 3 view .LVU771
 2539 0006 052B     		cmp	r3, #5
 2540 0008 4BD8     		bhi	.L190
 618:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2541              		.loc 1 618 1 is_stmt 0 discriminator 2 view .LVU772
 2542 000a 30B5     		push	{r4, r5, lr}
 2543              	.LCFI17:
 2544              		.cfi_def_cfa_offset 12
 2545              		.cfi_offset 4, -12
 2546              		.cfi_offset 5, -8
 2547              		.cfi_offset 14, -4
 2548 000c D409     		lsrs	r4, r2, #7
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2549              		.loc 1 629 3 is_stmt 1 discriminator 2 view .LVU773
 631:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->max_size = tu_edpt_packet_size(desc_edpt);
 2550              		.loc 1 631 3 discriminator 2 view .LVU774
 2551              	.LVL204:
 632:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->interval = desc_edpt->bInterval;
 2552              		.loc 1 632 3 discriminator 2 view .LVU775
 2553              	.LBB163:
 2554              	.LBI163:
 521:tinyusb/src/common/tusb_types.h **** }
 522:tinyusb/src/common/tusb_types.h **** 
 523:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_edpt_addr(uint8_t num, uint8_t dir)
 524:tinyusb/src/common/tusb_types.h **** {
 525:tinyusb/src/common/tusb_types.h ****   return (uint8_t)(num | (dir ? TUSB_DIR_IN_MASK : 0));
 526:tinyusb/src/common/tusb_types.h **** }
 527:tinyusb/src/common/tusb_types.h **** 
 528:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_edpt_packet_size(tusb_desc_endpoint_t const* desc_e
 2555              		.loc 3 528 46 discriminator 2 view .LVU776
 2556              	.LBB164:
 529:tinyusb/src/common/tusb_types.h **** {
 530:tinyusb/src/common/tusb_types.h ****   return tu_le16toh(desc_ep->wMaxPacketSize) & TU_GENMASK(10, 0);
 2557              		.loc 3 530 3 discriminator 2 view .LVU777
 2558              		.loc 3 530 10 is_stmt 0 discriminator 2 view .LVU778
 2559 000e B1F804C0 		ldrh	ip, [r1, #4]	@ unaligned
 2560              		.loc 3 530 46 discriminator 2 view .LVU779
 2561 0012 CCF30A0C 		ubfx	ip, ip, #0, #11
 2562              	.LVL205:
ARM GAS  /tmp/ccOP5HA3.s 			page 136


 2563              		.loc 3 530 46 discriminator 2 view .LVU780
 2564              	.LBE164:
 2565              	.LBE163:
 632:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->interval = desc_edpt->bInterval;
 2566              		.loc 1 632 18 discriminator 2 view .LVU781
 2567 0016 04EB4302 		add	r2, r4, r3, lsl #1
 2568              	.LVL206:
 632:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->interval = desc_edpt->bInterval;
 2569              		.loc 1 632 18 discriminator 2 view .LVU782
 2570 001a 5048     		ldr	r0, .L193
 2571              	.LVL207:
 632:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->interval = desc_edpt->bInterval;
 2572              		.loc 1 632 18 discriminator 2 view .LVU783
 2573 001c 00EB0212 		add	r2, r0, r2, lsl #4
 2574 0020 A2F80AC0 		strh	ip, [r2, #10]	@ movhi
 2575              	.LVL208:
 633:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2576              		.loc 1 633 3 is_stmt 1 discriminator 2 view .LVU784
 633:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2577              		.loc 1 633 29 is_stmt 0 discriminator 2 view .LVU785
 2578 0024 8879     		ldrb	r0, [r1, #6]	@ zero_extendqisi2
 633:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2579              		.loc 1 633 18 discriminator 2 view .LVU786
 2580 0026 1073     		strb	r0, [r2, #12]
 635:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2581              		.loc 1 635 3 is_stmt 1 discriminator 2 view .LVU787
 635:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2582              		.loc 1 635 51 is_stmt 0 discriminator 2 view .LVU788
 2583 0028 0CF10302 		add	r2, ip, #3
 2584 002c 4FEAA20E 		asr	lr, r2, #2
 635:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2585              		.loc 1 635 18 discriminator 2 view .LVU789
 2586 0030 9208     		lsrs	r2, r2, #2
 2587              	.LVL209:
 637:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2588              		.loc 1 637 3 is_stmt 1 discriminator 2 view .LVU790
 637:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2589              		.loc 1 637 5 is_stmt 0 discriminator 2 view .LVU791
 2590 0032 002C     		cmp	r4, #0
 2591 0034 4BD1     		bne	.L177
 2592              	.LBB165:
 640:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2593              		.loc 1 640 5 is_stmt 1 view .LVU792
 2594              	.LVL210:
 2595              	.LBB166:
 2596              	.LBI166:
 184:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 2597              		.loc 1 184 24 view .LVU793
 2598              	.LBB167:
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2599              		.loc 1 186 3 view .LVU794
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2600              		.loc 1 186 29 is_stmt 0 view .LVU795
 2601 0036 5200     		lsls	r2, r2, #1
 2602              	.LVL211:
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2603              		.loc 1 186 29 view .LVU796
ARM GAS  /tmp/ccOP5HA3.s 			page 137


 2604 0038 1B32     		adds	r2, r2, #27
 2605              	.LVL212:
 186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2606              		.loc 1 186 29 view .LVU797
 2607              	.LBE167:
 2608              	.LBE166:
 643:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 2609              		.loc 1 643 5 is_stmt 1 view .LVU798
 643:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 2610              		.loc 1 643 16 is_stmt 0 view .LVU799
 2611 003a 4FF0A040 		mov	r0, #1342177280
 2612 003e 406A     		ldr	r0, [r0, #36]
 643:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
 2613              		.loc 1 643 8 view .LVU800
 2614 0040 9042     		cmp	r0, r2
 2615 0042 08D2     		bcs	.L178
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2616              		.loc 1 645 7 is_stmt 1 view .LVU801
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2617              		.loc 1 645 7 view .LVU802
 2618 0044 4648     		ldr	r0, .L193+4
 2619 0046 0088     		ldrh	r0, [r0]
 2620 0048 1044     		add	r0, r0, r2
 2621 004a B0F5A07F 		cmp	r0, #320
 2622 004e 32DC     		bgt	.L191
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2623              		.loc 1 645 7 discriminator 2 view .LVU803
 648:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 2624              		.loc 1 648 7 discriminator 2 view .LVU804
 648:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 2625              		.loc 1 648 24 is_stmt 0 discriminator 2 view .LVU805
 2626 0050 4FF0A040 		mov	r0, #1342177280
 2627 0054 4262     		str	r2, [r0, #36]
 2628              	.L178:
 651:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer << USB_OTG_DOEPCTL_EPTYP_Pos)   |
 2629              		.loc 1 651 5 is_stmt 1 view .LVU806
 651:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer << USB_OTG_DOEPCTL_EPTYP_Pos)   |
 2630              		.loc 1 651 11 is_stmt 0 view .LVU807
 2631 0056 4FEA431C 		lsl	ip, r3, #5
 2632              	.LVL213:
 651:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer << USB_OTG_DOEPCTL_EPTYP_Pos)   |
 2633              		.loc 1 651 27 view .LVU808
 2634 005a 0CF1A04C 		add	ip, ip, #1342177280
 2635 005e DCF8000B 		ldr	r0, [ip, #2816]
 652:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer != TUSB_XFER_ISOCHRONOUS ? USB_OTG_DOEPCTL_SD0PID_SEVNFRM : 0
 2636              		.loc 1 652 33 view .LVU809
 2637 0062 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 2638              	.LVL214:
 652:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer != TUSB_XFER_ISOCHRONOUS ? USB_OTG_DOEPCTL_SD0PID_SEVNFRM : 0
 2639              		.loc 1 652 33 view .LVU810
 2640 0064 01F00302 		and	r2, r1, #3
 2641              	.LVL215:
 652:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer != TUSB_XFER_ISOCHRONOUS ? USB_OTG_DOEPCTL_SD0PID_SEVNFRM : 0
 2642              		.loc 1 652 39 view .LVU811
 2643 0068 9204     		lsls	r2, r2, #18
 653:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DOEPCTL_MPSIZ_Pos);
 2644              		.loc 1 653 39 view .LVU812
ARM GAS  /tmp/ccOP5HA3.s 			page 138


 2645 006a 01F00301 		and	r1, r1, #3
 653:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DOEPCTL_MPSIZ_Pos);
 2646              		.loc 1 653 97 view .LVU813
 2647 006e 0129     		cmp	r1, #1
 2648 0070 2BD0     		beq	.L185
 2649 0072 4FF08051 		mov	r1, #268435456
 2650              	.L181:
 652:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer != TUSB_XFER_ISOCHRONOUS ? USB_OTG_DOEPCTL_SD0PID_SEVNFRM : 0
 2651              		.loc 1 652 71 view .LVU814
 2652 0076 1143     		orrs	r1, r1, r2
 654:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2653              		.loc 1 654 14 view .LVU815
 2654 0078 04EB4302 		add	r2, r4, r3, lsl #1
 2655 007c 374C     		ldr	r4, .L193
 2656              	.LVL216:
 654:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2657              		.loc 1 654 14 view .LVU816
 2658 007e 04EB0212 		add	r2, r4, r2, lsl #4
 2659 0082 5289     		ldrh	r2, [r2, #10]
 653:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DOEPCTL_MPSIZ_Pos);
 2660              		.loc 1 653 102 view .LVU817
 2661 0084 0A43     		orrs	r2, r2, r1
 651:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer << USB_OTG_DOEPCTL_EPTYP_Pos)   |
 2662              		.loc 1 651 27 view .LVU818
 2663 0086 0243     		orrs	r2, r2, r0
 2664 0088 42F40042 		orr	r2, r2, #32768
 2665 008c CCF8002B 		str	r2, [ip, #2816]
 656:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2666              		.loc 1 656 5 is_stmt 1 view .LVU819
 656:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2667              		.loc 1 656 19 is_stmt 0 view .LVU820
 2668 0090 3449     		ldr	r1, .L193+8
 2669 0092 CA69     		ldr	r2, [r1, #28]
 656:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2670              		.loc 1 656 55 view .LVU821
 2671 0094 1033     		adds	r3, r3, #16
 2672              	.LVL217:
 656:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2673              		.loc 1 656 25 view .LVU822
 2674 0096 0120     		movs	r0, #1
 2675 0098 00FA03F3 		lsl	r3, r0, r3
 2676              	.LVL218:
 656:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2677              		.loc 1 656 19 view .LVU823
 2678 009c 1343     		orrs	r3, r3, r2
 2679 009e CB61     		str	r3, [r1, #28]
 2680              	.L175:
 656:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2681              		.loc 1 656 19 view .LVU824
 2682              	.LBE165:
 702:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2683              		.loc 1 702 1 view .LVU825
 2684 00a0 30BD     		pop	{r4, r5, pc}
 2685              	.LVL219:
 2686              	.L190:
 2687              	.LCFI18:
 2688              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/ccOP5HA3.s 			page 139


 2689              		.cfi_restore 4
 2690              		.cfi_restore 5
 2691              		.cfi_restore 14
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2692              		.loc 1 629 3 is_stmt 1 discriminator 1 view .LVU826
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2693              		.loc 1 629 3 discriminator 1 view .LVU827
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2694              		.loc 1 629 3 discriminator 1 view .LVU828
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2695              		.loc 1 629 3 discriminator 1 view .LVU829
 2696              	.LBB169:
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2697              		.loc 1 629 3 discriminator 1 view .LVU830
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2698              		.loc 1 629 3 discriminator 1 view .LVU831
 2699 00a2 4FF0E023 		mov	r3, #-536813568
 2700              	.LVL220:
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2701              		.loc 1 629 3 is_stmt 0 discriminator 1 view .LVU832
 2702 00a6 D3F8F03D 		ldr	r3, [r3, #3568]
 2703 00aa 13F0010F 		tst	r3, #1
 2704 00ae 00D0     		beq	.L174
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2705              		.loc 1 629 3 is_stmt 1 discriminator 3 view .LVU833
 2706              		.syntax unified
 2707              	@ 629 "tinyusb/src/portable/st/synopsys/dcd_synopsys.c" 1
 2708 00b0 00BE     		BKPT #0
 2709              	
 2710              	@ 0 "" 2
 2711              		.thumb
 2712              		.syntax unified
 2713              	.L174:
 2714              	.LBE169:
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2715              		.loc 1 629 3 discriminator 5 view .LVU834
 629:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2716              		.loc 1 629 3 discriminator 5 view .LVU835
 2717 00b2 0020     		movs	r0, #0
 2718              	.LVL221:
 702:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2719              		.loc 1 702 1 is_stmt 0 discriminator 5 view .LVU836
 2720 00b4 7047     		bx	lr
 2721              	.LVL222:
 2722              	.L191:
 2723              	.LCFI19:
 2724              		.cfi_def_cfa_offset 12
 2725              		.cfi_offset 4, -12
 2726              		.cfi_offset 5, -8
 2727              		.cfi_offset 14, -4
 2728              	.LBB170:
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2729              		.loc 1 645 7 is_stmt 1 discriminator 1 view .LVU837
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2730              		.loc 1 645 7 discriminator 1 view .LVU838
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2731              		.loc 1 645 7 discriminator 1 view .LVU839
ARM GAS  /tmp/ccOP5HA3.s 			page 140


 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2732              		.loc 1 645 7 discriminator 1 view .LVU840
 2733              	.LBB168:
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2734              		.loc 1 645 7 discriminator 1 view .LVU841
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2735              		.loc 1 645 7 discriminator 1 view .LVU842
 2736 00b6 4FF0E023 		mov	r3, #-536813568
 2737              	.LVL223:
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2738              		.loc 1 645 7 is_stmt 0 discriminator 1 view .LVU843
 2739 00ba D3F8F03D 		ldr	r3, [r3, #3568]
 2740 00be 13F0010F 		tst	r3, #1
 2741 00c2 00D0     		beq	.L180
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2742              		.loc 1 645 7 is_stmt 1 discriminator 3 view .LVU844
 2743              		.syntax unified
 2744              	@ 645 "tinyusb/src/portable/st/synopsys/dcd_synopsys.c" 1
 2745 00c4 00BE     		BKPT #0
 2746              	
 2747              	@ 0 "" 2
 2748              		.thumb
 2749              		.syntax unified
 2750              	.L180:
 2751              	.LBE168:
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2752              		.loc 1 645 7 discriminator 5 view .LVU845
 645:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2753              		.loc 1 645 7 discriminator 5 view .LVU846
 2754 00c6 0020     		movs	r0, #0
 2755 00c8 EAE7     		b	.L175
 2756              	.LVL224:
 2757              	.L185:
 653:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DOEPCTL_MPSIZ_Pos);
 2758              		.loc 1 653 97 is_stmt 0 view .LVU847
 2759 00ca 0021     		movs	r1, #0
 2760 00cc D3E7     		b	.L181
 2761              	.LVL225:
 2762              	.L177:
 653:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DOEPCTL_MPSIZ_Pos);
 2763              		.loc 1 653 97 view .LVU848
 2764              	.LBE170:
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2765              		.loc 1 682 5 is_stmt 1 view .LVU849
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2766              		.loc 1 682 5 view .LVU850
 2767 00ce 2448     		ldr	r0, .L193+4
 2768 00d0 0088     		ldrh	r0, [r0]
 2769 00d2 1FFA8EF5 		uxth	r5, lr
 2770 00d6 8644     		add	lr, lr, r0
 2771 00d8 4FF0A044 		mov	r4, #1342177280
 2772              	.LVL226:
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2773              		.loc 1 682 5 is_stmt 0 view .LVU851
 2774 00dc 646A     		ldr	r4, [r4, #36]
 2775 00de A644     		add	lr, lr, r4
 2776 00e0 BEF5A07F 		cmp	lr, #320
ARM GAS  /tmp/ccOP5HA3.s 			page 141


 2777 00e4 2DD8     		bhi	.L192
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2778              		.loc 1 682 5 is_stmt 1 discriminator 2 view .LVU852
 684:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2779              		.loc 1 684 5 discriminator 2 view .LVU853
 684:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2780              		.loc 1 684 30 is_stmt 0 discriminator 2 view .LVU854
 2781 00e6 0244     		add	r2, r2, r0
 2782              	.LVL227:
 684:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2783              		.loc 1 684 30 discriminator 2 view .LVU855
 2784 00e8 92B2     		uxth	r2, r2
 2785 00ea 1D48     		ldr	r0, .L193+4
 2786 00ec 0280     		strh	r2, [r0]	@ movhi
 686:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2787              		.loc 1 686 107 is_stmt 1 discriminator 2 view .LVU856
 690:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2788              		.loc 1 690 5 discriminator 2 view .LVU857
 690:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2789              		.loc 1 690 97 is_stmt 0 discriminator 2 view .LVU858
 2790 00ee C2F5A072 		rsb	r2, r2, #320
 690:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2791              		.loc 1 690 79 discriminator 2 view .LVU859
 2792 00f2 42EA0542 		orr	r2, r2, r5, lsl #16
 690:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2793              		.loc 1 690 33 discriminator 2 view .LVU860
 2794 00f6 03F13F00 		add	r0, r3, #63
 2795 00fa 8000     		lsls	r0, r0, #2
 2796 00fc 00F1A040 		add	r0, r0, #1342177280
 2797 0100 4260     		str	r2, [r0, #4]
 692:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (epnum << USB_OTG_DIEPCTL_TXFNUM_Pos) |
 2798              		.loc 1 692 5 is_stmt 1 discriminator 2 view .LVU861
 692:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (epnum << USB_OTG_DIEPCTL_TXFNUM_Pos) |
 2799              		.loc 1 692 10 is_stmt 0 discriminator 2 view .LVU862
 2800 0102 5801     		lsls	r0, r3, #5
 692:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (epnum << USB_OTG_DIEPCTL_TXFNUM_Pos) |
 2801              		.loc 1 692 26 discriminator 2 view .LVU863
 2802 0104 00F1A040 		add	r0, r0, #1342177280
 2803 0108 D0F80049 		ldr	r4, [r0, #2304]
 693:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer << USB_OTG_DIEPCTL_EPTYP_Pos) |
 2804              		.loc 1 693 16 discriminator 2 view .LVU864
 2805 010c 9A05     		lsls	r2, r3, #22
 692:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (epnum << USB_OTG_DIEPCTL_TXFNUM_Pos) |
 2806              		.loc 1 692 63 discriminator 2 view .LVU865
 2807 010e 42F40042 		orr	r2, r2, #32768
 694:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer != TUSB_XFER_ISOCHRONOUS ? USB_OTG_DIEPCTL_SD0PID_SEVNFRM : 0
 2808              		.loc 1 694 33 discriminator 2 view .LVU866
 2809 0112 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 2810              	.LVL228:
 694:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer != TUSB_XFER_ISOCHRONOUS ? USB_OTG_DIEPCTL_SD0PID_SEVNFRM : 0
 2811              		.loc 1 694 33 discriminator 2 view .LVU867
 2812 0114 01F00305 		and	r5, r1, #3
 693:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer << USB_OTG_DIEPCTL_EPTYP_Pos) |
 2813              		.loc 1 693 47 discriminator 2 view .LVU868
 2814 0118 42EA8542 		orr	r2, r2, r5, lsl #18
 695:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DIEPCTL_MPSIZ_Pos);
 2815              		.loc 1 695 97 discriminator 2 view .LVU869
ARM GAS  /tmp/ccOP5HA3.s 			page 142


 2816 011c 012D     		cmp	r5, #1
 2817 011e 1AD0     		beq	.L186
 695:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DIEPCTL_MPSIZ_Pos);
 2818              		.loc 1 695 97 view .LVU870
 2819 0120 4FF08051 		mov	r1, #268435456
 2820              	.L184:
 694:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (desc_edpt->bmAttributes.xfer != TUSB_XFER_ISOCHRONOUS ? USB_OTG_DIEPCTL_SD0PID_SEVNFRM : 0
 2821              		.loc 1 694 69 view .LVU871
 2822 0124 0A43     		orrs	r2, r2, r1
 695:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DIEPCTL_MPSIZ_Pos);
 2823              		.loc 1 695 102 view .LVU872
 2824 0126 42EA0C0C 		orr	ip, r2, ip
 2825              	.LVL229:
 692:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (epnum << USB_OTG_DIEPCTL_TXFNUM_Pos) |
 2826              		.loc 1 692 26 view .LVU873
 2827 012a 44EA0C04 		orr	r4, r4, ip
 2828 012e C0F80049 		str	r4, [r0, #2304]
 698:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2829              		.loc 1 698 5 is_stmt 1 view .LVU874
 698:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2830              		.loc 1 698 19 is_stmt 0 view .LVU875
 2831 0132 0C49     		ldr	r1, .L193+8
 2832 0134 CA69     		ldr	r2, [r1, #28]
 698:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2833              		.loc 1 698 25 view .LVU876
 2834 0136 0120     		movs	r0, #1
 2835 0138 00FA03F3 		lsl	r3, r0, r3
 2836              	.LVL230:
 698:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2837              		.loc 1 698 19 view .LVU877
 2838 013c 1343     		orrs	r3, r3, r2
 2839 013e CB61     		str	r3, [r1, #28]
 2840 0140 AEE7     		b	.L175
 2841              	.LVL231:
 2842              	.L192:
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2843              		.loc 1 682 5 is_stmt 1 discriminator 1 view .LVU878
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2844              		.loc 1 682 5 discriminator 1 view .LVU879
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2845              		.loc 1 682 5 discriminator 1 view .LVU880
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2846              		.loc 1 682 5 discriminator 1 view .LVU881
 2847              	.LBB171:
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2848              		.loc 1 682 5 discriminator 1 view .LVU882
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2849              		.loc 1 682 5 discriminator 1 view .LVU883
 2850 0142 4FF0E023 		mov	r3, #-536813568
 2851              	.LVL232:
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2852              		.loc 1 682 5 is_stmt 0 discriminator 1 view .LVU884
 2853 0146 D3F8F03D 		ldr	r3, [r3, #3568]
 2854 014a 13F0010F 		tst	r3, #1
 2855 014e 00D0     		beq	.L183
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2856              		.loc 1 682 5 is_stmt 1 discriminator 3 view .LVU885
ARM GAS  /tmp/ccOP5HA3.s 			page 143


 2857              		.syntax unified
 2858              	@ 682 "tinyusb/src/portable/st/synopsys/dcd_synopsys.c" 1
 2859 0150 00BE     		BKPT #0
 2860              	
 2861              	@ 0 "" 2
 2862              		.thumb
 2863              		.syntax unified
 2864              	.L183:
 2865              	.LBE171:
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2866              		.loc 1 682 5 discriminator 5 view .LVU886
 682:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2867              		.loc 1 682 5 discriminator 5 view .LVU887
 2868 0152 0020     		movs	r0, #0
 2869 0154 A4E7     		b	.L175
 2870              	.LVL233:
 2871              	.L186:
 695:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****         (xfer->max_size << USB_OTG_DIEPCTL_MPSIZ_Pos);
 2872              		.loc 1 695 97 is_stmt 0 view .LVU888
 2873 0156 0021     		movs	r1, #0
 2874 0158 E4E7     		b	.L184
 2875              	.L194:
 2876 015a 00BF     		.align	2
 2877              	.L193:
 2878 015c 00000000 		.word	.LANCHOR0
 2879 0160 00000000 		.word	.LANCHOR3
 2880 0164 00080050 		.word	1342179328
 2881              		.cfi_endproc
 2882              	.LFE211:
 2884              		.section	.text.dcd_edpt_close_all,"ax",%progbits
 2885              		.align	1
 2886              		.global	dcd_edpt_close_all
 2887              		.syntax unified
 2888              		.thumb
 2889              		.thumb_func
 2890              		.fpu fpv4-sp-d16
 2892              	dcd_edpt_close_all:
 2893              	.LVL234:
 2894              	.LFB212:
 706:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 2895              		.loc 1 706 1 is_stmt 1 view -0
 2896              		.cfi_startproc
 2897              		@ args = 0, pretend = 0, frame = 0
 2898              		@ frame_needed = 0, uses_anonymous_args = 0
 2899              		@ link register save eliminated.
 707:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2900              		.loc 1 707 3 view .LVU890
 710:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
 2901              		.loc 1 710 3 view .LVU891
 711:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 2902              		.loc 1 711 3 view .LVU892
 712:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2903              		.loc 1 712 3 view .LVU893
 715:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2904              		.loc 1 715 3 view .LVU894
 715:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2905              		.loc 1 715 17 is_stmt 0 view .LVU895
ARM GAS  /tmp/ccOP5HA3.s 			page 144


 2906 0000 0D4B     		ldr	r3, .L198
 2907 0002 4FF00112 		mov	r2, #65537
 2908 0006 DA61     		str	r2, [r3, #28]
 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2909              		.loc 1 717 3 is_stmt 1 view .LVU896
 2910              	.LBB172:
 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2911              		.loc 1 717 7 view .LVU897
 2912              	.LVL235:
 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2913              		.loc 1 717 15 is_stmt 0 view .LVU898
 2914 0008 0123     		movs	r3, #1
 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2915              		.loc 1 717 3 view .LVU899
 2916 000a 0EE0     		b	.L196
 2917              	.LVL236:
 2918              	.L197:
 720:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_status[n][TUSB_DIR_OUT].max_size = 0;
 2919              		.loc 1 720 5 is_stmt 1 discriminator 3 view .LVU900
 720:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_status[n][TUSB_DIR_OUT].max_size = 0;
 2920              		.loc 1 720 11 is_stmt 0 discriminator 3 view .LVU901
 2921 000c 4FEA431C 		lsl	ip, r3, #5
 2922 0010 0CF1A040 		add	r0, ip, #1342177280
 720:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_status[n][TUSB_DIR_OUT].max_size = 0;
 2923              		.loc 1 720 23 discriminator 3 view .LVU902
 2924 0014 0021     		movs	r1, #0
 2925 0016 C0F8001B 		str	r1, [r0, #2816]
 721:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2926              		.loc 1 721 5 is_stmt 1 discriminator 3 view .LVU903
 721:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2927              		.loc 1 721 43 is_stmt 0 discriminator 3 view .LVU904
 2928 001a 084A     		ldr	r2, .L198+4
 2929 001c 6244     		add	r2, r2, ip
 2930 001e 5181     		strh	r1, [r2, #10]	@ movhi
 724:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_status[n][TUSB_DIR_IN].max_size = 0;
 2931              		.loc 1 724 5 is_stmt 1 discriminator 3 view .LVU905
 724:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     xfer_status[n][TUSB_DIR_IN].max_size = 0;
 2932              		.loc 1 724 22 is_stmt 0 discriminator 3 view .LVU906
 2933 0020 C0F80019 		str	r1, [r0, #2304]
 725:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2934              		.loc 1 725 5 is_stmt 1 discriminator 3 view .LVU907
 725:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 2935              		.loc 1 725 42 is_stmt 0 discriminator 3 view .LVU908
 2936 0024 5183     		strh	r1, [r2, #26]	@ movhi
 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2937              		.loc 1 717 34 is_stmt 1 discriminator 3 view .LVU909
 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2938              		.loc 1 717 35 is_stmt 0 discriminator 3 view .LVU910
 2939 0026 0133     		adds	r3, r3, #1
 2940              	.LVL237:
 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2941              		.loc 1 717 35 discriminator 3 view .LVU911
 2942 0028 DBB2     		uxtb	r3, r3
 2943              	.LVL238:
 2944              	.L196:
 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2945              		.loc 1 717 22 is_stmt 1 discriminator 1 view .LVU912
ARM GAS  /tmp/ccOP5HA3.s 			page 145


 717:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 2946              		.loc 1 717 3 is_stmt 0 discriminator 1 view .LVU913
 2947 002a 052B     		cmp	r3, #5
 2948 002c EED9     		bls	.L197
 2949              	.LBE172:
 729:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2950              		.loc 1 729 3 is_stmt 1 view .LVU914
 729:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2951              		.loc 1 729 28 is_stmt 0 view .LVU915
 2952 002e 044B     		ldr	r3, .L198+8
 2953              	.LVL239:
 729:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 2954              		.loc 1 729 28 view .LVU916
 2955 0030 1022     		movs	r2, #16
 2956 0032 1A80     		strh	r2, [r3]	@ movhi
 730:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 2957              		.loc 1 730 1 view .LVU917
 2958 0034 7047     		bx	lr
 2959              	.L199:
 2960 0036 00BF     		.align	2
 2961              	.L198:
 2962 0038 00080050 		.word	1342179328
 2963 003c 00000000 		.word	.LANCHOR0
 2964 0040 00000000 		.word	.LANCHOR3
 2965              		.cfi_endproc
 2966              	.LFE212:
 2968              		.section	.text.dcd_edpt_xfer,"ax",%progbits
 2969              		.align	1
 2970              		.global	dcd_edpt_xfer
 2971              		.syntax unified
 2972              		.thumb
 2973              		.thumb_func
 2974              		.fpu fpv4-sp-d16
 2976              	dcd_edpt_xfer:
 2977              	.LVL240:
 2978              	.LFB213:
 733:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 2979              		.loc 1 733 1 is_stmt 1 view -0
 2980              		.cfi_startproc
 2981              		@ args = 0, pretend = 0, frame = 0
 2982              		@ frame_needed = 0, uses_anonymous_args = 0
 733:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 2983              		.loc 1 733 1 is_stmt 0 view .LVU919
 2984 0000 70B5     		push	{r4, r5, r6, lr}
 2985              	.LCFI20:
 2986              		.cfi_def_cfa_offset 16
 2987              		.cfi_offset 4, -16
 2988              		.cfi_offset 5, -12
 2989              		.cfi_offset 6, -8
 2990              		.cfi_offset 14, -4
 2991 0002 82B0     		sub	sp, sp, #8
 2992              	.LCFI21:
 2993              		.cfi_def_cfa_offset 24
 2994 0004 8E46     		mov	lr, r1
 2995 0006 1646     		mov	r6, r2
 2996 0008 1C46     		mov	r4, r3
 734:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
ARM GAS  /tmp/ccOP5HA3.s 			page 146


 2997              		.loc 1 734 3 is_stmt 1 view .LVU920
 2998              	.LVL241:
 2999              	.LBB173:
 3000              	.LBI173:
 518:tinyusb/src/common/tusb_types.h **** {
 3001              		.loc 3 518 45 view .LVU921
 3002              	.LBB174:
 520:tinyusb/src/common/tusb_types.h **** }
 3003              		.loc 3 520 3 view .LVU922
 520:tinyusb/src/common/tusb_types.h **** }
 3004              		.loc 3 520 10 is_stmt 0 view .LVU923
 3005 000a 01F07F01 		and	r1, r1, #127
 3006              	.LVL242:
 520:tinyusb/src/common/tusb_types.h **** }
 3007              		.loc 3 520 10 view .LVU924
 3008              	.LBE174:
 3009              	.LBE173:
 735:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3010              		.loc 1 735 3 is_stmt 1 view .LVU925
 3011              	.LBB175:
 3012              	.LBI175:
 512:tinyusb/src/common/tusb_types.h **** {
 3013              		.loc 3 512 48 view .LVU926
 3014              	.LBB176:
 514:tinyusb/src/common/tusb_types.h **** }
 3015              		.loc 3 514 3 view .LVU927
 514:tinyusb/src/common/tusb_types.h **** }
 3016              		.loc 3 514 50 is_stmt 0 view .LVU928
 3017 000e 4FEADE12 		lsr	r2, lr, #7
 3018              	.LVL243:
 514:tinyusb/src/common/tusb_types.h **** }
 3019              		.loc 3 514 50 view .LVU929
 3020              	.LBE176:
 3021              	.LBE175:
 737:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->buffer      = buffer;
 3022              		.loc 1 737 3 is_stmt 1 view .LVU930
 738:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->ff          = NULL;
 3023              		.loc 1 738 3 view .LVU931
 738:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->ff          = NULL;
 3024              		.loc 1 738 21 is_stmt 0 view .LVU932
 3025 0012 184B     		ldr	r3, .L207
 3026              	.LVL244:
 738:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->ff          = NULL;
 3027              		.loc 1 738 21 view .LVU933
 3028 0014 4FEA410C 		lsl	ip, r1, #1
 3029 0018 0CEBDE1C 		add	ip, ip, lr, lsr #7
 3030 001c 4FEA0C15 		lsl	r5, ip, #4
 3031 0020 03EB0C1C 		add	ip, r3, ip, lsl #4
 3032 0024 5E51     		str	r6, [r3, r5]
 739:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->total_len   = total_bytes;
 3033              		.loc 1 739 3 is_stmt 1 view .LVU934
 739:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->total_len   = total_bytes;
 3034              		.loc 1 739 21 is_stmt 0 view .LVU935
 3035 0026 0023     		movs	r3, #0
 3036 0028 CCF80430 		str	r3, [ip, #4]
 740:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3037              		.loc 1 740 3 is_stmt 1 view .LVU936
ARM GAS  /tmp/ccOP5HA3.s 			page 147


 740:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3038              		.loc 1 740 21 is_stmt 0 view .LVU937
 3039 002c ACF80840 		strh	r4, [ip, #8]	@ movhi
 743:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     ep0_pending[dir] = total_bytes;
 3040              		.loc 1 743 3 is_stmt 1 view .LVU938
 743:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     ep0_pending[dir] = total_bytes;
 3041              		.loc 1 743 5 is_stmt 0 view .LVU939
 3042 0030 B9B1     		cbz	r1, .L206
 750:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const short_packet_size = total_bytes % xfer->max_size;
 3043              		.loc 1 750 3 is_stmt 1 view .LVU940
 750:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const short_packet_size = total_bytes % xfer->max_size;
 3044              		.loc 1 750 45 is_stmt 0 view .LVU941
 3045 0032 02EB4103 		add	r3, r2, r1, lsl #1
 3046 0036 0F4D     		ldr	r5, .L207
 3047 0038 05EB0313 		add	r3, r5, r3, lsl #4
 3048 003c 5D89     		ldrh	r5, [r3, #10]
 750:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const short_packet_size = total_bytes % xfer->max_size;
 3049              		.loc 1 750 12 view .LVU942
 3050 003e B4FBF5FC 		udiv	ip, r4, r5
 3051 0042 1FFA8CF3 		uxth	r3, ip
 3052              	.LVL245:
 751:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3053              		.loc 1 751 3 is_stmt 1 view .LVU943
 751:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3054              		.loc 1 751 18 is_stmt 0 view .LVU944
 3055 0046 05FB1C4C 		mls	ip, r5, ip, r4
 3056 004a 1FFA8CF5 		uxth	r5, ip
 3057              	.LVL246:
 754:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     num_packets++;
 3058              		.loc 1 754 3 is_stmt 1 view .LVU945
 754:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     num_packets++;
 3059              		.loc 1 754 5 is_stmt 0 view .LVU946
 3060 004e 05B9     		cbnz	r5, .L203
 754:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     num_packets++;
 3061              		.loc 1 754 28 discriminator 1 view .LVU947
 3062 0050 0CB9     		cbnz	r4, .L204
 3063              	.L203:
 755:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3064              		.loc 1 755 5 is_stmt 1 view .LVU948
 755:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3065              		.loc 1 755 16 is_stmt 0 view .LVU949
 3066 0052 0133     		adds	r3, r3, #1
 3067              	.LVL247:
 755:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3068              		.loc 1 755 16 view .LVU950
 3069 0054 9BB2     		uxth	r3, r3
 3070              	.LVL248:
 3071              	.L204:
 759:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3072              		.loc 1 759 3 is_stmt 1 view .LVU951
 3073 0056 0094     		str	r4, [sp]
 3074 0058 FFF7FEFF 		bl	edpt_schedule_packets
 3075              	.LVL249:
 761:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 3076              		.loc 1 761 3 view .LVU952
 3077              	.L202:
 762:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 148


 3078              		.loc 1 762 1 is_stmt 0 view .LVU953
 3079 005c 0120     		movs	r0, #1
 3080 005e 02B0     		add	sp, sp, #8
 3081              	.LCFI22:
 3082              		.cfi_remember_state
 3083              		.cfi_def_cfa_offset 16
 3084              		@ sp needed
 3085 0060 70BD     		pop	{r4, r5, r6, pc}
 3086              	.LVL250:
 3087              	.L206:
 3088              	.LCFI23:
 3089              		.cfi_restore_state
 744:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Schedule the first transaction for EP0 transfer
 3090              		.loc 1 744 5 is_stmt 1 view .LVU954
 744:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Schedule the first transaction for EP0 transfer
 3091              		.loc 1 744 22 is_stmt 0 view .LVU955
 3092 0062 054B     		ldr	r3, .L207+4
 3093 0064 23F81240 		strh	r4, [r3, r2, lsl #1]	@ movhi
 746:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     return true;
 3094              		.loc 1 746 5 is_stmt 1 view .LVU956
 3095 0068 0094     		str	r4, [sp]
 3096 006a 0123     		movs	r3, #1
 3097 006c FFF7FEFF 		bl	edpt_schedule_packets
 3098              	.LVL251:
 747:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3099              		.loc 1 747 5 view .LVU957
 747:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3100              		.loc 1 747 12 is_stmt 0 view .LVU958
 3101 0070 F4E7     		b	.L202
 3102              	.L208:
 3103 0072 00BF     		.align	2
 3104              	.L207:
 3105 0074 00000000 		.word	.LANCHOR0
 3106 0078 00000000 		.word	.LANCHOR1
 3107              		.cfi_endproc
 3108              	.LFE213:
 3110              		.section	.text.dcd_set_address,"ax",%progbits
 3111              		.align	1
 3112              		.global	dcd_set_address
 3113              		.syntax unified
 3114              		.thumb
 3115              		.thumb_func
 3116              		.fpu fpv4-sp-d16
 3118              	dcd_set_address:
 3119              	.LVL252:
 3120              	.LFB205:
 553:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 3121              		.loc 1 553 1 is_stmt 1 view -0
 3122              		.cfi_startproc
 3123              		@ args = 0, pretend = 0, frame = 0
 3124              		@ frame_needed = 0, uses_anonymous_args = 0
 553:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 3125              		.loc 1 553 1 is_stmt 0 view .LVU960
 3126 0000 08B5     		push	{r3, lr}
 3127              	.LCFI24:
 3128              		.cfi_def_cfa_offset 8
 3129              		.cfi_offset 3, -8
ARM GAS  /tmp/ccOP5HA3.s 			page 149


 3130              		.cfi_offset 14, -4
 554:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dev->DCFG = (dev->DCFG & ~USB_OTG_DCFG_DAD_Msk) | (dev_addr << USB_OTG_DCFG_DAD_Pos);
 3131              		.loc 1 554 3 is_stmt 1 view .LVU961
 3132              	.LVL253:
 555:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3133              		.loc 1 555 3 view .LVU962
 555:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3134              		.loc 1 555 19 is_stmt 0 view .LVU963
 3135 0002 064A     		ldr	r2, .L211
 3136 0004 1368     		ldr	r3, [r2]
 555:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3137              		.loc 1 555 26 view .LVU964
 3138 0006 23F4FE63 		bic	r3, r3, #2032
 555:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3139              		.loc 1 555 51 view .LVU965
 3140 000a 43EA0113 		orr	r3, r3, r1, lsl #4
 555:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3141              		.loc 1 555 13 view .LVU966
 3142 000e 1360     		str	r3, [r2]
 558:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 3143              		.loc 1 558 3 is_stmt 1 view .LVU967
 3144              	.LVL254:
 525:tinyusb/src/common/tusb_types.h **** }
 3145              		.loc 3 525 3 view .LVU968
 558:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 3146              		.loc 1 558 3 is_stmt 0 view .LVU969
 3147 0010 0023     		movs	r3, #0
 3148 0012 1A46     		mov	r2, r3
 3149 0014 8021     		movs	r1, #128
 3150              	.LVL255:
 558:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 3151              		.loc 1 558 3 view .LVU970
 3152 0016 FFF7FEFF 		bl	dcd_edpt_xfer
 3153              	.LVL256:
 559:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3154              		.loc 1 559 1 view .LVU971
 3155 001a 08BD     		pop	{r3, pc}
 3156              	.L212:
 3157              		.align	2
 3158              	.L211:
 3159 001c 00080050 		.word	1342179328
 3160              		.cfi_endproc
 3161              	.LFE205:
 3163              		.section	.text.dcd_edpt_xfer_fifo,"ax",%progbits
 3164              		.align	1
 3165              		.weak	dcd_edpt_xfer_fifo
 3166              		.syntax unified
 3167              		.thumb
 3168              		.thumb_func
 3169              		.fpu fpv4-sp-d16
 3171              	dcd_edpt_xfer_fifo:
 3172              	.LVL257:
 3173              	.LFB214:
 769:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // USB buffers always work in bytes so to avoid unnecessary divisions we demand item_size = 1
 3174              		.loc 1 769 1 is_stmt 1 view -0
 3175              		.cfi_startproc
 3176              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccOP5HA3.s 			page 150


 3177              		@ frame_needed = 0, uses_anonymous_args = 0
 769:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // USB buffers always work in bytes so to avoid unnecessary divisions we demand item_size = 1
 3178              		.loc 1 769 1 is_stmt 0 view .LVU973
 3179 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3180              	.LCFI25:
 3181              		.cfi_def_cfa_offset 20
 3182              		.cfi_offset 4, -20
 3183              		.cfi_offset 5, -16
 3184              		.cfi_offset 6, -12
 3185              		.cfi_offset 7, -8
 3186              		.cfi_offset 14, -4
 3187 0002 83B0     		sub	sp, sp, #12
 3188              	.LCFI26:
 3189              		.cfi_def_cfa_offset 32
 3190 0004 1C46     		mov	r4, r3
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3191              		.loc 1 771 3 is_stmt 1 view .LVU974
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3192              		.loc 1 771 3 view .LVU975
 3193 0006 D388     		ldrh	r3, [r2, #6]
 3194              	.LVL258:
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3195              		.loc 1 771 3 is_stmt 0 view .LVU976
 3196 0008 C3F30E03 		ubfx	r3, r3, #0, #15
 3197 000c 012B     		cmp	r3, #1
 3198 000e 0AD0     		beq	.L214
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3199              		.loc 1 771 3 is_stmt 1 discriminator 1 view .LVU977
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3200              		.loc 1 771 3 discriminator 1 view .LVU978
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3201              		.loc 1 771 3 discriminator 1 view .LVU979
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3202              		.loc 1 771 3 discriminator 1 view .LVU980
 3203              	.LBB177:
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3204              		.loc 1 771 3 discriminator 1 view .LVU981
 3205              	.LVL259:
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3206              		.loc 1 771 3 discriminator 1 view .LVU982
 3207 0010 4FF0E023 		mov	r3, #-536813568
 3208 0014 D3F8F03D 		ldr	r3, [r3, #3568]
 3209 0018 13F0010F 		tst	r3, #1
 3210 001c 00D0     		beq	.L215
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3211              		.loc 1 771 3 discriminator 3 view .LVU983
 3212              		.syntax unified
 3213              	@ 771 "tinyusb/src/portable/st/synopsys/dcd_synopsys.c" 1
 3214 001e 00BE     		BKPT #0
 3215              	
 3216              	@ 0 "" 2
 3217              		.thumb
 3218              		.syntax unified
 3219              	.L215:
 3220              	.LBE177:
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3221              		.loc 1 771 3 discriminator 5 view .LVU984
ARM GAS  /tmp/ccOP5HA3.s 			page 151


 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3222              		.loc 1 771 3 discriminator 5 view .LVU985
 3223 0020 0020     		movs	r0, #0
 3224              	.LVL260:
 3225              	.L216:
 791:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3226              		.loc 1 791 1 is_stmt 0 view .LVU986
 3227 0022 03B0     		add	sp, sp, #12
 3228              	.LCFI27:
 3229              		.cfi_remember_state
 3230              		.cfi_def_cfa_offset 20
 3231              		@ sp needed
 3232 0024 F0BD     		pop	{r4, r5, r6, r7, pc}
 3233              	.LVL261:
 3234              	.L214:
 3235              	.LCFI28:
 3236              		.cfi_restore_state
 791:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3237              		.loc 1 791 1 view .LVU987
 3238 0026 8C46     		mov	ip, r1
 3239 0028 1546     		mov	r5, r2
 771:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3240              		.loc 1 771 3 is_stmt 1 view .LVU988
 773:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 3241              		.loc 1 773 3 view .LVU989
 3242              	.LVL262:
 3243              	.LBB178:
 3244              	.LBI178:
 518:tinyusb/src/common/tusb_types.h **** {
 3245              		.loc 3 518 45 view .LVU990
 3246              	.LBB179:
 520:tinyusb/src/common/tusb_types.h **** }
 3247              		.loc 3 520 3 view .LVU991
 520:tinyusb/src/common/tusb_types.h **** }
 3248              		.loc 3 520 10 is_stmt 0 view .LVU992
 3249 002a 01F07F01 		and	r1, r1, #127
 3250              	.LVL263:
 520:tinyusb/src/common/tusb_types.h **** }
 3251              		.loc 3 520 10 view .LVU993
 3252              	.LBE179:
 3253              	.LBE178:
 774:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3254              		.loc 1 774 3 is_stmt 1 view .LVU994
 3255              	.LBB180:
 3256              	.LBI180:
 512:tinyusb/src/common/tusb_types.h **** {
 3257              		.loc 3 512 48 view .LVU995
 3258              	.LBB181:
 514:tinyusb/src/common/tusb_types.h **** }
 3259              		.loc 3 514 3 view .LVU996
 514:tinyusb/src/common/tusb_types.h **** }
 3260              		.loc 3 514 50 is_stmt 0 view .LVU997
 3261 002e 4FEADC12 		lsr	r2, ip, #7
 3262              	.LVL264:
 514:tinyusb/src/common/tusb_types.h **** }
 3263              		.loc 3 514 50 view .LVU998
 3264              	.LBE181:
ARM GAS  /tmp/ccOP5HA3.s 			page 152


 3265              	.LBE180:
 776:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->buffer      = NULL;
 3266              		.loc 1 776 3 is_stmt 1 view .LVU999
 777:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->ff          = ff;
 3267              		.loc 1 777 3 view .LVU1000
 777:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->ff          = ff;
 3268              		.loc 1 777 21 is_stmt 0 view .LVU1001
 3269 0032 0F4E     		ldr	r6, .L220
 3270 0034 4B00     		lsls	r3, r1, #1
 3271 0036 03EBDC13 		add	r3, r3, ip, lsr #7
 3272 003a 4FEA031C 		lsl	ip, r3, #4
 3273 003e 06EB0313 		add	r3, r6, r3, lsl #4
 3274 0042 0027     		movs	r7, #0
 3275 0044 46F80C70 		str	r7, [r6, ip]
 778:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->total_len   = total_bytes;
 3276              		.loc 1 778 3 is_stmt 1 view .LVU1002
 778:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   xfer->total_len   = total_bytes;
 3277              		.loc 1 778 21 is_stmt 0 view .LVU1003
 3278 0048 5D60     		str	r5, [r3, #4]
 779:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3279              		.loc 1 779 3 is_stmt 1 view .LVU1004
 779:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3280              		.loc 1 779 21 is_stmt 0 view .LVU1005
 3281 004a 1C81     		strh	r4, [r3, #8]	@ movhi
 781:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const short_packet_size = total_bytes % xfer->max_size;
 3282              		.loc 1 781 3 is_stmt 1 view .LVU1006
 781:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const short_packet_size = total_bytes % xfer->max_size;
 3283              		.loc 1 781 45 is_stmt 0 view .LVU1007
 3284 004c B3F80AC0 		ldrh	ip, [r3, #10]
 781:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const short_packet_size = total_bytes % xfer->max_size;
 3285              		.loc 1 781 12 view .LVU1008
 3286 0050 B4FBFCF5 		udiv	r5, r4, ip
 3287              	.LVL265:
 781:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint16_t const short_packet_size = total_bytes % xfer->max_size;
 3288              		.loc 1 781 12 view .LVU1009
 3289 0054 ABB2     		uxth	r3, r5
 3290              	.LVL266:
 782:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3291              		.loc 1 782 3 is_stmt 1 view .LVU1010
 782:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3292              		.loc 1 782 18 is_stmt 0 view .LVU1011
 3293 0056 0CFB1545 		mls	r5, ip, r5, r4
 3294 005a ADB2     		uxth	r5, r5
 3295              	.LVL267:
 785:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3296              		.loc 1 785 3 is_stmt 1 view .LVU1012
 785:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3297              		.loc 1 785 5 is_stmt 0 view .LVU1013
 3298 005c 05B9     		cbnz	r5, .L217
 785:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3299              		.loc 1 785 28 discriminator 2 view .LVU1014
 3300 005e 0CB9     		cbnz	r4, .L218
 3301              	.L217:
 785:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3302              		.loc 1 785 51 is_stmt 1 discriminator 3 view .LVU1015
 785:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3303              		.loc 1 785 62 is_stmt 0 discriminator 3 view .LVU1016
ARM GAS  /tmp/ccOP5HA3.s 			page 153


 3304 0060 0133     		adds	r3, r3, #1
 3305              	.LVL268:
 785:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3306              		.loc 1 785 62 discriminator 3 view .LVU1017
 3307 0062 9BB2     		uxth	r3, r3
 3308              	.LVL269:
 3309              	.L218:
 788:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3310              		.loc 1 788 3 is_stmt 1 view .LVU1018
 3311 0064 0094     		str	r4, [sp]
 3312 0066 FFF7FEFF 		bl	edpt_schedule_packets
 3313              	.LVL270:
 790:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 3314              		.loc 1 790 3 view .LVU1019
 790:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 3315              		.loc 1 790 10 is_stmt 0 view .LVU1020
 3316 006a 0120     		movs	r0, #1
 3317 006c D9E7     		b	.L216
 3318              	.L221:
 3319 006e 00BF     		.align	2
 3320              	.L220:
 3321 0070 00000000 		.word	.LANCHOR0
 3322              		.cfi_endproc
 3323              	.LFE214:
 3325              		.section	.text.dcd_edpt_close,"ax",%progbits
 3326              		.align	1
 3327              		.weak	dcd_edpt_close
 3328              		.syntax unified
 3329              		.thumb
 3330              		.thumb_func
 3331              		.fpu fpv4-sp-d16
 3333              	dcd_edpt_close:
 3334              	.LVL271:
 3335              	.LFB216:
 851:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 3336              		.loc 1 851 1 is_stmt 1 view -0
 3337              		.cfi_startproc
 3338              		@ args = 0, pretend = 0, frame = 0
 3339              		@ frame_needed = 0, uses_anonymous_args = 0
 851:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 3340              		.loc 1 851 1 is_stmt 0 view .LVU1022
 3341 0000 38B5     		push	{r3, r4, r5, lr}
 3342              	.LCFI29:
 3343              		.cfi_def_cfa_offset 16
 3344              		.cfi_offset 3, -16
 3345              		.cfi_offset 4, -12
 3346              		.cfi_offset 5, -8
 3347              		.cfi_offset 14, -4
 852:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3348              		.loc 1 852 3 is_stmt 1 view .LVU1023
 3349              	.LVL272:
 854:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 3350              		.loc 1 854 3 view .LVU1024
 3351              	.LBB182:
 3352              	.LBI182:
 518:tinyusb/src/common/tusb_types.h **** {
 3353              		.loc 3 518 45 view .LVU1025
ARM GAS  /tmp/ccOP5HA3.s 			page 154


 3354              	.LBB183:
 520:tinyusb/src/common/tusb_types.h **** }
 3355              		.loc 3 520 3 view .LVU1026
 520:tinyusb/src/common/tusb_types.h **** }
 3356              		.loc 3 520 10 is_stmt 0 view .LVU1027
 3357 0002 01F07F05 		and	r5, r1, #127
 3358              	.LVL273:
 520:tinyusb/src/common/tusb_types.h **** }
 3359              		.loc 3 520 10 view .LVU1028
 3360              	.LBE183:
 3361              	.LBE182:
 855:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3362              		.loc 1 855 3 is_stmt 1 view .LVU1029
 3363              	.LBB184:
 3364              	.LBI184:
 512:tinyusb/src/common/tusb_types.h **** {
 3365              		.loc 3 512 48 view .LVU1030
 3366              	.LBB185:
 514:tinyusb/src/common/tusb_types.h **** }
 3367              		.loc 3 514 3 view .LVU1031
 514:tinyusb/src/common/tusb_types.h **** }
 3368              		.loc 3 514 50 is_stmt 0 view .LVU1032
 3369 0006 CC09     		lsrs	r4, r1, #7
 3370              	.LVL274:
 514:tinyusb/src/common/tusb_types.h **** }
 3371              		.loc 3 514 50 view .LVU1033
 3372              	.LBE185:
 3373              	.LBE184:
 857:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3374              		.loc 1 857 3 is_stmt 1 view .LVU1034
 3375 0008 0022     		movs	r2, #0
 3376 000a FFF7FEFF 		bl	dcd_edpt_disable
 3377              	.LVL275:
 860:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3378              		.loc 1 860 3 view .LVU1035
 860:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3379              		.loc 1 860 36 is_stmt 0 view .LVU1036
 3380 000e 04EB4502 		add	r2, r4, r5, lsl #1
 3381 0012 124B     		ldr	r3, .L229
 3382 0014 03EB0213 		add	r3, r3, r2, lsl #4
 3383 0018 0022     		movs	r2, #0
 3384 001a 5A81     		strh	r2, [r3, #10]	@ movhi
 862:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 3385              		.loc 1 862 3 is_stmt 1 view .LVU1037
 862:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
 3386              		.loc 1 862 6 is_stmt 0 view .LVU1038
 3387 001c 1CB9     		cbnz	r4, .L228
 872:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3388              		.loc 1 872 5 is_stmt 1 view .LVU1039
 872:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3389              		.loc 1 872 20 is_stmt 0 view .LVU1040
 3390 001e 104B     		ldr	r3, .L229+4
 3391 0020 0122     		movs	r2, #1
 3392 0022 1A70     		strb	r2, [r3]
 3393              	.LVL276:
 3394              	.L222:
 874:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 155


 3395              		.loc 1 874 1 view .LVU1041
 3396 0024 38BD     		pop	{r3, r4, r5, pc}
 3397              	.LVL277:
 3398              	.L228:
 3399              	.LBB186:
 864:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint16_t const fifo_start = (usb_otg->DIEPTXF[epnum - 1] & USB_OTG_DIEPTXF_INEPTXSA_Msk) >> USB
 3400              		.loc 1 864 5 is_stmt 1 view .LVU1042
 864:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint16_t const fifo_start = (usb_otg->DIEPTXF[epnum - 1] & USB_OTG_DIEPTXF_INEPTXSA_Msk) >> USB
 3401              		.loc 1 864 49 is_stmt 0 view .LVU1043
 3402 0026 3F35     		adds	r5, r5, #63
 3403              	.LVL278:
 864:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint16_t const fifo_start = (usb_otg->DIEPTXF[epnum - 1] & USB_OTG_DIEPTXF_INEPTXSA_Msk) >> USB
 3404              		.loc 1 864 49 view .LVU1044
 3405 0028 AD00     		lsls	r5, r5, #2
 3406              	.LVL279:
 864:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint16_t const fifo_start = (usb_otg->DIEPTXF[epnum - 1] & USB_OTG_DIEPTXF_INEPTXSA_Msk) >> USB
 3407              		.loc 1 864 49 view .LVU1045
 3408 002a 05F1A045 		add	r5, r5, #1342177280
 3409 002e 6968     		ldr	r1, [r5, #4]
 864:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint16_t const fifo_start = (usb_otg->DIEPTXF[epnum - 1] & USB_OTG_DIEPTXF_INEPTXSA_Msk) >> USB
 3410              		.loc 1 864 20 view .LVU1046
 3411 0030 090C     		lsrs	r1, r1, #16
 3412              	.LVL280:
 865:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // For now only the last opened endpoint can be closed without fuss.
 3413              		.loc 1 865 5 is_stmt 1 view .LVU1047
 865:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // For now only the last opened endpoint can be closed without fuss.
 3414              		.loc 1 865 50 is_stmt 0 view .LVU1048
 3415 0032 6B68     		ldr	r3, [r5, #4]
 3416              	.LVL281:
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3417              		.loc 1 867 5 is_stmt 1 view .LVU1049
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3418              		.loc 1 867 5 view .LVU1050
 3419 0034 9BB2     		uxth	r3, r3
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3420              		.loc 1 867 5 is_stmt 0 view .LVU1051
 3421 0036 0B4A     		ldr	r2, .L229+8
 3422 0038 1288     		ldrh	r2, [r2]
 3423 003a C2F5A070 		rsb	r0, r2, #320
 3424 003e 8342     		cmp	r3, r0
 3425 0040 08D0     		beq	.L224
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3426              		.loc 1 867 5 is_stmt 1 discriminator 1 view .LVU1052
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3427              		.loc 1 867 5 discriminator 1 view .LVU1053
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3428              		.loc 1 867 5 discriminator 1 view .LVU1054
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3429              		.loc 1 867 5 discriminator 1 view .LVU1055
 3430              	.LBB187:
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3431              		.loc 1 867 5 discriminator 1 view .LVU1056
 3432              	.LVL282:
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3433              		.loc 1 867 5 discriminator 1 view .LVU1057
 3434 0042 4FF0E023 		mov	r3, #-536813568
 3435              	.LVL283:
ARM GAS  /tmp/ccOP5HA3.s 			page 156


 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3436              		.loc 1 867 5 is_stmt 0 discriminator 1 view .LVU1058
 3437 0046 D3F8F03D 		ldr	r3, [r3, #3568]
 3438 004a 13F0010F 		tst	r3, #1
 3439 004e E9D0     		beq	.L222
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3440              		.loc 1 867 5 is_stmt 1 discriminator 3 view .LVU1059
 3441              		.syntax unified
 3442              	@ 867 "tinyusb/src/portable/st/synopsys/dcd_synopsys.c" 1
 3443 0050 00BE     		BKPT #0
 3444              	
 3445              	@ 0 "" 2
 3446              		.thumb
 3447              		.syntax unified
 3448              	.LBE187:
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3449              		.loc 1 867 5 discriminator 3 view .LVU1060
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3450              		.loc 1 867 5 discriminator 3 view .LVU1061
 3451 0052 E7E7     		b	.L222
 3452              	.LVL284:
 3453              	.L224:
 867:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     _allocated_fifo_words_tx -= fifo_size;
 3454              		.loc 1 867 5 discriminator 2 view .LVU1062
 868:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3455              		.loc 1 868 5 discriminator 2 view .LVU1063
 868:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3456              		.loc 1 868 30 is_stmt 0 discriminator 2 view .LVU1064
 3457 0054 521A     		subs	r2, r2, r1
 3458 0056 034B     		ldr	r3, .L229+8
 3459              	.LVL285:
 868:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3460              		.loc 1 868 30 discriminator 2 view .LVU1065
 3461 0058 1A80     		strh	r2, [r3]	@ movhi
 3462              	.LBE186:
 3463 005a E3E7     		b	.L222
 3464              	.L230:
 3465              		.align	2
 3466              	.L229:
 3467 005c 00000000 		.word	.LANCHOR0
 3468 0060 00000000 		.word	.LANCHOR2
 3469 0064 00000000 		.word	.LANCHOR3
 3470              		.cfi_endproc
 3471              	.LFE216:
 3473              		.section	.text.dcd_edpt_stall,"ax",%progbits
 3474              		.align	1
 3475              		.global	dcd_edpt_stall
 3476              		.syntax unified
 3477              		.thumb
 3478              		.thumb_func
 3479              		.fpu fpv4-sp-d16
 3481              	dcd_edpt_stall:
 3482              	.LVL286:
 3483              	.LFB217:
 877:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dcd_edpt_disable(rhport, ep_addr, true);
 3484              		.loc 1 877 1 is_stmt 1 view -0
 3485              		.cfi_startproc
ARM GAS  /tmp/ccOP5HA3.s 			page 157


 3486              		@ args = 0, pretend = 0, frame = 0
 3487              		@ frame_needed = 0, uses_anonymous_args = 0
 877:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   dcd_edpt_disable(rhport, ep_addr, true);
 3488              		.loc 1 877 1 is_stmt 0 view .LVU1067
 3489 0000 08B5     		push	{r3, lr}
 3490              	.LCFI30:
 3491              		.cfi_def_cfa_offset 8
 3492              		.cfi_offset 3, -8
 3493              		.cfi_offset 14, -4
 878:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 3494              		.loc 1 878 3 is_stmt 1 view .LVU1068
 3495 0002 0122     		movs	r2, #1
 3496 0004 FFF7FEFF 		bl	dcd_edpt_disable
 3497              	.LVL287:
 879:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3498              		.loc 1 879 1 is_stmt 0 view .LVU1069
 3499 0008 08BD     		pop	{r3, pc}
 3500              		.cfi_endproc
 3501              	.LFE217:
 3503              		.section	.text.dcd_edpt_clear_stall,"ax",%progbits
 3504              		.align	1
 3505              		.global	dcd_edpt_clear_stall
 3506              		.syntax unified
 3507              		.thumb
 3508              		.thumb_func
 3509              		.fpu fpv4-sp-d16
 3511              	dcd_edpt_clear_stall:
 3512              	.LVL288:
 3513              	.LFB218:
 882:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   (void) rhport;
 3514              		.loc 1 882 1 is_stmt 1 view -0
 3515              		.cfi_startproc
 3516              		@ args = 0, pretend = 0, frame = 0
 3517              		@ frame_needed = 0, uses_anonymous_args = 0
 3518              		@ link register save eliminated.
 883:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3519              		.loc 1 883 3 view .LVU1071
 885:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 3520              		.loc 1 885 3 view .LVU1072
 886:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3521              		.loc 1 886 3 view .LVU1073
 888:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 3522              		.loc 1 888 3 view .LVU1074
 3523              	.LBB188:
 3524              	.LBI188:
 518:tinyusb/src/common/tusb_types.h **** {
 3525              		.loc 3 518 45 view .LVU1075
 3526              	.LBB189:
 520:tinyusb/src/common/tusb_types.h **** }
 3527              		.loc 3 520 3 view .LVU1076
 520:tinyusb/src/common/tusb_types.h **** }
 3528              		.loc 3 520 10 is_stmt 0 view .LVU1077
 3529 0000 01F07F03 		and	r3, r1, #127
 3530              	.LVL289:
 520:tinyusb/src/common/tusb_types.h **** }
 3531              		.loc 3 520 10 view .LVU1078
 3532              	.LBE189:
ARM GAS  /tmp/ccOP5HA3.s 			page 158


 3533              	.LBE188:
 889:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3534              		.loc 1 889 3 is_stmt 1 view .LVU1079
 3535              	.LBB190:
 3536              	.LBI190:
 512:tinyusb/src/common/tusb_types.h **** {
 3537              		.loc 3 512 48 view .LVU1080
 3538              	.LBB191:
 514:tinyusb/src/common/tusb_types.h **** }
 3539              		.loc 3 514 3 view .LVU1081
 514:tinyusb/src/common/tusb_types.h **** }
 3540              		.loc 3 514 3 is_stmt 0 view .LVU1082
 3541              	.LBE191:
 3542              	.LBE190:
 892:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 3543              		.loc 1 892 3 is_stmt 1 view .LVU1083
 892:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 3544              		.loc 1 892 5 is_stmt 0 view .LVU1084
 3545 0004 CA09     		lsrs	r2, r1, #7
 3546 0006 0FD1     		bne	.L236
 896:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[epnum].DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 3547              		.loc 1 896 5 is_stmt 1 view .LVU1085
 896:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[epnum].DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 3548              		.loc 1 896 11 is_stmt 0 view .LVU1086
 3549 0008 5B01     		lsls	r3, r3, #5
 3550              	.LVL290:
 896:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     out_ep[epnum].DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 3551              		.loc 1 896 27 view .LVU1087
 3552 000a 03F1A043 		add	r3, r3, #1342177280
 3553 000e D3F8002B 		ldr	r2, [r3, #2816]
 3554 0012 22F40012 		bic	r2, r2, #2097152
 3555 0016 C3F8002B 		str	r2, [r3, #2816]
 897:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3556              		.loc 1 897 5 is_stmt 1 view .LVU1088
 897:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3557              		.loc 1 897 27 is_stmt 0 view .LVU1089
 3558 001a D3F8002B 		ldr	r2, [r3, #2816]
 3559 001e 42F08052 		orr	r2, r2, #268435456
 3560 0022 C3F8002B 		str	r2, [r3, #2816]
 899:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3561              		.loc 1 899 1 view .LVU1090
 3562 0026 7047     		bx	lr
 3563              	.LVL291:
 3564              	.L236:
 893:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 3565              		.loc 1 893 5 is_stmt 1 view .LVU1091
 893:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 3566              		.loc 1 893 10 is_stmt 0 view .LVU1092
 3567 0028 5B01     		lsls	r3, r3, #5
 3568              	.LVL292:
 893:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     in_ep[epnum].DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 3569              		.loc 1 893 26 view .LVU1093
 3570 002a 03F1A043 		add	r3, r3, #1342177280
 3571 002e D3F80029 		ldr	r2, [r3, #2304]
 3572 0032 22F40012 		bic	r2, r2, #2097152
 3573 0036 C3F80029 		str	r2, [r3, #2304]
 894:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
ARM GAS  /tmp/ccOP5HA3.s 			page 159


 3574              		.loc 1 894 5 is_stmt 1 view .LVU1094
 894:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   } else {
 3575              		.loc 1 894 26 is_stmt 0 view .LVU1095
 3576 003a D3F80029 		ldr	r2, [r3, #2304]
 3577 003e 42F08052 		orr	r2, r2, #268435456
 3578 0042 C3F80029 		str	r2, [r3, #2304]
 3579 0046 7047     		bx	lr
 3580              		.cfi_endproc
 3581              	.LFE218:
 3583              		.section	.text.dcd_int_handler,"ax",%progbits
 3584              		.align	1
 3585              		.global	dcd_int_handler
 3586              		.syntax unified
 3587              		.thumb
 3588              		.thumb_func
 3589              		.fpu fpv4-sp-d16
 3591              	dcd_int_handler:
 3592              	.LVL293:
 3593              	.LFB224:
1126:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1127:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** void dcd_int_handler(uint8_t rhport)
1128:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** {
 3594              		.loc 1 1128 1 is_stmt 1 view -0
 3595              		.cfi_startproc
 3596              		@ args = 0, pretend = 0, frame = 16
 3597              		@ frame_needed = 0, uses_anonymous_args = 0
 3598              		.loc 1 1128 1 is_stmt 0 view .LVU1097
 3599 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3600              	.LCFI31:
 3601              		.cfi_def_cfa_offset 20
 3602              		.cfi_offset 4, -20
 3603              		.cfi_offset 5, -16
 3604              		.cfi_offset 6, -12
 3605              		.cfi_offset 7, -8
 3606              		.cfi_offset 14, -4
 3607 0002 85B0     		sub	sp, sp, #20
 3608              	.LCFI32:
 3609              		.cfi_def_cfa_offset 40
 3610 0004 0546     		mov	r5, r0
1129:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_GlobalTypeDef * usb_otg = GLOBAL_BASE(rhport);
 3611              		.loc 1 1129 3 is_stmt 1 view .LVU1098
 3612              	.LVL294:
1130:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_DeviceTypeDef * dev = DEVICE_BASE(rhport);
 3613              		.loc 1 1130 3 view .LVU1099
1131:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_OUTEndpointTypeDef * out_ep = OUT_EP_BASE(rhport);
 3614              		.loc 1 1131 3 view .LVU1100
1132:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   USB_OTG_INEndpointTypeDef * in_ep = IN_EP_BASE(rhport);
 3615              		.loc 1 1132 3 view .LVU1101
1133:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1134:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   uint32_t const int_status = usb_otg->GINTSTS & usb_otg->GINTMSK;
 3616              		.loc 1 1134 3 view .LVU1102
 3617              		.loc 1 1134 38 is_stmt 0 view .LVU1103
 3618 0006 4FF0A043 		mov	r3, #1342177280
 3619 000a 5C69     		ldr	r4, [r3, #20]
 3620              		.loc 1 1134 57 view .LVU1104
 3621 000c 9B69     		ldr	r3, [r3, #24]
 3622              		.loc 1 1134 18 view .LVU1105
ARM GAS  /tmp/ccOP5HA3.s 			page 160


 3623 000e 1C40     		ands	r4, r4, r3
 3624              	.LVL295:
1135:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1136:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(int_status & USB_OTG_GINTSTS_USBRST)
 3625              		.loc 1 1136 3 is_stmt 1 view .LVU1106
 3626              		.loc 1 1136 5 is_stmt 0 view .LVU1107
 3627 0010 14F4805F 		tst	r4, #4096
 3628 0014 3BD1     		bne	.L251
 3629              	.LVL296:
 3630              	.L238:
1137:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1138:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // USBRST is start of reset.
1139:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GINTSTS = USB_OTG_GINTSTS_USBRST;
1140:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     bus_reset(rhport);
1141:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1142:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1143:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(int_status & USB_OTG_GINTSTS_ENUMDNE)
 3631              		.loc 1 1143 3 is_stmt 1 view .LVU1108
 3632              		.loc 1 1143 5 is_stmt 0 view .LVU1109
 3633 0016 14F4005F 		tst	r4, #8192
 3634 001a 40D1     		bne	.L252
 3635              	.L239:
1144:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1145:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // ENUMDNE is the end of reset where speed of the link is detected
1146:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1147:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GINTSTS = USB_OTG_GINTSTS_ENUMDNE;
1148:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1149:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     tusb_speed_t const speed = get_speed(rhport);
1150:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1151:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     set_turnaround(usb_otg, speed);
1152:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_reset(rhport, speed, true);
1153:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1154:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1155:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(int_status & USB_OTG_GINTSTS_USBSUSP)
 3636              		.loc 1 1155 3 is_stmt 1 view .LVU1110
 3637              		.loc 1 1155 5 is_stmt 0 view .LVU1111
 3638 001c 14F4006F 		tst	r4, #2048
 3639 0020 59D1     		bne	.L253
 3640              	.L240:
1156:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1157:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GINTSTS = USB_OTG_GINTSTS_USBSUSP;
1158:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_signal(rhport, DCD_EVENT_SUSPEND, true);
1159:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1160:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1161:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(int_status & USB_OTG_GINTSTS_WKUINT)
 3641              		.loc 1 1161 3 is_stmt 1 view .LVU1112
 3642              		.loc 1 1161 5 is_stmt 0 view .LVU1113
 3643 0022 002C     		cmp	r4, #0
 3644 0024 6BDB     		blt	.L254
 3645              	.L241:
1162:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1163:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GINTSTS = USB_OTG_GINTSTS_WKUINT;
1164:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_signal(rhport, DCD_EVENT_RESUME, true);
1165:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1166:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1167:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // TODO check USB_OTG_GINTSTS_DISCINT for disconnect detection
1168:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // if(int_status & USB_OTG_GINTSTS_DISCINT)
ARM GAS  /tmp/ccOP5HA3.s 			page 161


1169:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1170:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(int_status & USB_OTG_GINTSTS_OTGINT)
 3646              		.loc 1 1170 3 is_stmt 1 view .LVU1114
 3647              		.loc 1 1170 5 is_stmt 0 view .LVU1115
 3648 0026 14F0040F 		tst	r4, #4
 3649 002a 08D0     		beq	.L242
 3650              	.LBB192:
1171:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1172:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // OTG INT bit is read-only
1173:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     uint32_t const otg_int = usb_otg->GOTGINT;
 3651              		.loc 1 1173 5 is_stmt 1 view .LVU1116
 3652              		.loc 1 1173 20 is_stmt 0 view .LVU1117
 3653 002c 4FF0A043 		mov	r3, #1342177280
 3654 0030 5E68     		ldr	r6, [r3, #4]
 3655              	.LVL297:
1174:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1175:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if (otg_int & USB_OTG_GOTGINT_SEDET)
 3656              		.loc 1 1175 5 is_stmt 1 view .LVU1118
 3657              		.loc 1 1175 8 is_stmt 0 view .LVU1119
 3658 0032 16F0040F 		tst	r6, #4
 3659 0036 75D1     		bne	.L255
 3660              	.L243:
1176:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
1177:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       dcd_event_bus_signal(rhport, DCD_EVENT_UNPLUGGED, true);
1178:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
1179:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1180:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GOTGINT = otg_int;
 3661              		.loc 1 1180 5 is_stmt 1 view .LVU1120
 3662              		.loc 1 1180 22 is_stmt 0 view .LVU1121
 3663 0038 4FF0A043 		mov	r3, #1342177280
 3664 003c 5E60     		str	r6, [r3, #4]
 3665              	.LVL298:
 3666              	.L242:
 3667              		.loc 1 1180 22 view .LVU1122
 3668              	.LBE192:
1181:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1182:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1183:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(int_status & USB_OTG_GINTSTS_SOF)
 3669              		.loc 1 1183 3 is_stmt 1 view .LVU1123
 3670              		.loc 1 1183 5 is_stmt 0 view .LVU1124
 3671 003e 14F0080F 		tst	r4, #8
 3672 0042 7DD1     		bne	.L256
 3673              	.L244:
1184:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1185:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GINTSTS = USB_OTG_GINTSTS_SOF;
1186:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1187:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Disable SOF interrupt since currently only used for remote wakeup detection
1188:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GINTMSK &= ~USB_OTG_GINTMSK_SOFM;
1189:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1190:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_signal(rhport, DCD_EVENT_SOF, true);
1191:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1192:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1193:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // RxFIFO non-empty interrupt handling.
1194:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(int_status & USB_OTG_GINTSTS_RXFLVL)
 3674              		.loc 1 1194 3 is_stmt 1 view .LVU1125
 3675              		.loc 1 1194 5 is_stmt 0 view .LVU1126
 3676 0044 14F0100F 		tst	r4, #16
ARM GAS  /tmp/ccOP5HA3.s 			page 162


 3677 0048 19D0     		beq	.L245
1195:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1196:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // RXFLVL bit is read-only
1197:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1198:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Mask out RXFLVL while reading data from FIFO
1199:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GINTMSK &= ~USB_OTG_GINTMSK_RXFLVLM;
 3678              		.loc 1 1199 5 is_stmt 1 view .LVU1127
 3679              		.loc 1 1199 22 is_stmt 0 view .LVU1128
 3680 004a 4FF0A042 		mov	r2, #1342177280
 3681 004e 9369     		ldr	r3, [r2, #24]
 3682 0050 23F01003 		bic	r3, r3, #16
 3683 0054 9361     		str	r3, [r2, #24]
 3684              	.L246:
1200:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1201:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Loop until all available packets were handled
1202:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     do
 3685              		.loc 1 1202 5 is_stmt 1 discriminator 1 view .LVU1129
1203:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
1204:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       handle_rxflvl_ints(rhport, out_ep);
 3686              		.loc 1 1204 7 discriminator 1 view .LVU1130
 3687 0056 4F49     		ldr	r1, .L260
 3688 0058 2846     		mov	r0, r5
 3689 005a FFF7FEFF 		bl	handle_rxflvl_ints
 3690              	.LVL299:
1205:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     } while(usb_otg->GINTSTS & USB_OTG_GINTSTS_RXFLVL);
 3691              		.loc 1 1205 12 discriminator 1 view .LVU1131
 3692              		.loc 1 1205 20 is_stmt 0 discriminator 1 view .LVU1132
 3693 005e 4FF0A043 		mov	r3, #1342177280
 3694 0062 5B69     		ldr	r3, [r3, #20]
 3695              		.loc 1 1205 5 discriminator 1 view .LVU1133
 3696 0064 13F0100F 		tst	r3, #16
 3697 0068 F5D1     		bne	.L246
1206:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1207:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // Manage RX FIFO size
1208:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     if (_out_ep_closed)
 3698              		.loc 1 1208 5 is_stmt 1 view .LVU1134
 3699              		.loc 1 1208 9 is_stmt 0 view .LVU1135
 3700 006a 4B4B     		ldr	r3, .L260+4
 3701 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3702              		.loc 1 1208 8 view .LVU1136
 3703 006e 002B     		cmp	r3, #0
 3704 0070 7CD1     		bne	.L257
 3705              	.L247:
1209:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     {
1210:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       update_grxfsiz(rhport);
1211:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1212:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       // Disable flag
1213:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****       _out_ep_closed = false;
1214:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
1215:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1216:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     usb_otg->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 3706              		.loc 1 1216 5 is_stmt 1 view .LVU1137
 3707              		.loc 1 1216 22 is_stmt 0 view .LVU1138
 3708 0072 4FF0A042 		mov	r2, #1342177280
 3709 0076 9369     		ldr	r3, [r2, #24]
 3710 0078 43F01003 		orr	r3, r3, #16
 3711 007c 9361     		str	r3, [r2, #24]
ARM GAS  /tmp/ccOP5HA3.s 			page 163


 3712              	.L245:
1217:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1218:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1219:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // OUT endpoint interrupt handling.
1220:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(int_status & USB_OTG_GINTSTS_OEPINT)
 3713              		.loc 1 1220 3 is_stmt 1 view .LVU1139
 3714              		.loc 1 1220 5 is_stmt 0 view .LVU1140
 3715 007e 14F4002F 		tst	r4, #524288
 3716 0082 7AD1     		bne	.L258
 3717              	.L248:
1221:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1222:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // OEPINT is read-only
1223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     handle_epout_ints(rhport, dev, out_ep);
1224:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1225:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1226:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   // IN endpoint interrupt handling.
1227:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   if(int_status & USB_OTG_GINTSTS_IEPINT)
 3718              		.loc 1 1227 3 is_stmt 1 view .LVU1141
 3719              		.loc 1 1227 5 is_stmt 0 view .LVU1142
 3720 0084 14F4802F 		tst	r4, #262144
 3721 0088 7DD1     		bne	.L259
 3722              	.L237:
1228:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   {
1229:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     // IEPINT bit read-only
1230:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     handle_epin_ints(rhport, dev, in_ep);
1231:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
1232:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
1233:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //  // Check for Incomplete isochronous IN transfer
1234:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //  if(int_status & USB_OTG_GINTSTS_IISOIXFR) {
1235:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //    printf("      IISOIXFR!\r\n");
1236:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   ////    TU_LOG2("      IISOIXFR!\r\n");
1237:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   //  }
1238:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** }
 3723              		.loc 1 1238 1 view .LVU1143
 3724 008a 05B0     		add	sp, sp, #20
 3725              	.LCFI33:
 3726              		.cfi_remember_state
 3727              		.cfi_def_cfa_offset 20
 3728              		@ sp needed
 3729 008c F0BD     		pop	{r4, r5, r6, r7, pc}
 3730              	.LVL300:
 3731              	.L251:
 3732              	.LCFI34:
 3733              		.cfi_restore_state
1139:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     bus_reset(rhport);
 3734              		.loc 1 1139 5 is_stmt 1 view .LVU1144
1139:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     bus_reset(rhport);
 3735              		.loc 1 1139 22 is_stmt 0 view .LVU1145
 3736 008e 4FF0A043 		mov	r3, #1342177280
 3737 0092 4FF48052 		mov	r2, #4096
 3738 0096 5A61     		str	r2, [r3, #20]
1140:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3739              		.loc 1 1140 5 is_stmt 1 view .LVU1146
 3740 0098 FFF7FEFF 		bl	bus_reset
 3741              	.LVL301:
1140:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3742              		.loc 1 1140 5 is_stmt 0 view .LVU1147
ARM GAS  /tmp/ccOP5HA3.s 			page 164


 3743 009c BBE7     		b	.L238
 3744              	.L252:
 3745              	.LBB195:
1147:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3746              		.loc 1 1147 5 is_stmt 1 view .LVU1148
1147:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3747              		.loc 1 1147 22 is_stmt 0 view .LVU1149
 3748 009e 4FF0A047 		mov	r7, #1342177280
 3749 00a2 4FF40053 		mov	r3, #8192
 3750 00a6 7B61     		str	r3, [r7, #20]
1149:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3751              		.loc 1 1149 5 is_stmt 1 view .LVU1150
1149:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3752              		.loc 1 1149 32 is_stmt 0 view .LVU1151
 3753 00a8 2846     		mov	r0, r5
 3754 00aa FFF7FEFF 		bl	get_speed
 3755              	.LVL302:
 3756 00ae 0646     		mov	r6, r0
 3757              	.LVL303:
1151:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_reset(rhport, speed, true);
 3758              		.loc 1 1151 5 is_stmt 1 view .LVU1152
 3759 00b0 0146     		mov	r1, r0
 3760 00b2 3846     		mov	r0, r7
 3761              	.LVL304:
1151:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_reset(rhport, speed, true);
 3762              		.loc 1 1151 5 is_stmt 0 view .LVU1153
 3763 00b4 FFF7FEFF 		bl	set_turnaround
 3764              	.LVL305:
1152:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3765              		.loc 1 1152 5 is_stmt 1 view .LVU1154
 3766              	.LBB196:
 3767              	.LBI196:
 208:tinyusb/src/device/dcd.h **** {
 3768              		.loc 4 208 43 view .LVU1155
 3769              	.LBB197:
 210:tinyusb/src/device/dcd.h ****   event.bus_reset.speed = speed;
 3770              		.loc 4 210 3 view .LVU1156
 210:tinyusb/src/device/dcd.h ****   event.bus_reset.speed = speed;
 3771              		.loc 4 210 15 is_stmt 0 view .LVU1157
 3772 00b8 0023     		movs	r3, #0
 3773 00ba 0193     		str	r3, [sp, #4]
 3774 00bc 0293     		str	r3, [sp, #8]
 3775 00be 0393     		str	r3, [sp, #12]
 3776 00c0 8DF80450 		strb	r5, [sp, #4]
 3777 00c4 0121     		movs	r1, #1
 3778 00c6 8DF80510 		strb	r1, [sp, #5]
 211:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3779              		.loc 4 211 3 is_stmt 1 view .LVU1158
 211:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3780              		.loc 4 211 25 is_stmt 0 view .LVU1159
 3781 00ca 8DF80860 		strb	r6, [sp, #8]
 212:tinyusb/src/device/dcd.h **** }
 3782              		.loc 4 212 3 is_stmt 1 view .LVU1160
 3783 00ce 01A8     		add	r0, sp, #4
 3784 00d0 FFF7FEFF 		bl	dcd_event_handler
 3785              	.LVL306:
 213:tinyusb/src/device/dcd.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 165


 3786              		.loc 4 213 1 is_stmt 0 view .LVU1161
 3787 00d4 A2E7     		b	.L239
 3788              	.LVL307:
 3789              	.L253:
 213:tinyusb/src/device/dcd.h **** 
 3790              		.loc 4 213 1 view .LVU1162
 3791              	.LBE197:
 3792              	.LBE196:
 3793              	.LBE195:
1157:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_signal(rhport, DCD_EVENT_SUSPEND, true);
 3794              		.loc 1 1157 5 is_stmt 1 view .LVU1163
1157:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_signal(rhport, DCD_EVENT_SUSPEND, true);
 3795              		.loc 1 1157 22 is_stmt 0 view .LVU1164
 3796 00d6 4FF0A043 		mov	r3, #1342177280
 3797 00da 4FF40062 		mov	r2, #2048
 3798 00de 5A61     		str	r2, [r3, #20]
1158:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3799              		.loc 1 1158 5 is_stmt 1 view .LVU1165
 3800              	.LVL308:
 3801              	.LBB198:
 3802              	.LBI198:
 201:tinyusb/src/device/dcd.h **** {
 3803              		.loc 4 201 42 view .LVU1166
 3804              	.LBB199:
 203:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3805              		.loc 4 203 3 view .LVU1167
 203:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3806              		.loc 4 203 15 is_stmt 0 view .LVU1168
 3807 00e0 0023     		movs	r3, #0
 3808 00e2 0193     		str	r3, [sp, #4]
 3809 00e4 0293     		str	r3, [sp, #8]
 3810 00e6 0393     		str	r3, [sp, #12]
 3811 00e8 8DF80450 		strb	r5, [sp, #4]
 3812 00ec 0423     		movs	r3, #4
 3813 00ee 8DF80530 		strb	r3, [sp, #5]
 204:tinyusb/src/device/dcd.h **** }
 3814              		.loc 4 204 3 is_stmt 1 view .LVU1169
 3815 00f2 0121     		movs	r1, #1
 3816 00f4 0DEB0300 		add	r0, sp, r3
 3817 00f8 FFF7FEFF 		bl	dcd_event_handler
 3818              	.LVL309:
 205:tinyusb/src/device/dcd.h **** 
 3819              		.loc 4 205 1 is_stmt 0 view .LVU1170
 3820 00fc 91E7     		b	.L240
 3821              	.LVL310:
 3822              	.L254:
 205:tinyusb/src/device/dcd.h **** 
 3823              		.loc 4 205 1 view .LVU1171
 3824              	.LBE199:
 3825              	.LBE198:
1163:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_signal(rhport, DCD_EVENT_RESUME, true);
 3826              		.loc 1 1163 5 is_stmt 1 view .LVU1172
1163:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     dcd_event_bus_signal(rhport, DCD_EVENT_RESUME, true);
 3827              		.loc 1 1163 22 is_stmt 0 view .LVU1173
 3828 00fe 4FF0A043 		mov	r3, #1342177280
 3829 0102 4FF00042 		mov	r2, #-2147483648
 3830 0106 5A61     		str	r2, [r3, #20]
ARM GAS  /tmp/ccOP5HA3.s 			page 166


1164:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3831              		.loc 1 1164 5 is_stmt 1 view .LVU1174
 3832              	.LVL311:
 3833              	.LBB200:
 3834              	.LBI200:
 201:tinyusb/src/device/dcd.h **** {
 3835              		.loc 4 201 42 view .LVU1175
 3836              	.LBB201:
 203:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3837              		.loc 4 203 3 view .LVU1176
 203:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3838              		.loc 4 203 15 is_stmt 0 view .LVU1177
 3839 0108 0023     		movs	r3, #0
 3840 010a 0193     		str	r3, [sp, #4]
 3841 010c 0293     		str	r3, [sp, #8]
 3842 010e 0393     		str	r3, [sp, #12]
 3843 0110 8DF80450 		strb	r5, [sp, #4]
 3844 0114 0523     		movs	r3, #5
 3845 0116 8DF80530 		strb	r3, [sp, #5]
 204:tinyusb/src/device/dcd.h **** }
 3846              		.loc 4 204 3 is_stmt 1 view .LVU1178
 3847 011a 0121     		movs	r1, #1
 3848 011c 01A8     		add	r0, sp, #4
 3849 011e FFF7FEFF 		bl	dcd_event_handler
 3850              	.LVL312:
 205:tinyusb/src/device/dcd.h **** 
 3851              		.loc 4 205 1 is_stmt 0 view .LVU1179
 3852 0122 80E7     		b	.L241
 3853              	.LVL313:
 3854              	.L255:
 205:tinyusb/src/device/dcd.h **** 
 3855              		.loc 4 205 1 view .LVU1180
 3856              	.LBE201:
 3857              	.LBE200:
 3858              	.LBB202:
1177:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 3859              		.loc 1 1177 7 is_stmt 1 view .LVU1181
 3860              	.LBB193:
 3861              	.LBI193:
 201:tinyusb/src/device/dcd.h **** {
 3862              		.loc 4 201 42 view .LVU1182
 3863              	.LBB194:
 203:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3864              		.loc 4 203 3 view .LVU1183
 203:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3865              		.loc 4 203 15 is_stmt 0 view .LVU1184
 3866 0124 0023     		movs	r3, #0
 3867 0126 0193     		str	r3, [sp, #4]
 3868 0128 0293     		str	r3, [sp, #8]
 3869 012a 0393     		str	r3, [sp, #12]
 3870 012c 8DF80450 		strb	r5, [sp, #4]
 3871 0130 0223     		movs	r3, #2
 3872 0132 8DF80530 		strb	r3, [sp, #5]
 204:tinyusb/src/device/dcd.h **** }
 3873              		.loc 4 204 3 is_stmt 1 view .LVU1185
 3874 0136 0121     		movs	r1, #1
 3875 0138 01A8     		add	r0, sp, #4
ARM GAS  /tmp/ccOP5HA3.s 			page 167


 3876 013a FFF7FEFF 		bl	dcd_event_handler
 3877              	.LVL314:
 205:tinyusb/src/device/dcd.h **** 
 3878              		.loc 4 205 1 is_stmt 0 view .LVU1186
 3879 013e 7BE7     		b	.L243
 3880              	.LVL315:
 3881              	.L256:
 205:tinyusb/src/device/dcd.h **** 
 3882              		.loc 4 205 1 view .LVU1187
 3883              	.LBE194:
 3884              	.LBE193:
 3885              	.LBE202:
1185:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3886              		.loc 1 1185 5 is_stmt 1 view .LVU1188
1185:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3887              		.loc 1 1185 22 is_stmt 0 view .LVU1189
 3888 0140 4FF0A043 		mov	r3, #1342177280
 3889 0144 0822     		movs	r2, #8
 3890 0146 5A61     		str	r2, [r3, #20]
1188:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3891              		.loc 1 1188 5 is_stmt 1 view .LVU1190
1188:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3892              		.loc 1 1188 22 is_stmt 0 view .LVU1191
 3893 0148 9A69     		ldr	r2, [r3, #24]
 3894 014a 22F00802 		bic	r2, r2, #8
 3895 014e 9A61     		str	r2, [r3, #24]
1190:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3896              		.loc 1 1190 5 is_stmt 1 view .LVU1192
 3897              	.LVL316:
 3898              	.LBB203:
 3899              	.LBI203:
 201:tinyusb/src/device/dcd.h **** {
 3900              		.loc 4 201 42 view .LVU1193
 3901              	.LBB204:
 203:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3902              		.loc 4 203 3 view .LVU1194
 203:tinyusb/src/device/dcd.h ****   dcd_event_handler(&event, in_isr);
 3903              		.loc 4 203 15 is_stmt 0 view .LVU1195
 3904 0150 0023     		movs	r3, #0
 3905 0152 0193     		str	r3, [sp, #4]
 3906 0154 0293     		str	r3, [sp, #8]
 3907 0156 0393     		str	r3, [sp, #12]
 3908 0158 8DF80450 		strb	r5, [sp, #4]
 3909 015c 0323     		movs	r3, #3
 3910 015e 8DF80530 		strb	r3, [sp, #5]
 204:tinyusb/src/device/dcd.h **** }
 3911              		.loc 4 204 3 is_stmt 1 view .LVU1196
 3912 0162 0121     		movs	r1, #1
 3913 0164 01A8     		add	r0, sp, #4
 3914 0166 FFF7FEFF 		bl	dcd_event_handler
 3915              	.LVL317:
 205:tinyusb/src/device/dcd.h **** 
 3916              		.loc 4 205 1 is_stmt 0 view .LVU1197
 3917 016a 6BE7     		b	.L244
 3918              	.LVL318:
 3919              	.L257:
 205:tinyusb/src/device/dcd.h **** 
ARM GAS  /tmp/ccOP5HA3.s 			page 168


 3920              		.loc 4 205 1 view .LVU1198
 3921              	.LBE204:
 3922              	.LBE203:
1210:tinyusb/src/portable/st/synopsys/dcd_synopsys.c **** 
 3923              		.loc 1 1210 7 is_stmt 1 view .LVU1199
 3924 016c 2846     		mov	r0, r5
 3925 016e FFF7FEFF 		bl	update_grxfsiz
 3926              	.LVL319:
1213:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 3927              		.loc 1 1213 7 view .LVU1200
1213:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****     }
 3928              		.loc 1 1213 22 is_stmt 0 view .LVU1201
 3929 0172 094B     		ldr	r3, .L260+4
 3930 0174 0022     		movs	r2, #0
 3931 0176 1A70     		strb	r2, [r3]
 3932 0178 7BE7     		b	.L247
 3933              	.L258:
1223:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3934              		.loc 1 1223 5 is_stmt 1 view .LVU1202
 3935 017a 064A     		ldr	r2, .L260
 3936 017c 0749     		ldr	r1, .L260+8
 3937 017e 2846     		mov	r0, r5
 3938 0180 FFF7FEFF 		bl	handle_epout_ints
 3939              	.LVL320:
 3940 0184 7EE7     		b	.L248
 3941              	.L259:
1230:tinyusb/src/portable/st/synopsys/dcd_synopsys.c ****   }
 3942              		.loc 1 1230 5 view .LVU1203
 3943 0186 064A     		ldr	r2, .L260+12
 3944 0188 0449     		ldr	r1, .L260+8
 3945 018a 2846     		mov	r0, r5
 3946 018c FFF7FEFF 		bl	handle_epin_ints
 3947              	.LVL321:
 3948              		.loc 1 1238 1 is_stmt 0 view .LVU1204
 3949 0190 7BE7     		b	.L237
 3950              	.L261:
 3951 0192 00BF     		.align	2
 3952              	.L260:
 3953 0194 000B0050 		.word	1342180096
 3954 0198 00000000 		.word	.LANCHOR2
 3955 019c 00080050 		.word	1342179328
 3956 01a0 00090050 		.word	1342179584
 3957              		.cfi_endproc
 3958              	.LFE224:
 3960              		.global	xfer_status
 3961              		.section	.bss._allocated_fifo_words_tx,"aw",%nobits
 3962              		.align	1
 3963              		.set	.LANCHOR3,. + 0
 3966              	_allocated_fifo_words_tx:
 3967 0000 0000     		.space	2
 3968              		.section	.bss._out_ep_closed,"aw",%nobits
 3969              		.set	.LANCHOR2,. + 0
 3972              	_out_ep_closed:
 3973 0000 00       		.space	1
 3974              		.section	.bss._setup_packet,"aw",%nobits
 3975              		.align	2
 3976              		.set	.LANCHOR4,. + 0
ARM GAS  /tmp/ccOP5HA3.s 			page 169


 3979              	_setup_packet:
 3980 0000 00000000 		.space	8
 3980      00000000 
 3981              		.section	.bss.ep0_pending,"aw",%nobits
 3982              		.align	2
 3983              		.set	.LANCHOR1,. + 0
 3986              	ep0_pending:
 3987 0000 00000000 		.space	4
 3988              		.section	.bss.xfer_status,"aw",%nobits
 3989              		.align	2
 3990              		.set	.LANCHOR0,. + 0
 3993              	xfer_status:
 3994 0000 00000000 		.space	192
 3994      00000000 
 3994      00000000 
 3994      00000000 
 3994      00000000 
 3995              		.text
 3996              	.Letext0:
 3997              		.file 7 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l476xx.h"
 3998              		.file 8 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 3999              		.file 9 "tinyusb/src/common/tusb_fifo.h"
 4000              		.file 10 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 4001              		.file 11 "<built-in>"
ARM GAS  /tmp/ccOP5HA3.s 			page 170


DEFINED SYMBOLS
                            *ABS*:0000000000000000 dcd_synopsys.c
     /tmp/ccOP5HA3.s:18     .text.update_grxfsiz:0000000000000000 $t
     /tmp/ccOP5HA3.s:25     .text.update_grxfsiz:0000000000000000 update_grxfsiz
     /tmp/ccOP5HA3.s:109    .text.update_grxfsiz:000000000000002c $d
     /tmp/ccOP5HA3.s:114    .text.set_turnaround:0000000000000000 $t
     /tmp/ccOP5HA3.s:120    .text.set_turnaround:0000000000000000 set_turnaround
     /tmp/ccOP5HA3.s:251    .text.set_turnaround:000000000000008c $d
     /tmp/ccOP5HA3.s:264    .text.get_speed:0000000000000000 $t
     /tmp/ccOP5HA3.s:270    .text.get_speed:0000000000000000 get_speed
     /tmp/ccOP5HA3.s:303    .text.get_speed:0000000000000014 $d
     /tmp/ccOP5HA3.s:308    .text.set_speed:0000000000000000 $t
     /tmp/ccOP5HA3.s:314    .text.set_speed:0000000000000000 set_speed
     /tmp/ccOP5HA3.s:362    .text.set_speed:0000000000000020 $d
     /tmp/ccOP5HA3.s:367    .text.edpt_schedule_packets:0000000000000000 $t
     /tmp/ccOP5HA3.s:373    .text.edpt_schedule_packets:0000000000000000 edpt_schedule_packets
     /tmp/ccOP5HA3.s:597    .text.edpt_schedule_packets:000000000000010c $d
     /tmp/ccOP5HA3.s:605    .text.remote_wakeup_delay:0000000000000000 $t
     /tmp/ccOP5HA3.s:611    .text.remote_wakeup_delay:0000000000000000 remote_wakeup_delay
     /tmp/ccOP5HA3.s:655    .text.remote_wakeup_delay:000000000000001c $d
     /tmp/ccOP5HA3.s:661    .text.dcd_edpt_disable:0000000000000000 $t
     /tmp/ccOP5HA3.s:667    .text.dcd_edpt_disable:0000000000000000 dcd_edpt_disable
     /tmp/ccOP5HA3.s:960    .text.dcd_edpt_disable:000000000000012c $d
     /tmp/ccOP5HA3.s:966    .text.read_fifo_packet:0000000000000000 $t
     /tmp/ccOP5HA3.s:972    .text.read_fifo_packet:0000000000000000 read_fifo_packet
     /tmp/ccOP5HA3.s:1093   .text.read_fifo_packet:0000000000000054 $d
     /tmp/ccOP5HA3.s:1098   .text.write_fifo_packet:0000000000000000 $t
     /tmp/ccOP5HA3.s:1104   .text.write_fifo_packet:0000000000000000 write_fifo_packet
     /tmp/ccOP5HA3.s:1227   .text.bus_reset:0000000000000000 $t
     /tmp/ccOP5HA3.s:1233   .text.bus_reset:0000000000000000 bus_reset
     /tmp/ccOP5HA3.s:1358   .text.bus_reset:0000000000000080 $d
     /tmp/ccOP5HA3.s:1369   .text.handle_epout_ints:0000000000000000 $t
     /tmp/ccOP5HA3.s:1375   .text.handle_epout_ints:0000000000000000 handle_epout_ints
     /tmp/ccOP5HA3.s:1565   .text.handle_epout_ints:00000000000000b8 $d
     /tmp/ccOP5HA3.s:1572   .text.handle_rxflvl_ints:0000000000000000 $t
     /tmp/ccOP5HA3.s:1578   .text.handle_rxflvl_ints:0000000000000000 handle_rxflvl_ints
     /tmp/ccOP5HA3.s:1624   .text.handle_rxflvl_ints:0000000000000022 $d
     /tmp/ccOP5HA3.s:1630   .text.handle_rxflvl_ints:0000000000000028 $t
     /tmp/ccOP5HA3.s:1777   .text.handle_rxflvl_ints:00000000000000c4 $d
     /tmp/ccOP5HA3.s:1785   .text.handle_epin_ints:0000000000000000 $t
     /tmp/ccOP5HA3.s:1791   .text.handle_epin_ints:0000000000000000 handle_epin_ints
     /tmp/ccOP5HA3.s:2094   .text.handle_epin_ints:0000000000000130 $d
     /tmp/ccOP5HA3.s:2101   .text.dcd_int_enable:0000000000000000 $t
     /tmp/ccOP5HA3.s:2108   .text.dcd_int_enable:0000000000000000 dcd_int_enable
     /tmp/ccOP5HA3.s:2140   .text.dcd_int_enable:0000000000000008 $d
     /tmp/ccOP5HA3.s:2145   .text.dcd_int_disable:0000000000000000 $t
     /tmp/ccOP5HA3.s:2152   .text.dcd_int_disable:0000000000000000 dcd_int_disable
     /tmp/ccOP5HA3.s:2210   .text.dcd_int_disable:0000000000000014 $d
     /tmp/ccOP5HA3.s:2215   .text.dcd_remote_wakeup:0000000000000000 $t
     /tmp/ccOP5HA3.s:2222   .text.dcd_remote_wakeup:0000000000000000 dcd_remote_wakeup
     /tmp/ccOP5HA3.s:2268   .text.dcd_remote_wakeup:000000000000002c $d
     /tmp/ccOP5HA3.s:2273   .text.dcd_connect:0000000000000000 $t
     /tmp/ccOP5HA3.s:2280   .text.dcd_connect:0000000000000000 dcd_connect
     /tmp/ccOP5HA3.s:2301   .text.dcd_connect:000000000000000c $d
     /tmp/ccOP5HA3.s:2306   .text.dcd_init:0000000000000000 $t
     /tmp/ccOP5HA3.s:2313   .text.dcd_init:0000000000000000 dcd_init
     /tmp/ccOP5HA3.s:2432   .text.dcd_init:0000000000000090 $d
ARM GAS  /tmp/ccOP5HA3.s 			page 171


     /tmp/ccOP5HA3.s:2438   .text.dcd_disconnect:0000000000000000 $t
     /tmp/ccOP5HA3.s:2445   .text.dcd_disconnect:0000000000000000 dcd_disconnect
     /tmp/ccOP5HA3.s:2466   .text.dcd_disconnect:000000000000000c $d
     /tmp/ccOP5HA3.s:2471   .text.dcd_sof_enable:0000000000000000 $t
     /tmp/ccOP5HA3.s:2478   .text.dcd_sof_enable:0000000000000000 dcd_sof_enable
     /tmp/ccOP5HA3.s:2494   .text.dcd_edpt_open:0000000000000000 $t
     /tmp/ccOP5HA3.s:2501   .text.dcd_edpt_open:0000000000000000 dcd_edpt_open
     /tmp/ccOP5HA3.s:2878   .text.dcd_edpt_open:000000000000015c $d
     /tmp/ccOP5HA3.s:2885   .text.dcd_edpt_close_all:0000000000000000 $t
     /tmp/ccOP5HA3.s:2892   .text.dcd_edpt_close_all:0000000000000000 dcd_edpt_close_all
     /tmp/ccOP5HA3.s:2962   .text.dcd_edpt_close_all:0000000000000038 $d
     /tmp/ccOP5HA3.s:2969   .text.dcd_edpt_xfer:0000000000000000 $t
     /tmp/ccOP5HA3.s:2976   .text.dcd_edpt_xfer:0000000000000000 dcd_edpt_xfer
     /tmp/ccOP5HA3.s:3105   .text.dcd_edpt_xfer:0000000000000074 $d
     /tmp/ccOP5HA3.s:3111   .text.dcd_set_address:0000000000000000 $t
     /tmp/ccOP5HA3.s:3118   .text.dcd_set_address:0000000000000000 dcd_set_address
     /tmp/ccOP5HA3.s:3159   .text.dcd_set_address:000000000000001c $d
     /tmp/ccOP5HA3.s:3164   .text.dcd_edpt_xfer_fifo:0000000000000000 $t
     /tmp/ccOP5HA3.s:3171   .text.dcd_edpt_xfer_fifo:0000000000000000 dcd_edpt_xfer_fifo
     /tmp/ccOP5HA3.s:3321   .text.dcd_edpt_xfer_fifo:0000000000000070 $d
     /tmp/ccOP5HA3.s:3326   .text.dcd_edpt_close:0000000000000000 $t
     /tmp/ccOP5HA3.s:3333   .text.dcd_edpt_close:0000000000000000 dcd_edpt_close
     /tmp/ccOP5HA3.s:3467   .text.dcd_edpt_close:000000000000005c $d
     /tmp/ccOP5HA3.s:3474   .text.dcd_edpt_stall:0000000000000000 $t
     /tmp/ccOP5HA3.s:3481   .text.dcd_edpt_stall:0000000000000000 dcd_edpt_stall
     /tmp/ccOP5HA3.s:3504   .text.dcd_edpt_clear_stall:0000000000000000 $t
     /tmp/ccOP5HA3.s:3511   .text.dcd_edpt_clear_stall:0000000000000000 dcd_edpt_clear_stall
     /tmp/ccOP5HA3.s:3584   .text.dcd_int_handler:0000000000000000 $t
     /tmp/ccOP5HA3.s:3591   .text.dcd_int_handler:0000000000000000 dcd_int_handler
     /tmp/ccOP5HA3.s:3953   .text.dcd_int_handler:0000000000000194 $d
     /tmp/ccOP5HA3.s:3993   .bss.xfer_status:0000000000000000 xfer_status
     /tmp/ccOP5HA3.s:3962   .bss._allocated_fifo_words_tx:0000000000000000 $d
     /tmp/ccOP5HA3.s:3966   .bss._allocated_fifo_words_tx:0000000000000000 _allocated_fifo_words_tx
     /tmp/ccOP5HA3.s:3972   .bss._out_ep_closed:0000000000000000 _out_ep_closed
     /tmp/ccOP5HA3.s:3973   .bss._out_ep_closed:0000000000000000 $d
     /tmp/ccOP5HA3.s:3975   .bss._setup_packet:0000000000000000 $d
     /tmp/ccOP5HA3.s:3979   .bss._setup_packet:0000000000000000 _setup_packet
     /tmp/ccOP5HA3.s:3982   .bss.ep0_pending:0000000000000000 $d
     /tmp/ccOP5HA3.s:3986   .bss.ep0_pending:0000000000000000 ep0_pending
     /tmp/ccOP5HA3.s:3989   .bss.xfer_status:0000000000000000 $d

UNDEFINED SYMBOLS
SystemCoreClock
memset
dcd_event_handler
tu_fifo_write_n_const_addr_full_words
tu_fifo_read_n_const_addr_full_words
