ARM GAS  /tmp/ccyyDEje.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbd.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.configuration_reset,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	configuration_reset:
  26              	.LVL0:
  27              	.LFB94:
  28              		.file 1 "tinyusb/src/device/usbd.c"
   1:tinyusb/src/device/usbd.c **** /*
   2:tinyusb/src/device/usbd.c ****  * The MIT License (MIT)
   3:tinyusb/src/device/usbd.c ****  *
   4:tinyusb/src/device/usbd.c ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/device/usbd.c ****  *
   6:tinyusb/src/device/usbd.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/device/usbd.c ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/device/usbd.c ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/device/usbd.c ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  10:tinyusb/src/device/usbd.c ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/device/usbd.c ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/device/usbd.c ****  *
  13:tinyusb/src/device/usbd.c ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/device/usbd.c ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/device/usbd.c ****  *
  16:tinyusb/src/device/usbd.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  17:tinyusb/src/device/usbd.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/device/usbd.c ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/device/usbd.c ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/device/usbd.c ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/device/usbd.c ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/device/usbd.c ****  * THE SOFTWARE.
  23:tinyusb/src/device/usbd.c ****  *
  24:tinyusb/src/device/usbd.c ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/device/usbd.c ****  */
  26:tinyusb/src/device/usbd.c **** 
  27:tinyusb/src/device/usbd.c **** #include "tusb_option.h"
  28:tinyusb/src/device/usbd.c **** 
  29:tinyusb/src/device/usbd.c **** #if CFG_TUD_ENABLED
  30:tinyusb/src/device/usbd.c **** 
ARM GAS  /tmp/ccyyDEje.s 			page 2


  31:tinyusb/src/device/usbd.c **** #include "device/dcd.h"
  32:tinyusb/src/device/usbd.c **** #include "tusb.h"
  33:tinyusb/src/device/usbd.c **** #include "common/tusb_private.h"
  34:tinyusb/src/device/usbd.c **** 
  35:tinyusb/src/device/usbd.c **** #include "device/usbd.h"
  36:tinyusb/src/device/usbd.c **** #include "device/usbd_pvt.h"
  37:tinyusb/src/device/usbd.c **** 
  38:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
  39:tinyusb/src/device/usbd.c **** // USBD Configuration
  40:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
  41:tinyusb/src/device/usbd.c **** 
  42:tinyusb/src/device/usbd.c **** #ifndef CFG_TUD_TASK_QUEUE_SZ
  43:tinyusb/src/device/usbd.c ****   #define CFG_TUD_TASK_QUEUE_SZ   16
  44:tinyusb/src/device/usbd.c **** #endif
  45:tinyusb/src/device/usbd.c **** 
  46:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
  47:tinyusb/src/device/usbd.c **** // Device Data
  48:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
  49:tinyusb/src/device/usbd.c **** 
  50:tinyusb/src/device/usbd.c **** // Invalid driver ID in itf2drv[] ep2drv[][] mapping
  51:tinyusb/src/device/usbd.c **** enum { DRVID_INVALID = 0xFFu };
  52:tinyusb/src/device/usbd.c **** 
  53:tinyusb/src/device/usbd.c **** typedef struct
  54:tinyusb/src/device/usbd.c **** {
  55:tinyusb/src/device/usbd.c ****   struct TU_ATTR_PACKED
  56:tinyusb/src/device/usbd.c ****   {
  57:tinyusb/src/device/usbd.c ****     volatile uint8_t connected    : 1;
  58:tinyusb/src/device/usbd.c ****     volatile uint8_t addressed    : 1;
  59:tinyusb/src/device/usbd.c ****     volatile uint8_t suspended    : 1;
  60:tinyusb/src/device/usbd.c **** 
  61:tinyusb/src/device/usbd.c ****     uint8_t remote_wakeup_en      : 1; // enable/disable by host
  62:tinyusb/src/device/usbd.c ****     uint8_t remote_wakeup_support : 1; // configuration descriptor's attribute
  63:tinyusb/src/device/usbd.c ****     uint8_t self_powered          : 1; // configuration descriptor's attribute
  64:tinyusb/src/device/usbd.c ****   };
  65:tinyusb/src/device/usbd.c **** 
  66:tinyusb/src/device/usbd.c ****   volatile uint8_t cfg_num; // current active configuration (0x00 is not configured)
  67:tinyusb/src/device/usbd.c ****   uint8_t speed;
  68:tinyusb/src/device/usbd.c **** 
  69:tinyusb/src/device/usbd.c ****   uint8_t itf2drv[CFG_TUD_INTERFACE_MAX];   // map interface number to driver (0xff is invalid)
  70:tinyusb/src/device/usbd.c ****   uint8_t ep2drv[CFG_TUD_ENDPPOINT_MAX][2]; // map endpoint to driver ( 0xff is invalid ), can use 
  71:tinyusb/src/device/usbd.c **** 
  72:tinyusb/src/device/usbd.c ****   tu_edpt_state_t ep_status[CFG_TUD_ENDPPOINT_MAX][2];
  73:tinyusb/src/device/usbd.c **** 
  74:tinyusb/src/device/usbd.c **** }usbd_device_t;
  75:tinyusb/src/device/usbd.c **** 
  76:tinyusb/src/device/usbd.c **** tu_static usbd_device_t _usbd_dev;
  77:tinyusb/src/device/usbd.c **** 
  78:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
  79:tinyusb/src/device/usbd.c **** // Class Driver
  80:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
  81:tinyusb/src/device/usbd.c **** #if CFG_TUSB_DEBUG >= CFG_TUD_LOG_LEVEL
  82:tinyusb/src/device/usbd.c ****   #define DRIVER_NAME(_name)    .name = _name,
  83:tinyusb/src/device/usbd.c **** #else
  84:tinyusb/src/device/usbd.c ****   #define DRIVER_NAME(_name)
  85:tinyusb/src/device/usbd.c **** #endif
  86:tinyusb/src/device/usbd.c **** 
  87:tinyusb/src/device/usbd.c **** // Built-in class drivers
ARM GAS  /tmp/ccyyDEje.s 			page 3


  88:tinyusb/src/device/usbd.c **** tu_static usbd_class_driver_t const _usbd_driver[] =
  89:tinyusb/src/device/usbd.c **** {
  90:tinyusb/src/device/usbd.c ****   #if CFG_TUD_CDC
  91:tinyusb/src/device/usbd.c ****   {
  92:tinyusb/src/device/usbd.c ****     DRIVER_NAME("CDC")
  93:tinyusb/src/device/usbd.c ****     .init             = cdcd_init,
  94:tinyusb/src/device/usbd.c ****     .reset            = cdcd_reset,
  95:tinyusb/src/device/usbd.c ****     .open             = cdcd_open,
  96:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = cdcd_control_xfer_cb,
  97:tinyusb/src/device/usbd.c ****     .xfer_cb          = cdcd_xfer_cb,
  98:tinyusb/src/device/usbd.c ****     .sof              = NULL
  99:tinyusb/src/device/usbd.c ****   },
 100:tinyusb/src/device/usbd.c ****   #endif
 101:tinyusb/src/device/usbd.c **** 
 102:tinyusb/src/device/usbd.c ****   #if CFG_TUD_MSC
 103:tinyusb/src/device/usbd.c ****   {
 104:tinyusb/src/device/usbd.c ****     DRIVER_NAME("MSC")
 105:tinyusb/src/device/usbd.c ****     .init             = mscd_init,
 106:tinyusb/src/device/usbd.c ****     .reset            = mscd_reset,
 107:tinyusb/src/device/usbd.c ****     .open             = mscd_open,
 108:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = mscd_control_xfer_cb,
 109:tinyusb/src/device/usbd.c ****     .xfer_cb          = mscd_xfer_cb,
 110:tinyusb/src/device/usbd.c ****     .sof              = NULL
 111:tinyusb/src/device/usbd.c ****   },
 112:tinyusb/src/device/usbd.c ****   #endif
 113:tinyusb/src/device/usbd.c **** 
 114:tinyusb/src/device/usbd.c ****   #if CFG_TUD_HID
 115:tinyusb/src/device/usbd.c ****   {
 116:tinyusb/src/device/usbd.c ****     DRIVER_NAME("HID")
 117:tinyusb/src/device/usbd.c ****     .init             = hidd_init,
 118:tinyusb/src/device/usbd.c ****     .reset            = hidd_reset,
 119:tinyusb/src/device/usbd.c ****     .open             = hidd_open,
 120:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = hidd_control_xfer_cb,
 121:tinyusb/src/device/usbd.c ****     .xfer_cb          = hidd_xfer_cb,
 122:tinyusb/src/device/usbd.c ****     .sof              = NULL
 123:tinyusb/src/device/usbd.c ****   },
 124:tinyusb/src/device/usbd.c ****   #endif
 125:tinyusb/src/device/usbd.c **** 
 126:tinyusb/src/device/usbd.c ****   #if CFG_TUD_AUDIO
 127:tinyusb/src/device/usbd.c ****   {
 128:tinyusb/src/device/usbd.c ****     DRIVER_NAME("AUDIO")
 129:tinyusb/src/device/usbd.c ****     .init             = audiod_init,
 130:tinyusb/src/device/usbd.c ****     .reset            = audiod_reset,
 131:tinyusb/src/device/usbd.c ****     .open             = audiod_open,
 132:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = audiod_control_xfer_cb,
 133:tinyusb/src/device/usbd.c ****     .xfer_cb          = audiod_xfer_cb,
 134:tinyusb/src/device/usbd.c ****     .sof              = audiod_sof_isr
 135:tinyusb/src/device/usbd.c ****   },
 136:tinyusb/src/device/usbd.c ****   #endif
 137:tinyusb/src/device/usbd.c **** 
 138:tinyusb/src/device/usbd.c ****   #if CFG_TUD_VIDEO
 139:tinyusb/src/device/usbd.c ****   {
 140:tinyusb/src/device/usbd.c ****     DRIVER_NAME("VIDEO")
 141:tinyusb/src/device/usbd.c ****     .init             = videod_init,
 142:tinyusb/src/device/usbd.c ****     .reset            = videod_reset,
 143:tinyusb/src/device/usbd.c ****     .open             = videod_open,
 144:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = videod_control_xfer_cb,
ARM GAS  /tmp/ccyyDEje.s 			page 4


 145:tinyusb/src/device/usbd.c ****     .xfer_cb          = videod_xfer_cb,
 146:tinyusb/src/device/usbd.c ****     .sof              = NULL
 147:tinyusb/src/device/usbd.c ****   },
 148:tinyusb/src/device/usbd.c ****   #endif
 149:tinyusb/src/device/usbd.c **** 
 150:tinyusb/src/device/usbd.c ****   #if CFG_TUD_MIDI
 151:tinyusb/src/device/usbd.c ****   {
 152:tinyusb/src/device/usbd.c ****     DRIVER_NAME("MIDI")
 153:tinyusb/src/device/usbd.c ****     .init             = midid_init,
 154:tinyusb/src/device/usbd.c ****     .open             = midid_open,
 155:tinyusb/src/device/usbd.c ****     .reset            = midid_reset,
 156:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = midid_control_xfer_cb,
 157:tinyusb/src/device/usbd.c ****     .xfer_cb          = midid_xfer_cb,
 158:tinyusb/src/device/usbd.c ****     .sof              = NULL
 159:tinyusb/src/device/usbd.c ****   },
 160:tinyusb/src/device/usbd.c ****   #endif
 161:tinyusb/src/device/usbd.c **** 
 162:tinyusb/src/device/usbd.c ****   #if CFG_TUD_VENDOR
 163:tinyusb/src/device/usbd.c ****   {
 164:tinyusb/src/device/usbd.c ****     DRIVER_NAME("VENDOR")
 165:tinyusb/src/device/usbd.c ****     .init             = vendord_init,
 166:tinyusb/src/device/usbd.c ****     .reset            = vendord_reset,
 167:tinyusb/src/device/usbd.c ****     .open             = vendord_open,
 168:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = tud_vendor_control_xfer_cb,
 169:tinyusb/src/device/usbd.c ****     .xfer_cb          = vendord_xfer_cb,
 170:tinyusb/src/device/usbd.c ****     .sof              = NULL
 171:tinyusb/src/device/usbd.c ****   },
 172:tinyusb/src/device/usbd.c ****   #endif
 173:tinyusb/src/device/usbd.c **** 
 174:tinyusb/src/device/usbd.c ****   #if CFG_TUD_USBTMC
 175:tinyusb/src/device/usbd.c ****   {
 176:tinyusb/src/device/usbd.c ****     DRIVER_NAME("TMC")
 177:tinyusb/src/device/usbd.c ****     .init             = usbtmcd_init_cb,
 178:tinyusb/src/device/usbd.c ****     .reset            = usbtmcd_reset_cb,
 179:tinyusb/src/device/usbd.c ****     .open             = usbtmcd_open_cb,
 180:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = usbtmcd_control_xfer_cb,
 181:tinyusb/src/device/usbd.c ****     .xfer_cb          = usbtmcd_xfer_cb,
 182:tinyusb/src/device/usbd.c ****     .sof              = NULL
 183:tinyusb/src/device/usbd.c ****   },
 184:tinyusb/src/device/usbd.c ****   #endif
 185:tinyusb/src/device/usbd.c **** 
 186:tinyusb/src/device/usbd.c ****   #if CFG_TUD_DFU_RUNTIME
 187:tinyusb/src/device/usbd.c ****   {
 188:tinyusb/src/device/usbd.c ****     DRIVER_NAME("DFU-RUNTIME")
 189:tinyusb/src/device/usbd.c ****     .init             = dfu_rtd_init,
 190:tinyusb/src/device/usbd.c ****     .reset            = dfu_rtd_reset,
 191:tinyusb/src/device/usbd.c ****     .open             = dfu_rtd_open,
 192:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = dfu_rtd_control_xfer_cb,
 193:tinyusb/src/device/usbd.c ****     .xfer_cb          = NULL,
 194:tinyusb/src/device/usbd.c ****     .sof              = NULL
 195:tinyusb/src/device/usbd.c ****   },
 196:tinyusb/src/device/usbd.c ****   #endif
 197:tinyusb/src/device/usbd.c **** 
 198:tinyusb/src/device/usbd.c ****   #if CFG_TUD_DFU
 199:tinyusb/src/device/usbd.c ****   {
 200:tinyusb/src/device/usbd.c ****     DRIVER_NAME("DFU")
 201:tinyusb/src/device/usbd.c ****     .init             = dfu_moded_init,
ARM GAS  /tmp/ccyyDEje.s 			page 5


 202:tinyusb/src/device/usbd.c ****     .reset            = dfu_moded_reset,
 203:tinyusb/src/device/usbd.c ****     .open             = dfu_moded_open,
 204:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = dfu_moded_control_xfer_cb,
 205:tinyusb/src/device/usbd.c ****     .xfer_cb          = NULL,
 206:tinyusb/src/device/usbd.c ****     .sof              = NULL
 207:tinyusb/src/device/usbd.c ****   },
 208:tinyusb/src/device/usbd.c ****   #endif
 209:tinyusb/src/device/usbd.c **** 
 210:tinyusb/src/device/usbd.c ****   #if CFG_TUD_ECM_RNDIS || CFG_TUD_NCM
 211:tinyusb/src/device/usbd.c ****   {
 212:tinyusb/src/device/usbd.c ****     DRIVER_NAME("NET")
 213:tinyusb/src/device/usbd.c ****     .init             = netd_init,
 214:tinyusb/src/device/usbd.c ****     .reset            = netd_reset,
 215:tinyusb/src/device/usbd.c ****     .open             = netd_open,
 216:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = netd_control_xfer_cb,
 217:tinyusb/src/device/usbd.c ****     .xfer_cb          = netd_xfer_cb,
 218:tinyusb/src/device/usbd.c ****     .sof                  = NULL,
 219:tinyusb/src/device/usbd.c ****   },
 220:tinyusb/src/device/usbd.c ****   #endif
 221:tinyusb/src/device/usbd.c **** 
 222:tinyusb/src/device/usbd.c ****   #if CFG_TUD_BTH
 223:tinyusb/src/device/usbd.c ****   {
 224:tinyusb/src/device/usbd.c ****     DRIVER_NAME("BTH")
 225:tinyusb/src/device/usbd.c ****     .init             = btd_init,
 226:tinyusb/src/device/usbd.c ****     .reset            = btd_reset,
 227:tinyusb/src/device/usbd.c ****     .open             = btd_open,
 228:tinyusb/src/device/usbd.c ****     .control_xfer_cb  = btd_control_xfer_cb,
 229:tinyusb/src/device/usbd.c ****     .xfer_cb          = btd_xfer_cb,
 230:tinyusb/src/device/usbd.c ****     .sof              = NULL
 231:tinyusb/src/device/usbd.c ****   },
 232:tinyusb/src/device/usbd.c ****   #endif
 233:tinyusb/src/device/usbd.c **** };
 234:tinyusb/src/device/usbd.c **** 
 235:tinyusb/src/device/usbd.c **** enum { BUILTIN_DRIVER_COUNT = TU_ARRAY_SIZE(_usbd_driver) };
 236:tinyusb/src/device/usbd.c **** 
 237:tinyusb/src/device/usbd.c **** // Additional class drivers implemented by application
 238:tinyusb/src/device/usbd.c **** tu_static usbd_class_driver_t const * _app_driver = NULL;
 239:tinyusb/src/device/usbd.c **** tu_static uint8_t _app_driver_count = 0;
 240:tinyusb/src/device/usbd.c **** 
 241:tinyusb/src/device/usbd.c **** #define TOTAL_DRIVER_COUNT    (_app_driver_count + BUILTIN_DRIVER_COUNT)
 242:tinyusb/src/device/usbd.c **** 
 243:tinyusb/src/device/usbd.c **** // virtually joins built-in and application drivers together.
 244:tinyusb/src/device/usbd.c **** // Application is positioned first to allow overwriting built-in ones.
 245:tinyusb/src/device/usbd.c **** static inline usbd_class_driver_t const * get_driver(uint8_t drvid)
 246:tinyusb/src/device/usbd.c **** {
 247:tinyusb/src/device/usbd.c ****   usbd_class_driver_t const * driver = NULL;
 248:tinyusb/src/device/usbd.c **** 
 249:tinyusb/src/device/usbd.c ****   if ( drvid < _app_driver_count ) {
 250:tinyusb/src/device/usbd.c ****     // Application drivers
 251:tinyusb/src/device/usbd.c ****     driver = &_app_driver[drvid];
 252:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 253:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 254:tinyusb/src/device/usbd.c ****   }
 255:tinyusb/src/device/usbd.c **** 
 256:tinyusb/src/device/usbd.c ****   return driver;
 257:tinyusb/src/device/usbd.c **** }
 258:tinyusb/src/device/usbd.c **** 
ARM GAS  /tmp/ccyyDEje.s 			page 6


 259:tinyusb/src/device/usbd.c **** 
 260:tinyusb/src/device/usbd.c **** 
 261:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 262:tinyusb/src/device/usbd.c **** // DCD Event
 263:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 264:tinyusb/src/device/usbd.c **** 
 265:tinyusb/src/device/usbd.c **** enum { RHPORT_INVALID = 0xFFu };
 266:tinyusb/src/device/usbd.c **** tu_static uint8_t _usbd_rhport = RHPORT_INVALID;
 267:tinyusb/src/device/usbd.c **** 
 268:tinyusb/src/device/usbd.c **** // Event queue
 269:tinyusb/src/device/usbd.c **** // usbd_int_set() is used as mutex in OS NONE config
 270:tinyusb/src/device/usbd.c **** OSAL_QUEUE_DEF(usbd_int_set, _usbd_qdef, CFG_TUD_TASK_QUEUE_SZ, dcd_event_t);
 271:tinyusb/src/device/usbd.c **** tu_static osal_queue_t _usbd_q;
 272:tinyusb/src/device/usbd.c **** 
 273:tinyusb/src/device/usbd.c **** // Mutex for claiming endpoint
 274:tinyusb/src/device/usbd.c **** #if OSAL_MUTEX_REQUIRED
 275:tinyusb/src/device/usbd.c ****   tu_static osal_mutex_def_t _ubsd_mutexdef;
 276:tinyusb/src/device/usbd.c ****   tu_static osal_mutex_t _usbd_mutex;
 277:tinyusb/src/device/usbd.c **** #else
 278:tinyusb/src/device/usbd.c ****   #define _usbd_mutex   NULL
 279:tinyusb/src/device/usbd.c **** #endif
 280:tinyusb/src/device/usbd.c **** 
 281:tinyusb/src/device/usbd.c **** 
 282:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 283:tinyusb/src/device/usbd.c **** // Prototypes
 284:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 285:tinyusb/src/device/usbd.c **** static bool process_control_request(uint8_t rhport, tusb_control_request_t const * p_request);
 286:tinyusb/src/device/usbd.c **** static bool process_set_config(uint8_t rhport, uint8_t cfg_num);
 287:tinyusb/src/device/usbd.c **** static bool process_get_descriptor(uint8_t rhport, tusb_control_request_t const * p_request);
 288:tinyusb/src/device/usbd.c **** 
 289:tinyusb/src/device/usbd.c **** // from usbd_control.c
 290:tinyusb/src/device/usbd.c **** void usbd_control_reset(void);
 291:tinyusb/src/device/usbd.c **** void usbd_control_set_request(tusb_control_request_t const *request);
 292:tinyusb/src/device/usbd.c **** void usbd_control_set_complete_callback( usbd_control_xfer_cb_t fp );
 293:tinyusb/src/device/usbd.c **** bool usbd_control_xfer_cb (uint8_t rhport, uint8_t ep_addr, xfer_result_t event, uint32_t xferred_b
 294:tinyusb/src/device/usbd.c **** 
 295:tinyusb/src/device/usbd.c **** 
 296:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 297:tinyusb/src/device/usbd.c **** // Debug
 298:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 299:tinyusb/src/device/usbd.c **** #if CFG_TUSB_DEBUG >= CFG_TUD_LOG_LEVEL
 300:tinyusb/src/device/usbd.c **** tu_static char const* const _usbd_event_str[DCD_EVENT_COUNT] =
 301:tinyusb/src/device/usbd.c **** {
 302:tinyusb/src/device/usbd.c ****   "Invalid"        ,
 303:tinyusb/src/device/usbd.c ****   "Bus Reset"      ,
 304:tinyusb/src/device/usbd.c ****   "Unplugged"      ,
 305:tinyusb/src/device/usbd.c ****   "SOF"            ,
 306:tinyusb/src/device/usbd.c ****   "Suspend"        ,
 307:tinyusb/src/device/usbd.c ****   "Resume"         ,
 308:tinyusb/src/device/usbd.c ****   "Setup Received" ,
 309:tinyusb/src/device/usbd.c ****   "Xfer Complete"  ,
 310:tinyusb/src/device/usbd.c ****   "Func Call"
 311:tinyusb/src/device/usbd.c **** };
 312:tinyusb/src/device/usbd.c **** 
 313:tinyusb/src/device/usbd.c **** // for usbd_control to print the name of control complete driver
 314:tinyusb/src/device/usbd.c **** void usbd_driver_print_control_complete_name(usbd_control_xfer_cb_t callback)
 315:tinyusb/src/device/usbd.c **** {
ARM GAS  /tmp/ccyyDEje.s 			page 7


 316:tinyusb/src/device/usbd.c ****   for (uint8_t i = 0; i < TOTAL_DRIVER_COUNT; i++)
 317:tinyusb/src/device/usbd.c ****   {
 318:tinyusb/src/device/usbd.c ****     usbd_class_driver_t const * driver = get_driver(i);
 319:tinyusb/src/device/usbd.c ****     if ( driver && driver->control_xfer_cb == callback )
 320:tinyusb/src/device/usbd.c ****     {
 321:tinyusb/src/device/usbd.c ****       TU_LOG_USBD("  %s control complete\r\n", driver->name);
 322:tinyusb/src/device/usbd.c ****       return;
 323:tinyusb/src/device/usbd.c ****     }
 324:tinyusb/src/device/usbd.c ****   }
 325:tinyusb/src/device/usbd.c **** }
 326:tinyusb/src/device/usbd.c **** 
 327:tinyusb/src/device/usbd.c **** #endif
 328:tinyusb/src/device/usbd.c **** 
 329:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 330:tinyusb/src/device/usbd.c **** // Application API
 331:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 332:tinyusb/src/device/usbd.c **** tusb_speed_t tud_speed_get(void)
 333:tinyusb/src/device/usbd.c **** {
 334:tinyusb/src/device/usbd.c ****   return (tusb_speed_t) _usbd_dev.speed;
 335:tinyusb/src/device/usbd.c **** }
 336:tinyusb/src/device/usbd.c **** 
 337:tinyusb/src/device/usbd.c **** bool tud_connected(void)
 338:tinyusb/src/device/usbd.c **** {
 339:tinyusb/src/device/usbd.c ****   return _usbd_dev.connected;
 340:tinyusb/src/device/usbd.c **** }
 341:tinyusb/src/device/usbd.c **** 
 342:tinyusb/src/device/usbd.c **** bool tud_mounted(void)
 343:tinyusb/src/device/usbd.c **** {
 344:tinyusb/src/device/usbd.c ****   return _usbd_dev.cfg_num ? true : false;
 345:tinyusb/src/device/usbd.c **** }
 346:tinyusb/src/device/usbd.c **** 
 347:tinyusb/src/device/usbd.c **** bool tud_suspended(void)
 348:tinyusb/src/device/usbd.c **** {
 349:tinyusb/src/device/usbd.c ****   return _usbd_dev.suspended;
 350:tinyusb/src/device/usbd.c **** }
 351:tinyusb/src/device/usbd.c **** 
 352:tinyusb/src/device/usbd.c **** bool tud_remote_wakeup(void)
 353:tinyusb/src/device/usbd.c **** {
 354:tinyusb/src/device/usbd.c ****   // only wake up host if this feature is supported and enabled and we are suspended
 355:tinyusb/src/device/usbd.c ****   TU_VERIFY (_usbd_dev.suspended && _usbd_dev.remote_wakeup_support && _usbd_dev.remote_wakeup_en )
 356:tinyusb/src/device/usbd.c ****   dcd_remote_wakeup(_usbd_rhport);
 357:tinyusb/src/device/usbd.c ****   return true;
 358:tinyusb/src/device/usbd.c **** }
 359:tinyusb/src/device/usbd.c **** 
 360:tinyusb/src/device/usbd.c **** bool tud_disconnect(void)
 361:tinyusb/src/device/usbd.c **** {
 362:tinyusb/src/device/usbd.c ****   TU_VERIFY(dcd_disconnect);
 363:tinyusb/src/device/usbd.c ****   dcd_disconnect(_usbd_rhport);
 364:tinyusb/src/device/usbd.c ****   return true;
 365:tinyusb/src/device/usbd.c **** }
 366:tinyusb/src/device/usbd.c **** 
 367:tinyusb/src/device/usbd.c **** bool tud_connect(void)
 368:tinyusb/src/device/usbd.c **** {
 369:tinyusb/src/device/usbd.c ****   TU_VERIFY(dcd_connect);
 370:tinyusb/src/device/usbd.c ****   dcd_connect(_usbd_rhport);
 371:tinyusb/src/device/usbd.c ****   return true;
 372:tinyusb/src/device/usbd.c **** }
ARM GAS  /tmp/ccyyDEje.s 			page 8


 373:tinyusb/src/device/usbd.c **** 
 374:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 375:tinyusb/src/device/usbd.c **** // USBD Task
 376:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 377:tinyusb/src/device/usbd.c **** bool tud_inited(void)
 378:tinyusb/src/device/usbd.c **** {
 379:tinyusb/src/device/usbd.c ****   return _usbd_rhport != RHPORT_INVALID;
 380:tinyusb/src/device/usbd.c **** }
 381:tinyusb/src/device/usbd.c **** 
 382:tinyusb/src/device/usbd.c **** bool tud_init (uint8_t rhport)
 383:tinyusb/src/device/usbd.c **** {
 384:tinyusb/src/device/usbd.c ****   // skip if already initialized
 385:tinyusb/src/device/usbd.c ****   if ( tud_inited() ) return true;
 386:tinyusb/src/device/usbd.c **** 
 387:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("USBD init on controller %u\r\n", rhport);
 388:tinyusb/src/device/usbd.c ****   TU_LOG_INT(CFG_TUD_LOG_LEVEL, sizeof(usbd_device_t));
 389:tinyusb/src/device/usbd.c ****   TU_LOG_INT(CFG_TUD_LOG_LEVEL, sizeof(tu_fifo_t));
 390:tinyusb/src/device/usbd.c ****   TU_LOG_INT(CFG_TUD_LOG_LEVEL, sizeof(tu_edpt_stream_t));
 391:tinyusb/src/device/usbd.c **** 
 392:tinyusb/src/device/usbd.c ****   tu_varclr(&_usbd_dev);
 393:tinyusb/src/device/usbd.c **** 
 394:tinyusb/src/device/usbd.c **** #if OSAL_MUTEX_REQUIRED
 395:tinyusb/src/device/usbd.c ****   // Init device mutex
 396:tinyusb/src/device/usbd.c ****   _usbd_mutex = osal_mutex_create(&_ubsd_mutexdef);
 397:tinyusb/src/device/usbd.c ****   TU_ASSERT(_usbd_mutex);
 398:tinyusb/src/device/usbd.c **** #endif
 399:tinyusb/src/device/usbd.c **** 
 400:tinyusb/src/device/usbd.c ****   // Init device queue & task
 401:tinyusb/src/device/usbd.c ****   _usbd_q = osal_queue_create(&_usbd_qdef);
 402:tinyusb/src/device/usbd.c ****   TU_ASSERT(_usbd_q);
 403:tinyusb/src/device/usbd.c **** 
 404:tinyusb/src/device/usbd.c ****   // Get application driver if available
 405:tinyusb/src/device/usbd.c ****   if ( usbd_app_driver_get_cb )
 406:tinyusb/src/device/usbd.c ****   {
 407:tinyusb/src/device/usbd.c ****     _app_driver = usbd_app_driver_get_cb(&_app_driver_count);
 408:tinyusb/src/device/usbd.c ****   }
 409:tinyusb/src/device/usbd.c **** 
 410:tinyusb/src/device/usbd.c ****   // Init class drivers
 411:tinyusb/src/device/usbd.c ****   for (uint8_t i = 0; i < TOTAL_DRIVER_COUNT; i++)
 412:tinyusb/src/device/usbd.c ****   {
 413:tinyusb/src/device/usbd.c ****     usbd_class_driver_t const * driver = get_driver(i);
 414:tinyusb/src/device/usbd.c ****     TU_ASSERT(driver);
 415:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 416:tinyusb/src/device/usbd.c ****     driver->init();
 417:tinyusb/src/device/usbd.c ****   }
 418:tinyusb/src/device/usbd.c **** 
 419:tinyusb/src/device/usbd.c ****   _usbd_rhport = rhport;
 420:tinyusb/src/device/usbd.c **** 
 421:tinyusb/src/device/usbd.c ****   // Init device controller driver
 422:tinyusb/src/device/usbd.c ****   dcd_init(rhport);
 423:tinyusb/src/device/usbd.c ****   dcd_int_enable(rhport);
 424:tinyusb/src/device/usbd.c **** 
 425:tinyusb/src/device/usbd.c ****   return true;
 426:tinyusb/src/device/usbd.c **** }
 427:tinyusb/src/device/usbd.c **** 
 428:tinyusb/src/device/usbd.c **** static void configuration_reset(uint8_t rhport)
 429:tinyusb/src/device/usbd.c **** {
ARM GAS  /tmp/ccyyDEje.s 			page 9


  29              		.loc 1 429 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 429 1 is_stmt 0 view .LVU1
  34 0000 38B5     		push	{r3, r4, r5, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 3, -16
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 0546     		mov	r5, r0
 430:tinyusb/src/device/usbd.c ****   for ( uint8_t i = 0; i < TOTAL_DRIVER_COUNT; i++ )
  42              		.loc 1 430 3 is_stmt 1 view .LVU2
  43              	.LBB317:
  44              		.loc 1 430 9 view .LVU3
  45              	.LVL1:
  46              		.loc 1 430 17 is_stmt 0 view .LVU4
  47 0004 0024     		movs	r4, #0
  48              		.loc 1 430 3 view .LVU5
  49 0006 0BE0     		b	.L2
  50              	.LVL2:
  51              	.L3:
  52              	.LBB318:
  53              	.LBB319:
  54              	.LBB320:
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
  55              		.loc 1 252 10 is_stmt 1 view .LVU6
 253:tinyusb/src/device/usbd.c ****   }
  56              		.loc 1 253 5 view .LVU7
 253:tinyusb/src/device/usbd.c ****   }
  57              		.loc 1 253 34 is_stmt 0 view .LVU8
  58 0008 E31A     		subs	r3, r4, r3
 253:tinyusb/src/device/usbd.c ****   }
  59              		.loc 1 253 12 view .LVU9
  60 000a 03EB4303 		add	r3, r3, r3, lsl #1
  61 000e 1B4A     		ldr	r2, .L12
  62 0010 02EBC303 		add	r3, r2, r3, lsl #3
  63              	.LVL3:
  64              	.L4:
 256:tinyusb/src/device/usbd.c **** }
  65              		.loc 1 256 3 is_stmt 1 view .LVU10
 256:tinyusb/src/device/usbd.c **** }
  66              		.loc 1 256 3 is_stmt 0 view .LVU11
  67              	.LBE320:
  68              	.LBE319:
 431:tinyusb/src/device/usbd.c ****   {
 432:tinyusb/src/device/usbd.c ****     usbd_class_driver_t const * driver = get_driver(i);
 433:tinyusb/src/device/usbd.c ****     TU_ASSERT(driver, );
  69              		.loc 1 433 5 is_stmt 1 view .LVU12
  70              		.loc 1 433 5 view .LVU13
  71 0014 8BB1     		cbz	r3, .L10
  72              		.loc 1 433 5 discriminator 2 view .LVU14
 434:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
  73              		.loc 1 434 5 discriminator 2 view .LVU15
  74              		.loc 1 434 11 is_stmt 0 discriminator 2 view .LVU16
ARM GAS  /tmp/ccyyDEje.s 			page 10


  75 0016 5B68     		ldr	r3, [r3, #4]
  76              	.LVL4:
  77              		.loc 1 434 5 discriminator 2 view .LVU17
  78 0018 2846     		mov	r0, r5
  79 001a 9847     		blx	r3
  80              	.LVL5:
  81              	.LBE318:
 430:tinyusb/src/device/usbd.c ****   {
  82              		.loc 1 430 48 is_stmt 1 discriminator 2 view .LVU18
 430:tinyusb/src/device/usbd.c ****   {
  83              		.loc 1 430 49 is_stmt 0 discriminator 2 view .LVU19
  84 001c 0134     		adds	r4, r4, #1
  85              	.LVL6:
 430:tinyusb/src/device/usbd.c ****   {
  86              		.loc 1 430 49 discriminator 2 view .LVU20
  87 001e E4B2     		uxtb	r4, r4
  88              	.LVL7:
  89              	.L2:
 430:tinyusb/src/device/usbd.c ****   {
  90              		.loc 1 430 24 is_stmt 1 discriminator 2 view .LVU21
 430:tinyusb/src/device/usbd.c ****   {
  91              		.loc 1 430 26 is_stmt 0 discriminator 2 view .LVU22
  92 0020 174B     		ldr	r3, .L12+4
  93 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 430:tinyusb/src/device/usbd.c ****   {
  94              		.loc 1 430 3 discriminator 2 view .LVU23
  95 0024 A342     		cmp	r3, r4
  96 0026 11D3     		bcc	.L11
  97              	.LBB324:
 432:tinyusb/src/device/usbd.c ****     TU_ASSERT(driver, );
  98              		.loc 1 432 5 is_stmt 1 view .LVU24
  99              	.LVL8:
 100              	.LBB322:
 101              	.LBI319:
 245:tinyusb/src/device/usbd.c **** {
 102              		.loc 1 245 43 view .LVU25
 103              	.LBB321:
 247:tinyusb/src/device/usbd.c **** 
 104              		.loc 1 247 3 view .LVU26
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 105              		.loc 1 249 3 view .LVU27
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 106              		.loc 1 249 6 is_stmt 0 view .LVU28
 107 0028 A342     		cmp	r3, r4
 108 002a EDD9     		bls	.L3
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 109              		.loc 1 251 5 is_stmt 1 view .LVU29
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 110              		.loc 1 251 14 is_stmt 0 view .LVU30
 111 002c 154B     		ldr	r3, .L12+8
 112 002e 1B68     		ldr	r3, [r3]
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 113              		.loc 1 251 26 view .LVU31
 114 0030 04EB4402 		add	r2, r4, r4, lsl #1
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 115              		.loc 1 251 12 view .LVU32
 116 0034 03EBC203 		add	r3, r3, r2, lsl #3
ARM GAS  /tmp/ccyyDEje.s 			page 11


 117              	.LVL9:
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 118              		.loc 1 251 12 view .LVU33
 119 0038 ECE7     		b	.L4
 120              	.LVL10:
 121              	.L10:
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 122              		.loc 1 251 12 view .LVU34
 123              	.LBE321:
 124              	.LBE322:
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 125              		.loc 1 433 5 is_stmt 1 discriminator 1 view .LVU35
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 126              		.loc 1 433 5 discriminator 1 view .LVU36
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 127              		.loc 1 433 5 discriminator 1 view .LVU37
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 128              		.loc 1 433 5 discriminator 1 view .LVU38
 129              	.LBB323:
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 130              		.loc 1 433 5 discriminator 1 view .LVU39
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 131              		.loc 1 433 5 discriminator 1 view .LVU40
 132 003a 4FF0E023 		mov	r3, #-536813568
 133              	.LVL11:
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 134              		.loc 1 433 5 is_stmt 0 discriminator 1 view .LVU41
 135 003e D3F8F03D 		ldr	r3, [r3, #3568]
 136 0042 13F0010F 		tst	r3, #1
 137 0046 17D0     		beq	.L1
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 138              		.loc 1 433 5 is_stmt 1 discriminator 3 view .LVU42
 139              		.syntax unified
 140              	@ 433 "tinyusb/src/device/usbd.c" 1
 141 0048 00BE     		BKPT #0
 142              	
 143              	@ 0 "" 2
 144              		.thumb
 145              		.syntax unified
 146              	.LBE323:
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 147              		.loc 1 433 5 discriminator 3 view .LVU43
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 148              		.loc 1 433 5 discriminator 3 view .LVU44
 149 004a 15E0     		b	.L1
 150              	.LVL12:
 151              	.L11:
 433:tinyusb/src/device/usbd.c ****     driver->reset(rhport);
 152              		.loc 1 433 5 is_stmt 0 discriminator 3 view .LVU45
 153              	.LBE324:
 154              	.LBE317:
 435:tinyusb/src/device/usbd.c ****   }
 436:tinyusb/src/device/usbd.c **** 
 437:tinyusb/src/device/usbd.c ****   tu_varclr(&_usbd_dev);
 155              		.loc 1 437 3 is_stmt 1 view .LVU46
 156 004c 0E4C     		ldr	r4, .L12+12
 157              	.LVL13:
ARM GAS  /tmp/ccyyDEje.s 			page 12


 158              		.loc 1 437 3 is_stmt 0 view .LVU47
 159 004e 2B22     		movs	r2, #43
 160 0050 0021     		movs	r1, #0
 161 0052 2046     		mov	r0, r4
 162 0054 FFF7FEFF 		bl	memset
 163              	.LVL14:
 438:tinyusb/src/device/usbd.c ****   memset(_usbd_dev.itf2drv, DRVID_INVALID, sizeof(_usbd_dev.itf2drv)); // invalid mapping
 164              		.loc 1 438 3 is_stmt 1 view .LVU48
 165 0058 4FF0FF33 		mov	r3, #-1
 166 005c C4F80330 		str	r3, [r4, #3]	@ unaligned
 167 0060 C4F80730 		str	r3, [r4, #7]	@ unaligned
 168 0064 C4F80B30 		str	r3, [r4, #11]	@ unaligned
 169 0068 C4F80F30 		str	r3, [r4, #15]	@ unaligned
 439:tinyusb/src/device/usbd.c ****   memset(_usbd_dev.ep2drv , DRVID_INVALID, sizeof(_usbd_dev.ep2drv )); // invalid mapping
 170              		.loc 1 439 3 view .LVU49
 171 006c C4F81330 		str	r3, [r4, #19]	@ unaligned
 172 0070 C4F81730 		str	r3, [r4, #23]	@ unaligned
 173 0074 C4F81B30 		str	r3, [r4, #27]	@ unaligned
 174              	.L1:
 440:tinyusb/src/device/usbd.c **** }
 175              		.loc 1 440 1 is_stmt 0 view .LVU50
 176 0078 38BD     		pop	{r3, r4, r5, pc}
 177              	.L13:
 178 007a 00BF     		.align	2
 179              	.L12:
 180 007c 00000000 		.word	.LANCHOR1
 181 0080 00000000 		.word	.LANCHOR2
 182 0084 00000000 		.word	.LANCHOR0
 183 0088 00000000 		.word	.LANCHOR3
 184              		.cfi_endproc
 185              	.LFE94:
 187              		.section	.text.usbd_reset,"ax",%progbits
 188              		.align	1
 189              		.syntax unified
 190              		.thumb
 191              		.thumb_func
 192              		.fpu fpv4-sp-d16
 194              	usbd_reset:
 195              	.LVL15:
 196              	.LFB95:
 441:tinyusb/src/device/usbd.c **** 
 442:tinyusb/src/device/usbd.c **** static void usbd_reset(uint8_t rhport)
 443:tinyusb/src/device/usbd.c **** {
 197              		.loc 1 443 1 is_stmt 1 view -0
 198              		.cfi_startproc
 199              		@ args = 0, pretend = 0, frame = 0
 200              		@ frame_needed = 0, uses_anonymous_args = 0
 201              		.loc 1 443 1 is_stmt 0 view .LVU52
 202 0000 08B5     		push	{r3, lr}
 203              	.LCFI1:
 204              		.cfi_def_cfa_offset 8
 205              		.cfi_offset 3, -8
 206              		.cfi_offset 14, -4
 444:tinyusb/src/device/usbd.c ****   configuration_reset(rhport);
 207              		.loc 1 444 3 is_stmt 1 view .LVU53
 208 0002 FFF7FEFF 		bl	configuration_reset
 209              	.LVL16:
ARM GAS  /tmp/ccyyDEje.s 			page 13


 445:tinyusb/src/device/usbd.c ****   usbd_control_reset();
 210              		.loc 1 445 3 view .LVU54
 211 0006 FFF7FEFF 		bl	usbd_control_reset
 212              	.LVL17:
 446:tinyusb/src/device/usbd.c **** }
 213              		.loc 1 446 1 is_stmt 0 view .LVU55
 214 000a 08BD     		pop	{r3, pc}
 215              		.cfi_endproc
 216              	.LFE95:
 218              		.section	.text.invoke_class_control,"ax",%progbits
 219              		.align	1
 220              		.syntax unified
 221              		.thumb
 222              		.thumb_func
 223              		.fpu fpv4-sp-d16
 225              	invoke_class_control:
 226              	.LVL18:
 227              	.LFB98:
 447:tinyusb/src/device/usbd.c **** 
 448:tinyusb/src/device/usbd.c **** bool tud_task_event_ready(void)
 449:tinyusb/src/device/usbd.c **** {
 450:tinyusb/src/device/usbd.c ****   // Skip if stack is not initialized
 451:tinyusb/src/device/usbd.c ****   if ( !tud_inited() ) return false;
 452:tinyusb/src/device/usbd.c **** 
 453:tinyusb/src/device/usbd.c ****   return !osal_queue_empty(_usbd_q);
 454:tinyusb/src/device/usbd.c **** }
 455:tinyusb/src/device/usbd.c **** 
 456:tinyusb/src/device/usbd.c **** /* USB Device Driver task
 457:tinyusb/src/device/usbd.c ****  * This top level thread manages all device controller event and delegates events to class-specific
 458:tinyusb/src/device/usbd.c ****  * This should be called periodically within the mainloop or rtos thread.
 459:tinyusb/src/device/usbd.c ****  *
 460:tinyusb/src/device/usbd.c ****    @code
 461:tinyusb/src/device/usbd.c ****     int main(void)
 462:tinyusb/src/device/usbd.c ****     {
 463:tinyusb/src/device/usbd.c ****       application_init();
 464:tinyusb/src/device/usbd.c ****       tusb_init();
 465:tinyusb/src/device/usbd.c **** 
 466:tinyusb/src/device/usbd.c ****       while(1) // the mainloop
 467:tinyusb/src/device/usbd.c ****       {
 468:tinyusb/src/device/usbd.c ****         application_code();
 469:tinyusb/src/device/usbd.c ****         tud_task(); // tinyusb device task
 470:tinyusb/src/device/usbd.c ****       }
 471:tinyusb/src/device/usbd.c ****     }
 472:tinyusb/src/device/usbd.c ****     @endcode
 473:tinyusb/src/device/usbd.c ****  */
 474:tinyusb/src/device/usbd.c **** void tud_task_ext(uint32_t timeout_ms, bool in_isr)
 475:tinyusb/src/device/usbd.c **** {
 476:tinyusb/src/device/usbd.c ****   (void) in_isr; // not implemented yet
 477:tinyusb/src/device/usbd.c **** 
 478:tinyusb/src/device/usbd.c ****   // Skip if stack is not initialized
 479:tinyusb/src/device/usbd.c ****   if ( !tud_inited() ) return;
 480:tinyusb/src/device/usbd.c **** 
 481:tinyusb/src/device/usbd.c ****   // Loop until there is no more events in the queue
 482:tinyusb/src/device/usbd.c ****   while (1)
 483:tinyusb/src/device/usbd.c ****   {
 484:tinyusb/src/device/usbd.c ****     dcd_event_t event;
 485:tinyusb/src/device/usbd.c ****     if ( !osal_queue_receive(_usbd_q, &event, timeout_ms) ) return;
ARM GAS  /tmp/ccyyDEje.s 			page 14


 486:tinyusb/src/device/usbd.c **** 
 487:tinyusb/src/device/usbd.c **** #if CFG_TUSB_DEBUG >= CFG_TUD_LOG_LEVEL
 488:tinyusb/src/device/usbd.c ****     if (event.event_id == DCD_EVENT_SETUP_RECEIVED) TU_LOG_USBD("\r\n"); // extra line for setup
 489:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("USBD %s ", event.event_id < DCD_EVENT_COUNT ? _usbd_event_str[event.event_id] : "C
 490:tinyusb/src/device/usbd.c **** #endif
 491:tinyusb/src/device/usbd.c **** 
 492:tinyusb/src/device/usbd.c ****     switch ( event.event_id )
 493:tinyusb/src/device/usbd.c ****     {
 494:tinyusb/src/device/usbd.c ****       case DCD_EVENT_BUS_RESET:
 495:tinyusb/src/device/usbd.c ****         TU_LOG_USBD(": %s Speed\r\n", tu_str_speed[event.bus_reset.speed]);
 496:tinyusb/src/device/usbd.c ****         usbd_reset(event.rhport);
 497:tinyusb/src/device/usbd.c ****         _usbd_dev.speed = event.bus_reset.speed;
 498:tinyusb/src/device/usbd.c ****       break;
 499:tinyusb/src/device/usbd.c **** 
 500:tinyusb/src/device/usbd.c ****       case DCD_EVENT_UNPLUGGED:
 501:tinyusb/src/device/usbd.c ****         TU_LOG_USBD("\r\n");
 502:tinyusb/src/device/usbd.c ****         usbd_reset(event.rhport);
 503:tinyusb/src/device/usbd.c **** 
 504:tinyusb/src/device/usbd.c ****         // invoke callback
 505:tinyusb/src/device/usbd.c ****         if (tud_umount_cb) tud_umount_cb();
 506:tinyusb/src/device/usbd.c ****       break;
 507:tinyusb/src/device/usbd.c **** 
 508:tinyusb/src/device/usbd.c ****       case DCD_EVENT_SETUP_RECEIVED:
 509:tinyusb/src/device/usbd.c ****         TU_LOG_BUF(CFG_TUD_LOG_LEVEL, &event.setup_received, 8);
 510:tinyusb/src/device/usbd.c ****         TU_LOG_USBD("\r\n");
 511:tinyusb/src/device/usbd.c **** 
 512:tinyusb/src/device/usbd.c ****         // Mark as connected after receiving 1st setup packet.
 513:tinyusb/src/device/usbd.c ****         // But it is easier to set it every time instead of wasting time to check then set
 514:tinyusb/src/device/usbd.c ****         _usbd_dev.connected = 1;
 515:tinyusb/src/device/usbd.c **** 
 516:tinyusb/src/device/usbd.c ****         // mark both in & out control as free
 517:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_OUT].busy = 0;
 518:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_OUT].claimed = 0;
 519:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_IN ].busy = 0;
 520:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_IN ].claimed = 0;
 521:tinyusb/src/device/usbd.c **** 
 522:tinyusb/src/device/usbd.c ****         // Process control request
 523:tinyusb/src/device/usbd.c ****         if ( !process_control_request(event.rhport, &event.setup_received) )
 524:tinyusb/src/device/usbd.c ****         {
 525:tinyusb/src/device/usbd.c ****           TU_LOG_USBD("  Stall EP0\r\n");
 526:tinyusb/src/device/usbd.c ****           // Failed -> stall both control endpoint IN and OUT
 527:tinyusb/src/device/usbd.c ****           dcd_edpt_stall(event.rhport, 0);
 528:tinyusb/src/device/usbd.c ****           dcd_edpt_stall(event.rhport, 0 | TUSB_DIR_IN_MASK);
 529:tinyusb/src/device/usbd.c ****         }
 530:tinyusb/src/device/usbd.c ****       break;
 531:tinyusb/src/device/usbd.c **** 
 532:tinyusb/src/device/usbd.c ****       case DCD_EVENT_XFER_COMPLETE:
 533:tinyusb/src/device/usbd.c ****       {
 534:tinyusb/src/device/usbd.c ****         // Invoke the class callback associated with the endpoint address
 535:tinyusb/src/device/usbd.c ****         uint8_t const ep_addr = event.xfer_complete.ep_addr;
 536:tinyusb/src/device/usbd.c ****         uint8_t const epnum   = tu_edpt_number(ep_addr);
 537:tinyusb/src/device/usbd.c ****         uint8_t const ep_dir  = tu_edpt_dir(ep_addr);
 538:tinyusb/src/device/usbd.c **** 
 539:tinyusb/src/device/usbd.c ****         TU_LOG_USBD("on EP %02X with %u bytes\r\n", ep_addr, (unsigned int) event.xfer_complete.len
 540:tinyusb/src/device/usbd.c **** 
 541:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[epnum][ep_dir].busy = 0;
 542:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[epnum][ep_dir].claimed = 0;
ARM GAS  /tmp/ccyyDEje.s 			page 15


 543:tinyusb/src/device/usbd.c **** 
 544:tinyusb/src/device/usbd.c ****         if ( 0 == epnum )
 545:tinyusb/src/device/usbd.c ****         {
 546:tinyusb/src/device/usbd.c ****           usbd_control_xfer_cb(event.rhport, ep_addr, (xfer_result_t) event.xfer_complete.result, e
 547:tinyusb/src/device/usbd.c ****           .len);
 548:tinyusb/src/device/usbd.c ****         }
 549:tinyusb/src/device/usbd.c ****         else
 550:tinyusb/src/device/usbd.c ****         {
 551:tinyusb/src/device/usbd.c ****           usbd_class_driver_t const * driver = get_driver( _usbd_dev.ep2drv[epnum][ep_dir] );
 552:tinyusb/src/device/usbd.c ****           TU_ASSERT(driver, );
 553:tinyusb/src/device/usbd.c **** 
 554:tinyusb/src/device/usbd.c ****           TU_LOG_USBD("  %s xfer callback\r\n", driver->name);
 555:tinyusb/src/device/usbd.c ****           driver->xfer_cb(event.rhport, ep_addr, (xfer_result_t) event.xfer_complete.result, event.
 556:tinyusb/src/device/usbd.c ****         }
 557:tinyusb/src/device/usbd.c ****       }
 558:tinyusb/src/device/usbd.c ****       break;
 559:tinyusb/src/device/usbd.c **** 
 560:tinyusb/src/device/usbd.c ****       case DCD_EVENT_SUSPEND:
 561:tinyusb/src/device/usbd.c ****         // NOTE: When plugging/unplugging device, the D+/D- state are unstable and
 562:tinyusb/src/device/usbd.c ****         // can accidentally meet the SUSPEND condition ( Bus Idle for 3ms ), which result in a seri
 563:tinyusb/src/device/usbd.c ****         // e.g suspend -> resume -> unplug/plug. Skip suspend/resume if not connected
 564:tinyusb/src/device/usbd.c ****         if ( _usbd_dev.connected )
 565:tinyusb/src/device/usbd.c ****         {
 566:tinyusb/src/device/usbd.c ****           TU_LOG_USBD(": Remote Wakeup = %u\r\n", _usbd_dev.remote_wakeup_en);
 567:tinyusb/src/device/usbd.c ****           if (tud_suspend_cb) tud_suspend_cb(_usbd_dev.remote_wakeup_en);
 568:tinyusb/src/device/usbd.c ****         }else
 569:tinyusb/src/device/usbd.c ****         {
 570:tinyusb/src/device/usbd.c ****           TU_LOG_USBD(" Skipped\r\n");
 571:tinyusb/src/device/usbd.c ****         }
 572:tinyusb/src/device/usbd.c ****       break;
 573:tinyusb/src/device/usbd.c **** 
 574:tinyusb/src/device/usbd.c ****       case DCD_EVENT_RESUME:
 575:tinyusb/src/device/usbd.c ****         if ( _usbd_dev.connected )
 576:tinyusb/src/device/usbd.c ****         {
 577:tinyusb/src/device/usbd.c ****           TU_LOG_USBD("\r\n");
 578:tinyusb/src/device/usbd.c ****           if (tud_resume_cb) tud_resume_cb();
 579:tinyusb/src/device/usbd.c ****         }else
 580:tinyusb/src/device/usbd.c ****         {
 581:tinyusb/src/device/usbd.c ****           TU_LOG_USBD(" Skipped\r\n");
 582:tinyusb/src/device/usbd.c ****         }
 583:tinyusb/src/device/usbd.c ****       break;
 584:tinyusb/src/device/usbd.c **** 
 585:tinyusb/src/device/usbd.c ****       case USBD_EVENT_FUNC_CALL:
 586:tinyusb/src/device/usbd.c ****         TU_LOG_USBD("\r\n");
 587:tinyusb/src/device/usbd.c ****         if ( event.func_call.func ) event.func_call.func(event.func_call.param);
 588:tinyusb/src/device/usbd.c ****       break;
 589:tinyusb/src/device/usbd.c **** 
 590:tinyusb/src/device/usbd.c ****       case DCD_EVENT_SOF:
 591:tinyusb/src/device/usbd.c ****       default:
 592:tinyusb/src/device/usbd.c ****         TU_BREAKPOINT();
 593:tinyusb/src/device/usbd.c ****       break;
 594:tinyusb/src/device/usbd.c ****     }
 595:tinyusb/src/device/usbd.c **** 
 596:tinyusb/src/device/usbd.c **** #if CFG_TUSB_OS != OPT_OS_NONE && CFG_TUSB_OS != OPT_OS_PICO
 597:tinyusb/src/device/usbd.c ****     // return if there is no more events, for application to run other background
 598:tinyusb/src/device/usbd.c ****     if (osal_queue_empty(_usbd_q)) return;
 599:tinyusb/src/device/usbd.c **** #endif
ARM GAS  /tmp/ccyyDEje.s 			page 16


 600:tinyusb/src/device/usbd.c ****   }
 601:tinyusb/src/device/usbd.c **** }
 602:tinyusb/src/device/usbd.c **** 
 603:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 604:tinyusb/src/device/usbd.c **** // Control Request Parser & Handling
 605:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
 606:tinyusb/src/device/usbd.c **** 
 607:tinyusb/src/device/usbd.c **** // Helper to invoke class driver control request handler
 608:tinyusb/src/device/usbd.c **** static bool invoke_class_control(uint8_t rhport, usbd_class_driver_t const * driver, tusb_control_r
 609:tinyusb/src/device/usbd.c **** {
 228              		.loc 1 609 1 is_stmt 1 view -0
 229              		.cfi_startproc
 230              		@ args = 0, pretend = 0, frame = 0
 231              		@ frame_needed = 0, uses_anonymous_args = 0
 232              		.loc 1 609 1 is_stmt 0 view .LVU57
 233 0000 70B5     		push	{r4, r5, r6, lr}
 234              	.LCFI2:
 235              		.cfi_def_cfa_offset 16
 236              		.cfi_offset 4, -16
 237              		.cfi_offset 5, -12
 238              		.cfi_offset 6, -8
 239              		.cfi_offset 14, -4
 240 0002 0546     		mov	r5, r0
 241 0004 0C46     		mov	r4, r1
 242 0006 1646     		mov	r6, r2
 610:tinyusb/src/device/usbd.c ****   usbd_control_set_complete_callback(driver->control_xfer_cb);
 243              		.loc 1 610 3 is_stmt 1 view .LVU58
 244 0008 C868     		ldr	r0, [r1, #12]
 245              	.LVL19:
 246              		.loc 1 610 3 is_stmt 0 view .LVU59
 247 000a FFF7FEFF 		bl	usbd_control_set_complete_callback
 248              	.LVL20:
 611:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  %s control request\r\n", driver->name);
 249              		.loc 1 611 56 is_stmt 1 view .LVU60
 612:tinyusb/src/device/usbd.c ****   return driver->control_xfer_cb(rhport, CONTROL_STAGE_SETUP, request);
 250              		.loc 1 612 3 view .LVU61
 251              		.loc 1 612 16 is_stmt 0 view .LVU62
 252 000e E368     		ldr	r3, [r4, #12]
 253              		.loc 1 612 10 view .LVU63
 254 0010 3246     		mov	r2, r6
 255 0012 0121     		movs	r1, #1
 256 0014 2846     		mov	r0, r5
 257 0016 9847     		blx	r3
 258              	.LVL21:
 613:tinyusb/src/device/usbd.c **** }
 259              		.loc 1 613 1 view .LVU64
 260 0018 70BD     		pop	{r4, r5, r6, pc}
 261              		.loc 1 613 1 view .LVU65
 262              		.cfi_endproc
 263              	.LFE98:
 265              		.section	.text.process_set_config,"ax",%progbits
 266              		.align	1
 267              		.syntax unified
 268              		.thumb
 269              		.thumb_func
 270              		.fpu fpv4-sp-d16
 272              	process_set_config:
ARM GAS  /tmp/ccyyDEje.s 			page 17


 273              	.LVL22:
 274              	.LFB100:
 614:tinyusb/src/device/usbd.c **** 
 615:tinyusb/src/device/usbd.c **** // This handles the actual request and its response.
 616:tinyusb/src/device/usbd.c **** // return false will cause its caller to stall control endpoint
 617:tinyusb/src/device/usbd.c **** static bool process_control_request(uint8_t rhport, tusb_control_request_t const * p_request)
 618:tinyusb/src/device/usbd.c **** {
 619:tinyusb/src/device/usbd.c ****   usbd_control_set_complete_callback(NULL);
 620:tinyusb/src/device/usbd.c **** 
 621:tinyusb/src/device/usbd.c ****   TU_ASSERT(p_request->bmRequestType_bit.type < TUSB_REQ_TYPE_INVALID);
 622:tinyusb/src/device/usbd.c **** 
 623:tinyusb/src/device/usbd.c ****   // Vendor request
 624:tinyusb/src/device/usbd.c ****   if ( p_request->bmRequestType_bit.type == TUSB_REQ_TYPE_VENDOR )
 625:tinyusb/src/device/usbd.c ****   {
 626:tinyusb/src/device/usbd.c ****     TU_VERIFY(tud_vendor_control_xfer_cb);
 627:tinyusb/src/device/usbd.c **** 
 628:tinyusb/src/device/usbd.c ****     usbd_control_set_complete_callback(tud_vendor_control_xfer_cb);
 629:tinyusb/src/device/usbd.c ****     return tud_vendor_control_xfer_cb(rhport, CONTROL_STAGE_SETUP, p_request);
 630:tinyusb/src/device/usbd.c ****   }
 631:tinyusb/src/device/usbd.c **** 
 632:tinyusb/src/device/usbd.c **** #if CFG_TUSB_DEBUG >= CFG_TUD_LOG_LEVEL
 633:tinyusb/src/device/usbd.c ****   if (TUSB_REQ_TYPE_STANDARD == p_request->bmRequestType_bit.type && p_request->bRequest <= TUSB_RE
 634:tinyusb/src/device/usbd.c ****   {
 635:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("  %s", tu_str_std_request[p_request->bRequest]);
 636:tinyusb/src/device/usbd.c ****     if (TUSB_REQ_GET_DESCRIPTOR != p_request->bRequest) TU_LOG_USBD("\r\n");
 637:tinyusb/src/device/usbd.c ****   }
 638:tinyusb/src/device/usbd.c **** #endif
 639:tinyusb/src/device/usbd.c **** 
 640:tinyusb/src/device/usbd.c ****   switch ( p_request->bmRequestType_bit.recipient )
 641:tinyusb/src/device/usbd.c ****   {
 642:tinyusb/src/device/usbd.c ****     //------------- Device Requests e.g in enumeration -------------//
 643:tinyusb/src/device/usbd.c ****     case TUSB_REQ_RCPT_DEVICE:
 644:tinyusb/src/device/usbd.c ****       if ( TUSB_REQ_TYPE_CLASS == p_request->bmRequestType_bit.type )
 645:tinyusb/src/device/usbd.c ****       {
 646:tinyusb/src/device/usbd.c ****         uint8_t const itf = tu_u16_low(p_request->wIndex);
 647:tinyusb/src/device/usbd.c ****         TU_VERIFY(itf < TU_ARRAY_SIZE(_usbd_dev.itf2drv));
 648:tinyusb/src/device/usbd.c **** 
 649:tinyusb/src/device/usbd.c ****         usbd_class_driver_t const * driver = get_driver(_usbd_dev.itf2drv[itf]);
 650:tinyusb/src/device/usbd.c ****         TU_VERIFY(driver);
 651:tinyusb/src/device/usbd.c **** 
 652:tinyusb/src/device/usbd.c ****         // forward to class driver: "non-STD request to Interface"
 653:tinyusb/src/device/usbd.c ****         return invoke_class_control(rhport, driver, p_request);
 654:tinyusb/src/device/usbd.c ****       }
 655:tinyusb/src/device/usbd.c **** 
 656:tinyusb/src/device/usbd.c ****       if ( TUSB_REQ_TYPE_STANDARD != p_request->bmRequestType_bit.type )
 657:tinyusb/src/device/usbd.c ****       {
 658:tinyusb/src/device/usbd.c ****         // Non standard request is not supported
 659:tinyusb/src/device/usbd.c ****         TU_BREAKPOINT();
 660:tinyusb/src/device/usbd.c ****         return false;
 661:tinyusb/src/device/usbd.c ****       }
 662:tinyusb/src/device/usbd.c **** 
 663:tinyusb/src/device/usbd.c ****       switch ( p_request->bRequest )
 664:tinyusb/src/device/usbd.c ****       {
 665:tinyusb/src/device/usbd.c ****         case TUSB_REQ_SET_ADDRESS:
 666:tinyusb/src/device/usbd.c ****           // Depending on mcu, status phase could be sent either before or after changing device ad
 667:tinyusb/src/device/usbd.c ****           // or even require stack to not response with status at all
 668:tinyusb/src/device/usbd.c ****           // Therefore DCD must take full responsibility to response and include zlp status packet 
ARM GAS  /tmp/ccyyDEje.s 			page 18


 669:tinyusb/src/device/usbd.c ****           usbd_control_set_request(p_request); // set request since DCD has no access to tud_contro
 670:tinyusb/src/device/usbd.c ****           dcd_set_address(rhport, (uint8_t) p_request->wValue);
 671:tinyusb/src/device/usbd.c ****           // skip tud_control_status()
 672:tinyusb/src/device/usbd.c ****           _usbd_dev.addressed = 1;
 673:tinyusb/src/device/usbd.c ****         break;
 674:tinyusb/src/device/usbd.c **** 
 675:tinyusb/src/device/usbd.c ****         case TUSB_REQ_GET_CONFIGURATION:
 676:tinyusb/src/device/usbd.c ****         {
 677:tinyusb/src/device/usbd.c ****           uint8_t cfg_num = _usbd_dev.cfg_num;
 678:tinyusb/src/device/usbd.c ****           tud_control_xfer(rhport, p_request, &cfg_num, 1);
 679:tinyusb/src/device/usbd.c ****         }
 680:tinyusb/src/device/usbd.c ****         break;
 681:tinyusb/src/device/usbd.c **** 
 682:tinyusb/src/device/usbd.c ****         case TUSB_REQ_SET_CONFIGURATION:
 683:tinyusb/src/device/usbd.c ****         {
 684:tinyusb/src/device/usbd.c ****           uint8_t const cfg_num = (uint8_t) p_request->wValue;
 685:tinyusb/src/device/usbd.c **** 
 686:tinyusb/src/device/usbd.c ****           // Only process if new configure is different
 687:tinyusb/src/device/usbd.c ****           if (_usbd_dev.cfg_num != cfg_num)
 688:tinyusb/src/device/usbd.c ****           {
 689:tinyusb/src/device/usbd.c ****             if ( _usbd_dev.cfg_num )
 690:tinyusb/src/device/usbd.c ****             {
 691:tinyusb/src/device/usbd.c ****               // already configured: need to clear all endpoints and driver first
 692:tinyusb/src/device/usbd.c ****               TU_LOG_USBD("  Clear current Configuration (%u) before switching\r\n", _usbd_dev.cfg_
 693:tinyusb/src/device/usbd.c **** 
 694:tinyusb/src/device/usbd.c ****               // close all non-control endpoints, cancel all pending transfers if any
 695:tinyusb/src/device/usbd.c ****               dcd_edpt_close_all(rhport);
 696:tinyusb/src/device/usbd.c **** 
 697:tinyusb/src/device/usbd.c ****               // close all drivers and current configured state except bus speed
 698:tinyusb/src/device/usbd.c ****               uint8_t const speed = _usbd_dev.speed;
 699:tinyusb/src/device/usbd.c ****               configuration_reset(rhport);
 700:tinyusb/src/device/usbd.c **** 
 701:tinyusb/src/device/usbd.c ****               _usbd_dev.speed = speed; // restore speed
 702:tinyusb/src/device/usbd.c ****             }
 703:tinyusb/src/device/usbd.c **** 
 704:tinyusb/src/device/usbd.c ****             // Handle the new configuration and execute the corresponding callback
 705:tinyusb/src/device/usbd.c ****             if ( cfg_num )
 706:tinyusb/src/device/usbd.c ****             {
 707:tinyusb/src/device/usbd.c ****               // switch to new configuration if not zero
 708:tinyusb/src/device/usbd.c ****               TU_ASSERT( process_set_config(rhport, cfg_num) );
 709:tinyusb/src/device/usbd.c **** 
 710:tinyusb/src/device/usbd.c ****               if ( tud_mount_cb ) tud_mount_cb();
 711:tinyusb/src/device/usbd.c ****             }
 712:tinyusb/src/device/usbd.c ****             else
 713:tinyusb/src/device/usbd.c ****             {
 714:tinyusb/src/device/usbd.c ****               if ( tud_umount_cb ) tud_umount_cb();
 715:tinyusb/src/device/usbd.c ****             }
 716:tinyusb/src/device/usbd.c ****           }
 717:tinyusb/src/device/usbd.c **** 
 718:tinyusb/src/device/usbd.c ****           _usbd_dev.cfg_num = cfg_num;
 719:tinyusb/src/device/usbd.c ****           tud_control_status(rhport, p_request);
 720:tinyusb/src/device/usbd.c ****         }
 721:tinyusb/src/device/usbd.c ****         break;
 722:tinyusb/src/device/usbd.c **** 
 723:tinyusb/src/device/usbd.c ****         case TUSB_REQ_GET_DESCRIPTOR:
 724:tinyusb/src/device/usbd.c ****           TU_VERIFY( process_get_descriptor(rhport, p_request) );
 725:tinyusb/src/device/usbd.c ****         break;
ARM GAS  /tmp/ccyyDEje.s 			page 19


 726:tinyusb/src/device/usbd.c **** 
 727:tinyusb/src/device/usbd.c ****         case TUSB_REQ_SET_FEATURE:
 728:tinyusb/src/device/usbd.c ****           // Only support remote wakeup for device feature
 729:tinyusb/src/device/usbd.c ****           TU_VERIFY(TUSB_REQ_FEATURE_REMOTE_WAKEUP == p_request->wValue);
 730:tinyusb/src/device/usbd.c **** 
 731:tinyusb/src/device/usbd.c ****           TU_LOG_USBD("    Enable Remote Wakeup\r\n");
 732:tinyusb/src/device/usbd.c **** 
 733:tinyusb/src/device/usbd.c ****           // Host may enable remote wake up before suspending especially HID device
 734:tinyusb/src/device/usbd.c ****           _usbd_dev.remote_wakeup_en = true;
 735:tinyusb/src/device/usbd.c ****           tud_control_status(rhport, p_request);
 736:tinyusb/src/device/usbd.c ****         break;
 737:tinyusb/src/device/usbd.c **** 
 738:tinyusb/src/device/usbd.c ****         case TUSB_REQ_CLEAR_FEATURE:
 739:tinyusb/src/device/usbd.c ****           // Only support remote wakeup for device feature
 740:tinyusb/src/device/usbd.c ****           TU_VERIFY(TUSB_REQ_FEATURE_REMOTE_WAKEUP == p_request->wValue);
 741:tinyusb/src/device/usbd.c **** 
 742:tinyusb/src/device/usbd.c ****           TU_LOG_USBD("    Disable Remote Wakeup\r\n");
 743:tinyusb/src/device/usbd.c **** 
 744:tinyusb/src/device/usbd.c ****           // Host may disable remote wake up after resuming
 745:tinyusb/src/device/usbd.c ****           _usbd_dev.remote_wakeup_en = false;
 746:tinyusb/src/device/usbd.c ****           tud_control_status(rhport, p_request);
 747:tinyusb/src/device/usbd.c ****         break;
 748:tinyusb/src/device/usbd.c **** 
 749:tinyusb/src/device/usbd.c ****         case TUSB_REQ_GET_STATUS:
 750:tinyusb/src/device/usbd.c ****         {
 751:tinyusb/src/device/usbd.c ****           // Device status bit mask
 752:tinyusb/src/device/usbd.c ****           // - Bit 0: Self Powered
 753:tinyusb/src/device/usbd.c ****           // - Bit 1: Remote Wakeup enabled
 754:tinyusb/src/device/usbd.c ****           uint16_t status = (uint16_t) ((_usbd_dev.self_powered ? 1u : 0u) | (_usbd_dev.remote_wake
 755:tinyusb/src/device/usbd.c ****           tud_control_xfer(rhport, p_request, &status, 2);
 756:tinyusb/src/device/usbd.c ****         }
 757:tinyusb/src/device/usbd.c ****         break;
 758:tinyusb/src/device/usbd.c **** 
 759:tinyusb/src/device/usbd.c ****         // Unknown/Unsupported request
 760:tinyusb/src/device/usbd.c ****         default: TU_BREAKPOINT(); return false;
 761:tinyusb/src/device/usbd.c ****       }
 762:tinyusb/src/device/usbd.c ****     break;
 763:tinyusb/src/device/usbd.c **** 
 764:tinyusb/src/device/usbd.c ****     //------------- Class/Interface Specific Request -------------//
 765:tinyusb/src/device/usbd.c ****     case TUSB_REQ_RCPT_INTERFACE:
 766:tinyusb/src/device/usbd.c ****     {
 767:tinyusb/src/device/usbd.c ****       uint8_t const itf = tu_u16_low(p_request->wIndex);
 768:tinyusb/src/device/usbd.c ****       TU_VERIFY(itf < TU_ARRAY_SIZE(_usbd_dev.itf2drv));
 769:tinyusb/src/device/usbd.c **** 
 770:tinyusb/src/device/usbd.c ****       usbd_class_driver_t const * driver = get_driver(_usbd_dev.itf2drv[itf]);
 771:tinyusb/src/device/usbd.c ****       TU_VERIFY(driver);
 772:tinyusb/src/device/usbd.c **** 
 773:tinyusb/src/device/usbd.c ****       // all requests to Interface (STD or Class) is forwarded to class driver.
 774:tinyusb/src/device/usbd.c ****       // notable requests are: GET HID REPORT DESCRIPTOR, SET_INTERFACE, GET_INTERFACE
 775:tinyusb/src/device/usbd.c ****       if ( !invoke_class_control(rhport, driver, p_request) )
 776:tinyusb/src/device/usbd.c ****       {
 777:tinyusb/src/device/usbd.c ****         // For GET_INTERFACE and SET_INTERFACE, it is mandatory to respond even if the class
 778:tinyusb/src/device/usbd.c ****         // driver doesn't use alternate settings or implement this
 779:tinyusb/src/device/usbd.c ****         TU_VERIFY(TUSB_REQ_TYPE_STANDARD == p_request->bmRequestType_bit.type);
 780:tinyusb/src/device/usbd.c **** 
 781:tinyusb/src/device/usbd.c ****         switch(p_request->bRequest)
 782:tinyusb/src/device/usbd.c ****         {
ARM GAS  /tmp/ccyyDEje.s 			page 20


 783:tinyusb/src/device/usbd.c ****           case TUSB_REQ_GET_INTERFACE:
 784:tinyusb/src/device/usbd.c ****           case TUSB_REQ_SET_INTERFACE:
 785:tinyusb/src/device/usbd.c ****             // Clear complete callback if driver set since it can also stall the request.
 786:tinyusb/src/device/usbd.c ****             usbd_control_set_complete_callback(NULL);
 787:tinyusb/src/device/usbd.c **** 
 788:tinyusb/src/device/usbd.c ****             if (TUSB_REQ_GET_INTERFACE == p_request->bRequest)
 789:tinyusb/src/device/usbd.c ****             {
 790:tinyusb/src/device/usbd.c ****               uint8_t alternate = 0;
 791:tinyusb/src/device/usbd.c ****               tud_control_xfer(rhport, p_request, &alternate, 1);
 792:tinyusb/src/device/usbd.c ****             }else
 793:tinyusb/src/device/usbd.c ****             {
 794:tinyusb/src/device/usbd.c ****               tud_control_status(rhport, p_request);
 795:tinyusb/src/device/usbd.c ****             }
 796:tinyusb/src/device/usbd.c ****           break;
 797:tinyusb/src/device/usbd.c **** 
 798:tinyusb/src/device/usbd.c ****           default: return false;
 799:tinyusb/src/device/usbd.c ****         }
 800:tinyusb/src/device/usbd.c ****       }
 801:tinyusb/src/device/usbd.c ****     }
 802:tinyusb/src/device/usbd.c ****     break;
 803:tinyusb/src/device/usbd.c **** 
 804:tinyusb/src/device/usbd.c ****     //------------- Endpoint Request -------------//
 805:tinyusb/src/device/usbd.c ****     case TUSB_REQ_RCPT_ENDPOINT:
 806:tinyusb/src/device/usbd.c ****     {
 807:tinyusb/src/device/usbd.c ****       uint8_t const ep_addr = tu_u16_low(p_request->wIndex);
 808:tinyusb/src/device/usbd.c ****       uint8_t const ep_num  = tu_edpt_number(ep_addr);
 809:tinyusb/src/device/usbd.c ****       uint8_t const ep_dir  = tu_edpt_dir(ep_addr);
 810:tinyusb/src/device/usbd.c **** 
 811:tinyusb/src/device/usbd.c ****       TU_ASSERT(ep_num < TU_ARRAY_SIZE(_usbd_dev.ep2drv) );
 812:tinyusb/src/device/usbd.c **** 
 813:tinyusb/src/device/usbd.c ****       usbd_class_driver_t const * driver = get_driver(_usbd_dev.ep2drv[ep_num][ep_dir]);
 814:tinyusb/src/device/usbd.c **** 
 815:tinyusb/src/device/usbd.c ****       if ( TUSB_REQ_TYPE_STANDARD != p_request->bmRequestType_bit.type )
 816:tinyusb/src/device/usbd.c ****       {
 817:tinyusb/src/device/usbd.c ****         // Forward class request to its driver
 818:tinyusb/src/device/usbd.c ****         TU_VERIFY(driver);
 819:tinyusb/src/device/usbd.c ****         return invoke_class_control(rhport, driver, p_request);
 820:tinyusb/src/device/usbd.c ****       }
 821:tinyusb/src/device/usbd.c ****       else
 822:tinyusb/src/device/usbd.c ****       {
 823:tinyusb/src/device/usbd.c ****         // Handle STD request to endpoint
 824:tinyusb/src/device/usbd.c ****         switch ( p_request->bRequest )
 825:tinyusb/src/device/usbd.c ****         {
 826:tinyusb/src/device/usbd.c ****           case TUSB_REQ_GET_STATUS:
 827:tinyusb/src/device/usbd.c ****           {
 828:tinyusb/src/device/usbd.c ****             uint16_t status = usbd_edpt_stalled(rhport, ep_addr) ? 0x0001 : 0x0000;
 829:tinyusb/src/device/usbd.c ****             tud_control_xfer(rhport, p_request, &status, 2);
 830:tinyusb/src/device/usbd.c ****           }
 831:tinyusb/src/device/usbd.c ****           break;
 832:tinyusb/src/device/usbd.c **** 
 833:tinyusb/src/device/usbd.c ****           case TUSB_REQ_CLEAR_FEATURE:
 834:tinyusb/src/device/usbd.c ****           case TUSB_REQ_SET_FEATURE:
 835:tinyusb/src/device/usbd.c ****           {
 836:tinyusb/src/device/usbd.c ****             if ( TUSB_REQ_FEATURE_EDPT_HALT == p_request->wValue )
 837:tinyusb/src/device/usbd.c ****             {
 838:tinyusb/src/device/usbd.c ****               if ( TUSB_REQ_CLEAR_FEATURE ==  p_request->bRequest )
 839:tinyusb/src/device/usbd.c ****               {
ARM GAS  /tmp/ccyyDEje.s 			page 21


 840:tinyusb/src/device/usbd.c ****                 usbd_edpt_clear_stall(rhport, ep_addr);
 841:tinyusb/src/device/usbd.c ****               }else
 842:tinyusb/src/device/usbd.c ****               {
 843:tinyusb/src/device/usbd.c ****                 usbd_edpt_stall(rhport, ep_addr);
 844:tinyusb/src/device/usbd.c ****               }
 845:tinyusb/src/device/usbd.c ****             }
 846:tinyusb/src/device/usbd.c **** 
 847:tinyusb/src/device/usbd.c ****             if (driver)
 848:tinyusb/src/device/usbd.c ****             {
 849:tinyusb/src/device/usbd.c ****               // Some classes such as USBTMC needs to clear/re-init its buffer when receiving CLEAR
 850:tinyusb/src/device/usbd.c ****               // We will also forward std request targeted endpoint to class drivers as well
 851:tinyusb/src/device/usbd.c **** 
 852:tinyusb/src/device/usbd.c ****               // STD request must always be ACKed regardless of driver returned value
 853:tinyusb/src/device/usbd.c ****               // Also clear complete callback if driver set since it can also stall the request.
 854:tinyusb/src/device/usbd.c ****               (void) invoke_class_control(rhport, driver, p_request);
 855:tinyusb/src/device/usbd.c ****               usbd_control_set_complete_callback(NULL);
 856:tinyusb/src/device/usbd.c **** 
 857:tinyusb/src/device/usbd.c ****               // skip ZLP status if driver already did that
 858:tinyusb/src/device/usbd.c ****               if ( !_usbd_dev.ep_status[0][TUSB_DIR_IN].busy ) tud_control_status(rhport, p_request
 859:tinyusb/src/device/usbd.c ****             }
 860:tinyusb/src/device/usbd.c ****           }
 861:tinyusb/src/device/usbd.c ****           break;
 862:tinyusb/src/device/usbd.c **** 
 863:tinyusb/src/device/usbd.c ****           // Unknown/Unsupported request
 864:tinyusb/src/device/usbd.c ****           default: TU_BREAKPOINT(); return false;
 865:tinyusb/src/device/usbd.c ****         }
 866:tinyusb/src/device/usbd.c ****       }
 867:tinyusb/src/device/usbd.c ****     }
 868:tinyusb/src/device/usbd.c ****     break;
 869:tinyusb/src/device/usbd.c **** 
 870:tinyusb/src/device/usbd.c ****     // Unknown recipient
 871:tinyusb/src/device/usbd.c ****     default: TU_BREAKPOINT(); return false;
 872:tinyusb/src/device/usbd.c ****   }
 873:tinyusb/src/device/usbd.c **** 
 874:tinyusb/src/device/usbd.c ****   return true;
 875:tinyusb/src/device/usbd.c **** }
 876:tinyusb/src/device/usbd.c **** 
 877:tinyusb/src/device/usbd.c **** // Process Set Configure Request
 878:tinyusb/src/device/usbd.c **** // This function parse configuration descriptor & open drivers accordingly
 879:tinyusb/src/device/usbd.c **** static bool process_set_config(uint8_t rhport, uint8_t cfg_num)
 880:tinyusb/src/device/usbd.c **** {
 275              		.loc 1 880 1 is_stmt 1 view -0
 276              		.cfi_startproc
 277              		@ args = 0, pretend = 0, frame = 8
 278              		@ frame_needed = 0, uses_anonymous_args = 0
 279              		.loc 1 880 1 is_stmt 0 view .LVU67
 280 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 281              	.LCFI3:
 282              		.cfi_def_cfa_offset 36
 283              		.cfi_offset 4, -36
 284              		.cfi_offset 5, -32
 285              		.cfi_offset 6, -28
 286              		.cfi_offset 7, -24
 287              		.cfi_offset 8, -20
 288              		.cfi_offset 9, -16
 289              		.cfi_offset 10, -12
 290              		.cfi_offset 11, -8
ARM GAS  /tmp/ccyyDEje.s 			page 22


 291              		.cfi_offset 14, -4
 292 0004 83B0     		sub	sp, sp, #12
 293              	.LCFI4:
 294              		.cfi_def_cfa_offset 48
 295 0006 8146     		mov	r9, r0
 881:tinyusb/src/device/usbd.c ****   // index is cfg_num-1
 882:tinyusb/src/device/usbd.c ****   tusb_desc_configuration_t const * desc_cfg = (tusb_desc_configuration_t const *) tud_descriptor_c
 296              		.loc 1 882 3 is_stmt 1 view .LVU68
 297              		.loc 1 882 84 is_stmt 0 view .LVU69
 298 0008 481E     		subs	r0, r1, #1
 299              	.LVL23:
 300              		.loc 1 882 84 view .LVU70
 301 000a C0B2     		uxtb	r0, r0
 302 000c FFF7FEFF 		bl	tud_descriptor_configuration_cb
 303              	.LVL24:
 883:tinyusb/src/device/usbd.c ****   TU_ASSERT(desc_cfg != NULL && desc_cfg->bDescriptorType == TUSB_DESC_CONFIGURATION);
 304              		.loc 1 883 3 is_stmt 1 view .LVU71
 305              		.loc 1 883 3 view .LVU72
 306 0010 20B1     		cbz	r0, .L19
 307 0012 8246     		mov	r10, r0
 308              		.loc 1 883 3 is_stmt 0 discriminator 2 view .LVU73
 309 0014 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 310 0016 0193     		str	r3, [sp, #4]
 311 0018 022B     		cmp	r3, #2
 312 001a 0BD0     		beq	.L20
 313              	.L19:
 314              		.loc 1 883 3 is_stmt 1 discriminator 3 view .LVU74
 315              		.loc 1 883 3 discriminator 3 view .LVU75
 316              		.loc 1 883 3 discriminator 3 view .LVU76
 317              		.loc 1 883 3 discriminator 3 view .LVU77
 318              	.LBB325:
 319              		.loc 1 883 3 discriminator 3 view .LVU78
 320              	.LVL25:
 321              		.loc 1 883 3 discriminator 3 view .LVU79
 322 001c 4FF0E023 		mov	r3, #-536813568
 323 0020 D3F8F03D 		ldr	r3, [r3, #3568]
 324 0024 13F0010F 		tst	r3, #1
 325 0028 00D0     		beq	.L21
 326              		.loc 1 883 3 discriminator 5 view .LVU80
 327              		.syntax unified
 328              	@ 883 "tinyusb/src/device/usbd.c" 1
 329 002a 00BE     		BKPT #0
 330              	
 331              	@ 0 "" 2
 332              		.thumb
 333              		.syntax unified
 334              	.L21:
 335              	.LBE325:
 336              		.loc 1 883 3 discriminator 7 view .LVU81
 337              		.loc 1 883 3 discriminator 7 view .LVU82
 338 002c 0020     		movs	r0, #0
 339              	.LVL26:
 340              	.L22:
 884:tinyusb/src/device/usbd.c **** 
 885:tinyusb/src/device/usbd.c ****   // Parse configuration descriptor
 886:tinyusb/src/device/usbd.c ****   _usbd_dev.remote_wakeup_support = (desc_cfg->bmAttributes & TUSB_DESC_CONFIG_ATT_REMOTE_WAKEUP) ?
 887:tinyusb/src/device/usbd.c ****   _usbd_dev.self_powered          = (desc_cfg->bmAttributes & TUSB_DESC_CONFIG_ATT_SELF_POWERED ) ?
ARM GAS  /tmp/ccyyDEje.s 			page 23


 888:tinyusb/src/device/usbd.c **** 
 889:tinyusb/src/device/usbd.c ****   // Parse interface descriptor
 890:tinyusb/src/device/usbd.c ****   uint8_t const * p_desc   = ((uint8_t const*) desc_cfg) + sizeof(tusb_desc_configuration_t);
 891:tinyusb/src/device/usbd.c ****   uint8_t const * desc_end = ((uint8_t const*) desc_cfg) + tu_le16toh(desc_cfg->wTotalLength);
 892:tinyusb/src/device/usbd.c **** 
 893:tinyusb/src/device/usbd.c ****   while( p_desc < desc_end )
 894:tinyusb/src/device/usbd.c ****   {
 895:tinyusb/src/device/usbd.c ****     uint8_t assoc_itf_count = 1;
 896:tinyusb/src/device/usbd.c **** 
 897:tinyusb/src/device/usbd.c ****     // Class will always starts with Interface Association (if any) and then Interface descriptor
 898:tinyusb/src/device/usbd.c ****     if ( TUSB_DESC_INTERFACE_ASSOCIATION == tu_desc_type(p_desc) )
 899:tinyusb/src/device/usbd.c ****     {
 900:tinyusb/src/device/usbd.c ****       tusb_desc_interface_assoc_t const * desc_iad = (tusb_desc_interface_assoc_t const *) p_desc;
 901:tinyusb/src/device/usbd.c ****       assoc_itf_count = desc_iad->bInterfaceCount;
 902:tinyusb/src/device/usbd.c **** 
 903:tinyusb/src/device/usbd.c ****       p_desc = tu_desc_next(p_desc); // next to Interface
 904:tinyusb/src/device/usbd.c **** 
 905:tinyusb/src/device/usbd.c ****       // IAD's first interface number and class should match with opened interface
 906:tinyusb/src/device/usbd.c ****       //TU_ASSERT(desc_iad->bFirstInterface == desc_itf->bInterfaceNumber &&
 907:tinyusb/src/device/usbd.c ****       //          desc_iad->bFunctionClass  == desc_itf->bInterfaceClass);
 908:tinyusb/src/device/usbd.c ****     }
 909:tinyusb/src/device/usbd.c **** 
 910:tinyusb/src/device/usbd.c ****     TU_ASSERT( TUSB_DESC_INTERFACE == tu_desc_type(p_desc) );
 911:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 912:tinyusb/src/device/usbd.c **** 
 913:tinyusb/src/device/usbd.c ****     // Find driver for this interface
 914:tinyusb/src/device/usbd.c ****     uint16_t const remaining_len = (uint16_t) (desc_end-p_desc);
 915:tinyusb/src/device/usbd.c ****     uint8_t drv_id;
 916:tinyusb/src/device/usbd.c ****     for (drv_id = 0; drv_id < TOTAL_DRIVER_COUNT; drv_id++)
 917:tinyusb/src/device/usbd.c ****     {
 918:tinyusb/src/device/usbd.c ****       usbd_class_driver_t const *driver = get_driver(drv_id);
 919:tinyusb/src/device/usbd.c ****       TU_ASSERT(driver);
 920:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 921:tinyusb/src/device/usbd.c **** 
 922:tinyusb/src/device/usbd.c ****       if ( (sizeof(tusb_desc_interface_t) <= drv_len)  && (drv_len <= remaining_len) )
 923:tinyusb/src/device/usbd.c ****       {
 924:tinyusb/src/device/usbd.c ****         // Open successfully
 925:tinyusb/src/device/usbd.c ****         TU_LOG_USBD("  %s opened\r\n", driver->name);
 926:tinyusb/src/device/usbd.c **** 
 927:tinyusb/src/device/usbd.c ****         // Some drivers use 2 or more interfaces but may not have IAD e.g MIDI (always) or
 928:tinyusb/src/device/usbd.c ****         // BTH (even CDC) with class in device descriptor (single interface)
 929:tinyusb/src/device/usbd.c ****         if ( assoc_itf_count == 1)
 930:tinyusb/src/device/usbd.c ****         {
 931:tinyusb/src/device/usbd.c ****           #if CFG_TUD_CDC
 932:tinyusb/src/device/usbd.c ****           if ( driver->open == cdcd_open ) assoc_itf_count = 2;
 933:tinyusb/src/device/usbd.c ****           #endif
 934:tinyusb/src/device/usbd.c **** 
 935:tinyusb/src/device/usbd.c ****           #if CFG_TUD_MIDI
 936:tinyusb/src/device/usbd.c ****           if ( driver->open == midid_open ) assoc_itf_count = 2;
 937:tinyusb/src/device/usbd.c ****           #endif
 938:tinyusb/src/device/usbd.c **** 
 939:tinyusb/src/device/usbd.c ****           #if CFG_TUD_BTH && CFG_TUD_BTH_ISO_ALT_COUNT
 940:tinyusb/src/device/usbd.c ****           if ( driver->open == btd_open ) assoc_itf_count = 2;
 941:tinyusb/src/device/usbd.c ****           #endif
 942:tinyusb/src/device/usbd.c ****         }
 943:tinyusb/src/device/usbd.c **** 
 944:tinyusb/src/device/usbd.c ****         // bind (associated) interfaces to found driver
ARM GAS  /tmp/ccyyDEje.s 			page 24


 945:tinyusb/src/device/usbd.c ****         for(uint8_t i=0; i<assoc_itf_count; i++)
 946:tinyusb/src/device/usbd.c ****         {
 947:tinyusb/src/device/usbd.c ****           uint8_t const itf_num = desc_itf->bInterfaceNumber+i;
 948:tinyusb/src/device/usbd.c **** 
 949:tinyusb/src/device/usbd.c ****           // Interface number must not be used already
 950:tinyusb/src/device/usbd.c ****           TU_ASSERT(DRVID_INVALID == _usbd_dev.itf2drv[itf_num]);
 951:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 952:tinyusb/src/device/usbd.c ****         }
 953:tinyusb/src/device/usbd.c **** 
 954:tinyusb/src/device/usbd.c ****         // bind all endpoints to found driver
 955:tinyusb/src/device/usbd.c ****         tu_edpt_bind_driver(_usbd_dev.ep2drv, desc_itf, drv_len, drv_id);
 956:tinyusb/src/device/usbd.c **** 
 957:tinyusb/src/device/usbd.c ****         // next Interface
 958:tinyusb/src/device/usbd.c ****         p_desc += drv_len;
 959:tinyusb/src/device/usbd.c **** 
 960:tinyusb/src/device/usbd.c ****         break; // exit driver find loop
 961:tinyusb/src/device/usbd.c ****       }
 962:tinyusb/src/device/usbd.c ****     }
 963:tinyusb/src/device/usbd.c **** 
 964:tinyusb/src/device/usbd.c ****     // Failed if there is no supported drivers
 965:tinyusb/src/device/usbd.c ****     TU_ASSERT(drv_id < TOTAL_DRIVER_COUNT);
 966:tinyusb/src/device/usbd.c ****   }
 967:tinyusb/src/device/usbd.c **** 
 968:tinyusb/src/device/usbd.c ****   return true;
 969:tinyusb/src/device/usbd.c **** }
 341              		.loc 1 969 1 is_stmt 0 view .LVU83
 342 002e 03B0     		add	sp, sp, #12
 343              	.LCFI5:
 344              		.cfi_remember_state
 345              		.cfi_def_cfa_offset 36
 346              		@ sp needed
 347 0030 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 348              	.LVL27:
 349              	.L20:
 350              	.LCFI6:
 351              		.cfi_restore_state
 883:tinyusb/src/device/usbd.c ****   TU_ASSERT(desc_cfg != NULL && desc_cfg->bDescriptorType == TUSB_DESC_CONFIGURATION);
 352              		.loc 1 883 3 is_stmt 1 discriminator 4 view .LVU84
 886:tinyusb/src/device/usbd.c ****   _usbd_dev.self_powered          = (desc_cfg->bmAttributes & TUSB_DESC_CONFIG_ATT_SELF_POWERED ) ?
 353              		.loc 1 886 3 discriminator 4 view .LVU85
 886:tinyusb/src/device/usbd.c ****   _usbd_dev.self_powered          = (desc_cfg->bmAttributes & TUSB_DESC_CONFIG_ATT_SELF_POWERED ) ?
 354              		.loc 1 886 46 is_stmt 0 discriminator 4 view .LVU86
 355 0034 C279     		ldrb	r2, [r0, #7]	@ zero_extendqisi2
 886:tinyusb/src/device/usbd.c ****   _usbd_dev.self_powered          = (desc_cfg->bmAttributes & TUSB_DESC_CONFIG_ATT_SELF_POWERED ) ?
 356              		.loc 1 886 104 discriminator 4 view .LVU87
 357 0036 C2F34010 		ubfx	r0, r2, #5, #1
 358              	.LVL28:
 886:tinyusb/src/device/usbd.c ****   _usbd_dev.self_powered          = (desc_cfg->bmAttributes & TUSB_DESC_CONFIG_ATT_SELF_POWERED ) ?
 359              		.loc 1 886 35 discriminator 4 view .LVU88
 360 003a 4D4B     		ldr	r3, .L52
 361 003c 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 362 003e 60F30411 		bfi	r1, r0, #4, #1
 363 0042 1970     		strb	r1, [r3]
 887:tinyusb/src/device/usbd.c **** 
 364              		.loc 1 887 3 is_stmt 1 discriminator 4 view .LVU89
 887:tinyusb/src/device/usbd.c **** 
 365              		.loc 1 887 104 is_stmt 0 discriminator 4 view .LVU90
ARM GAS  /tmp/ccyyDEje.s 			page 25


 366 0044 C2F38012 		ubfx	r2, r2, #6, #1
 887:tinyusb/src/device/usbd.c **** 
 367              		.loc 1 887 35 discriminator 4 view .LVU91
 368 0048 C9B2     		uxtb	r1, r1
 369 004a 62F34511 		bfi	r1, r2, #5, #1
 370 004e 1970     		strb	r1, [r3]
 890:tinyusb/src/device/usbd.c ****   uint8_t const * desc_end = ((uint8_t const*) desc_cfg) + tu_le16toh(desc_cfg->wTotalLength);
 371              		.loc 1 890 3 is_stmt 1 discriminator 4 view .LVU92
 890:tinyusb/src/device/usbd.c ****   uint8_t const * desc_end = ((uint8_t const*) desc_cfg) + tu_le16toh(desc_cfg->wTotalLength);
 372              		.loc 1 890 19 is_stmt 0 discriminator 4 view .LVU93
 373 0050 0AF10908 		add	r8, r10, #9
 374              	.LVL29:
 891:tinyusb/src/device/usbd.c **** 
 375              		.loc 1 891 3 is_stmt 1 discriminator 4 view .LVU94
 891:tinyusb/src/device/usbd.c **** 
 376              		.loc 1 891 60 is_stmt 0 discriminator 4 view .LVU95
 377 0054 BAF80230 		ldrh	r3, [r10, #2]	@ unaligned
 891:tinyusb/src/device/usbd.c **** 
 378              		.loc 1 891 19 discriminator 4 view .LVU96
 379 0058 9A44     		add	r10, r10, r3
 380              	.LVL30:
 893:tinyusb/src/device/usbd.c ****   {
 381              		.loc 1 893 3 is_stmt 1 discriminator 4 view .LVU97
 382              	.L23:
 383              	.LBB326:
 965:tinyusb/src/device/usbd.c ****   }
 384              		.loc 1 965 5 discriminator 2 view .LVU98
 385              	.LBE326:
 893:tinyusb/src/device/usbd.c ****   {
 386              		.loc 1 893 8 discriminator 2 view .LVU99
 387 005a D045     		cmp	r8, r10
 388 005c 80F08580 		bcs	.L45
 389              	.LBB348:
 895:tinyusb/src/device/usbd.c **** 
 390              		.loc 1 895 5 view .LVU100
 391              	.LVL31:
 898:tinyusb/src/device/usbd.c ****     {
 392              		.loc 1 898 5 view .LVU101
 393              	.LBB327:
 394              	.LBI327:
 395              		.file 2 "tinyusb/src/common/tusb_types.h"
   1:tinyusb/src/common/tusb_types.h **** /*
   2:tinyusb/src/common/tusb_types.h ****  * The MIT License (MIT)
   3:tinyusb/src/common/tusb_types.h ****  *
   4:tinyusb/src/common/tusb_types.h ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/common/tusb_types.h ****  *
   6:tinyusb/src/common/tusb_types.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/common/tusb_types.h ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/common/tusb_types.h ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/common/tusb_types.h ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  10:tinyusb/src/common/tusb_types.h ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/common/tusb_types.h ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/common/tusb_types.h ****  *
  13:tinyusb/src/common/tusb_types.h ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/common/tusb_types.h ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/common/tusb_types.h ****  *
  16:tinyusb/src/common/tusb_types.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
ARM GAS  /tmp/ccyyDEje.s 			page 26


  17:tinyusb/src/common/tusb_types.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/common/tusb_types.h ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/common/tusb_types.h ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/common/tusb_types.h ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/common/tusb_types.h ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/common/tusb_types.h ****  * THE SOFTWARE.
  23:tinyusb/src/common/tusb_types.h ****  *
  24:tinyusb/src/common/tusb_types.h ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/common/tusb_types.h ****  */
  26:tinyusb/src/common/tusb_types.h **** 
  27:tinyusb/src/common/tusb_types.h **** /** \ingroup group_usb_definitions
  28:tinyusb/src/common/tusb_types.h ****  *  \defgroup USBDef_Type USB Types
  29:tinyusb/src/common/tusb_types.h ****  *  @{ */
  30:tinyusb/src/common/tusb_types.h **** 
  31:tinyusb/src/common/tusb_types.h **** #ifndef _TUSB_TYPES_H_
  32:tinyusb/src/common/tusb_types.h **** #define _TUSB_TYPES_H_
  33:tinyusb/src/common/tusb_types.h **** 
  34:tinyusb/src/common/tusb_types.h **** #include <stdbool.h>
  35:tinyusb/src/common/tusb_types.h **** #include <stdint.h>
  36:tinyusb/src/common/tusb_types.h **** #include "tusb_compiler.h"
  37:tinyusb/src/common/tusb_types.h **** 
  38:tinyusb/src/common/tusb_types.h **** #ifdef __cplusplus
  39:tinyusb/src/common/tusb_types.h ****  extern "C" {
  40:tinyusb/src/common/tusb_types.h **** #endif
  41:tinyusb/src/common/tusb_types.h **** 
  42:tinyusb/src/common/tusb_types.h **** /*------------------------------------------------------------------*/
  43:tinyusb/src/common/tusb_types.h **** /* CONSTANTS
  44:tinyusb/src/common/tusb_types.h ****  *------------------------------------------------------------------*/
  45:tinyusb/src/common/tusb_types.h **** 
  46:tinyusb/src/common/tusb_types.h **** /// defined base on EHCI specs value for Endpoint Speed
  47:tinyusb/src/common/tusb_types.h **** typedef enum
  48:tinyusb/src/common/tusb_types.h **** {
  49:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_FULL = 0,
  50:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_LOW  = 1,
  51:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_HIGH = 2,
  52:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_INVALID = 0xff,
  53:tinyusb/src/common/tusb_types.h **** }tusb_speed_t;
  54:tinyusb/src/common/tusb_types.h **** 
  55:tinyusb/src/common/tusb_types.h **** /// defined base on USB Specs Endpoint's bmAttributes
  56:tinyusb/src/common/tusb_types.h **** typedef enum
  57:tinyusb/src/common/tusb_types.h **** {
  58:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_CONTROL = 0 ,
  59:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_ISOCHRONOUS ,
  60:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_BULK        ,
  61:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_INTERRUPT
  62:tinyusb/src/common/tusb_types.h **** }tusb_xfer_type_t;
  63:tinyusb/src/common/tusb_types.h **** 
  64:tinyusb/src/common/tusb_types.h **** typedef enum
  65:tinyusb/src/common/tusb_types.h **** {
  66:tinyusb/src/common/tusb_types.h ****   TUSB_DIR_OUT = 0,
  67:tinyusb/src/common/tusb_types.h ****   TUSB_DIR_IN  = 1,
  68:tinyusb/src/common/tusb_types.h **** 
  69:tinyusb/src/common/tusb_types.h ****   TUSB_DIR_IN_MASK = 0x80
  70:tinyusb/src/common/tusb_types.h **** }tusb_dir_t;
  71:tinyusb/src/common/tusb_types.h **** 
  72:tinyusb/src/common/tusb_types.h **** enum
  73:tinyusb/src/common/tusb_types.h **** {
ARM GAS  /tmp/ccyyDEje.s 			page 27


  74:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_BULK_FS = 64,
  75:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_BULK_HS= 512,
  76:tinyusb/src/common/tusb_types.h **** 
  77:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_ISO_FS_MAX = 1023,
  78:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_ISO_HS_MAX = 1024,
  79:tinyusb/src/common/tusb_types.h **** };
  80:tinyusb/src/common/tusb_types.h **** 
  81:tinyusb/src/common/tusb_types.h **** /// Isochronous End Point Attributes
  82:tinyusb/src/common/tusb_types.h **** typedef enum
  83:tinyusb/src/common/tusb_types.h **** {
  84:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_NO_SYNC         = 0x00,
  85:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_ASYNCHRONOUS    = 0x04,
  86:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_ADAPTIVE        = 0x08,
  87:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_SYNCHRONOUS     = 0x0C,
  88:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_DATA            = 0x00, ///< Data End Point
  89:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_EXPLICIT_FB     = 0x10, ///< Feedback End Point
  90:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_IMPLICIT_FB     = 0x20, ///< Data endpoint that also serves as an implicit feedba
  91:tinyusb/src/common/tusb_types.h **** }tusb_iso_ep_attribute_t;
  92:tinyusb/src/common/tusb_types.h **** 
  93:tinyusb/src/common/tusb_types.h **** /// USB Descriptor Types
  94:tinyusb/src/common/tusb_types.h **** typedef enum
  95:tinyusb/src/common/tusb_types.h **** {
  96:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEVICE                = 0x01,
  97:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CONFIGURATION         = 0x02,
  98:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_STRING                = 0x03,
  99:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_INTERFACE             = 0x04,
 100:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_ENDPOINT              = 0x05,
 101:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEVICE_QUALIFIER      = 0x06,
 102:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_OTHER_SPEED_CONFIG    = 0x07,
 103:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_INTERFACE_POWER       = 0x08,
 104:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_OTG                   = 0x09,
 105:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEBUG                 = 0x0A,
 106:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_INTERFACE_ASSOCIATION = 0x0B,
 107:tinyusb/src/common/tusb_types.h **** 
 108:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_BOS                   = 0x0F,
 109:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEVICE_CAPABILITY     = 0x10,
 110:tinyusb/src/common/tusb_types.h **** 
 111:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_FUNCTIONAL            = 0x21,
 112:tinyusb/src/common/tusb_types.h **** 
 113:tinyusb/src/common/tusb_types.h ****   // Class Specific Descriptor
 114:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_DEVICE             = 0x21,
 115:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_CONFIGURATION      = 0x22,
 116:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_STRING             = 0x23,
 117:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_INTERFACE          = 0x24,
 118:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_ENDPOINT           = 0x25,
 119:tinyusb/src/common/tusb_types.h **** 
 120:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_SUPERSPEED_ENDPOINT_COMPANION     = 0x30,
 121:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_SUPERSPEED_ISO_ENDPOINT_COMPANION = 0x31
 122:tinyusb/src/common/tusb_types.h **** }tusb_desc_type_t;
 123:tinyusb/src/common/tusb_types.h **** 
 124:tinyusb/src/common/tusb_types.h **** typedef enum
 125:tinyusb/src/common/tusb_types.h **** {
 126:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_STATUS        = 0  ,
 127:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_CLEAR_FEATURE     = 1  ,
 128:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RESERVED          = 2  ,
 129:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_FEATURE       = 3  ,
 130:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RESERVED2         = 4  ,
ARM GAS  /tmp/ccyyDEje.s 			page 28


 131:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_ADDRESS       = 5  ,
 132:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_DESCRIPTOR    = 6  ,
 133:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_DESCRIPTOR    = 7  ,
 134:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_CONFIGURATION = 8  ,
 135:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_CONFIGURATION = 9  ,
 136:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_INTERFACE     = 10 ,
 137:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_INTERFACE     = 11 ,
 138:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SYNCH_FRAME       = 12
 139:tinyusb/src/common/tusb_types.h **** }tusb_request_code_t;
 140:tinyusb/src/common/tusb_types.h **** 
 141:tinyusb/src/common/tusb_types.h **** typedef enum
 142:tinyusb/src/common/tusb_types.h **** {
 143:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_FEATURE_EDPT_HALT     = 0,
 144:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_FEATURE_REMOTE_WAKEUP = 1,
 145:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_FEATURE_TEST_MODE     = 2
 146:tinyusb/src/common/tusb_types.h **** }tusb_request_feature_selector_t;
 147:tinyusb/src/common/tusb_types.h **** 
 148:tinyusb/src/common/tusb_types.h **** typedef enum
 149:tinyusb/src/common/tusb_types.h **** {
 150:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_STANDARD = 0,
 151:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_CLASS,
 152:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_VENDOR,
 153:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_INVALID
 154:tinyusb/src/common/tusb_types.h **** } tusb_request_type_t;
 155:tinyusb/src/common/tusb_types.h **** 
 156:tinyusb/src/common/tusb_types.h **** typedef enum
 157:tinyusb/src/common/tusb_types.h **** {
 158:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_DEVICE =0,
 159:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_INTERFACE,
 160:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_ENDPOINT,
 161:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_OTHER
 162:tinyusb/src/common/tusb_types.h **** } tusb_request_recipient_t;
 163:tinyusb/src/common/tusb_types.h **** 
 164:tinyusb/src/common/tusb_types.h **** // https://www.usb.org/defined-class-codes
 165:tinyusb/src/common/tusb_types.h **** typedef enum
 166:tinyusb/src/common/tusb_types.h **** {
 167:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_UNSPECIFIED          = 0    ,
 168:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_AUDIO                = 1    ,
 169:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_CDC                  = 2    ,
 170:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_HID                  = 3    ,
 171:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_RESERVED_4           = 4    ,
 172:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_PHYSICAL             = 5    ,
 173:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_IMAGE                = 6    ,
 174:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_PRINTER              = 7    ,
 175:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_MSC                  = 8    ,
 176:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_HUB                  = 9    ,
 177:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_CDC_DATA             = 10   ,
 178:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_SMART_CARD           = 11   ,
 179:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_RESERVED_12          = 12   ,
 180:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_CONTENT_SECURITY     = 13   ,
 181:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_VIDEO                = 14   ,
 182:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_PERSONAL_HEALTHCARE  = 15   ,
 183:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_AUDIO_VIDEO          = 16   ,
 184:tinyusb/src/common/tusb_types.h **** 
 185:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_DIAGNOSTIC           = 0xDC ,
 186:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_WIRELESS_CONTROLLER  = 0xE0 ,
 187:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_MISC                 = 0xEF ,
ARM GAS  /tmp/ccyyDEje.s 			page 29


 188:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_APPLICATION_SPECIFIC = 0xFE ,
 189:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_VENDOR_SPECIFIC      = 0xFF
 190:tinyusb/src/common/tusb_types.h **** }tusb_class_code_t;
 191:tinyusb/src/common/tusb_types.h **** 
 192:tinyusb/src/common/tusb_types.h **** typedef enum
 193:tinyusb/src/common/tusb_types.h **** {
 194:tinyusb/src/common/tusb_types.h ****   MISC_SUBCLASS_COMMON = 2
 195:tinyusb/src/common/tusb_types.h **** }misc_subclass_type_t;
 196:tinyusb/src/common/tusb_types.h **** 
 197:tinyusb/src/common/tusb_types.h **** typedef enum
 198:tinyusb/src/common/tusb_types.h **** {
 199:tinyusb/src/common/tusb_types.h ****   MISC_PROTOCOL_IAD = 1
 200:tinyusb/src/common/tusb_types.h **** }misc_protocol_type_t;
 201:tinyusb/src/common/tusb_types.h **** 
 202:tinyusb/src/common/tusb_types.h **** typedef enum
 203:tinyusb/src/common/tusb_types.h **** {
 204:tinyusb/src/common/tusb_types.h ****   APP_SUBCLASS_USBTMC = 0x03,
 205:tinyusb/src/common/tusb_types.h ****   APP_SUBCLASS_DFU_RUNTIME = 0x01
 206:tinyusb/src/common/tusb_types.h **** } app_subclass_type_t;
 207:tinyusb/src/common/tusb_types.h **** 
 208:tinyusb/src/common/tusb_types.h **** typedef enum
 209:tinyusb/src/common/tusb_types.h **** {
 210:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_WIRELESS_USB               = 0x01,
 211:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_USB20_EXTENSION            = 0x02,
 212:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_SUPERSPEED_USB             = 0x03,
 213:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_CONTAINER_id               = 0x04,
 214:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PLATFORM                   = 0x05,
 215:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_POWER_DELIVERY             = 0x06,
 216:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_BATTERY_INFO               = 0x07,
 217:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PD_CONSUMER_PORT           = 0x08,
 218:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PD_PROVIDER_PORT           = 0x09,
 219:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_SUPERSPEED_PLUS            = 0x0A,
 220:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PRECESION_TIME_MEASUREMENT = 0x0B,
 221:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_WIRELESS_USB_EXT           = 0x0C,
 222:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_BILLBOARD                  = 0x0D,
 223:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_AUTHENTICATION             = 0x0E,
 224:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_BILLBOARD_EX               = 0x0F,
 225:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_CONFIGURATION_SUMMARY      = 0x10
 226:tinyusb/src/common/tusb_types.h **** }device_capability_type_t;
 227:tinyusb/src/common/tusb_types.h **** 
 228:tinyusb/src/common/tusb_types.h **** enum {
 229:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CONFIG_ATT_REMOTE_WAKEUP = TU_BIT(5),
 230:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CONFIG_ATT_SELF_POWERED  = TU_BIT(6),
 231:tinyusb/src/common/tusb_types.h **** };
 232:tinyusb/src/common/tusb_types.h **** 
 233:tinyusb/src/common/tusb_types.h **** #define TUSB_DESC_CONFIG_POWER_MA(x)  ((x)/2)
 234:tinyusb/src/common/tusb_types.h **** 
 235:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 236:tinyusb/src/common/tusb_types.h **** //
 237:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 238:tinyusb/src/common/tusb_types.h **** typedef enum
 239:tinyusb/src/common/tusb_types.h **** {
 240:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_SUCCESS = 0,
 241:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_FAILED,
 242:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_STALLED,
 243:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_TIMEOUT,
 244:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_INVALID
ARM GAS  /tmp/ccyyDEje.s 			page 30


 245:tinyusb/src/common/tusb_types.h **** }xfer_result_t;
 246:tinyusb/src/common/tusb_types.h **** 
 247:tinyusb/src/common/tusb_types.h **** enum // TODO remove
 248:tinyusb/src/common/tusb_types.h **** {
 249:tinyusb/src/common/tusb_types.h ****   DESC_OFFSET_LEN  = 0,
 250:tinyusb/src/common/tusb_types.h ****   DESC_OFFSET_TYPE = 1
 251:tinyusb/src/common/tusb_types.h **** };
 252:tinyusb/src/common/tusb_types.h **** 
 253:tinyusb/src/common/tusb_types.h **** enum
 254:tinyusb/src/common/tusb_types.h **** {
 255:tinyusb/src/common/tusb_types.h ****   INTERFACE_INVALID_NUMBER = 0xff
 256:tinyusb/src/common/tusb_types.h **** };
 257:tinyusb/src/common/tusb_types.h **** 
 258:tinyusb/src/common/tusb_types.h **** typedef enum
 259:tinyusb/src/common/tusb_types.h **** {
 260:tinyusb/src/common/tusb_types.h ****   MS_OS_20_SET_HEADER_DESCRIPTOR       = 0x00,
 261:tinyusb/src/common/tusb_types.h ****   MS_OS_20_SUBSET_HEADER_CONFIGURATION = 0x01,
 262:tinyusb/src/common/tusb_types.h ****   MS_OS_20_SUBSET_HEADER_FUNCTION      = 0x02,
 263:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_COMPATBLE_ID        = 0x03,
 264:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_REG_PROPERTY        = 0x04,
 265:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_MIN_RESUME_TIME     = 0x05,
 266:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_MODEL_ID            = 0x06,
 267:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_CCGP_DEVICE         = 0x07,
 268:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_VENDOR_REVISION     = 0x08
 269:tinyusb/src/common/tusb_types.h **** } microsoft_os_20_type_t;
 270:tinyusb/src/common/tusb_types.h **** 
 271:tinyusb/src/common/tusb_types.h **** enum
 272:tinyusb/src/common/tusb_types.h **** {
 273:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_IDLE,
 274:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_SETUP,
 275:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_DATA,
 276:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_ACK
 277:tinyusb/src/common/tusb_types.h **** };
 278:tinyusb/src/common/tusb_types.h **** 
 279:tinyusb/src/common/tusb_types.h **** enum
 280:tinyusb/src/common/tusb_types.h **** {
 281:tinyusb/src/common/tusb_types.h ****   TUSB_INDEX_INVALID_8 = 0xFFu
 282:tinyusb/src/common/tusb_types.h **** };
 283:tinyusb/src/common/tusb_types.h **** 
 284:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 285:tinyusb/src/common/tusb_types.h **** // USB Descriptors
 286:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 287:tinyusb/src/common/tusb_types.h **** 
 288:tinyusb/src/common/tusb_types.h **** // Start of all packed definitions for compiler without per-type packed
 289:tinyusb/src/common/tusb_types.h **** TU_ATTR_PACKED_BEGIN
 290:tinyusb/src/common/tusb_types.h **** TU_ATTR_BIT_FIELD_ORDER_BEGIN
 291:tinyusb/src/common/tusb_types.h **** 
 292:tinyusb/src/common/tusb_types.h **** /// USB Device Descriptor
 293:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 294:tinyusb/src/common/tusb_types.h **** {
 295:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength            ; ///< Size of this descriptor in bytes.
 296:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType    ; ///< DEVICE Descriptor Type.
 297:tinyusb/src/common/tusb_types.h ****   uint16_t bcdUSB             ; ///< BUSB Specification Release Number in Binary-Coded Decimal (i.e
 298:tinyusb/src/common/tusb_types.h **** 
 299:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceClass       ; ///< Class code (assigned by the USB-IF). \li If this field is rese
 300:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceSubClass    ; ///< Subclass code (assigned by the USB-IF). These codes are qualif
 301:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceProtocol    ; ///< Protocol code (assigned by the USB-IF). These codes are qualif
ARM GAS  /tmp/ccyyDEje.s 			page 31


 302:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPacketSize0    ; ///< Maximum packet size for endpoint zero (only 8, 16, 32, or 64 a
 303:tinyusb/src/common/tusb_types.h **** 
 304:tinyusb/src/common/tusb_types.h ****   uint16_t idVendor           ; ///< Vendor ID (assigned by the USB-IF).
 305:tinyusb/src/common/tusb_types.h ****   uint16_t idProduct          ; ///< Product ID (assigned by the manufacturer).
 306:tinyusb/src/common/tusb_types.h ****   uint16_t bcdDevice          ; ///< Device release number in binary-coded decimal.
 307:tinyusb/src/common/tusb_types.h ****   uint8_t  iManufacturer      ; ///< Index of string descriptor describing manufacturer.
 308:tinyusb/src/common/tusb_types.h ****   uint8_t  iProduct           ; ///< Index of string descriptor describing product.
 309:tinyusb/src/common/tusb_types.h ****   uint8_t  iSerialNumber      ; ///< Index of string descriptor describing the device's serial numb
 310:tinyusb/src/common/tusb_types.h **** 
 311:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumConfigurations ; ///< Number of possible configurations.
 312:tinyusb/src/common/tusb_types.h **** } tusb_desc_device_t;
 313:tinyusb/src/common/tusb_types.h **** 
 314:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_device_t) == 18, "size is not correct");
 315:tinyusb/src/common/tusb_types.h **** 
 316:tinyusb/src/common/tusb_types.h **** // USB Binary Device Object Store (BOS) Descriptor
 317:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 318:tinyusb/src/common/tusb_types.h **** {
 319:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength         ; ///< Size of this descriptor in bytes
 320:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType ; ///< CONFIGURATION Descriptor Type
 321:tinyusb/src/common/tusb_types.h ****   uint16_t wTotalLength    ; ///< Total length of data returned for this descriptor
 322:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumDeviceCaps  ; ///< Number of device capability descriptors in the BOS
 323:tinyusb/src/common/tusb_types.h **** } tusb_desc_bos_t;
 324:tinyusb/src/common/tusb_types.h **** 
 325:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_bos_t) == 5, "size is not correct");
 326:tinyusb/src/common/tusb_types.h **** 
 327:tinyusb/src/common/tusb_types.h **** /// USB Configuration Descriptor
 328:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 329:tinyusb/src/common/tusb_types.h **** {
 330:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength             ; ///< Size of this descriptor in bytes
 331:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType     ; ///< CONFIGURATION Descriptor Type
 332:tinyusb/src/common/tusb_types.h ****   uint16_t wTotalLength        ; ///< Total length of data returned for this configuration. Include
 333:tinyusb/src/common/tusb_types.h **** 
 334:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumInterfaces      ; ///< Number of interfaces supported by this configuration
 335:tinyusb/src/common/tusb_types.h ****   uint8_t  bConfigurationValue ; ///< Value to use as an argument to the SetConfiguration() request
 336:tinyusb/src/common/tusb_types.h ****   uint8_t  iConfiguration      ; ///< Index of string descriptor describing this configuration
 337:tinyusb/src/common/tusb_types.h ****   uint8_t  bmAttributes        ; ///< Configuration characteristics \n D7: Reserved (set to one)\n 
 338:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPower           ; ///< Maximum power consumption of the USB device from the bus in t
 339:tinyusb/src/common/tusb_types.h **** } tusb_desc_configuration_t;
 340:tinyusb/src/common/tusb_types.h **** 
 341:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_configuration_t) == 9, "size is not correct");
 342:tinyusb/src/common/tusb_types.h **** 
 343:tinyusb/src/common/tusb_types.h **** /// USB Interface Descriptor
 344:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 345:tinyusb/src/common/tusb_types.h **** {
 346:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength            ; ///< Size of this descriptor in bytes
 347:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType    ; ///< INTERFACE Descriptor Type
 348:tinyusb/src/common/tusb_types.h **** 
 349:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceNumber   ; ///< Number of this interface. Zero-based value identifying the ind
 350:tinyusb/src/common/tusb_types.h ****   uint8_t  bAlternateSetting  ; ///< Value used to select this alternate setting for the interface 
 351:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumEndpoints      ; ///< Number of endpoints used by this interface (excluding endpoint
 352:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceClass    ; ///< Class code (assigned by the USB-IF). \li A value of zero is re
 353:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceSubClass ; ///< Subclass code (assigned by the USB-IF). \n These codes are qua
 354:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceProtocol ; ///< Protocol code (assigned by the USB). \n These codes are qualif
 355:tinyusb/src/common/tusb_types.h ****   uint8_t  iInterface         ; ///< Index of string descriptor describing this interface
 356:tinyusb/src/common/tusb_types.h **** } tusb_desc_interface_t;
 357:tinyusb/src/common/tusb_types.h **** 
 358:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_interface_t) == 9, "size is not correct");
ARM GAS  /tmp/ccyyDEje.s 			page 32


 359:tinyusb/src/common/tusb_types.h **** 
 360:tinyusb/src/common/tusb_types.h **** /// USB Endpoint Descriptor
 361:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 362:tinyusb/src/common/tusb_types.h **** {
 363:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength          ; // Size of this descriptor in bytes
 364:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType  ; // ENDPOINT Descriptor Type
 365:tinyusb/src/common/tusb_types.h **** 
 366:tinyusb/src/common/tusb_types.h ****   uint8_t  bEndpointAddress ; // The address of the endpoint
 367:tinyusb/src/common/tusb_types.h **** 
 368:tinyusb/src/common/tusb_types.h ****   struct TU_ATTR_PACKED {
 369:tinyusb/src/common/tusb_types.h ****     uint8_t xfer  : 2;        // Control, ISO, Bulk, Interrupt
 370:tinyusb/src/common/tusb_types.h ****     uint8_t sync  : 2;        // None, Asynchronous, Adaptive, Synchronous
 371:tinyusb/src/common/tusb_types.h ****     uint8_t usage : 2;        // Data, Feedback, Implicit feedback
 372:tinyusb/src/common/tusb_types.h ****     uint8_t       : 2;
 373:tinyusb/src/common/tusb_types.h ****   } bmAttributes;
 374:tinyusb/src/common/tusb_types.h **** 
 375:tinyusb/src/common/tusb_types.h ****   uint16_t wMaxPacketSize   ; // Bit 10..0 : max packet size, bit 12..11 additional transaction per
 376:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterval        ; // Polling interval, in frames or microframes depending on the operat
 377:tinyusb/src/common/tusb_types.h **** } tusb_desc_endpoint_t;
 378:tinyusb/src/common/tusb_types.h **** 
 379:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_endpoint_t) == 7, "size is not correct");
 380:tinyusb/src/common/tusb_types.h **** 
 381:tinyusb/src/common/tusb_types.h **** /// USB Other Speed Configuration Descriptor
 382:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 383:tinyusb/src/common/tusb_types.h **** {
 384:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength             ; ///< Size of descriptor
 385:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType     ; ///< Other_speed_Configuration Type
 386:tinyusb/src/common/tusb_types.h ****   uint16_t wTotalLength        ; ///< Total length of data returned
 387:tinyusb/src/common/tusb_types.h **** 
 388:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumInterfaces      ; ///< Number of interfaces supported by this speed configuration
 389:tinyusb/src/common/tusb_types.h ****   uint8_t  bConfigurationValue ; ///< Value to use to select configuration
 390:tinyusb/src/common/tusb_types.h ****   uint8_t  iConfiguration      ; ///< Index of string descriptor
 391:tinyusb/src/common/tusb_types.h ****   uint8_t  bmAttributes        ; ///< Same as Configuration descriptor
 392:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPower           ; ///< Same as Configuration descriptor
 393:tinyusb/src/common/tusb_types.h **** } tusb_desc_other_speed_t;
 394:tinyusb/src/common/tusb_types.h **** 
 395:tinyusb/src/common/tusb_types.h **** /// USB Device Qualifier Descriptor
 396:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 397:tinyusb/src/common/tusb_types.h **** {
 398:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength            ; ///< Size of descriptor
 399:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType    ; ///< Device Qualifier Type
 400:tinyusb/src/common/tusb_types.h ****   uint16_t bcdUSB             ; ///< USB specification version number (e.g., 0200H for V2.00)
 401:tinyusb/src/common/tusb_types.h **** 
 402:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceClass       ; ///< Class Code
 403:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceSubClass    ; ///< SubClass Code
 404:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceProtocol    ; ///< Protocol Code
 405:tinyusb/src/common/tusb_types.h **** 
 406:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPacketSize0    ; ///< Maximum packet size for other speed
 407:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumConfigurations ; ///< Number of Other-speed Configurations
 408:tinyusb/src/common/tusb_types.h ****   uint8_t  bReserved          ; ///< Reserved for future use, must be zero
 409:tinyusb/src/common/tusb_types.h **** } tusb_desc_device_qualifier_t;
 410:tinyusb/src/common/tusb_types.h **** 
 411:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_device_qualifier_t) == 10, "size is not correct");
 412:tinyusb/src/common/tusb_types.h **** 
 413:tinyusb/src/common/tusb_types.h **** /// USB Interface Association Descriptor (IAD ECN)
 414:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 415:tinyusb/src/common/tusb_types.h **** {
ARM GAS  /tmp/ccyyDEje.s 			page 33


 416:tinyusb/src/common/tusb_types.h ****   uint8_t bLength           ; ///< Size of descriptor
 417:tinyusb/src/common/tusb_types.h ****   uint8_t bDescriptorType   ; ///< Other_speed_Configuration Type
 418:tinyusb/src/common/tusb_types.h **** 
 419:tinyusb/src/common/tusb_types.h ****   uint8_t bFirstInterface   ; ///< Index of the first associated interface.
 420:tinyusb/src/common/tusb_types.h ****   uint8_t bInterfaceCount   ; ///< Total number of associated interfaces.
 421:tinyusb/src/common/tusb_types.h **** 
 422:tinyusb/src/common/tusb_types.h ****   uint8_t bFunctionClass    ; ///< Interface class ID.
 423:tinyusb/src/common/tusb_types.h ****   uint8_t bFunctionSubClass ; ///< Interface subclass ID.
 424:tinyusb/src/common/tusb_types.h ****   uint8_t bFunctionProtocol ; ///< Interface protocol ID.
 425:tinyusb/src/common/tusb_types.h **** 
 426:tinyusb/src/common/tusb_types.h ****   uint8_t iFunction         ; ///< Index of the string descriptor describing the interface associat
 427:tinyusb/src/common/tusb_types.h **** } tusb_desc_interface_assoc_t;
 428:tinyusb/src/common/tusb_types.h **** 
 429:tinyusb/src/common/tusb_types.h **** // USB String Descriptor
 430:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 431:tinyusb/src/common/tusb_types.h **** {
 432:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength         ; ///< Size of this descriptor in bytes
 433:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType ; ///< Descriptor Type
 434:tinyusb/src/common/tusb_types.h ****   uint16_t unicode_string[];
 435:tinyusb/src/common/tusb_types.h **** } tusb_desc_string_t;
 436:tinyusb/src/common/tusb_types.h **** 
 437:tinyusb/src/common/tusb_types.h **** // USB Binary Device Object Store (BOS)
 438:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 439:tinyusb/src/common/tusb_types.h **** {
 440:tinyusb/src/common/tusb_types.h ****   uint8_t bLength;
 441:tinyusb/src/common/tusb_types.h ****   uint8_t bDescriptorType ;
 442:tinyusb/src/common/tusb_types.h ****   uint8_t bDevCapabilityType;
 443:tinyusb/src/common/tusb_types.h ****   uint8_t bReserved;
 444:tinyusb/src/common/tusb_types.h ****   uint8_t PlatformCapabilityUUID[16];
 445:tinyusb/src/common/tusb_types.h ****   uint8_t CapabilityData[];
 446:tinyusb/src/common/tusb_types.h **** } tusb_desc_bos_platform_t;
 447:tinyusb/src/common/tusb_types.h **** 
 448:tinyusb/src/common/tusb_types.h **** // USB WebuSB URL Descriptor
 449:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 450:tinyusb/src/common/tusb_types.h **** {
 451:tinyusb/src/common/tusb_types.h ****   uint8_t bLength;
 452:tinyusb/src/common/tusb_types.h ****   uint8_t bDescriptorType;
 453:tinyusb/src/common/tusb_types.h ****   uint8_t bScheme;
 454:tinyusb/src/common/tusb_types.h ****   char    url[];
 455:tinyusb/src/common/tusb_types.h **** } tusb_desc_webusb_url_t;
 456:tinyusb/src/common/tusb_types.h **** 
 457:tinyusb/src/common/tusb_types.h **** // DFU Functional Descriptor
 458:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 459:tinyusb/src/common/tusb_types.h **** {
 460:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength;
 461:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType;
 462:tinyusb/src/common/tusb_types.h **** 
 463:tinyusb/src/common/tusb_types.h ****   union {
 464:tinyusb/src/common/tusb_types.h ****     struct TU_ATTR_PACKED {
 465:tinyusb/src/common/tusb_types.h ****       uint8_t bitCanDnload             : 1;
 466:tinyusb/src/common/tusb_types.h ****       uint8_t bitCanUpload             : 1;
 467:tinyusb/src/common/tusb_types.h ****       uint8_t bitManifestationTolerant : 1;
 468:tinyusb/src/common/tusb_types.h ****       uint8_t bitWillDetach            : 1;
 469:tinyusb/src/common/tusb_types.h ****       uint8_t reserved                 : 4;
 470:tinyusb/src/common/tusb_types.h ****     } bmAttributes;
 471:tinyusb/src/common/tusb_types.h **** 
 472:tinyusb/src/common/tusb_types.h ****     uint8_t bAttributes;
ARM GAS  /tmp/ccyyDEje.s 			page 34


 473:tinyusb/src/common/tusb_types.h ****   };
 474:tinyusb/src/common/tusb_types.h **** 
 475:tinyusb/src/common/tusb_types.h ****   uint16_t wDetachTimeOut;
 476:tinyusb/src/common/tusb_types.h ****   uint16_t wTransferSize;
 477:tinyusb/src/common/tusb_types.h ****   uint16_t bcdDFUVersion;
 478:tinyusb/src/common/tusb_types.h **** } tusb_desc_dfu_functional_t;
 479:tinyusb/src/common/tusb_types.h **** 
 480:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 481:tinyusb/src/common/tusb_types.h **** //
 482:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 483:tinyusb/src/common/tusb_types.h **** 
 484:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED{
 485:tinyusb/src/common/tusb_types.h ****   union {
 486:tinyusb/src/common/tusb_types.h ****     struct TU_ATTR_PACKED {
 487:tinyusb/src/common/tusb_types.h ****       uint8_t recipient :  5; ///< Recipient type tusb_request_recipient_t.
 488:tinyusb/src/common/tusb_types.h ****       uint8_t type      :  2; ///< Request type tusb_request_type_t.
 489:tinyusb/src/common/tusb_types.h ****       uint8_t direction :  1; ///< Direction type. tusb_dir_t
 490:tinyusb/src/common/tusb_types.h ****     } bmRequestType_bit;
 491:tinyusb/src/common/tusb_types.h **** 
 492:tinyusb/src/common/tusb_types.h ****     uint8_t bmRequestType;
 493:tinyusb/src/common/tusb_types.h ****   };
 494:tinyusb/src/common/tusb_types.h **** 
 495:tinyusb/src/common/tusb_types.h ****   uint8_t  bRequest;
 496:tinyusb/src/common/tusb_types.h ****   uint16_t wValue;
 497:tinyusb/src/common/tusb_types.h ****   uint16_t wIndex;
 498:tinyusb/src/common/tusb_types.h ****   uint16_t wLength;
 499:tinyusb/src/common/tusb_types.h **** } tusb_control_request_t;
 500:tinyusb/src/common/tusb_types.h **** 
 501:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_control_request_t) == 8, "size is not correct");
 502:tinyusb/src/common/tusb_types.h **** 
 503:tinyusb/src/common/tusb_types.h **** 
 504:tinyusb/src/common/tusb_types.h **** TU_ATTR_PACKED_END  // End of all packed definitions
 505:tinyusb/src/common/tusb_types.h **** TU_ATTR_BIT_FIELD_ORDER_END
 506:tinyusb/src/common/tusb_types.h **** 
 507:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 508:tinyusb/src/common/tusb_types.h **** // Endpoint helper
 509:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 510:tinyusb/src/common/tusb_types.h **** 
 511:tinyusb/src/common/tusb_types.h **** // Get direction from Endpoint address
 512:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline tusb_dir_t tu_edpt_dir(uint8_t addr)
 513:tinyusb/src/common/tusb_types.h **** {
 514:tinyusb/src/common/tusb_types.h ****   return (addr & TUSB_DIR_IN_MASK) ? TUSB_DIR_IN : TUSB_DIR_OUT;
 515:tinyusb/src/common/tusb_types.h **** }
 516:tinyusb/src/common/tusb_types.h **** 
 517:tinyusb/src/common/tusb_types.h **** // Get Endpoint number from address
 518:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_edpt_number(uint8_t addr)
 519:tinyusb/src/common/tusb_types.h **** {
 520:tinyusb/src/common/tusb_types.h ****   return (uint8_t)(addr & (~TUSB_DIR_IN_MASK));
 521:tinyusb/src/common/tusb_types.h **** }
 522:tinyusb/src/common/tusb_types.h **** 
 523:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_edpt_addr(uint8_t num, uint8_t dir)
 524:tinyusb/src/common/tusb_types.h **** {
 525:tinyusb/src/common/tusb_types.h ****   return (uint8_t)(num | (dir ? TUSB_DIR_IN_MASK : 0));
 526:tinyusb/src/common/tusb_types.h **** }
 527:tinyusb/src/common/tusb_types.h **** 
 528:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_edpt_packet_size(tusb_desc_endpoint_t const* desc_e
 529:tinyusb/src/common/tusb_types.h **** {
ARM GAS  /tmp/ccyyDEje.s 			page 35


 530:tinyusb/src/common/tusb_types.h ****   return tu_le16toh(desc_ep->wMaxPacketSize) & TU_GENMASK(10, 0);
 531:tinyusb/src/common/tusb_types.h **** }
 532:tinyusb/src/common/tusb_types.h **** 
 533:tinyusb/src/common/tusb_types.h **** #if CFG_TUSB_DEBUG
 534:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline const char *tu_edpt_dir_str(tusb_dir_t dir)
 535:tinyusb/src/common/tusb_types.h **** {
 536:tinyusb/src/common/tusb_types.h ****   tu_static const char *str[] = {"out", "in"};
 537:tinyusb/src/common/tusb_types.h ****   return str[dir];
 538:tinyusb/src/common/tusb_types.h **** }
 539:tinyusb/src/common/tusb_types.h **** 
 540:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline const char *tu_edpt_type_str(tusb_xfer_type_t t)
 541:tinyusb/src/common/tusb_types.h **** {
 542:tinyusb/src/common/tusb_types.h ****   tu_static const char *str[] = {"control", "isochronous", "bulk", "interrupt"};
 543:tinyusb/src/common/tusb_types.h ****   return str[t];
 544:tinyusb/src/common/tusb_types.h **** }
 545:tinyusb/src/common/tusb_types.h **** #endif
 546:tinyusb/src/common/tusb_types.h **** 
 547:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 548:tinyusb/src/common/tusb_types.h **** // Descriptor helper
 549:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 550:tinyusb/src/common/tusb_types.h **** 
 551:tinyusb/src/common/tusb_types.h **** // return next descriptor
 552:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t const * tu_desc_next(void const* desc)
 553:tinyusb/src/common/tusb_types.h **** {
 554:tinyusb/src/common/tusb_types.h ****   uint8_t const* desc8 = (uint8_t const*) desc;
 555:tinyusb/src/common/tusb_types.h ****   return desc8 + desc8[DESC_OFFSET_LEN];
 556:tinyusb/src/common/tusb_types.h **** }
 557:tinyusb/src/common/tusb_types.h **** 
 558:tinyusb/src/common/tusb_types.h **** // get descriptor type
 559:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_desc_type(void const* desc)
 396              		.loc 2 559 45 view .LVU102
 397              	.LBB328:
 560:tinyusb/src/common/tusb_types.h **** {
 561:tinyusb/src/common/tusb_types.h ****   return ((uint8_t const*) desc)[DESC_OFFSET_TYPE];
 398              		.loc 2 561 3 view .LVU103
 399              		.loc 2 561 33 is_stmt 0 view .LVU104
 400 0060 98F80130 		ldrb	r3, [r8, #1]	@ zero_extendqisi2
 401              	.LVL32:
 402              		.loc 2 561 33 view .LVU105
 403              	.LBE328:
 404              	.LBE327:
 898:tinyusb/src/device/usbd.c ****     {
 405              		.loc 1 898 8 view .LVU106
 406 0064 0B2B     		cmp	r3, #11
 407 0066 0AD0     		beq	.L46
 895:tinyusb/src/device/usbd.c **** 
 408              		.loc 1 895 13 view .LVU107
 409 0068 4FF0010B 		mov	fp, #1
 410              	.LVL33:
 411              	.L24:
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 412              		.loc 1 910 5 is_stmt 1 view .LVU108
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 413              		.loc 1 910 5 view .LVU109
 414              	.LBB329:
 415              	.LBI329:
 559:tinyusb/src/common/tusb_types.h **** {
ARM GAS  /tmp/ccyyDEje.s 			page 36


 416              		.loc 2 559 45 view .LVU110
 417              	.LBB330:
 418              		.loc 2 561 3 view .LVU111
 419              		.loc 2 561 33 is_stmt 0 view .LVU112
 420 006c 98F80130 		ldrb	r3, [r8, #1]	@ zero_extendqisi2
 421              	.LVL34:
 422              		.loc 2 561 33 view .LVU113
 423              	.LBE330:
 424              	.LBE329:
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 425              		.loc 1 910 5 view .LVU114
 426 0070 042B     		cmp	r3, #4
 427 0072 0AD1     		bne	.L47
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 428              		.loc 1 910 5 is_stmt 1 discriminator 2 view .LVU115
 911:tinyusb/src/device/usbd.c **** 
 429              		.loc 1 911 5 discriminator 2 view .LVU116
 430              	.LVL35:
 914:tinyusb/src/device/usbd.c ****     uint8_t drv_id;
 431              		.loc 1 914 5 discriminator 2 view .LVU117
 914:tinyusb/src/device/usbd.c ****     uint8_t drv_id;
 432              		.loc 1 914 56 is_stmt 0 discriminator 2 view .LVU118
 433 0074 AAEB0807 		sub	r7, r10, r8
 914:tinyusb/src/device/usbd.c ****     uint8_t drv_id;
 434              		.loc 1 914 20 discriminator 2 view .LVU119
 435 0078 BFB2     		uxth	r7, r7
 436              	.LVL36:
 915:tinyusb/src/device/usbd.c ****     for (drv_id = 0; drv_id < TOTAL_DRIVER_COUNT; drv_id++)
 437              		.loc 1 915 5 is_stmt 1 discriminator 2 view .LVU120
 916:tinyusb/src/device/usbd.c ****     {
 438              		.loc 1 916 5 discriminator 2 view .LVU121
 916:tinyusb/src/device/usbd.c ****     {
 439              		.loc 1 916 17 is_stmt 0 discriminator 2 view .LVU122
 440 007a 0024     		movs	r4, #0
 916:tinyusb/src/device/usbd.c ****     {
 441              		.loc 1 916 5 discriminator 2 view .LVU123
 442 007c 48E0     		b	.L27
 443              	.LVL37:
 444              	.L46:
 445              	.LBB331:
 900:tinyusb/src/device/usbd.c ****       assoc_itf_count = desc_iad->bInterfaceCount;
 446              		.loc 1 900 7 is_stmt 1 view .LVU124
 901:tinyusb/src/device/usbd.c **** 
 447              		.loc 1 901 7 view .LVU125
 901:tinyusb/src/device/usbd.c **** 
 448              		.loc 1 901 23 is_stmt 0 view .LVU126
 449 007e 98F803B0 		ldrb	fp, [r8, #3]	@ zero_extendqisi2
 450              	.LVL38:
 903:tinyusb/src/device/usbd.c **** 
 451              		.loc 1 903 7 is_stmt 1 view .LVU127
 452              	.LBB332:
 453              	.LBI332:
 552:tinyusb/src/common/tusb_types.h **** {
 454              		.loc 2 552 53 view .LVU128
 455              	.LBB333:
 554:tinyusb/src/common/tusb_types.h ****   return desc8 + desc8[DESC_OFFSET_LEN];
 456              		.loc 2 554 3 view .LVU129
ARM GAS  /tmp/ccyyDEje.s 			page 37


 555:tinyusb/src/common/tusb_types.h **** }
 457              		.loc 2 555 3 view .LVU130
 555:tinyusb/src/common/tusb_types.h **** }
 458              		.loc 2 555 23 is_stmt 0 view .LVU131
 459 0082 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 555:tinyusb/src/common/tusb_types.h **** }
 460              		.loc 2 555 16 view .LVU132
 461 0086 9844     		add	r8, r8, r3
 462              	.LVL39:
 555:tinyusb/src/common/tusb_types.h **** }
 463              		.loc 2 555 16 view .LVU133
 464 0088 F0E7     		b	.L24
 465              	.L47:
 555:tinyusb/src/common/tusb_types.h **** }
 466              		.loc 2 555 16 view .LVU134
 467              	.LBE333:
 468              	.LBE332:
 469              	.LBE331:
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 470              		.loc 1 910 5 is_stmt 1 discriminator 1 view .LVU135
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 471              		.loc 1 910 5 discriminator 1 view .LVU136
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 472              		.loc 1 910 5 discriminator 1 view .LVU137
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 473              		.loc 1 910 5 discriminator 1 view .LVU138
 474              	.LBB334:
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 475              		.loc 1 910 5 discriminator 1 view .LVU139
 476              	.LVL40:
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 477              		.loc 1 910 5 discriminator 1 view .LVU140
 478 008a 4FF0E023 		mov	r3, #-536813568
 479 008e D3F8F03D 		ldr	r3, [r3, #3568]
 480 0092 13F0010F 		tst	r3, #1
 481 0096 00D0     		beq	.L26
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 482              		.loc 1 910 5 discriminator 3 view .LVU141
 483              		.syntax unified
 484              	@ 910 "tinyusb/src/device/usbd.c" 1
 485 0098 00BE     		BKPT #0
 486              	
 487              	@ 0 "" 2
 488              		.thumb
 489              		.syntax unified
 490              	.L26:
 491              	.LBE334:
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 492              		.loc 1 910 5 discriminator 5 view .LVU142
 910:tinyusb/src/device/usbd.c ****     tusb_desc_interface_t const * desc_itf = (tusb_desc_interface_t const*) p_desc;
 493              		.loc 1 910 5 discriminator 5 view .LVU143
 494 009a 0020     		movs	r0, #0
 495 009c C7E7     		b	.L22
 496              	.LVL41:
 497              	.L28:
 498              	.LBB335:
 499              	.LBB336:
ARM GAS  /tmp/ccyyDEje.s 			page 38


 500              	.LBB337:
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 501              		.loc 1 252 10 view .LVU144
 253:tinyusb/src/device/usbd.c ****   }
 502              		.loc 1 253 5 view .LVU145
 253:tinyusb/src/device/usbd.c ****   }
 503              		.loc 1 253 34 is_stmt 0 view .LVU146
 504 009e 651B     		subs	r5, r4, r5
 253:tinyusb/src/device/usbd.c ****   }
 505              		.loc 1 253 12 view .LVU147
 506 00a0 05EB4505 		add	r5, r5, r5, lsl #1
 507 00a4 334B     		ldr	r3, .L52+4
 508 00a6 03EBC505 		add	r5, r3, r5, lsl #3
 509              	.LVL42:
 253:tinyusb/src/device/usbd.c ****   }
 510              		.loc 1 253 12 view .LVU148
 511 00aa 3DE0     		b	.L29
 512              	.LVL43:
 513              	.L48:
 253:tinyusb/src/device/usbd.c ****   }
 514              		.loc 1 253 12 view .LVU149
 515              	.LBE337:
 516              	.LBE336:
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 517              		.loc 1 919 7 is_stmt 1 discriminator 1 view .LVU150
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 518              		.loc 1 919 7 discriminator 1 view .LVU151
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 519              		.loc 1 919 7 discriminator 1 view .LVU152
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 520              		.loc 1 919 7 discriminator 1 view .LVU153
 521              	.LBB339:
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 522              		.loc 1 919 7 discriminator 1 view .LVU154
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 523              		.loc 1 919 7 discriminator 1 view .LVU155
 524 00ac 4FF0E023 		mov	r3, #-536813568
 525 00b0 D3F8F03D 		ldr	r3, [r3, #3568]
 526 00b4 13F0010F 		tst	r3, #1
 527 00b8 00D0     		beq	.L31
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 528              		.loc 1 919 7 discriminator 3 view .LVU156
 529              		.syntax unified
 530              	@ 919 "tinyusb/src/device/usbd.c" 1
 531 00ba 00BE     		BKPT #0
 532              	
 533              	@ 0 "" 2
 534              		.thumb
 535              		.syntax unified
 536              	.L31:
 537              	.LBE339:
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 538              		.loc 1 919 7 discriminator 5 view .LVU157
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 539              		.loc 1 919 7 discriminator 5 view .LVU158
 540 00bc 0020     		movs	r0, #0
 541 00be B6E7     		b	.L22
ARM GAS  /tmp/ccyyDEje.s 			page 39


 542              	.LVL44:
 543              	.L49:
 936:tinyusb/src/device/usbd.c ****           #endif
 544              		.loc 1 936 11 view .LVU159
 936:tinyusb/src/device/usbd.c ****           #endif
 545              		.loc 1 936 22 is_stmt 0 view .LVU160
 546 00c0 AA68     		ldr	r2, [r5, #8]
 936:tinyusb/src/device/usbd.c ****           #endif
 547              		.loc 1 936 14 view .LVU161
 548 00c2 2D4B     		ldr	r3, .L52+8
 549 00c4 9A42     		cmp	r2, r3
 550 00c6 3ED1     		bne	.L33
 936:tinyusb/src/device/usbd.c ****           #endif
 551              		.loc 1 936 61 view .LVU162
 552 00c8 DDF804B0 		ldr	fp, [sp, #4]
 553              	.LVL45:
 936:tinyusb/src/device/usbd.c ****           #endif
 554              		.loc 1 936 61 view .LVU163
 555 00cc 3BE0     		b	.L33
 556              	.LVL46:
 557              	.L51:
 558              	.LBB340:
 559              	.LBB341:
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 560              		.loc 1 950 11 is_stmt 1 discriminator 1 view .LVU164
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 561              		.loc 1 950 11 discriminator 1 view .LVU165
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 562              		.loc 1 950 11 discriminator 1 view .LVU166
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 563              		.loc 1 950 11 discriminator 1 view .LVU167
 564              	.LBB342:
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 565              		.loc 1 950 11 discriminator 1 view .LVU168
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 566              		.loc 1 950 11 discriminator 1 view .LVU169
 567 00ce 4FF0E023 		mov	r3, #-536813568
 568 00d2 D3F8F03D 		ldr	r3, [r3, #3568]
 569 00d6 13F0010F 		tst	r3, #1
 570 00da 00D0     		beq	.L36
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 571              		.loc 1 950 11 discriminator 3 view .LVU170
 572              		.syntax unified
 573              	@ 950 "tinyusb/src/device/usbd.c" 1
 574 00dc 00BE     		BKPT #0
 575              	
 576              	@ 0 "" 2
 577              		.thumb
 578              		.syntax unified
 579              	.L36:
 580              	.LBE342:
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 581              		.loc 1 950 11 discriminator 5 view .LVU171
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 582              		.loc 1 950 11 discriminator 5 view .LVU172
 583 00de 0020     		movs	r0, #0
 584              	.LVL47:
ARM GAS  /tmp/ccyyDEje.s 			page 40


 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 585              		.loc 1 950 11 is_stmt 0 discriminator 5 view .LVU173
 586 00e0 A5E7     		b	.L22
 587              	.LVL48:
 588              	.L50:
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 589              		.loc 1 950 11 discriminator 5 view .LVU174
 590              	.LBE341:
 591              	.LBE340:
 955:tinyusb/src/device/usbd.c **** 
 592              		.loc 1 955 9 is_stmt 1 view .LVU175
 593 00e2 2346     		mov	r3, r4
 594 00e4 3246     		mov	r2, r6
 595              	.LVL49:
 955:tinyusb/src/device/usbd.c **** 
 596              		.loc 1 955 9 is_stmt 0 view .LVU176
 597 00e6 4146     		mov	r1, r8
 598 00e8 2448     		ldr	r0, .L52+12
 599              	.LVL50:
 955:tinyusb/src/device/usbd.c **** 
 600              		.loc 1 955 9 view .LVU177
 601 00ea FFF7FEFF 		bl	tu_edpt_bind_driver
 602              	.LVL51:
 958:tinyusb/src/device/usbd.c **** 
 603              		.loc 1 958 9 is_stmt 1 view .LVU178
 958:tinyusb/src/device/usbd.c **** 
 604              		.loc 1 958 16 is_stmt 0 view .LVU179
 605 00ee B044     		add	r8, r8, r6
 606              	.LVL52:
 960:tinyusb/src/device/usbd.c ****       }
 607              		.loc 1 960 9 is_stmt 1 view .LVU180
 608              	.L38:
 960:tinyusb/src/device/usbd.c ****       }
 609              		.loc 1 960 9 is_stmt 0 view .LVU181
 610              	.LBE335:
 965:tinyusb/src/device/usbd.c ****   }
 611              		.loc 1 965 5 is_stmt 1 view .LVU182
 965:tinyusb/src/device/usbd.c ****   }
 612              		.loc 1 965 5 view .LVU183
 613 00f0 234B     		ldr	r3, .L52+16
 614 00f2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 615 00f4 A342     		cmp	r3, r4
 616 00f6 B0D2     		bcs	.L23
 965:tinyusb/src/device/usbd.c ****   }
 617              		.loc 1 965 5 discriminator 1 view .LVU184
 965:tinyusb/src/device/usbd.c ****   }
 618              		.loc 1 965 5 discriminator 1 view .LVU185
 965:tinyusb/src/device/usbd.c ****   }
 619              		.loc 1 965 5 discriminator 1 view .LVU186
 965:tinyusb/src/device/usbd.c ****   }
 620              		.loc 1 965 5 discriminator 1 view .LVU187
 621              	.LBB346:
 965:tinyusb/src/device/usbd.c ****   }
 622              		.loc 1 965 5 discriminator 1 view .LVU188
 623              	.LVL53:
 965:tinyusb/src/device/usbd.c ****   }
 624              		.loc 1 965 5 discriminator 1 view .LVU189
ARM GAS  /tmp/ccyyDEje.s 			page 41


 625 00f8 4FF0E023 		mov	r3, #-536813568
 626 00fc D3F8F03D 		ldr	r3, [r3, #3568]
 627 0100 13F0010F 		tst	r3, #1
 628 0104 00D0     		beq	.L40
 965:tinyusb/src/device/usbd.c ****   }
 629              		.loc 1 965 5 discriminator 3 view .LVU190
 630              		.syntax unified
 631              	@ 965 "tinyusb/src/device/usbd.c" 1
 632 0106 00BE     		BKPT #0
 633              	
 634              	@ 0 "" 2
 635              		.thumb
 636              		.syntax unified
 637              	.L40:
 638              	.LBE346:
 965:tinyusb/src/device/usbd.c ****   }
 639              		.loc 1 965 5 discriminator 5 view .LVU191
 965:tinyusb/src/device/usbd.c ****   }
 640              		.loc 1 965 5 discriminator 5 view .LVU192
 641 0108 0020     		movs	r0, #0
 642 010a 90E7     		b	.L22
 643              	.LVL54:
 644              	.L32:
 916:tinyusb/src/device/usbd.c ****     {
 645              		.loc 1 916 51 discriminator 2 view .LVU193
 916:tinyusb/src/device/usbd.c ****     {
 646              		.loc 1 916 57 is_stmt 0 discriminator 2 view .LVU194
 647 010c 0134     		adds	r4, r4, #1
 648              	.LVL55:
 916:tinyusb/src/device/usbd.c ****     {
 649              		.loc 1 916 57 discriminator 2 view .LVU195
 650 010e E4B2     		uxtb	r4, r4
 651              	.LVL56:
 652              	.L27:
 916:tinyusb/src/device/usbd.c ****     {
 653              		.loc 1 916 22 is_stmt 1 discriminator 1 view .LVU196
 916:tinyusb/src/device/usbd.c ****     {
 654              		.loc 1 916 29 is_stmt 0 discriminator 1 view .LVU197
 655 0110 1B4B     		ldr	r3, .L52+16
 656 0112 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 916:tinyusb/src/device/usbd.c ****     {
 657              		.loc 1 916 5 discriminator 1 view .LVU198
 658 0114 A542     		cmp	r5, r4
 659 0116 EBD3     		bcc	.L38
 660              	.LBB347:
 918:tinyusb/src/device/usbd.c ****       TU_ASSERT(driver);
 661              		.loc 1 918 7 is_stmt 1 view .LVU199
 662              	.LVL57:
 663              	.LBB344:
 664              	.LBI336:
 245:tinyusb/src/device/usbd.c **** {
 665              		.loc 1 245 43 view .LVU200
 666              	.LBB338:
 247:tinyusb/src/device/usbd.c **** 
 667              		.loc 1 247 3 view .LVU201
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 668              		.loc 1 249 3 view .LVU202
ARM GAS  /tmp/ccyyDEje.s 			page 42


 249:tinyusb/src/device/usbd.c ****     // Application drivers
 669              		.loc 1 249 6 is_stmt 0 view .LVU203
 670 0118 A542     		cmp	r5, r4
 671 011a C0D9     		bls	.L28
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 672              		.loc 1 251 5 is_stmt 1 view .LVU204
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 673              		.loc 1 251 14 is_stmt 0 view .LVU205
 674 011c 194B     		ldr	r3, .L52+20
 675 011e 1D68     		ldr	r5, [r3]
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 676              		.loc 1 251 26 view .LVU206
 677 0120 04EB4403 		add	r3, r4, r4, lsl #1
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 678              		.loc 1 251 12 view .LVU207
 679 0124 05EBC305 		add	r5, r5, r3, lsl #3
 680              	.LVL58:
 681              	.L29:
 256:tinyusb/src/device/usbd.c **** }
 682              		.loc 1 256 3 is_stmt 1 view .LVU208
 256:tinyusb/src/device/usbd.c **** }
 683              		.loc 1 256 3 is_stmt 0 view .LVU209
 684              	.LBE338:
 685              	.LBE344:
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 686              		.loc 1 919 7 is_stmt 1 view .LVU210
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 687              		.loc 1 919 7 view .LVU211
 688 0128 002D     		cmp	r5, #0
 689 012a BFD0     		beq	.L48
 919:tinyusb/src/device/usbd.c ****       uint16_t const drv_len = driver->open(rhport, desc_itf, remaining_len);
 690              		.loc 1 919 7 discriminator 2 view .LVU212
 920:tinyusb/src/device/usbd.c **** 
 691              		.loc 1 920 7 discriminator 2 view .LVU213
 920:tinyusb/src/device/usbd.c **** 
 692              		.loc 1 920 38 is_stmt 0 discriminator 2 view .LVU214
 693 012c AB68     		ldr	r3, [r5, #8]
 920:tinyusb/src/device/usbd.c **** 
 694              		.loc 1 920 32 discriminator 2 view .LVU215
 695 012e 3A46     		mov	r2, r7
 696 0130 4146     		mov	r1, r8
 697 0132 4846     		mov	r0, r9
 698 0134 9847     		blx	r3
 699              	.LVL59:
 700 0136 0646     		mov	r6, r0
 701              	.LVL60:
 922:tinyusb/src/device/usbd.c ****       {
 702              		.loc 1 922 7 is_stmt 1 discriminator 2 view .LVU216
 922:tinyusb/src/device/usbd.c ****       {
 703              		.loc 1 922 10 is_stmt 0 discriminator 2 view .LVU217
 704 0138 0828     		cmp	r0, #8
 705 013a E7D9     		bls	.L32
 922:tinyusb/src/device/usbd.c ****       {
 706              		.loc 1 922 56 discriminator 1 view .LVU218
 707 013c 8742     		cmp	r7, r0
 708 013e E5D3     		bcc	.L32
 925:tinyusb/src/device/usbd.c **** 
ARM GAS  /tmp/ccyyDEje.s 			page 43


 709              		.loc 1 925 53 is_stmt 1 view .LVU219
 929:tinyusb/src/device/usbd.c ****         {
 710              		.loc 1 929 9 view .LVU220
 929:tinyusb/src/device/usbd.c ****         {
 711              		.loc 1 929 12 is_stmt 0 view .LVU221
 712 0140 BBF1010F 		cmp	fp, #1
 713 0144 BCD0     		beq	.L49
 714              	.LVL61:
 715              	.L33:
 945:tinyusb/src/device/usbd.c ****         {
 716              		.loc 1 945 9 is_stmt 1 view .LVU222
 717              	.LBB345:
 945:tinyusb/src/device/usbd.c ****         {
 718              		.loc 1 945 13 view .LVU223
 945:tinyusb/src/device/usbd.c ****         {
 719              		.loc 1 945 21 is_stmt 0 view .LVU224
 720 0146 0022     		movs	r2, #0
 721              	.LVL62:
 722              	.L34:
 945:tinyusb/src/device/usbd.c ****         {
 723              		.loc 1 945 26 is_stmt 1 discriminator 2 view .LVU225
 945:tinyusb/src/device/usbd.c ****         {
 724              		.loc 1 945 9 is_stmt 0 discriminator 2 view .LVU226
 725 0148 9345     		cmp	fp, r2
 726 014a CAD9     		bls	.L50
 727              	.LBB343:
 947:tinyusb/src/device/usbd.c **** 
 728              		.loc 1 947 11 is_stmt 1 view .LVU227
 947:tinyusb/src/device/usbd.c **** 
 729              		.loc 1 947 43 is_stmt 0 view .LVU228
 730 014c 98F80230 		ldrb	r3, [r8, #2]	@ zero_extendqisi2
 947:tinyusb/src/device/usbd.c **** 
 731              		.loc 1 947 25 view .LVU229
 732 0150 1344     		add	r3, r3, r2
 733 0152 DBB2     		uxtb	r3, r3
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 734              		.loc 1 950 11 is_stmt 1 view .LVU230
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 735              		.loc 1 950 11 view .LVU231
 736 0154 0649     		ldr	r1, .L52
 737 0156 1944     		add	r1, r1, r3
 738 0158 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 739 015a FF29     		cmp	r1, #255
 740 015c B7D1     		bne	.L51
 950:tinyusb/src/device/usbd.c ****           _usbd_dev.itf2drv[itf_num] = drv_id;
 741              		.loc 1 950 11 discriminator 2 view .LVU232
 951:tinyusb/src/device/usbd.c ****         }
 742              		.loc 1 951 11 discriminator 2 view .LVU233
 951:tinyusb/src/device/usbd.c ****         }
 743              		.loc 1 951 38 is_stmt 0 discriminator 2 view .LVU234
 744 015e 0449     		ldr	r1, .L52
 745 0160 0B44     		add	r3, r3, r1
 746 0162 DC70     		strb	r4, [r3, #3]
 747              	.LBE343:
 945:tinyusb/src/device/usbd.c ****         {
 748              		.loc 1 945 45 is_stmt 1 discriminator 2 view .LVU235
 945:tinyusb/src/device/usbd.c ****         {
ARM GAS  /tmp/ccyyDEje.s 			page 44


 749              		.loc 1 945 46 is_stmt 0 discriminator 2 view .LVU236
 750 0164 0132     		adds	r2, r2, #1
 751              	.LVL63:
 945:tinyusb/src/device/usbd.c ****         {
 752              		.loc 1 945 46 discriminator 2 view .LVU237
 753 0166 D2B2     		uxtb	r2, r2
 754              	.LVL64:
 945:tinyusb/src/device/usbd.c ****         {
 755              		.loc 1 945 46 discriminator 2 view .LVU238
 756 0168 EEE7     		b	.L34
 757              	.LVL65:
 758              	.L45:
 945:tinyusb/src/device/usbd.c ****         {
 759              		.loc 1 945 46 discriminator 2 view .LVU239
 760              	.LBE345:
 761              	.LBE347:
 762              	.LBE348:
 968:tinyusb/src/device/usbd.c **** }
 763              		.loc 1 968 10 view .LVU240
 764 016a 0120     		movs	r0, #1
 765 016c 5FE7     		b	.L22
 766              	.L53:
 767 016e 00BF     		.align	2
 768              	.L52:
 769 0170 00000000 		.word	.LANCHOR3
 770 0174 00000000 		.word	.LANCHOR1
 771 0178 00000000 		.word	midid_open
 772 017c 13000000 		.word	.LANCHOR3+19
 773 0180 00000000 		.word	.LANCHOR2
 774 0184 00000000 		.word	.LANCHOR0
 775              		.cfi_endproc
 776              	.LFE100:
 778              		.section	.text.process_get_descriptor,"ax",%progbits
 779              		.align	1
 780              		.syntax unified
 781              		.thumb
 782              		.thumb_func
 783              		.fpu fpv4-sp-d16
 785              	process_get_descriptor:
 786              	.LVL66:
 787              	.LFB101:
 970:tinyusb/src/device/usbd.c **** 
 971:tinyusb/src/device/usbd.c **** // return descriptor's buffer and update desc_len
 972:tinyusb/src/device/usbd.c **** static bool process_get_descriptor(uint8_t rhport, tusb_control_request_t const * p_request)
 973:tinyusb/src/device/usbd.c **** {
 788              		.loc 1 973 1 is_stmt 1 view -0
 789              		.cfi_startproc
 790              		@ args = 0, pretend = 0, frame = 0
 791              		@ frame_needed = 0, uses_anonymous_args = 0
 792              		.loc 1 973 1 is_stmt 0 view .LVU242
 793 0000 38B5     		push	{r3, r4, r5, lr}
 794              	.LCFI7:
 795              		.cfi_def_cfa_offset 16
 796              		.cfi_offset 3, -16
 797              		.cfi_offset 4, -12
 798              		.cfi_offset 5, -8
 799              		.cfi_offset 14, -4
ARM GAS  /tmp/ccyyDEje.s 			page 45


 800 0002 0546     		mov	r5, r0
 801 0004 0C46     		mov	r4, r1
 974:tinyusb/src/device/usbd.c ****   tusb_desc_type_t const desc_type = (tusb_desc_type_t) tu_u16_high(p_request->wValue);
 802              		.loc 1 974 3 is_stmt 1 view .LVU243
 803              		.loc 1 974 57 is_stmt 0 view .LVU244
 804 0006 4B88     		ldrh	r3, [r1, #2]	@ unaligned
 805              	.LVL67:
 806              	.LBB349:
 807              	.LBI349:
 808              		.file 3 "tinyusb/src/common/tusb_common.h"
   1:tinyusb/src/common/tusb_common.h **** /*
   2:tinyusb/src/common/tusb_common.h ****  * The MIT License (MIT)
   3:tinyusb/src/common/tusb_common.h ****  *
   4:tinyusb/src/common/tusb_common.h ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/common/tusb_common.h ****  *
   6:tinyusb/src/common/tusb_common.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/common/tusb_common.h ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/common/tusb_common.h ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/common/tusb_common.h ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  10:tinyusb/src/common/tusb_common.h ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/common/tusb_common.h ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/common/tusb_common.h ****  *
  13:tinyusb/src/common/tusb_common.h ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/common/tusb_common.h ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/common/tusb_common.h ****  *
  16:tinyusb/src/common/tusb_common.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  17:tinyusb/src/common/tusb_common.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/common/tusb_common.h ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/common/tusb_common.h ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/common/tusb_common.h ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/common/tusb_common.h ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/common/tusb_common.h ****  * THE SOFTWARE.
  23:tinyusb/src/common/tusb_common.h ****  *
  24:tinyusb/src/common/tusb_common.h ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/common/tusb_common.h ****  */
  26:tinyusb/src/common/tusb_common.h **** 
  27:tinyusb/src/common/tusb_common.h **** #ifndef _TUSB_COMMON_H_
  28:tinyusb/src/common/tusb_common.h **** #define _TUSB_COMMON_H_
  29:tinyusb/src/common/tusb_common.h **** 
  30:tinyusb/src/common/tusb_common.h **** #ifdef __cplusplus
  31:tinyusb/src/common/tusb_common.h ****  extern "C" {
  32:tinyusb/src/common/tusb_common.h **** #endif
  33:tinyusb/src/common/tusb_common.h **** 
  34:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  35:tinyusb/src/common/tusb_common.h **** // Macros Helper
  36:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  37:tinyusb/src/common/tusb_common.h **** #define TU_ARRAY_SIZE(_arr)   ( sizeof(_arr) / sizeof(_arr[0]) )
  38:tinyusb/src/common/tusb_common.h **** #define TU_MIN(_x, _y)        ( ( (_x) < (_y) ) ? (_x) : (_y) )
  39:tinyusb/src/common/tusb_common.h **** #define TU_MAX(_x, _y)        ( ( (_x) > (_y) ) ? (_x) : (_y) )
  40:tinyusb/src/common/tusb_common.h **** 
  41:tinyusb/src/common/tusb_common.h **** #define TU_U16(_high, _low)   ((uint16_t) (((_high) << 8) | (_low)))
  42:tinyusb/src/common/tusb_common.h **** #define TU_U16_HIGH(_u16)     ((uint8_t) (((_u16) >> 8) & 0x00ff))
  43:tinyusb/src/common/tusb_common.h **** #define TU_U16_LOW(_u16)      ((uint8_t) ((_u16)       & 0x00ff))
  44:tinyusb/src/common/tusb_common.h **** #define U16_TO_U8S_BE(_u16)   TU_U16_HIGH(_u16), TU_U16_LOW(_u16)
  45:tinyusb/src/common/tusb_common.h **** #define U16_TO_U8S_LE(_u16)   TU_U16_LOW(_u16), TU_U16_HIGH(_u16)
  46:tinyusb/src/common/tusb_common.h **** 
  47:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE3(_u32)    ((uint8_t) ((((uint32_t) _u32) >> 24) & 0x000000ff)) // MSB
ARM GAS  /tmp/ccyyDEje.s 			page 46


  48:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE2(_u32)    ((uint8_t) ((((uint32_t) _u32) >> 16) & 0x000000ff))
  49:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE1(_u32)    ((uint8_t) ((((uint32_t) _u32) >>  8) & 0x000000ff))
  50:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE0(_u32)    ((uint8_t) (((uint32_t)  _u32)        & 0x000000ff)) // LSB
  51:tinyusb/src/common/tusb_common.h **** 
  52:tinyusb/src/common/tusb_common.h **** #define U32_TO_U8S_BE(_u32)   TU_U32_BYTE3(_u32), TU_U32_BYTE2(_u32), TU_U32_BYTE1(_u32), TU_U32_BY
  53:tinyusb/src/common/tusb_common.h **** #define U32_TO_U8S_LE(_u32)   TU_U32_BYTE0(_u32), TU_U32_BYTE1(_u32), TU_U32_BYTE2(_u32), TU_U32_BY
  54:tinyusb/src/common/tusb_common.h **** 
  55:tinyusb/src/common/tusb_common.h **** #define TU_BIT(n)             (1UL << (n))
  56:tinyusb/src/common/tusb_common.h **** 
  57:tinyusb/src/common/tusb_common.h **** // Generate a mask with bit from high (31) to low (0) set, e.g TU_GENMASK(3, 0) = 0b1111
  58:tinyusb/src/common/tusb_common.h **** #define TU_GENMASK(h, l)      ( (UINT32_MAX << (l)) & (UINT32_MAX >> (31 - (h))) )
  59:tinyusb/src/common/tusb_common.h **** 
  60:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  61:tinyusb/src/common/tusb_common.h **** // Includes
  62:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  63:tinyusb/src/common/tusb_common.h **** 
  64:tinyusb/src/common/tusb_common.h **** // Standard Headers
  65:tinyusb/src/common/tusb_common.h **** #include <stdbool.h>
  66:tinyusb/src/common/tusb_common.h **** #include <stdint.h>
  67:tinyusb/src/common/tusb_common.h **** #include <stddef.h>
  68:tinyusb/src/common/tusb_common.h **** #include <string.h>
  69:tinyusb/src/common/tusb_common.h **** #include <stdio.h>
  70:tinyusb/src/common/tusb_common.h **** 
  71:tinyusb/src/common/tusb_common.h **** // Tinyusb Common Headers
  72:tinyusb/src/common/tusb_common.h **** #include "tusb_option.h"
  73:tinyusb/src/common/tusb_common.h **** #include "tusb_compiler.h"
  74:tinyusb/src/common/tusb_common.h **** #include "tusb_verify.h"
  75:tinyusb/src/common/tusb_common.h **** #include "tusb_types.h"
  76:tinyusb/src/common/tusb_common.h **** #include "tusb_debug.h"
  77:tinyusb/src/common/tusb_common.h **** 
  78:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  79:tinyusb/src/common/tusb_common.h **** // Optional API implemented by application if needed
  80:tinyusb/src/common/tusb_common.h **** // TODO move to a more ovious place/file
  81:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  82:tinyusb/src/common/tusb_common.h **** 
  83:tinyusb/src/common/tusb_common.h **** // flush data cache
  84:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void tusb_app_dcache_flush(uintptr_t addr, uint32_t data_size);
  85:tinyusb/src/common/tusb_common.h **** 
  86:tinyusb/src/common/tusb_common.h **** // invalidate data cache
  87:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void tusb_app_dcache_invalidate(uintptr_t addr, uint32_t data_size);
  88:tinyusb/src/common/tusb_common.h **** 
  89:tinyusb/src/common/tusb_common.h **** // Optional physical <-> virtual address translation
  90:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void* tusb_app_virt_to_phys(void *virt_addr);
  91:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void* tusb_app_phys_to_virt(void *phys_addr);
  92:tinyusb/src/common/tusb_common.h **** 
  93:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  94:tinyusb/src/common/tusb_common.h **** // Internal Inline Functions
  95:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  96:tinyusb/src/common/tusb_common.h **** 
  97:tinyusb/src/common/tusb_common.h **** //------------- Mem -------------//
  98:tinyusb/src/common/tusb_common.h **** #define tu_memclr(buffer, size)  memset((buffer), 0, (size))
  99:tinyusb/src/common/tusb_common.h **** #define tu_varclr(_var)          tu_memclr(_var, sizeof(*(_var)))
 100:tinyusb/src/common/tusb_common.h **** 
 101:tinyusb/src/common/tusb_common.h **** // This is a backport of memset_s from c11
 102:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline int tu_memset_s(void *dest, size_t destsz, int ch, size_t count
 103:tinyusb/src/common/tusb_common.h ****   // TODO may check if desst and src is not NULL
 104:tinyusb/src/common/tusb_common.h ****   if ( count > destsz ) {
ARM GAS  /tmp/ccyyDEje.s 			page 47


 105:tinyusb/src/common/tusb_common.h ****     return -1;
 106:tinyusb/src/common/tusb_common.h ****   }
 107:tinyusb/src/common/tusb_common.h ****   memset(dest, ch, count);
 108:tinyusb/src/common/tusb_common.h ****   return 0;
 109:tinyusb/src/common/tusb_common.h **** }
 110:tinyusb/src/common/tusb_common.h **** 
 111:tinyusb/src/common/tusb_common.h **** // This is a backport of memcpy_s from c11
 112:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline int tu_memcpy_s(void *dest, size_t destsz, const void *src, siz
 113:tinyusb/src/common/tusb_common.h ****   // TODO may check if desst and src is not NULL
 114:tinyusb/src/common/tusb_common.h ****   if ( count > destsz ) {
 115:tinyusb/src/common/tusb_common.h ****     return -1;
 116:tinyusb/src/common/tusb_common.h ****   }
 117:tinyusb/src/common/tusb_common.h ****   memcpy(dest, src, count);
 118:tinyusb/src/common/tusb_common.h ****   return 0;
 119:tinyusb/src/common/tusb_common.h **** }
 120:tinyusb/src/common/tusb_common.h **** 
 121:tinyusb/src/common/tusb_common.h **** 
 122:tinyusb/src/common/tusb_common.h **** //------------- Bytes -------------//
 123:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_u32(uint8_t b3, uint8_t b2, uint8_t b1, uint8_t b0)
 124:tinyusb/src/common/tusb_common.h ****   return ( ((uint32_t) b3) << 24) | ( ((uint32_t) b2) << 16) | ( ((uint32_t) b1) << 8) | b0;
 125:tinyusb/src/common/tusb_common.h **** }
 126:tinyusb/src/common/tusb_common.h **** 
 127:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_u16(uint8_t high, uint8_t low) {
 128:tinyusb/src/common/tusb_common.h ****   return (uint16_t) ((((uint16_t) high) << 8) | low);
 129:tinyusb/src/common/tusb_common.h **** }
 130:tinyusb/src/common/tusb_common.h **** 
 131:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte3(uint32_t ui32) { return TU_U32_BYTE3(ui32)
 132:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte2(uint32_t ui32) { return TU_U32_BYTE2(ui32)
 133:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte1(uint32_t ui32) { return TU_U32_BYTE1(ui32)
 134:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte0(uint32_t ui32) { return TU_U32_BYTE0(ui32)
 135:tinyusb/src/common/tusb_common.h **** 
 136:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_u32_high16(uint32_t ui32) { return (uint16_t) (ui32
 137:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_u32_low16 (uint32_t ui32) { return (uint16_t) (ui32
 138:tinyusb/src/common/tusb_common.h **** 
 139:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u16_high(uint16_t ui16) { return TU_U16_HIGH(ui16); 
 809              		.loc 3 139 45 is_stmt 1 view .LVU245
 810              	.LBB350:
 811              		.loc 3 139 74 view .LVU246
 812              		.loc 3 139 81 is_stmt 0 view .LVU247
 813 0008 1A0A     		lsrs	r2, r3, #8
 814              	.LVL68:
 815              		.loc 3 139 81 view .LVU248
 816              	.LBE350:
 817              	.LBE349:
 975:tinyusb/src/device/usbd.c ****   uint8_t const desc_index = tu_u16_low( p_request->wValue );
 818              		.loc 1 975 3 is_stmt 1 view .LVU249
 819              	.LBB351:
 820              	.LBI351:
 140:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u16_low (uint16_t ui16) { return TU_U16_LOW(ui16); }
 821              		.loc 3 140 45 view .LVU250
 822              	.LBB352:
 823              		.loc 3 140 74 view .LVU251
 824              		.loc 3 140 81 is_stmt 0 view .LVU252
 825 000a D8B2     		uxtb	r0, r3
 826              	.LVL69:
 827              		.loc 3 140 81 view .LVU253
 828              	.LBE352:
ARM GAS  /tmp/ccyyDEje.s 			page 48


 829              	.LBE351:
 976:tinyusb/src/device/usbd.c **** 
 977:tinyusb/src/device/usbd.c ****   switch(desc_type)
 830              		.loc 1 977 3 is_stmt 1 view .LVU254
 831 000c 531E     		subs	r3, r2, #1
 832 000e 0E2B     		cmp	r3, #14
 833 0010 5BD8     		bhi	.L68
 834 0012 DFE803F0 		tbb	[pc, r3]
 835              	.LVL70:
 836              	.L57:
 837 0016 08       		.byte	(.L61-.L57)/2
 838 0017 28       		.byte	(.L58-.L57)/2
 839 0018 43       		.byte	(.L60-.L57)/2
 840 0019 5A       		.byte	(.L68-.L57)/2
 841 001a 5A       		.byte	(.L68-.L57)/2
 842 001b 4E       		.byte	(.L59-.L57)/2
 843 001c 28       		.byte	(.L58-.L57)/2
 844 001d 5A       		.byte	(.L68-.L57)/2
 845 001e 5A       		.byte	(.L68-.L57)/2
 846 001f 5A       		.byte	(.L68-.L57)/2
 847 0020 5A       		.byte	(.L68-.L57)/2
 848 0021 5A       		.byte	(.L68-.L57)/2
 849 0022 5A       		.byte	(.L68-.L57)/2
 850 0023 5A       		.byte	(.L68-.L57)/2
 851 0024 11       		.byte	(.L56-.L57)/2
 852 0025 00       		.p2align 1
 853              	.L61:
 854              	.LBB353:
 978:tinyusb/src/device/usbd.c ****   {
 979:tinyusb/src/device/usbd.c ****     case TUSB_DESC_DEVICE:
 980:tinyusb/src/device/usbd.c ****     {
 981:tinyusb/src/device/usbd.c ****       TU_LOG_USBD(" Device\r\n");
 855              		.loc 1 981 33 view .LVU255
 982:tinyusb/src/device/usbd.c **** 
 983:tinyusb/src/device/usbd.c ****       void* desc_device = (void*) (uintptr_t) tud_descriptor_device_cb();
 856              		.loc 1 983 7 view .LVU256
 857              		.loc 1 983 47 is_stmt 0 view .LVU257
 858 0026 FFF7FEFF 		bl	tud_descriptor_device_cb
 859              	.LVL71:
 860              		.loc 1 983 47 view .LVU258
 861 002a 0246     		mov	r2, r0
 862              	.LVL72:
 984:tinyusb/src/device/usbd.c **** 
 985:tinyusb/src/device/usbd.c ****       // Only response with exactly 1 Packet if: not addressed and host requested more data than de
 986:tinyusb/src/device/usbd.c ****       // This only happens with the very first get device descriptor and EP0 size = 8 or 16.
 987:tinyusb/src/device/usbd.c ****       if ((CFG_TUD_ENDPOINT0_SIZE < sizeof(tusb_desc_device_t)) && !_usbd_dev.addressed &&
 863              		.loc 1 987 7 is_stmt 1 view .LVU259
 988:tinyusb/src/device/usbd.c ****           ((tusb_control_request_t const*) p_request)->wLength > sizeof(tusb_desc_device_t))
 989:tinyusb/src/device/usbd.c ****       {
 990:tinyusb/src/device/usbd.c ****         // Hack here: we modify the request length to prevent usbd_control response with zlp
 991:tinyusb/src/device/usbd.c ****         // since we are responding with 1 packet & less data than wLength.
 992:tinyusb/src/device/usbd.c ****         tusb_control_request_t mod_request = *p_request;
 993:tinyusb/src/device/usbd.c ****         mod_request.wLength = CFG_TUD_ENDPOINT0_SIZE;
 994:tinyusb/src/device/usbd.c **** 
 995:tinyusb/src/device/usbd.c ****         return tud_control_xfer(rhport, &mod_request, desc_device, CFG_TUD_ENDPOINT0_SIZE);
 996:tinyusb/src/device/usbd.c ****       }else
 997:tinyusb/src/device/usbd.c ****       {
ARM GAS  /tmp/ccyyDEje.s 			page 49


 998:tinyusb/src/device/usbd.c ****         return tud_control_xfer(rhport, p_request, desc_device, sizeof(tusb_desc_device_t));
 864              		.loc 1 998 9 view .LVU260
 865              		.loc 1 998 16 is_stmt 0 view .LVU261
 866 002c 1223     		movs	r3, #18
 867 002e 2146     		mov	r1, r4
 868 0030 2846     		mov	r0, r5
 869              	.LVL73:
 870              		.loc 1 998 16 view .LVU262
 871 0032 FFF7FEFF 		bl	tud_control_xfer
 872              	.LVL74:
 873              		.loc 1 998 16 view .LVU263
 874 0036 49E0     		b	.L55
 875              	.LVL75:
 876              	.L56:
 877              		.loc 1 998 16 view .LVU264
 878              	.LBE353:
 879              	.LBB354:
 999:tinyusb/src/device/usbd.c ****       }
1000:tinyusb/src/device/usbd.c ****     }
1001:tinyusb/src/device/usbd.c ****     // break; // unreachable
1002:tinyusb/src/device/usbd.c **** 
1003:tinyusb/src/device/usbd.c ****     case TUSB_DESC_BOS:
1004:tinyusb/src/device/usbd.c ****     {
1005:tinyusb/src/device/usbd.c ****       TU_LOG_USBD(" BOS\r\n");
 880              		.loc 1 1005 30 is_stmt 1 view .LVU265
1006:tinyusb/src/device/usbd.c **** 
1007:tinyusb/src/device/usbd.c ****       // requested by host if USB > 2.0 ( i.e 2.1 or 3.x )
1008:tinyusb/src/device/usbd.c ****       if (!tud_descriptor_bos_cb) return false;
 881              		.loc 1 1008 7 view .LVU266
 882              		.loc 1 1008 10 is_stmt 0 view .LVU267
 883 0038 2A4B     		ldr	r3, .L77
 884 003a 002B     		cmp	r3, #0
 885 003c 47D0     		beq	.L69
1009:tinyusb/src/device/usbd.c **** 
1010:tinyusb/src/device/usbd.c ****       uintptr_t desc_bos = (uintptr_t) tud_descriptor_bos_cb();
 886              		.loc 1 1010 7 is_stmt 1 view .LVU268
 887              		.loc 1 1010 40 is_stmt 0 view .LVU269
 888 003e FFF7FEFF 		bl	tud_descriptor_bos_cb
 889              	.LVL76:
1011:tinyusb/src/device/usbd.c ****       TU_ASSERT(desc_bos);
 890              		.loc 1 1011 7 is_stmt 1 view .LVU270
 891              		.loc 1 1011 7 view .LVU271
 892 0042 0246     		mov	r2, r0
 893 0044 28B1     		cbz	r0, .L75
 894              		.loc 1 1011 7 discriminator 2 view .LVU272
1012:tinyusb/src/device/usbd.c **** 
1013:tinyusb/src/device/usbd.c ****       // Use offsetof to avoid pointer to the odd/misaligned address
1014:tinyusb/src/device/usbd.c ****       uint16_t const total_len = tu_le16toh( tu_unaligned_read16((const void*) (desc_bos + offsetof
 895              		.loc 1 1014 7 discriminator 2 view .LVU273
 896              	.LVL77:
 897              	.LBB355:
 898              	.LBI355:
 141:tinyusb/src/common/tusb_common.h **** 
 142:tinyusb/src/common/tusb_common.h **** //------------- Bits -------------//
 143:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_bit_set  (uint32_t value, uint8_t pos) { return val
 144:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_bit_clear(uint32_t value, uint8_t pos) { return val
 145:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline bool     tu_bit_test (uint32_t value, uint8_t pos) { return (va
ARM GAS  /tmp/ccyyDEje.s 			page 50


 146:tinyusb/src/common/tusb_common.h **** 
 147:tinyusb/src/common/tusb_common.h **** //------------- Min -------------//
 148:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t  tu_min8  (uint8_t  x, uint8_t y ) { return (x < y) ? x
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_min16 (uint16_t x, uint16_t y) { return (x < y) ? x
 150:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 151:tinyusb/src/common/tusb_common.h **** 
 152:tinyusb/src/common/tusb_common.h **** //------------- Max -------------//
 153:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t  tu_max8  (uint8_t  x, uint8_t y ) { return (x > y) ? x
 154:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_max16 (uint16_t x, uint16_t y) { return (x > y) ? x
 155:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_max32 (uint32_t x, uint32_t y) { return (x > y) ? x
 156:tinyusb/src/common/tusb_common.h **** 
 157:tinyusb/src/common/tusb_common.h **** //------------- Align -------------//
 158:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_align(uint32_t value, uint32_t alignment) {
 159:tinyusb/src/common/tusb_common.h ****   return value & ((uint32_t) ~(alignment-1));
 160:tinyusb/src/common/tusb_common.h **** }
 161:tinyusb/src/common/tusb_common.h **** 
 162:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_align4  (uint32_t value) { return (value & 0xFFFFFF
 163:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_align8  (uint32_t value) { return (value & 0xFFFFFF
 164:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_align16 (uint32_t value) { return (value & 0xFFFFFF
 165:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_align32 (uint32_t value) { return (value & 0xFFFFFF
 166:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_align4k (uint32_t value) { return (value & 0xFFFFF0
 167:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_offset4k(uint32_t value) { return (value & 0xFFFUL)
 168:tinyusb/src/common/tusb_common.h **** 
 169:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline bool tu_is_aligned32(uint32_t value) { return (value & 0x1FUL) 
 170:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline bool tu_is_aligned64(uint64_t value) { return (value & 0x3FUL) 
 171:tinyusb/src/common/tusb_common.h **** 
 172:tinyusb/src/common/tusb_common.h **** //------------- Mathematics -------------//
 173:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_div_ceil(uint32_t v, uint32_t d) { return (v + d -1
 174:tinyusb/src/common/tusb_common.h **** 
 175:tinyusb/src/common/tusb_common.h **** // log2 of a value is its MSB's position
 176:tinyusb/src/common/tusb_common.h **** // TODO use clz TODO remove
 177:tinyusb/src/common/tusb_common.h **** static inline uint8_t tu_log2(uint32_t value)
 178:tinyusb/src/common/tusb_common.h **** {
 179:tinyusb/src/common/tusb_common.h ****   uint8_t result = 0;
 180:tinyusb/src/common/tusb_common.h ****   while (value >>= 1) { result++; }
 181:tinyusb/src/common/tusb_common.h ****   return result;
 182:tinyusb/src/common/tusb_common.h **** }
 183:tinyusb/src/common/tusb_common.h **** 
 184:tinyusb/src/common/tusb_common.h **** //static inline uint8_t tu_log2(uint32_t value)
 185:tinyusb/src/common/tusb_common.h **** //{
 186:tinyusb/src/common/tusb_common.h **** //   return sizeof(uint32_t) * CHAR_BIT - __builtin_clz(x) - 1;
 187:tinyusb/src/common/tusb_common.h **** //}
 188:tinyusb/src/common/tusb_common.h **** 
 189:tinyusb/src/common/tusb_common.h **** static inline bool tu_is_power_of_two(uint32_t value)
 190:tinyusb/src/common/tusb_common.h **** {
 191:tinyusb/src/common/tusb_common.h ****    return (value != 0) && ((value & (value - 1)) == 0);
 192:tinyusb/src/common/tusb_common.h **** }
 193:tinyusb/src/common/tusb_common.h **** 
 194:tinyusb/src/common/tusb_common.h **** //------------- Unaligned Access -------------//
 195:tinyusb/src/common/tusb_common.h **** #if TUP_ARCH_STRICT_ALIGN
 196:tinyusb/src/common/tusb_common.h **** 
 197:tinyusb/src/common/tusb_common.h **** // Rely on compiler to generate correct code for unaligned access
 198:tinyusb/src/common/tusb_common.h **** typedef struct { uint16_t val; } TU_ATTR_PACKED tu_unaligned_uint16_t;
 199:tinyusb/src/common/tusb_common.h **** typedef struct { uint32_t val; } TU_ATTR_PACKED tu_unaligned_uint32_t;
 200:tinyusb/src/common/tusb_common.h **** 
 201:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_unaligned_read32(const void* mem)
 202:tinyusb/src/common/tusb_common.h **** {
ARM GAS  /tmp/ccyyDEje.s 			page 51


 203:tinyusb/src/common/tusb_common.h ****   tu_unaligned_uint32_t const* ua32 = (tu_unaligned_uint32_t const*) mem;
 204:tinyusb/src/common/tusb_common.h ****   return ua32->val;
 205:tinyusb/src/common/tusb_common.h **** }
 206:tinyusb/src/common/tusb_common.h **** 
 207:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline void tu_unaligned_write32(void* mem, uint32_t value)
 208:tinyusb/src/common/tusb_common.h **** {
 209:tinyusb/src/common/tusb_common.h ****   tu_unaligned_uint32_t* ua32 = (tu_unaligned_uint32_t*) mem;
 210:tinyusb/src/common/tusb_common.h ****   ua32->val = value;
 211:tinyusb/src/common/tusb_common.h **** }
 212:tinyusb/src/common/tusb_common.h **** 
 213:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_unaligned_read16(const void* mem)
 214:tinyusb/src/common/tusb_common.h **** {
 215:tinyusb/src/common/tusb_common.h ****   tu_unaligned_uint16_t const* ua16 = (tu_unaligned_uint16_t const*) mem;
 216:tinyusb/src/common/tusb_common.h ****   return ua16->val;
 217:tinyusb/src/common/tusb_common.h **** }
 218:tinyusb/src/common/tusb_common.h **** 
 219:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline void tu_unaligned_write16(void* mem, uint16_t value)
 220:tinyusb/src/common/tusb_common.h **** {
 221:tinyusb/src/common/tusb_common.h ****   tu_unaligned_uint16_t* ua16 = (tu_unaligned_uint16_t*) mem;
 222:tinyusb/src/common/tusb_common.h ****   ua16->val = value;
 223:tinyusb/src/common/tusb_common.h **** }
 224:tinyusb/src/common/tusb_common.h **** 
 225:tinyusb/src/common/tusb_common.h **** #elif TUP_MCU_STRICT_ALIGN
 226:tinyusb/src/common/tusb_common.h **** 
 227:tinyusb/src/common/tusb_common.h **** // MCU such as LPC_IP3511 Highspeed cannot access unaligned memory on USB_RAM although it is ARM M4
 228:tinyusb/src/common/tusb_common.h **** // We have to manually pick up bytes since tu_unaligned_uint32_t will still generate unaligned code
 229:tinyusb/src/common/tusb_common.h **** // NOTE: volatile cast to memory to prevent compiler to optimize and generate unaligned code
 230:tinyusb/src/common/tusb_common.h **** // TODO Big Endian may need minor changes
 231:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_unaligned_read32(const void* mem)
 232:tinyusb/src/common/tusb_common.h **** {
 233:tinyusb/src/common/tusb_common.h ****   volatile uint8_t const* buf8 = (uint8_t const*) mem;
 234:tinyusb/src/common/tusb_common.h ****   return tu_u32(buf8[3], buf8[2], buf8[1], buf8[0]);
 235:tinyusb/src/common/tusb_common.h **** }
 236:tinyusb/src/common/tusb_common.h **** 
 237:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline void tu_unaligned_write32(void* mem, uint32_t value)
 238:tinyusb/src/common/tusb_common.h **** {
 239:tinyusb/src/common/tusb_common.h ****   volatile uint8_t* buf8 = (uint8_t*) mem;
 240:tinyusb/src/common/tusb_common.h ****   buf8[0] = tu_u32_byte0(value);
 241:tinyusb/src/common/tusb_common.h ****   buf8[1] = tu_u32_byte1(value);
 242:tinyusb/src/common/tusb_common.h ****   buf8[2] = tu_u32_byte2(value);
 243:tinyusb/src/common/tusb_common.h ****   buf8[3] = tu_u32_byte3(value);
 244:tinyusb/src/common/tusb_common.h **** }
 245:tinyusb/src/common/tusb_common.h **** 
 246:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_unaligned_read16(const void* mem)
 247:tinyusb/src/common/tusb_common.h **** {
 248:tinyusb/src/common/tusb_common.h ****   volatile uint8_t const* buf8 = (uint8_t const*) mem;
 249:tinyusb/src/common/tusb_common.h ****   return tu_u16(buf8[1], buf8[0]);
 250:tinyusb/src/common/tusb_common.h **** }
 251:tinyusb/src/common/tusb_common.h **** 
 252:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline void tu_unaligned_write16(void* mem, uint16_t value)
 253:tinyusb/src/common/tusb_common.h **** {
 254:tinyusb/src/common/tusb_common.h ****   volatile uint8_t* buf8 = (uint8_t*) mem;
 255:tinyusb/src/common/tusb_common.h ****   buf8[0] = tu_u16_low(value);
 256:tinyusb/src/common/tusb_common.h ****   buf8[1] = tu_u16_high(value);
 257:tinyusb/src/common/tusb_common.h **** }
 258:tinyusb/src/common/tusb_common.h **** 
 259:tinyusb/src/common/tusb_common.h **** 
ARM GAS  /tmp/ccyyDEje.s 			page 52


 260:tinyusb/src/common/tusb_common.h **** #else
 261:tinyusb/src/common/tusb_common.h **** 
 262:tinyusb/src/common/tusb_common.h **** // MCU that could access unaligned memory natively
 263:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_unaligned_read32(const void *mem) {
 264:tinyusb/src/common/tusb_common.h ****   return *((uint32_t const *) mem);
 265:tinyusb/src/common/tusb_common.h **** }
 266:tinyusb/src/common/tusb_common.h **** 
 267:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_unaligned_read16(const void *mem) {
 899              		.loc 3 267 46 discriminator 2 view .LVU274
 900              	.LBB356:
 268:tinyusb/src/common/tusb_common.h ****   return *((uint16_t const *) mem);
 901              		.loc 3 268 3 discriminator 2 view .LVU275
 902              		.loc 3 268 3 is_stmt 0 discriminator 2 view .LVU276
 903              	.LBE356:
 904              	.LBE355:
1015:tinyusb/src/device/usbd.c **** 
1016:tinyusb/src/device/usbd.c ****       return tud_control_xfer(rhport, p_request, (void*) desc_bos, total_len);
 905              		.loc 1 1016 7 is_stmt 1 discriminator 2 view .LVU277
 906              		.loc 1 1016 14 is_stmt 0 discriminator 2 view .LVU278
 907 0046 4388     		ldrh	r3, [r0, #2]
 908 0048 2146     		mov	r1, r4
 909 004a 2846     		mov	r0, r5
 910              	.LVL78:
 911              		.loc 1 1016 14 discriminator 2 view .LVU279
 912 004c FFF7FEFF 		bl	tud_control_xfer
 913              	.LVL79:
 914              		.loc 1 1016 14 discriminator 2 view .LVU280
 915 0050 3CE0     		b	.L55
 916              	.LVL80:
 917              	.L75:
1011:tinyusb/src/device/usbd.c **** 
 918              		.loc 1 1011 7 is_stmt 1 discriminator 1 view .LVU281
1011:tinyusb/src/device/usbd.c **** 
 919              		.loc 1 1011 7 discriminator 1 view .LVU282
1011:tinyusb/src/device/usbd.c **** 
 920              		.loc 1 1011 7 discriminator 1 view .LVU283
1011:tinyusb/src/device/usbd.c **** 
 921              		.loc 1 1011 7 discriminator 1 view .LVU284
 922              	.LBB357:
1011:tinyusb/src/device/usbd.c **** 
 923              		.loc 1 1011 7 discriminator 1 view .LVU285
1011:tinyusb/src/device/usbd.c **** 
 924              		.loc 1 1011 7 discriminator 1 view .LVU286
 925 0052 4FF0E023 		mov	r3, #-536813568
 926 0056 D3F8F03D 		ldr	r3, [r3, #3568]
 927 005a 13F0010F 		tst	r3, #1
 928 005e 00D0     		beq	.L63
1011:tinyusb/src/device/usbd.c **** 
 929              		.loc 1 1011 7 discriminator 3 view .LVU287
 930              		.syntax unified
 931              	@ 1011 "tinyusb/src/device/usbd.c" 1
 932 0060 00BE     		BKPT #0
 933              	
 934              	@ 0 "" 2
 935              		.thumb
 936              		.syntax unified
 937              	.L63:
ARM GAS  /tmp/ccyyDEje.s 			page 53


 938              	.LBE357:
1011:tinyusb/src/device/usbd.c **** 
 939              		.loc 1 1011 7 discriminator 5 view .LVU288
1011:tinyusb/src/device/usbd.c **** 
 940              		.loc 1 1011 7 discriminator 5 view .LVU289
 941 0062 0020     		movs	r0, #0
 942              	.LVL81:
1011:tinyusb/src/device/usbd.c **** 
 943              		.loc 1 1011 7 is_stmt 0 discriminator 5 view .LVU290
 944 0064 32E0     		b	.L55
 945              	.LVL82:
 946              	.L58:
1011:tinyusb/src/device/usbd.c **** 
 947              		.loc 1 1011 7 discriminator 5 view .LVU291
 948              	.LBE354:
 949              	.LBB358:
1017:tinyusb/src/device/usbd.c ****     }
1018:tinyusb/src/device/usbd.c ****     // break; // unreachable
1019:tinyusb/src/device/usbd.c **** 
1020:tinyusb/src/device/usbd.c ****     case TUSB_DESC_CONFIGURATION:
1021:tinyusb/src/device/usbd.c ****     case TUSB_DESC_OTHER_SPEED_CONFIG:
1022:tinyusb/src/device/usbd.c ****     {
1023:tinyusb/src/device/usbd.c ****       uintptr_t desc_config;
 950              		.loc 1 1023 7 is_stmt 1 view .LVU292
1024:tinyusb/src/device/usbd.c **** 
1025:tinyusb/src/device/usbd.c ****       if ( desc_type == TUSB_DESC_CONFIGURATION )
 951              		.loc 1 1025 7 view .LVU293
 952              		.loc 1 1025 10 is_stmt 0 view .LVU294
 953 0066 022A     		cmp	r2, #2
 954 0068 0ED0     		beq	.L76
1026:tinyusb/src/device/usbd.c ****       {
1027:tinyusb/src/device/usbd.c ****         TU_LOG_USBD(" Configuration[%u]\r\n", desc_index);
1028:tinyusb/src/device/usbd.c ****         desc_config = (uintptr_t) tud_descriptor_configuration_cb(desc_index);
1029:tinyusb/src/device/usbd.c ****       }else
1030:tinyusb/src/device/usbd.c ****       {
1031:tinyusb/src/device/usbd.c ****         // Host only request this after getting Device Qualifier descriptor
1032:tinyusb/src/device/usbd.c ****         TU_LOG_USBD(" Other Speed Configuration\r\n");
 955              		.loc 1 1032 54 is_stmt 1 view .LVU295
1033:tinyusb/src/device/usbd.c ****         TU_VERIFY( tud_descriptor_other_speed_configuration_cb );
 956              		.loc 1 1033 9 view .LVU296
 957              		.loc 1 1033 9 view .LVU297
 958 006a 1F4B     		ldr	r3, .L77+4
 959 006c 8BB3     		cbz	r3, .L70
 960              		.loc 1 1033 9 discriminator 2 view .LVU298
1034:tinyusb/src/device/usbd.c ****         desc_config = (uintptr_t) tud_descriptor_other_speed_configuration_cb(desc_index);
 961              		.loc 1 1034 9 discriminator 2 view .LVU299
 962              		.loc 1 1034 35 is_stmt 0 discriminator 2 view .LVU300
 963 006e FFF7FEFF 		bl	tud_descriptor_other_speed_configuration_cb
 964              	.LVL83:
 965              	.L65:
1035:tinyusb/src/device/usbd.c ****       }
1036:tinyusb/src/device/usbd.c **** 
1037:tinyusb/src/device/usbd.c ****       TU_ASSERT(desc_config);
 966              		.loc 1 1037 7 is_stmt 1 view .LVU301
 967              		.loc 1 1037 7 view .LVU302
 968 0072 60B9     		cbnz	r0, .L66
 969              		.loc 1 1037 7 discriminator 1 view .LVU303
ARM GAS  /tmp/ccyyDEje.s 			page 54


 970              		.loc 1 1037 7 discriminator 1 view .LVU304
 971              		.loc 1 1037 7 discriminator 1 view .LVU305
 972              		.loc 1 1037 7 discriminator 1 view .LVU306
 973              	.LBB359:
 974              		.loc 1 1037 7 discriminator 1 view .LVU307
 975              	.LVL84:
 976              		.loc 1 1037 7 discriminator 1 view .LVU308
 977 0074 4FF0E023 		mov	r3, #-536813568
 978 0078 D3F8F03D 		ldr	r3, [r3, #3568]
 979 007c 13F0010F 		tst	r3, #1
 980 0080 00D0     		beq	.L67
 981              		.loc 1 1037 7 discriminator 3 view .LVU309
 982              		.syntax unified
 983              	@ 1037 "tinyusb/src/device/usbd.c" 1
 984 0082 00BE     		BKPT #0
 985              	
 986              	@ 0 "" 2
 987              		.thumb
 988              		.syntax unified
 989              	.L67:
 990              	.LBE359:
 991              		.loc 1 1037 7 discriminator 5 view .LVU310
 992              		.loc 1 1037 7 discriminator 5 view .LVU311
 993 0084 0020     		movs	r0, #0
 994              	.LVL85:
 995              		.loc 1 1037 7 is_stmt 0 discriminator 5 view .LVU312
 996 0086 21E0     		b	.L55
 997              	.LVL86:
 998              	.L76:
1027:tinyusb/src/device/usbd.c ****         desc_config = (uintptr_t) tud_descriptor_configuration_cb(desc_index);
 999              		.loc 1 1027 58 is_stmt 1 view .LVU313
1028:tinyusb/src/device/usbd.c ****       }else
 1000              		.loc 1 1028 9 view .LVU314
1028:tinyusb/src/device/usbd.c ****       }else
 1001              		.loc 1 1028 35 is_stmt 0 view .LVU315
 1002 0088 FFF7FEFF 		bl	tud_descriptor_configuration_cb
 1003              	.LVL87:
1028:tinyusb/src/device/usbd.c ****       }else
 1004              		.loc 1 1028 35 view .LVU316
 1005 008c F1E7     		b	.L65
 1006              	.L66:
 1007              		.loc 1 1037 7 is_stmt 1 discriminator 2 view .LVU317
1038:tinyusb/src/device/usbd.c **** 
1039:tinyusb/src/device/usbd.c ****       // Use offsetof to avoid pointer to the odd/misaligned address
1040:tinyusb/src/device/usbd.c ****       uint16_t const total_len = tu_le16toh( tu_unaligned_read16((const void*) (desc_config + offse
 1008              		.loc 1 1040 7 discriminator 2 view .LVU318
 1009              	.LVL88:
 1010              	.LBB360:
 1011              	.LBI360:
 267:tinyusb/src/common/tusb_common.h ****   return *((uint16_t const *) mem);
 1012              		.loc 3 267 46 discriminator 2 view .LVU319
 1013              	.LBB361:
 1014              		.loc 3 268 3 discriminator 2 view .LVU320
 1015              		.loc 3 268 3 is_stmt 0 discriminator 2 view .LVU321
 1016              	.LBE361:
 1017              	.LBE360:
1041:tinyusb/src/device/usbd.c **** 
ARM GAS  /tmp/ccyyDEje.s 			page 55


1042:tinyusb/src/device/usbd.c ****       return tud_control_xfer(rhport, p_request, (void*) desc_config, total_len);
 1018              		.loc 1 1042 7 is_stmt 1 discriminator 2 view .LVU322
 1019              		.loc 1 1042 14 is_stmt 0 discriminator 2 view .LVU323
 1020 008e 4388     		ldrh	r3, [r0, #2]
 1021 0090 0246     		mov	r2, r0
 1022 0092 2146     		mov	r1, r4
 1023 0094 2846     		mov	r0, r5
 1024              	.LVL89:
 1025              		.loc 1 1042 14 discriminator 2 view .LVU324
 1026 0096 FFF7FEFF 		bl	tud_control_xfer
 1027              	.LVL90:
 1028              		.loc 1 1042 14 discriminator 2 view .LVU325
 1029 009a 17E0     		b	.L55
 1030              	.LVL91:
 1031              	.L60:
 1032              		.loc 1 1042 14 discriminator 2 view .LVU326
 1033              	.LBE358:
 1034              	.LBB362:
1043:tinyusb/src/device/usbd.c ****     }
1044:tinyusb/src/device/usbd.c ****     // break; // unreachable
1045:tinyusb/src/device/usbd.c **** 
1046:tinyusb/src/device/usbd.c ****     case TUSB_DESC_STRING:
1047:tinyusb/src/device/usbd.c ****     {
1048:tinyusb/src/device/usbd.c ****       TU_LOG_USBD(" String[%u]\r\n", desc_index);
 1035              		.loc 1 1048 49 is_stmt 1 view .LVU327
1049:tinyusb/src/device/usbd.c **** 
1050:tinyusb/src/device/usbd.c ****       // String Descriptor always uses the desc set from user
1051:tinyusb/src/device/usbd.c ****       uint8_t const* desc_str = (uint8_t const*) tud_descriptor_string_cb(desc_index, tu_le16toh(p_
 1036              		.loc 1 1051 7 view .LVU328
 1037              		.loc 1 1051 50 is_stmt 0 view .LVU329
 1038 009c A188     		ldrh	r1, [r4, #4]	@ unaligned
 1039 009e FFF7FEFF 		bl	tud_descriptor_string_cb
 1040              	.LVL92:
1052:tinyusb/src/device/usbd.c ****       TU_VERIFY(desc_str);
 1041              		.loc 1 1052 7 is_stmt 1 view .LVU330
 1042              		.loc 1 1052 7 view .LVU331
 1043 00a2 0246     		mov	r2, r0
 1044 00a4 B8B1     		cbz	r0, .L71
 1045              		.loc 1 1052 7 view .LVU332
1053:tinyusb/src/device/usbd.c **** 
1054:tinyusb/src/device/usbd.c ****       // first byte of descriptor is its size
1055:tinyusb/src/device/usbd.c ****       return tud_control_xfer(rhport, p_request, (void*) (uintptr_t) desc_str, tu_desc_len(desc_str
 1046              		.loc 1 1055 7 view .LVU333
 1047              	.LVL93:
 1048              	.LBB363:
 1049              	.LBI363:
 562:tinyusb/src/common/tusb_types.h **** }
 563:tinyusb/src/common/tusb_types.h **** 
 564:tinyusb/src/common/tusb_types.h **** // get descriptor length
 565:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_desc_len(void const* desc)
 1050              		.loc 2 565 45 view .LVU334
 1051              	.LBB364:
 566:tinyusb/src/common/tusb_types.h **** {
 567:tinyusb/src/common/tusb_types.h ****   return ((uint8_t const*) desc)[DESC_OFFSET_LEN];
 1052              		.loc 2 567 3 view .LVU335
 1053              		.loc 2 567 3 is_stmt 0 view .LVU336
 1054              	.LBE364:
ARM GAS  /tmp/ccyyDEje.s 			page 56


 1055              	.LBE363:
 1056              		.loc 1 1055 14 view .LVU337
 1057 00a6 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1058 00a8 2146     		mov	r1, r4
 1059 00aa 2846     		mov	r0, r5
 1060              	.LVL94:
 1061              		.loc 1 1055 14 view .LVU338
 1062 00ac FFF7FEFF 		bl	tud_control_xfer
 1063              	.LVL95:
 1064              		.loc 1 1055 14 view .LVU339
 1065 00b0 0CE0     		b	.L55
 1066              	.LVL96:
 1067              	.L59:
 1068              		.loc 1 1055 14 view .LVU340
 1069              	.LBE362:
 1070              	.LBB365:
1056:tinyusb/src/device/usbd.c ****     }
1057:tinyusb/src/device/usbd.c ****     // break; // unreachable
1058:tinyusb/src/device/usbd.c **** 
1059:tinyusb/src/device/usbd.c ****     case TUSB_DESC_DEVICE_QUALIFIER:
1060:tinyusb/src/device/usbd.c ****     {
1061:tinyusb/src/device/usbd.c ****       TU_LOG_USBD(" Device Qualifier\r\n");
 1071              		.loc 1 1061 43 is_stmt 1 view .LVU341
1062:tinyusb/src/device/usbd.c **** 
1063:tinyusb/src/device/usbd.c ****       TU_VERIFY( tud_descriptor_device_qualifier_cb );
 1072              		.loc 1 1063 7 view .LVU342
 1073              		.loc 1 1063 7 view .LVU343
 1074 00b2 0E4B     		ldr	r3, .L77+8
 1075 00b4 8BB1     		cbz	r3, .L72
 1076              		.loc 1 1063 7 discriminator 2 view .LVU344
1064:tinyusb/src/device/usbd.c **** 
1065:tinyusb/src/device/usbd.c ****       uint8_t const* desc_qualifier = tud_descriptor_device_qualifier_cb();
 1077              		.loc 1 1065 7 discriminator 2 view .LVU345
 1078              		.loc 1 1065 39 is_stmt 0 discriminator 2 view .LVU346
 1079 00b6 FFF7FEFF 		bl	tud_descriptor_device_qualifier_cb
 1080              	.LVL97:
1066:tinyusb/src/device/usbd.c ****       TU_VERIFY(desc_qualifier);
 1081              		.loc 1 1066 7 is_stmt 1 discriminator 2 view .LVU347
 1082              		.loc 1 1066 7 discriminator 2 view .LVU348
 1083 00ba 0246     		mov	r2, r0
 1084 00bc 78B1     		cbz	r0, .L73
 1085              		.loc 1 1066 7 view .LVU349
1067:tinyusb/src/device/usbd.c **** 
1068:tinyusb/src/device/usbd.c ****       // first byte of descriptor is its size
1069:tinyusb/src/device/usbd.c ****       return tud_control_xfer(rhport, p_request, (void*) (uintptr_t) desc_qualifier, tu_desc_len(de
 1086              		.loc 1 1069 7 view .LVU350
 1087              	.LVL98:
 1088              	.LBB366:
 1089              	.LBI366:
 565:tinyusb/src/common/tusb_types.h **** {
 1090              		.loc 2 565 45 view .LVU351
 1091              	.LBB367:
 1092              		.loc 2 567 3 view .LVU352
 1093              		.loc 2 567 3 is_stmt 0 view .LVU353
 1094              	.LBE367:
 1095              	.LBE366:
 1096              		.loc 1 1069 14 view .LVU354
ARM GAS  /tmp/ccyyDEje.s 			page 57


 1097 00be 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1098 00c0 2146     		mov	r1, r4
 1099 00c2 2846     		mov	r0, r5
 1100              	.LVL99:
 1101              		.loc 1 1069 14 view .LVU355
 1102 00c4 FFF7FEFF 		bl	tud_control_xfer
 1103              	.LVL100:
 1104              		.loc 1 1069 14 view .LVU356
 1105 00c8 00E0     		b	.L55
 1106              	.LVL101:
 1107              	.L68:
 1108              		.loc 1 1069 14 view .LVU357
 1109              	.LBE365:
 977:tinyusb/src/device/usbd.c ****   {
 1110              		.loc 1 977 3 view .LVU358
 1111 00ca 0020     		movs	r0, #0
 1112              	.LVL102:
 1113              	.L55:
1070:tinyusb/src/device/usbd.c ****     }
1071:tinyusb/src/device/usbd.c ****     // break; // unreachable
1072:tinyusb/src/device/usbd.c **** 
1073:tinyusb/src/device/usbd.c ****     default: return false;
1074:tinyusb/src/device/usbd.c ****   }
1075:tinyusb/src/device/usbd.c **** }
 1114              		.loc 1 1075 1 discriminator 1 view .LVU359
 1115 00cc 38BD     		pop	{r3, r4, r5, pc}
 1116              	.LVL103:
 1117              	.L69:
 1118              	.LBB368:
1008:tinyusb/src/device/usbd.c **** 
 1119              		.loc 1 1008 42 view .LVU360
 1120 00ce 0020     		movs	r0, #0
 1121              	.LVL104:
1008:tinyusb/src/device/usbd.c **** 
 1122              		.loc 1 1008 42 view .LVU361
 1123 00d0 FCE7     		b	.L55
 1124              	.LVL105:
 1125              	.L70:
1008:tinyusb/src/device/usbd.c **** 
 1126              		.loc 1 1008 42 view .LVU362
 1127              	.LBE368:
 1128              	.LBB369:
1033:tinyusb/src/device/usbd.c ****         desc_config = (uintptr_t) tud_descriptor_other_speed_configuration_cb(desc_index);
 1129              		.loc 1 1033 9 view .LVU363
 1130 00d2 0020     		movs	r0, #0
 1131              	.LVL106:
1033:tinyusb/src/device/usbd.c ****         desc_config = (uintptr_t) tud_descriptor_other_speed_configuration_cb(desc_index);
 1132              		.loc 1 1033 9 view .LVU364
 1133 00d4 FAE7     		b	.L55
 1134              	.LVL107:
 1135              	.L71:
1033:tinyusb/src/device/usbd.c ****         desc_config = (uintptr_t) tud_descriptor_other_speed_configuration_cb(desc_index);
 1136              		.loc 1 1033 9 view .LVU365
 1137              	.LBE369:
 1138              	.LBB370:
1052:tinyusb/src/device/usbd.c **** 
 1139              		.loc 1 1052 7 view .LVU366
ARM GAS  /tmp/ccyyDEje.s 			page 58


 1140 00d6 0020     		movs	r0, #0
 1141              	.LVL108:
1052:tinyusb/src/device/usbd.c **** 
 1142              		.loc 1 1052 7 view .LVU367
 1143 00d8 F8E7     		b	.L55
 1144              	.LVL109:
 1145              	.L72:
1052:tinyusb/src/device/usbd.c **** 
 1146              		.loc 1 1052 7 view .LVU368
 1147              	.LBE370:
 1148              	.LBB371:
1063:tinyusb/src/device/usbd.c **** 
 1149              		.loc 1 1063 7 view .LVU369
 1150 00da 0020     		movs	r0, #0
 1151              	.LVL110:
1063:tinyusb/src/device/usbd.c **** 
 1152              		.loc 1 1063 7 view .LVU370
 1153 00dc F6E7     		b	.L55
 1154              	.LVL111:
 1155              	.L73:
1066:tinyusb/src/device/usbd.c **** 
 1156              		.loc 1 1066 7 view .LVU371
 1157 00de 0020     		movs	r0, #0
 1158              	.LVL112:
1066:tinyusb/src/device/usbd.c **** 
 1159              		.loc 1 1066 7 view .LVU372
 1160 00e0 F4E7     		b	.L55
 1161              	.L78:
 1162 00e2 00BF     		.align	2
 1163              	.L77:
 1164 00e4 00000000 		.word	tud_descriptor_bos_cb
 1165 00e8 00000000 		.word	tud_descriptor_other_speed_configuration_cb
 1166 00ec 00000000 		.word	tud_descriptor_device_qualifier_cb
 1167              	.LBE371:
 1168              		.cfi_endproc
 1169              	.LFE101:
 1171              		.section	.text.usbd_int_set,"ax",%progbits
 1172              		.align	1
 1173              		.global	usbd_int_set
 1174              		.syntax unified
 1175              		.thumb
 1176              		.thumb_func
 1177              		.fpu fpv4-sp-d16
 1179              	usbd_int_set:
 1180              	.LVL113:
 1181              	.LFB103:
1076:tinyusb/src/device/usbd.c **** 
1077:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
1078:tinyusb/src/device/usbd.c **** // DCD Event Handler
1079:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
1080:tinyusb/src/device/usbd.c **** TU_ATTR_FAST_FUNC void dcd_event_handler(dcd_event_t const * event, bool in_isr)
1081:tinyusb/src/device/usbd.c **** {
1082:tinyusb/src/device/usbd.c ****   switch (event->event_id)
1083:tinyusb/src/device/usbd.c ****   {
1084:tinyusb/src/device/usbd.c ****     case DCD_EVENT_UNPLUGGED:
1085:tinyusb/src/device/usbd.c ****       _usbd_dev.connected  = 0;
1086:tinyusb/src/device/usbd.c ****       _usbd_dev.addressed  = 0;
ARM GAS  /tmp/ccyyDEje.s 			page 59


1087:tinyusb/src/device/usbd.c ****       _usbd_dev.cfg_num    = 0;
1088:tinyusb/src/device/usbd.c ****       _usbd_dev.suspended  = 0;
1089:tinyusb/src/device/usbd.c ****       osal_queue_send(_usbd_q, event, in_isr);
1090:tinyusb/src/device/usbd.c ****     break;
1091:tinyusb/src/device/usbd.c **** 
1092:tinyusb/src/device/usbd.c ****     case DCD_EVENT_SUSPEND:
1093:tinyusb/src/device/usbd.c ****       // NOTE: When plugging/unplugging device, the D+/D- state are unstable and
1094:tinyusb/src/device/usbd.c ****       // can accidentally meet the SUSPEND condition ( Bus Idle for 3ms ).
1095:tinyusb/src/device/usbd.c ****       // In addition, some MCUs such as SAMD or boards that haven no VBUS detection cannot distingu
1096:tinyusb/src/device/usbd.c ****       // suspended vs disconnected. We will skip handling SUSPEND/RESUME event if not currently con
1097:tinyusb/src/device/usbd.c ****       if ( _usbd_dev.connected )
1098:tinyusb/src/device/usbd.c ****       {
1099:tinyusb/src/device/usbd.c ****         _usbd_dev.suspended = 1;
1100:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, event, in_isr);
1101:tinyusb/src/device/usbd.c ****       }
1102:tinyusb/src/device/usbd.c ****     break;
1103:tinyusb/src/device/usbd.c **** 
1104:tinyusb/src/device/usbd.c ****     case DCD_EVENT_RESUME:
1105:tinyusb/src/device/usbd.c ****       // skip event if not connected (especially required for SAMD)
1106:tinyusb/src/device/usbd.c ****       if ( _usbd_dev.connected )
1107:tinyusb/src/device/usbd.c ****       {
1108:tinyusb/src/device/usbd.c ****         _usbd_dev.suspended = 0;
1109:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, event, in_isr);
1110:tinyusb/src/device/usbd.c ****       }
1111:tinyusb/src/device/usbd.c ****     break;
1112:tinyusb/src/device/usbd.c **** 
1113:tinyusb/src/device/usbd.c ****     case DCD_EVENT_SOF:
1114:tinyusb/src/device/usbd.c ****       // SOF driver handler in ISR context
1115:tinyusb/src/device/usbd.c ****       for (uint8_t i = 0; i < TOTAL_DRIVER_COUNT; i++)
1116:tinyusb/src/device/usbd.c ****       {
1117:tinyusb/src/device/usbd.c ****         usbd_class_driver_t const * driver = get_driver(i);
1118:tinyusb/src/device/usbd.c ****         if (driver && driver->sof)
1119:tinyusb/src/device/usbd.c ****         {
1120:tinyusb/src/device/usbd.c ****           driver->sof(event->rhport, event->sof.frame_count);
1121:tinyusb/src/device/usbd.c ****         }
1122:tinyusb/src/device/usbd.c ****       }
1123:tinyusb/src/device/usbd.c **** 
1124:tinyusb/src/device/usbd.c ****       // Some MCUs after running dcd_remote_wakeup() does not have way to detect the end of remote 
1125:tinyusb/src/device/usbd.c ****       // which last 1-15 ms. DCD can use SOF as a clear indicator that bus is back to operational
1126:tinyusb/src/device/usbd.c ****       if ( _usbd_dev.suspended )
1127:tinyusb/src/device/usbd.c ****       {
1128:tinyusb/src/device/usbd.c ****         _usbd_dev.suspended = 0;
1129:tinyusb/src/device/usbd.c **** 
1130:tinyusb/src/device/usbd.c ****         dcd_event_t const event_resume = { .rhport = event->rhport, .event_id = DCD_EVENT_RESUME };
1131:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, &event_resume, in_isr);
1132:tinyusb/src/device/usbd.c ****       }
1133:tinyusb/src/device/usbd.c **** 
1134:tinyusb/src/device/usbd.c ****       // skip osal queue for SOF in usbd task
1135:tinyusb/src/device/usbd.c ****     break;
1136:tinyusb/src/device/usbd.c **** 
1137:tinyusb/src/device/usbd.c ****     default:
1138:tinyusb/src/device/usbd.c ****       osal_queue_send(_usbd_q, event, in_isr);
1139:tinyusb/src/device/usbd.c ****     break;
1140:tinyusb/src/device/usbd.c ****   }
1141:tinyusb/src/device/usbd.c **** }
1142:tinyusb/src/device/usbd.c **** 
1143:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
ARM GAS  /tmp/ccyyDEje.s 			page 60


1144:tinyusb/src/device/usbd.c **** // USBD API For Class Driver
1145:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
1146:tinyusb/src/device/usbd.c **** 
1147:tinyusb/src/device/usbd.c **** void usbd_int_set(bool enabled)
1148:tinyusb/src/device/usbd.c **** {
 1182              		.loc 1 1148 1 is_stmt 1 view -0
 1183              		.cfi_startproc
 1184              		@ args = 0, pretend = 0, frame = 0
 1185              		@ frame_needed = 0, uses_anonymous_args = 0
 1186              		.loc 1 1148 1 is_stmt 0 view .LVU374
 1187 0000 08B5     		push	{r3, lr}
 1188              	.LCFI8:
 1189              		.cfi_def_cfa_offset 8
 1190              		.cfi_offset 3, -8
 1191              		.cfi_offset 14, -4
1149:tinyusb/src/device/usbd.c ****   if (enabled)
 1192              		.loc 1 1149 3 is_stmt 1 view .LVU375
 1193              		.loc 1 1149 6 is_stmt 0 view .LVU376
 1194 0002 20B1     		cbz	r0, .L80
1150:tinyusb/src/device/usbd.c ****   {
1151:tinyusb/src/device/usbd.c ****     dcd_int_enable(_usbd_rhport);
 1195              		.loc 1 1151 5 is_stmt 1 view .LVU377
 1196 0004 044B     		ldr	r3, .L83
 1197 0006 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1198              	.LVL114:
 1199              		.loc 1 1151 5 is_stmt 0 view .LVU378
 1200 0008 FFF7FEFF 		bl	dcd_int_enable
 1201              	.LVL115:
 1202              	.L79:
1152:tinyusb/src/device/usbd.c ****   }else
1153:tinyusb/src/device/usbd.c ****   {
1154:tinyusb/src/device/usbd.c ****     dcd_int_disable(_usbd_rhport);
1155:tinyusb/src/device/usbd.c ****   }
1156:tinyusb/src/device/usbd.c **** }
 1203              		.loc 1 1156 1 view .LVU379
 1204 000c 08BD     		pop	{r3, pc}
 1205              	.LVL116:
 1206              	.L80:
1154:tinyusb/src/device/usbd.c ****   }
 1207              		.loc 1 1154 5 is_stmt 1 view .LVU380
 1208 000e 024B     		ldr	r3, .L83
 1209 0010 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1210              	.LVL117:
1154:tinyusb/src/device/usbd.c ****   }
 1211              		.loc 1 1154 5 is_stmt 0 view .LVU381
 1212 0012 FFF7FEFF 		bl	dcd_int_disable
 1213              	.LVL118:
 1214              		.loc 1 1156 1 view .LVU382
 1215 0016 F9E7     		b	.L79
 1216              	.L84:
 1217              		.align	2
 1218              	.L83:
 1219 0018 00000000 		.word	.LANCHOR4
 1220              		.cfi_endproc
 1221              	.LFE103:
 1223              		.section	.text.tud_speed_get,"ax",%progbits
 1224              		.align	1
ARM GAS  /tmp/ccyyDEje.s 			page 61


 1225              		.global	tud_speed_get
 1226              		.syntax unified
 1227              		.thumb
 1228              		.thumb_func
 1229              		.fpu fpv4-sp-d16
 1231              	tud_speed_get:
 1232              	.LFB85:
 333:tinyusb/src/device/usbd.c ****   return (tusb_speed_t) _usbd_dev.speed;
 1233              		.loc 1 333 1 is_stmt 1 view -0
 1234              		.cfi_startproc
 1235              		@ args = 0, pretend = 0, frame = 0
 1236              		@ frame_needed = 0, uses_anonymous_args = 0
 1237              		@ link register save eliminated.
 334:tinyusb/src/device/usbd.c **** }
 1238              		.loc 1 334 3 view .LVU384
 335:tinyusb/src/device/usbd.c **** 
 1239              		.loc 1 335 1 is_stmt 0 view .LVU385
 1240 0000 014B     		ldr	r3, .L86
 1241 0002 9878     		ldrb	r0, [r3, #2]	@ zero_extendqisi2
 1242 0004 7047     		bx	lr
 1243              	.L87:
 1244 0006 00BF     		.align	2
 1245              	.L86:
 1246 0008 00000000 		.word	.LANCHOR3
 1247              		.cfi_endproc
 1248              	.LFE85:
 1250              		.section	.text.tud_connected,"ax",%progbits
 1251              		.align	1
 1252              		.global	tud_connected
 1253              		.syntax unified
 1254              		.thumb
 1255              		.thumb_func
 1256              		.fpu fpv4-sp-d16
 1258              	tud_connected:
 1259              	.LFB86:
 338:tinyusb/src/device/usbd.c ****   return _usbd_dev.connected;
 1260              		.loc 1 338 1 is_stmt 1 view -0
 1261              		.cfi_startproc
 1262              		@ args = 0, pretend = 0, frame = 0
 1263              		@ frame_needed = 0, uses_anonymous_args = 0
 1264              		@ link register save eliminated.
 339:tinyusb/src/device/usbd.c **** }
 1265              		.loc 1 339 3 view .LVU387
 339:tinyusb/src/device/usbd.c **** }
 1266              		.loc 1 339 19 is_stmt 0 view .LVU388
 1267 0000 024B     		ldr	r3, .L89
 1268 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 340:tinyusb/src/device/usbd.c **** 
 1269              		.loc 1 340 1 view .LVU389
 1270 0004 00F00100 		and	r0, r0, #1
 1271 0008 7047     		bx	lr
 1272              	.L90:
 1273 000a 00BF     		.align	2
 1274              	.L89:
 1275 000c 00000000 		.word	.LANCHOR3
 1276              		.cfi_endproc
 1277              	.LFE86:
ARM GAS  /tmp/ccyyDEje.s 			page 62


 1279              		.section	.text.tud_mounted,"ax",%progbits
 1280              		.align	1
 1281              		.global	tud_mounted
 1282              		.syntax unified
 1283              		.thumb
 1284              		.thumb_func
 1285              		.fpu fpv4-sp-d16
 1287              	tud_mounted:
 1288              	.LFB87:
 343:tinyusb/src/device/usbd.c ****   return _usbd_dev.cfg_num ? true : false;
 1289              		.loc 1 343 1 is_stmt 1 view -0
 1290              		.cfi_startproc
 1291              		@ args = 0, pretend = 0, frame = 0
 1292              		@ frame_needed = 0, uses_anonymous_args = 0
 1293              		@ link register save eliminated.
 344:tinyusb/src/device/usbd.c **** }
 1294              		.loc 1 344 3 view .LVU391
 344:tinyusb/src/device/usbd.c **** }
 1295              		.loc 1 344 19 is_stmt 0 view .LVU392
 1296 0000 024B     		ldr	r3, .L92
 1297 0002 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 345:tinyusb/src/device/usbd.c **** 
 1298              		.loc 1 345 1 view .LVU393
 1299 0004 0038     		subs	r0, r0, #0
 1300 0006 18BF     		it	ne
 1301 0008 0120     		movne	r0, #1
 1302 000a 7047     		bx	lr
 1303              	.L93:
 1304              		.align	2
 1305              	.L92:
 1306 000c 00000000 		.word	.LANCHOR3
 1307              		.cfi_endproc
 1308              	.LFE87:
 1310              		.section	.text.tud_suspended,"ax",%progbits
 1311              		.align	1
 1312              		.global	tud_suspended
 1313              		.syntax unified
 1314              		.thumb
 1315              		.thumb_func
 1316              		.fpu fpv4-sp-d16
 1318              	tud_suspended:
 1319              	.LFB88:
 348:tinyusb/src/device/usbd.c ****   return _usbd_dev.suspended;
 1320              		.loc 1 348 1 is_stmt 1 view -0
 1321              		.cfi_startproc
 1322              		@ args = 0, pretend = 0, frame = 0
 1323              		@ frame_needed = 0, uses_anonymous_args = 0
 1324              		@ link register save eliminated.
 349:tinyusb/src/device/usbd.c **** }
 1325              		.loc 1 349 3 view .LVU395
 349:tinyusb/src/device/usbd.c **** }
 1326              		.loc 1 349 19 is_stmt 0 view .LVU396
 1327 0000 024B     		ldr	r3, .L95
 1328 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 350:tinyusb/src/device/usbd.c **** 
 1329              		.loc 1 350 1 view .LVU397
 1330 0004 C0F38000 		ubfx	r0, r0, #2, #1
ARM GAS  /tmp/ccyyDEje.s 			page 63


 1331 0008 7047     		bx	lr
 1332              	.L96:
 1333 000a 00BF     		.align	2
 1334              	.L95:
 1335 000c 00000000 		.word	.LANCHOR3
 1336              		.cfi_endproc
 1337              	.LFE88:
 1339              		.section	.text.tud_remote_wakeup,"ax",%progbits
 1340              		.align	1
 1341              		.global	tud_remote_wakeup
 1342              		.syntax unified
 1343              		.thumb
 1344              		.thumb_func
 1345              		.fpu fpv4-sp-d16
 1347              	tud_remote_wakeup:
 1348              	.LFB89:
 353:tinyusb/src/device/usbd.c ****   // only wake up host if this feature is supported and enabled and we are suspended
 1349              		.loc 1 353 1 is_stmt 1 view -0
 1350              		.cfi_startproc
 1351              		@ args = 0, pretend = 0, frame = 0
 1352              		@ frame_needed = 0, uses_anonymous_args = 0
 1353 0000 10B5     		push	{r4, lr}
 1354              	.LCFI9:
 1355              		.cfi_def_cfa_offset 8
 1356              		.cfi_offset 4, -8
 1357              		.cfi_offset 14, -4
 355:tinyusb/src/device/usbd.c ****   dcd_remote_wakeup(_usbd_rhport);
 1358              		.loc 1 355 3 view .LVU399
 355:tinyusb/src/device/usbd.c ****   dcd_remote_wakeup(_usbd_rhport);
 1359              		.loc 1 355 3 view .LVU400
 1360 0002 0A4B     		ldr	r3, .L102
 1361 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1362 0006 C3F38004 		ubfx	r4, r3, #2, #1
 1363 000a 13F0040F 		tst	r3, #4
 1364 000e 06D0     		beq	.L98
 355:tinyusb/src/device/usbd.c ****   dcd_remote_wakeup(_usbd_rhport);
 1365              		.loc 1 355 3 is_stmt 0 discriminator 2 view .LVU401
 1366 0010 064B     		ldr	r3, .L102
 1367 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1368 0014 03F01803 		and	r3, r3, #24
 1369 0018 182B     		cmp	r3, #24
 1370 001a 02D0     		beq	.L101
 355:tinyusb/src/device/usbd.c ****   dcd_remote_wakeup(_usbd_rhport);
 1371              		.loc 1 355 3 view .LVU402
 1372 001c 0024     		movs	r4, #0
 1373              	.L98:
 358:tinyusb/src/device/usbd.c **** 
 1374              		.loc 1 358 1 view .LVU403
 1375 001e 2046     		mov	r0, r4
 1376 0020 10BD     		pop	{r4, pc}
 1377              	.L101:
 355:tinyusb/src/device/usbd.c ****   dcd_remote_wakeup(_usbd_rhport);
 1378              		.loc 1 355 3 is_stmt 1 discriminator 4 view .LVU404
 356:tinyusb/src/device/usbd.c ****   return true;
 1379              		.loc 1 356 3 discriminator 4 view .LVU405
 1380 0022 034B     		ldr	r3, .L102+4
 1381 0024 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccyyDEje.s 			page 64


 1382 0026 FFF7FEFF 		bl	dcd_remote_wakeup
 1383              	.LVL119:
 357:tinyusb/src/device/usbd.c **** }
 1384              		.loc 1 357 3 discriminator 4 view .LVU406
 357:tinyusb/src/device/usbd.c **** }
 1385              		.loc 1 357 10 is_stmt 0 discriminator 4 view .LVU407
 1386 002a F8E7     		b	.L98
 1387              	.L103:
 1388              		.align	2
 1389              	.L102:
 1390 002c 00000000 		.word	.LANCHOR3
 1391 0030 00000000 		.word	.LANCHOR4
 1392              		.cfi_endproc
 1393              	.LFE89:
 1395              		.section	.text.tud_disconnect,"ax",%progbits
 1396              		.align	1
 1397              		.global	tud_disconnect
 1398              		.syntax unified
 1399              		.thumb
 1400              		.thumb_func
 1401              		.fpu fpv4-sp-d16
 1403              	tud_disconnect:
 1404              	.LFB90:
 361:tinyusb/src/device/usbd.c ****   TU_VERIFY(dcd_disconnect);
 1405              		.loc 1 361 1 is_stmt 1 view -0
 1406              		.cfi_startproc
 1407              		@ args = 0, pretend = 0, frame = 0
 1408              		@ frame_needed = 0, uses_anonymous_args = 0
 1409 0000 08B5     		push	{r3, lr}
 1410              	.LCFI10:
 1411              		.cfi_def_cfa_offset 8
 1412              		.cfi_offset 3, -8
 1413              		.cfi_offset 14, -4
 362:tinyusb/src/device/usbd.c ****   dcd_disconnect(_usbd_rhport);
 1414              		.loc 1 362 3 view .LVU409
 362:tinyusb/src/device/usbd.c ****   dcd_disconnect(_usbd_rhport);
 1415              		.loc 1 362 3 view .LVU410
 1416 0002 054B     		ldr	r3, .L108
 1417 0004 2BB1     		cbz	r3, .L106
 362:tinyusb/src/device/usbd.c ****   dcd_disconnect(_usbd_rhport);
 1418              		.loc 1 362 3 discriminator 2 view .LVU411
 363:tinyusb/src/device/usbd.c ****   return true;
 1419              		.loc 1 363 3 discriminator 2 view .LVU412
 1420 0006 054B     		ldr	r3, .L108+4
 1421 0008 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1422 000a FFF7FEFF 		bl	dcd_disconnect
 1423              	.LVL120:
 364:tinyusb/src/device/usbd.c **** }
 1424              		.loc 1 364 3 discriminator 2 view .LVU413
 364:tinyusb/src/device/usbd.c **** }
 1425              		.loc 1 364 10 is_stmt 0 discriminator 2 view .LVU414
 1426 000e 0120     		movs	r0, #1
 1427              	.L105:
 365:tinyusb/src/device/usbd.c **** 
 1428              		.loc 1 365 1 view .LVU415
 1429 0010 08BD     		pop	{r3, pc}
 1430              	.L106:
ARM GAS  /tmp/ccyyDEje.s 			page 65


 362:tinyusb/src/device/usbd.c ****   dcd_disconnect(_usbd_rhport);
 1431              		.loc 1 362 3 view .LVU416
 1432 0012 0020     		movs	r0, #0
 1433 0014 FCE7     		b	.L105
 1434              	.L109:
 1435 0016 00BF     		.align	2
 1436              	.L108:
 1437 0018 00000000 		.word	dcd_disconnect
 1438 001c 00000000 		.word	.LANCHOR4
 1439              		.cfi_endproc
 1440              	.LFE90:
 1442              		.section	.text.tud_connect,"ax",%progbits
 1443              		.align	1
 1444              		.global	tud_connect
 1445              		.syntax unified
 1446              		.thumb
 1447              		.thumb_func
 1448              		.fpu fpv4-sp-d16
 1450              	tud_connect:
 1451              	.LFB91:
 368:tinyusb/src/device/usbd.c ****   TU_VERIFY(dcd_connect);
 1452              		.loc 1 368 1 is_stmt 1 view -0
 1453              		.cfi_startproc
 1454              		@ args = 0, pretend = 0, frame = 0
 1455              		@ frame_needed = 0, uses_anonymous_args = 0
 1456 0000 08B5     		push	{r3, lr}
 1457              	.LCFI11:
 1458              		.cfi_def_cfa_offset 8
 1459              		.cfi_offset 3, -8
 1460              		.cfi_offset 14, -4
 369:tinyusb/src/device/usbd.c ****   dcd_connect(_usbd_rhport);
 1461              		.loc 1 369 3 view .LVU418
 369:tinyusb/src/device/usbd.c ****   dcd_connect(_usbd_rhport);
 1462              		.loc 1 369 3 view .LVU419
 1463 0002 054B     		ldr	r3, .L114
 1464 0004 2BB1     		cbz	r3, .L112
 369:tinyusb/src/device/usbd.c ****   dcd_connect(_usbd_rhport);
 1465              		.loc 1 369 3 discriminator 2 view .LVU420
 370:tinyusb/src/device/usbd.c ****   return true;
 1466              		.loc 1 370 3 discriminator 2 view .LVU421
 1467 0006 054B     		ldr	r3, .L114+4
 1468 0008 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1469 000a FFF7FEFF 		bl	dcd_connect
 1470              	.LVL121:
 371:tinyusb/src/device/usbd.c **** }
 1471              		.loc 1 371 3 discriminator 2 view .LVU422
 371:tinyusb/src/device/usbd.c **** }
 1472              		.loc 1 371 10 is_stmt 0 discriminator 2 view .LVU423
 1473 000e 0120     		movs	r0, #1
 1474              	.L111:
 372:tinyusb/src/device/usbd.c **** 
 1475              		.loc 1 372 1 view .LVU424
 1476 0010 08BD     		pop	{r3, pc}
 1477              	.L112:
 369:tinyusb/src/device/usbd.c ****   dcd_connect(_usbd_rhport);
 1478              		.loc 1 369 3 view .LVU425
 1479 0012 0020     		movs	r0, #0
ARM GAS  /tmp/ccyyDEje.s 			page 66


 1480 0014 FCE7     		b	.L111
 1481              	.L115:
 1482 0016 00BF     		.align	2
 1483              	.L114:
 1484 0018 00000000 		.word	dcd_connect
 1485 001c 00000000 		.word	.LANCHOR4
 1486              		.cfi_endproc
 1487              	.LFE91:
 1489              		.section	.text.tud_inited,"ax",%progbits
 1490              		.align	1
 1491              		.global	tud_inited
 1492              		.syntax unified
 1493              		.thumb
 1494              		.thumb_func
 1495              		.fpu fpv4-sp-d16
 1497              	tud_inited:
 1498              	.LFB92:
 378:tinyusb/src/device/usbd.c ****   return _usbd_rhport != RHPORT_INVALID;
 1499              		.loc 1 378 1 is_stmt 1 view -0
 1500              		.cfi_startproc
 1501              		@ args = 0, pretend = 0, frame = 0
 1502              		@ frame_needed = 0, uses_anonymous_args = 0
 1503              		@ link register save eliminated.
 379:tinyusb/src/device/usbd.c **** }
 1504              		.loc 1 379 3 view .LVU427
 379:tinyusb/src/device/usbd.c **** }
 1505              		.loc 1 379 23 is_stmt 0 view .LVU428
 1506 0000 024B     		ldr	r3, .L117
 1507 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 380:tinyusb/src/device/usbd.c **** 
 1508              		.loc 1 380 1 view .LVU429
 1509 0004 FF38     		subs	r0, r0, #255
 1510 0006 18BF     		it	ne
 1511 0008 0120     		movne	r0, #1
 1512 000a 7047     		bx	lr
 1513              	.L118:
 1514              		.align	2
 1515              	.L117:
 1516 000c 00000000 		.word	.LANCHOR4
 1517              		.cfi_endproc
 1518              	.LFE92:
 1520              		.section	.text.tud_init,"ax",%progbits
 1521              		.align	1
 1522              		.global	tud_init
 1523              		.syntax unified
 1524              		.thumb
 1525              		.thumb_func
 1526              		.fpu fpv4-sp-d16
 1528              	tud_init:
 1529              	.LVL122:
 1530              	.LFB93:
 383:tinyusb/src/device/usbd.c ****   // skip if already initialized
 1531              		.loc 1 383 1 is_stmt 1 view -0
 1532              		.cfi_startproc
 1533              		@ args = 0, pretend = 0, frame = 0
 1534              		@ frame_needed = 0, uses_anonymous_args = 0
 383:tinyusb/src/device/usbd.c ****   // skip if already initialized
ARM GAS  /tmp/ccyyDEje.s 			page 67


 1535              		.loc 1 383 1 is_stmt 0 view .LVU431
 1536 0000 70B5     		push	{r4, r5, r6, lr}
 1537              	.LCFI12:
 1538              		.cfi_def_cfa_offset 16
 1539              		.cfi_offset 4, -16
 1540              		.cfi_offset 5, -12
 1541              		.cfi_offset 6, -8
 1542              		.cfi_offset 14, -4
 1543 0002 0546     		mov	r5, r0
 385:tinyusb/src/device/usbd.c **** 
 1544              		.loc 1 385 3 is_stmt 1 view .LVU432
 385:tinyusb/src/device/usbd.c **** 
 1545              		.loc 1 385 8 is_stmt 0 view .LVU433
 1546 0004 FFF7FEFF 		bl	tud_inited
 1547              	.LVL123:
 385:tinyusb/src/device/usbd.c **** 
 1548              		.loc 1 385 6 view .LVU434
 1549 0008 0646     		mov	r6, r0
 1550 000a 08B1     		cbz	r0, .L129
 1551              	.L120:
 426:tinyusb/src/device/usbd.c **** 
 1552              		.loc 1 426 1 view .LVU435
 1553 000c 3046     		mov	r0, r6
 1554 000e 70BD     		pop	{r4, r5, r6, pc}
 1555              	.L129:
 387:tinyusb/src/device/usbd.c ****   TU_LOG_INT(CFG_TUD_LOG_LEVEL, sizeof(usbd_device_t));
 1556              		.loc 1 387 56 is_stmt 1 view .LVU436
 388:tinyusb/src/device/usbd.c ****   TU_LOG_INT(CFG_TUD_LOG_LEVEL, sizeof(tu_fifo_t));
 1557              		.loc 1 388 55 view .LVU437
 389:tinyusb/src/device/usbd.c ****   TU_LOG_INT(CFG_TUD_LOG_LEVEL, sizeof(tu_edpt_stream_t));
 1558              		.loc 1 389 51 view .LVU438
 390:tinyusb/src/device/usbd.c **** 
 1559              		.loc 1 390 58 view .LVU439
 392:tinyusb/src/device/usbd.c **** 
 1560              		.loc 1 392 3 view .LVU440
 1561 0010 2B22     		movs	r2, #43
 1562 0012 0021     		movs	r1, #0
 1563 0014 1E48     		ldr	r0, .L132
 1564 0016 FFF7FEFF 		bl	memset
 1565              	.LVL124:
 401:tinyusb/src/device/usbd.c ****   TU_ASSERT(_usbd_q);
 1566              		.loc 1 401 3 view .LVU441
 1567              	.LBB372:
 1568              	.LBI372:
 1569              		.file 4 "tinyusb/src/osal/osal_none.h"
   1:tinyusb/src/osal/osal_none.h **** /*
   2:tinyusb/src/osal/osal_none.h ****  * The MIT License (MIT)
   3:tinyusb/src/osal/osal_none.h ****  *
   4:tinyusb/src/osal/osal_none.h ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/osal/osal_none.h ****  *
   6:tinyusb/src/osal/osal_none.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/osal/osal_none.h ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/osal/osal_none.h ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/osal/osal_none.h ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  10:tinyusb/src/osal/osal_none.h ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/osal/osal_none.h ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/osal/osal_none.h ****  *
ARM GAS  /tmp/ccyyDEje.s 			page 68


  13:tinyusb/src/osal/osal_none.h ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/osal/osal_none.h ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/osal/osal_none.h ****  *
  16:tinyusb/src/osal/osal_none.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  17:tinyusb/src/osal/osal_none.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/osal/osal_none.h ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/osal/osal_none.h ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/osal/osal_none.h ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/osal/osal_none.h ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/osal/osal_none.h ****  * THE SOFTWARE.
  23:tinyusb/src/osal/osal_none.h ****  *
  24:tinyusb/src/osal/osal_none.h ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/osal/osal_none.h ****  */
  26:tinyusb/src/osal/osal_none.h **** 
  27:tinyusb/src/osal/osal_none.h **** #ifndef _TUSB_OSAL_NONE_H_
  28:tinyusb/src/osal/osal_none.h **** #define _TUSB_OSAL_NONE_H_
  29:tinyusb/src/osal/osal_none.h **** 
  30:tinyusb/src/osal/osal_none.h **** #ifdef __cplusplus
  31:tinyusb/src/osal/osal_none.h ****  extern "C" {
  32:tinyusb/src/osal/osal_none.h **** #endif
  33:tinyusb/src/osal/osal_none.h **** 
  34:tinyusb/src/osal/osal_none.h **** //--------------------------------------------------------------------+
  35:tinyusb/src/osal/osal_none.h **** // TASK API
  36:tinyusb/src/osal/osal_none.h **** //--------------------------------------------------------------------+
  37:tinyusb/src/osal/osal_none.h **** 
  38:tinyusb/src/osal/osal_none.h **** #if CFG_TUH_ENABLED
  39:tinyusb/src/osal/osal_none.h **** // currently only needed/available in host mode
  40:tinyusb/src/osal/osal_none.h **** TU_ATTR_WEAK void osal_task_delay(uint32_t msec);
  41:tinyusb/src/osal/osal_none.h **** #endif
  42:tinyusb/src/osal/osal_none.h **** 
  43:tinyusb/src/osal/osal_none.h **** //--------------------------------------------------------------------+
  44:tinyusb/src/osal/osal_none.h **** // Binary Semaphore API
  45:tinyusb/src/osal/osal_none.h **** //--------------------------------------------------------------------+
  46:tinyusb/src/osal/osal_none.h **** typedef struct
  47:tinyusb/src/osal/osal_none.h **** {
  48:tinyusb/src/osal/osal_none.h ****   volatile uint16_t count;
  49:tinyusb/src/osal/osal_none.h **** }osal_semaphore_def_t;
  50:tinyusb/src/osal/osal_none.h **** 
  51:tinyusb/src/osal/osal_none.h **** typedef osal_semaphore_def_t* osal_semaphore_t;
  52:tinyusb/src/osal/osal_none.h **** 
  53:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline osal_semaphore_t osal_semaphore_create(osal_semaphore_def_t* se
  54:tinyusb/src/osal/osal_none.h **** {
  55:tinyusb/src/osal/osal_none.h ****   semdef->count = 0;
  56:tinyusb/src/osal/osal_none.h ****   return semdef;
  57:tinyusb/src/osal/osal_none.h **** }
  58:tinyusb/src/osal/osal_none.h **** 
  59:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline bool osal_semaphore_post(osal_semaphore_t sem_hdl, bool in_isr)
  60:tinyusb/src/osal/osal_none.h **** {
  61:tinyusb/src/osal/osal_none.h ****   (void) in_isr;
  62:tinyusb/src/osal/osal_none.h ****   sem_hdl->count++;
  63:tinyusb/src/osal/osal_none.h ****   return true;
  64:tinyusb/src/osal/osal_none.h **** }
  65:tinyusb/src/osal/osal_none.h **** 
  66:tinyusb/src/osal/osal_none.h **** // TODO blocking for now
  67:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline bool osal_semaphore_wait (osal_semaphore_t sem_hdl, uint32_t ms
  68:tinyusb/src/osal/osal_none.h **** {
  69:tinyusb/src/osal/osal_none.h ****   (void) msec;
ARM GAS  /tmp/ccyyDEje.s 			page 69


  70:tinyusb/src/osal/osal_none.h **** 
  71:tinyusb/src/osal/osal_none.h ****   while (sem_hdl->count == 0) { }
  72:tinyusb/src/osal/osal_none.h ****   sem_hdl->count--;
  73:tinyusb/src/osal/osal_none.h **** 
  74:tinyusb/src/osal/osal_none.h ****   return true;
  75:tinyusb/src/osal/osal_none.h **** }
  76:tinyusb/src/osal/osal_none.h **** 
  77:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline void osal_semaphore_reset(osal_semaphore_t sem_hdl)
  78:tinyusb/src/osal/osal_none.h **** {
  79:tinyusb/src/osal/osal_none.h ****   sem_hdl->count = 0;
  80:tinyusb/src/osal/osal_none.h **** }
  81:tinyusb/src/osal/osal_none.h **** 
  82:tinyusb/src/osal/osal_none.h **** //--------------------------------------------------------------------+
  83:tinyusb/src/osal/osal_none.h **** // MUTEX API
  84:tinyusb/src/osal/osal_none.h **** // Within tinyusb, mutex is never used in ISR context
  85:tinyusb/src/osal/osal_none.h **** //--------------------------------------------------------------------+
  86:tinyusb/src/osal/osal_none.h **** typedef osal_semaphore_def_t osal_mutex_def_t;
  87:tinyusb/src/osal/osal_none.h **** typedef osal_semaphore_t osal_mutex_t;
  88:tinyusb/src/osal/osal_none.h **** 
  89:tinyusb/src/osal/osal_none.h **** #if OSAL_MUTEX_REQUIRED
  90:tinyusb/src/osal/osal_none.h **** // Note: multiple cores MCUs usually do provide IPC API for mutex
  91:tinyusb/src/osal/osal_none.h **** // or we can use std atomic function
  92:tinyusb/src/osal/osal_none.h **** 
  93:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline osal_mutex_t osal_mutex_create(osal_mutex_def_t* mdef)
  94:tinyusb/src/osal/osal_none.h **** {
  95:tinyusb/src/osal/osal_none.h ****   mdef->count = 1;
  96:tinyusb/src/osal/osal_none.h ****   return mdef;
  97:tinyusb/src/osal/osal_none.h **** }
  98:tinyusb/src/osal/osal_none.h **** 
  99:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline bool osal_mutex_lock (osal_mutex_t mutex_hdl, uint32_t msec)
 100:tinyusb/src/osal/osal_none.h **** {
 101:tinyusb/src/osal/osal_none.h ****   return osal_semaphore_wait(mutex_hdl, msec);
 102:tinyusb/src/osal/osal_none.h **** }
 103:tinyusb/src/osal/osal_none.h **** 
 104:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline bool osal_mutex_unlock(osal_mutex_t mutex_hdl)
 105:tinyusb/src/osal/osal_none.h **** {
 106:tinyusb/src/osal/osal_none.h ****   return osal_semaphore_post(mutex_hdl, false);
 107:tinyusb/src/osal/osal_none.h **** }
 108:tinyusb/src/osal/osal_none.h **** 
 109:tinyusb/src/osal/osal_none.h **** #else
 110:tinyusb/src/osal/osal_none.h **** 
 111:tinyusb/src/osal/osal_none.h **** #define osal_mutex_create(_mdef)          (NULL)
 112:tinyusb/src/osal/osal_none.h **** #define osal_mutex_lock(_mutex_hdl, _ms)  (true)
 113:tinyusb/src/osal/osal_none.h **** #define osal_mutex_unlock(_mutex_hdl)     (true)
 114:tinyusb/src/osal/osal_none.h **** 
 115:tinyusb/src/osal/osal_none.h **** #endif
 116:tinyusb/src/osal/osal_none.h **** 
 117:tinyusb/src/osal/osal_none.h **** //--------------------------------------------------------------------+
 118:tinyusb/src/osal/osal_none.h **** // QUEUE API
 119:tinyusb/src/osal/osal_none.h **** //--------------------------------------------------------------------+
 120:tinyusb/src/osal/osal_none.h **** #include "common/tusb_fifo.h"
 121:tinyusb/src/osal/osal_none.h **** 
 122:tinyusb/src/osal/osal_none.h **** typedef struct
 123:tinyusb/src/osal/osal_none.h **** {
 124:tinyusb/src/osal/osal_none.h ****   void (*interrupt_set)(bool);
 125:tinyusb/src/osal/osal_none.h ****   tu_fifo_t ff;
 126:tinyusb/src/osal/osal_none.h **** }osal_queue_def_t;
ARM GAS  /tmp/ccyyDEje.s 			page 70


 127:tinyusb/src/osal/osal_none.h **** 
 128:tinyusb/src/osal/osal_none.h **** typedef osal_queue_def_t* osal_queue_t;
 129:tinyusb/src/osal/osal_none.h **** 
 130:tinyusb/src/osal/osal_none.h **** // _int_set is used as mutex in OS NONE (disable/enable USB ISR)
 131:tinyusb/src/osal/osal_none.h **** #define OSAL_QUEUE_DEF(_int_set, _name, _depth, _type)    \
 132:tinyusb/src/osal/osal_none.h ****   uint8_t _name##_buf[_depth*sizeof(_type)];              \
 133:tinyusb/src/osal/osal_none.h ****   osal_queue_def_t _name = {                              \
 134:tinyusb/src/osal/osal_none.h ****     .interrupt_set = _int_set,                            \
 135:tinyusb/src/osal/osal_none.h ****     .ff = TU_FIFO_INIT(_name##_buf, _depth, _type, false) \
 136:tinyusb/src/osal/osal_none.h ****   }
 137:tinyusb/src/osal/osal_none.h **** 
 138:tinyusb/src/osal/osal_none.h **** // lock queue by disable USB interrupt
 139:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline void _osal_q_lock(osal_queue_t qhdl)
 140:tinyusb/src/osal/osal_none.h **** {
 141:tinyusb/src/osal/osal_none.h ****   // disable dcd/hcd interrupt
 142:tinyusb/src/osal/osal_none.h ****   qhdl->interrupt_set(false);
 143:tinyusb/src/osal/osal_none.h **** }
 144:tinyusb/src/osal/osal_none.h **** 
 145:tinyusb/src/osal/osal_none.h **** // unlock queue
 146:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline void _osal_q_unlock(osal_queue_t qhdl)
 147:tinyusb/src/osal/osal_none.h **** {
 148:tinyusb/src/osal/osal_none.h ****   // enable dcd/hcd interrupt
 149:tinyusb/src/osal/osal_none.h ****   qhdl->interrupt_set(true);
 150:tinyusb/src/osal/osal_none.h **** }
 151:tinyusb/src/osal/osal_none.h **** 
 152:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline osal_queue_t osal_queue_create(osal_queue_def_t* qdef)
 1570              		.loc 4 152 50 view .LVU442
 1571              	.LBB373:
 153:tinyusb/src/osal/osal_none.h **** {
 154:tinyusb/src/osal/osal_none.h ****   tu_fifo_clear(&qdef->ff);
 1572              		.loc 4 154 3 view .LVU443
 1573 001a 1E4C     		ldr	r4, .L132+4
 1574 001c 201D     		adds	r0, r4, #4
 1575 001e FFF7FEFF 		bl	tu_fifo_clear
 1576              	.LVL125:
 155:tinyusb/src/osal/osal_none.h ****   return (osal_queue_t) qdef;
 1577              		.loc 4 155 3 view .LVU444
 1578              		.loc 4 155 3 is_stmt 0 view .LVU445
 1579              	.LBE373:
 1580              	.LBE372:
 401:tinyusb/src/device/usbd.c ****   TU_ASSERT(_usbd_q);
 1581              		.loc 1 401 11 view .LVU446
 1582 0022 1D4B     		ldr	r3, .L132+8
 1583 0024 1C60     		str	r4, [r3]
 402:tinyusb/src/device/usbd.c **** 
 1584              		.loc 1 402 3 is_stmt 1 view .LVU447
 402:tinyusb/src/device/usbd.c **** 
 1585              		.loc 1 402 3 view .LVU448
 402:tinyusb/src/device/usbd.c **** 
 1586              		.loc 1 402 3 view .LVU449
 405:tinyusb/src/device/usbd.c ****   {
 1587              		.loc 1 405 3 view .LVU450
 405:tinyusb/src/device/usbd.c ****   {
 1588              		.loc 1 405 6 is_stmt 0 view .LVU451
 1589 0026 1D4B     		ldr	r3, .L132+12
 1590 0028 23B1     		cbz	r3, .L121
 407:tinyusb/src/device/usbd.c ****   }
ARM GAS  /tmp/ccyyDEje.s 			page 71


 1591              		.loc 1 407 5 is_stmt 1 view .LVU452
 407:tinyusb/src/device/usbd.c ****   }
 1592              		.loc 1 407 19 is_stmt 0 view .LVU453
 1593 002a 1D48     		ldr	r0, .L132+16
 1594 002c FFF7FEFF 		bl	usbd_app_driver_get_cb
 1595              	.LVL126:
 407:tinyusb/src/device/usbd.c ****   }
 1596              		.loc 1 407 17 view .LVU454
 1597 0030 1C4B     		ldr	r3, .L132+20
 1598 0032 1860     		str	r0, [r3]
 1599              	.L121:
 383:tinyusb/src/device/usbd.c ****   // skip if already initialized
 1600              		.loc 1 383 1 discriminator 2 view .LVU455
 1601 0034 0024     		movs	r4, #0
 1602 0036 0AE0     		b	.L122
 1603              	.LVL127:
 1604              	.L123:
 1605              	.LBB374:
 1606              	.LBB375:
 1607              	.LBB376:
 1608              	.LBB377:
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 1609              		.loc 1 252 10 is_stmt 1 view .LVU456
 253:tinyusb/src/device/usbd.c ****   }
 1610              		.loc 1 253 5 view .LVU457
 253:tinyusb/src/device/usbd.c ****   }
 1611              		.loc 1 253 34 is_stmt 0 view .LVU458
 1612 0038 E31A     		subs	r3, r4, r3
 253:tinyusb/src/device/usbd.c ****   }
 1613              		.loc 1 253 12 view .LVU459
 1614 003a 03EB4303 		add	r3, r3, r3, lsl #1
 1615 003e 1A4A     		ldr	r2, .L132+24
 1616 0040 02EBC303 		add	r3, r2, r3, lsl #3
 1617              	.LVL128:
 1618              	.L124:
 256:tinyusb/src/device/usbd.c **** }
 1619              		.loc 1 256 3 is_stmt 1 view .LVU460
 256:tinyusb/src/device/usbd.c **** }
 1620              		.loc 1 256 3 is_stmt 0 view .LVU461
 1621              	.LBE377:
 1622              	.LBE376:
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1623              		.loc 1 414 5 is_stmt 1 view .LVU462
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1624              		.loc 1 414 5 view .LVU463
 1625 0044 83B1     		cbz	r3, .L130
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1626              		.loc 1 414 5 discriminator 2 view .LVU464
 415:tinyusb/src/device/usbd.c ****     driver->init();
 1627              		.loc 1 415 45 discriminator 2 view .LVU465
 416:tinyusb/src/device/usbd.c ****   }
 1628              		.loc 1 416 5 discriminator 2 view .LVU466
 416:tinyusb/src/device/usbd.c ****   }
 1629              		.loc 1 416 11 is_stmt 0 discriminator 2 view .LVU467
 1630 0046 1B68     		ldr	r3, [r3]
 1631              	.LVL129:
 416:tinyusb/src/device/usbd.c ****   }
ARM GAS  /tmp/ccyyDEje.s 			page 72


 1632              		.loc 1 416 5 discriminator 2 view .LVU468
 1633 0048 9847     		blx	r3
 1634              	.LVL130:
 1635              	.LBE375:
 411:tinyusb/src/device/usbd.c ****   {
 1636              		.loc 1 411 47 is_stmt 1 discriminator 2 view .LVU469
 411:tinyusb/src/device/usbd.c ****   {
 1637              		.loc 1 411 48 is_stmt 0 discriminator 2 view .LVU470
 1638 004a 0134     		adds	r4, r4, #1
 1639              	.LVL131:
 411:tinyusb/src/device/usbd.c ****   {
 1640              		.loc 1 411 48 discriminator 2 view .LVU471
 1641 004c E4B2     		uxtb	r4, r4
 1642              	.LVL132:
 1643              	.L122:
 411:tinyusb/src/device/usbd.c ****   {
 1644              		.loc 1 411 23 is_stmt 1 discriminator 2 view .LVU472
 411:tinyusb/src/device/usbd.c ****   {
 1645              		.loc 1 411 25 is_stmt 0 discriminator 2 view .LVU473
 1646 004e 144B     		ldr	r3, .L132+16
 1647 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 411:tinyusb/src/device/usbd.c ****   {
 1648              		.loc 1 411 3 discriminator 2 view .LVU474
 1649 0052 A342     		cmp	r3, r4
 1650 0054 11D3     		bcc	.L131
 1651              	.LBB381:
 413:tinyusb/src/device/usbd.c ****     TU_ASSERT(driver);
 1652              		.loc 1 413 5 is_stmt 1 view .LVU475
 1653              	.LVL133:
 1654              	.LBB379:
 1655              	.LBI376:
 245:tinyusb/src/device/usbd.c **** {
 1656              		.loc 1 245 43 view .LVU476
 1657              	.LBB378:
 247:tinyusb/src/device/usbd.c **** 
 1658              		.loc 1 247 3 view .LVU477
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 1659              		.loc 1 249 3 view .LVU478
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 1660              		.loc 1 249 6 is_stmt 0 view .LVU479
 1661 0056 A342     		cmp	r3, r4
 1662 0058 EED9     		bls	.L123
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 1663              		.loc 1 251 5 is_stmt 1 view .LVU480
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 1664              		.loc 1 251 14 is_stmt 0 view .LVU481
 1665 005a 124B     		ldr	r3, .L132+20
 1666 005c 1B68     		ldr	r3, [r3]
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 1667              		.loc 1 251 26 view .LVU482
 1668 005e 04EB4402 		add	r2, r4, r4, lsl #1
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 1669              		.loc 1 251 12 view .LVU483
 1670 0062 03EBC203 		add	r3, r3, r2, lsl #3
 1671              	.LVL134:
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 1672              		.loc 1 251 12 view .LVU484
ARM GAS  /tmp/ccyyDEje.s 			page 73


 1673 0066 EDE7     		b	.L124
 1674              	.LVL135:
 1675              	.L130:
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 1676              		.loc 1 251 12 view .LVU485
 1677              	.LBE378:
 1678              	.LBE379:
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1679              		.loc 1 414 5 is_stmt 1 discriminator 1 view .LVU486
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1680              		.loc 1 414 5 discriminator 1 view .LVU487
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1681              		.loc 1 414 5 discriminator 1 view .LVU488
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1682              		.loc 1 414 5 discriminator 1 view .LVU489
 1683              	.LBB380:
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1684              		.loc 1 414 5 discriminator 1 view .LVU490
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1685              		.loc 1 414 5 discriminator 1 view .LVU491
 1686 0068 4FF0E023 		mov	r3, #-536813568
 1687              	.LVL136:
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1688              		.loc 1 414 5 is_stmt 0 discriminator 1 view .LVU492
 1689 006c D3F8F03D 		ldr	r3, [r3, #3568]
 1690 0070 13F0010F 		tst	r3, #1
 1691 0074 CAD0     		beq	.L120
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1692              		.loc 1 414 5 is_stmt 1 discriminator 3 view .LVU493
 1693              		.syntax unified
 1694              	@ 414 "tinyusb/src/device/usbd.c" 1
 1695 0076 00BE     		BKPT #0
 1696              	
 1697              	@ 0 "" 2
 1698              		.thumb
 1699              		.syntax unified
 1700              	.LBE380:
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1701              		.loc 1 414 5 discriminator 3 view .LVU494
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1702              		.loc 1 414 5 discriminator 3 view .LVU495
 1703 0078 C8E7     		b	.L120
 1704              	.LVL137:
 1705              	.L131:
 414:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("%s init\r\n", driver->name);
 1706              		.loc 1 414 5 is_stmt 0 discriminator 3 view .LVU496
 1707              	.LBE381:
 1708              	.LBE374:
 419:tinyusb/src/device/usbd.c **** 
 1709              		.loc 1 419 3 is_stmt 1 view .LVU497
 419:tinyusb/src/device/usbd.c **** 
 1710              		.loc 1 419 16 is_stmt 0 view .LVU498
 1711 007a 0C4B     		ldr	r3, .L132+28
 1712 007c 1D70     		strb	r5, [r3]
 422:tinyusb/src/device/usbd.c ****   dcd_int_enable(rhport);
 1713              		.loc 1 422 3 is_stmt 1 view .LVU499
 1714 007e 2846     		mov	r0, r5
ARM GAS  /tmp/ccyyDEje.s 			page 74


 1715 0080 FFF7FEFF 		bl	dcd_init
 1716              	.LVL138:
 423:tinyusb/src/device/usbd.c **** 
 1717              		.loc 1 423 3 view .LVU500
 1718 0084 2846     		mov	r0, r5
 1719 0086 FFF7FEFF 		bl	dcd_int_enable
 1720              	.LVL139:
 425:tinyusb/src/device/usbd.c **** }
 1721              		.loc 1 425 3 view .LVU501
 425:tinyusb/src/device/usbd.c **** }
 1722              		.loc 1 425 10 is_stmt 0 view .LVU502
 1723 008a 0126     		movs	r6, #1
 1724 008c BEE7     		b	.L120
 1725              	.L133:
 1726 008e 00BF     		.align	2
 1727              	.L132:
 1728 0090 00000000 		.word	.LANCHOR3
 1729 0094 00000000 		.word	.LANCHOR5
 1730 0098 00000000 		.word	.LANCHOR6
 1731 009c 00000000 		.word	usbd_app_driver_get_cb
 1732 00a0 00000000 		.word	.LANCHOR2
 1733 00a4 00000000 		.word	.LANCHOR0
 1734 00a8 00000000 		.word	.LANCHOR1
 1735 00ac 00000000 		.word	.LANCHOR4
 1736              		.cfi_endproc
 1737              	.LFE93:
 1739              		.section	.text.tud_task_event_ready,"ax",%progbits
 1740              		.align	1
 1741              		.global	tud_task_event_ready
 1742              		.syntax unified
 1743              		.thumb
 1744              		.thumb_func
 1745              		.fpu fpv4-sp-d16
 1747              	tud_task_event_ready:
 1748              	.LFB96:
 449:tinyusb/src/device/usbd.c ****   // Skip if stack is not initialized
 1749              		.loc 1 449 1 is_stmt 1 view -0
 1750              		.cfi_startproc
 1751              		@ args = 0, pretend = 0, frame = 0
 1752              		@ frame_needed = 0, uses_anonymous_args = 0
 1753 0000 08B5     		push	{r3, lr}
 1754              	.LCFI13:
 1755              		.cfi_def_cfa_offset 8
 1756              		.cfi_offset 3, -8
 1757              		.cfi_offset 14, -4
 451:tinyusb/src/device/usbd.c **** 
 1758              		.loc 1 451 3 view .LVU504
 451:tinyusb/src/device/usbd.c **** 
 1759              		.loc 1 451 9 is_stmt 0 view .LVU505
 1760 0002 FFF7FEFF 		bl	tud_inited
 1761              	.LVL140:
 451:tinyusb/src/device/usbd.c **** 
 1762              		.loc 1 451 6 view .LVU506
 1763 0006 00B9     		cbnz	r0, .L137
 1764              	.L135:
 454:tinyusb/src/device/usbd.c **** 
 1765              		.loc 1 454 1 view .LVU507
ARM GAS  /tmp/ccyyDEje.s 			page 75


 1766 0008 08BD     		pop	{r3, pc}
 1767              	.L137:
 453:tinyusb/src/device/usbd.c **** }
 1768              		.loc 1 453 3 is_stmt 1 view .LVU508
 453:tinyusb/src/device/usbd.c **** }
 1769              		.loc 1 453 11 is_stmt 0 view .LVU509
 1770 000a 044B     		ldr	r3, .L138
 1771 000c 1868     		ldr	r0, [r3]
 1772              	.LVL141:
 1773              	.LBB382:
 1774              	.LBI382:
 156:tinyusb/src/osal/osal_none.h **** }
 157:tinyusb/src/osal/osal_none.h **** 
 158:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline bool osal_queue_receive(osal_queue_t qhdl, void* data, uint32_t
 159:tinyusb/src/osal/osal_none.h **** {
 160:tinyusb/src/osal/osal_none.h ****   (void) msec; // not used, always behave as msec = 0
 161:tinyusb/src/osal/osal_none.h **** 
 162:tinyusb/src/osal/osal_none.h ****   _osal_q_lock(qhdl);
 163:tinyusb/src/osal/osal_none.h ****   bool success = tu_fifo_read(&qhdl->ff, data);
 164:tinyusb/src/osal/osal_none.h ****   _osal_q_unlock(qhdl);
 165:tinyusb/src/osal/osal_none.h **** 
 166:tinyusb/src/osal/osal_none.h ****   return success;
 167:tinyusb/src/osal/osal_none.h **** }
 168:tinyusb/src/osal/osal_none.h **** 
 169:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline bool osal_queue_send(osal_queue_t qhdl, void const * data, bool
 170:tinyusb/src/osal/osal_none.h **** {
 171:tinyusb/src/osal/osal_none.h ****   if (!in_isr) {
 172:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 173:tinyusb/src/osal/osal_none.h ****   }
 174:tinyusb/src/osal/osal_none.h **** 
 175:tinyusb/src/osal/osal_none.h ****   bool success = tu_fifo_write(&qhdl->ff, data);
 176:tinyusb/src/osal/osal_none.h **** 
 177:tinyusb/src/osal/osal_none.h ****   if (!in_isr) {
 178:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 179:tinyusb/src/osal/osal_none.h ****   }
 180:tinyusb/src/osal/osal_none.h **** 
 181:tinyusb/src/osal/osal_none.h ****   TU_ASSERT(success);
 182:tinyusb/src/osal/osal_none.h **** 
 183:tinyusb/src/osal/osal_none.h ****   return success;
 184:tinyusb/src/osal/osal_none.h **** }
 185:tinyusb/src/osal/osal_none.h **** 
 186:tinyusb/src/osal/osal_none.h **** TU_ATTR_ALWAYS_INLINE static inline bool osal_queue_empty(osal_queue_t qhdl)
 1775              		.loc 4 186 42 is_stmt 1 view .LVU510
 1776              	.LBB383:
 187:tinyusb/src/osal/osal_none.h **** {
 188:tinyusb/src/osal/osal_none.h ****   // Skip queue lock/unlock since this function is primarily called
 189:tinyusb/src/osal/osal_none.h ****   // with interrupt disabled before going into low power mode
 190:tinyusb/src/osal/osal_none.h ****   return tu_fifo_empty(&qhdl->ff);
 1777              		.loc 4 190 3 view .LVU511
 1778              		.loc 4 190 10 is_stmt 0 view .LVU512
 1779 000e 0430     		adds	r0, r0, #4
 1780              	.LVL142:
 1781              		.loc 4 190 10 view .LVU513
 1782 0010 FFF7FEFF 		bl	tu_fifo_empty
 1783              	.LVL143:
 1784              		.loc 4 190 10 view .LVU514
 1785              	.LBE383:
ARM GAS  /tmp/ccyyDEje.s 			page 76


 1786              	.LBE382:
 453:tinyusb/src/device/usbd.c **** }
 1787              		.loc 1 453 3 view .LVU515
 1788 0014 80F00100 		eor	r0, r0, #1
 1789 0018 C0B2     		uxtb	r0, r0
 453:tinyusb/src/device/usbd.c **** }
 1790              		.loc 1 453 10 view .LVU516
 1791 001a F5E7     		b	.L135
 1792              	.L139:
 1793              		.align	2
 1794              	.L138:
 1795 001c 00000000 		.word	.LANCHOR6
 1796              		.cfi_endproc
 1797              	.LFE96:
 1799              		.section	.text.dcd_event_handler,"ax",%progbits
 1800              		.align	1
 1801              		.global	dcd_event_handler
 1802              		.syntax unified
 1803              		.thumb
 1804              		.thumb_func
 1805              		.fpu fpv4-sp-d16
 1807              	dcd_event_handler:
 1808              	.LVL144:
 1809              	.LFB102:
1081:tinyusb/src/device/usbd.c ****   switch (event->event_id)
 1810              		.loc 1 1081 1 is_stmt 1 view -0
 1811              		.cfi_startproc
 1812              		@ args = 0, pretend = 0, frame = 16
 1813              		@ frame_needed = 0, uses_anonymous_args = 0
1081:tinyusb/src/device/usbd.c ****   switch (event->event_id)
 1814              		.loc 1 1081 1 is_stmt 0 view .LVU518
 1815 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1816              	.LCFI14:
 1817              		.cfi_def_cfa_offset 20
 1818              		.cfi_offset 4, -20
 1819              		.cfi_offset 5, -16
 1820              		.cfi_offset 6, -12
 1821              		.cfi_offset 7, -8
 1822              		.cfi_offset 14, -4
 1823 0002 85B0     		sub	sp, sp, #20
 1824              	.LCFI15:
 1825              		.cfi_def_cfa_offset 40
 1826 0004 0546     		mov	r5, r0
 1827 0006 0E46     		mov	r6, r1
1082:tinyusb/src/device/usbd.c ****   {
 1828              		.loc 1 1082 3 is_stmt 1 view .LVU519
1082:tinyusb/src/device/usbd.c ****   {
 1829              		.loc 1 1082 16 is_stmt 0 view .LVU520
 1830 0008 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
1082:tinyusb/src/device/usbd.c ****   {
 1831              		.loc 1 1082 3 view .LVU521
 1832 000a 023B     		subs	r3, r3, #2
 1833 000c 032B     		cmp	r3, #3
 1834 000e 00F2C680 		bhi	.L141
 1835 0012 DFE803F0 		tbb	[pc, r3]
 1836              	.L143:
 1837 0016 02       		.byte	(.L146-.L143)/2
ARM GAS  /tmp/ccyyDEje.s 			page 77


 1838 0017 92       		.byte	(.L163-.L143)/2
 1839 0018 2C       		.byte	(.L144-.L143)/2
 1840 0019 50       		.byte	(.L142-.L143)/2
 1841              		.p2align 1
 1842              	.L146:
1085:tinyusb/src/device/usbd.c ****       _usbd_dev.addressed  = 0;
 1843              		.loc 1 1085 7 is_stmt 1 view .LVU522
1085:tinyusb/src/device/usbd.c ****       _usbd_dev.addressed  = 0;
 1844              		.loc 1 1085 28 is_stmt 0 view .LVU523
 1845 001a 6F4B     		ldr	r3, .L167
 1846 001c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1847 001e 6FF30002 		bfc	r2, #0, #1
 1848 0022 1A70     		strb	r2, [r3]
1086:tinyusb/src/device/usbd.c ****       _usbd_dev.cfg_num    = 0;
 1849              		.loc 1 1086 7 is_stmt 1 view .LVU524
1086:tinyusb/src/device/usbd.c ****       _usbd_dev.cfg_num    = 0;
 1850              		.loc 1 1086 28 is_stmt 0 view .LVU525
 1851 0024 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1852 0026 6FF34102 		bfc	r2, #1, #1
 1853 002a 1A70     		strb	r2, [r3]
1087:tinyusb/src/device/usbd.c ****       _usbd_dev.suspended  = 0;
 1854              		.loc 1 1087 7 is_stmt 1 view .LVU526
1087:tinyusb/src/device/usbd.c ****       _usbd_dev.suspended  = 0;
 1855              		.loc 1 1087 28 is_stmt 0 view .LVU527
 1856 002c 0021     		movs	r1, #0
 1857              	.LVL145:
1087:tinyusb/src/device/usbd.c ****       _usbd_dev.suspended  = 0;
 1858              		.loc 1 1087 28 view .LVU528
 1859 002e 5970     		strb	r1, [r3, #1]
1088:tinyusb/src/device/usbd.c ****       osal_queue_send(_usbd_q, event, in_isr);
 1860              		.loc 1 1088 7 is_stmt 1 view .LVU529
1088:tinyusb/src/device/usbd.c ****       osal_queue_send(_usbd_q, event, in_isr);
 1861              		.loc 1 1088 28 is_stmt 0 view .LVU530
 1862 0030 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1863 0032 61F38202 		bfi	r2, r1, #2, #1
 1864 0036 1A70     		strb	r2, [r3]
1089:tinyusb/src/device/usbd.c ****     break;
 1865              		.loc 1 1089 7 is_stmt 1 view .LVU531
 1866 0038 684B     		ldr	r3, .L167+4
 1867 003a 1F68     		ldr	r7, [r3]
 1868              	.LVL146:
 1869              	.LBB384:
 1870              	.LBI384:
 169:tinyusb/src/osal/osal_none.h **** {
 1871              		.loc 4 169 42 view .LVU532
 1872              	.LBB385:
 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 1873              		.loc 4 171 3 view .LVU533
 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 1874              		.loc 4 171 6 is_stmt 0 view .LVU534
 1875 003c 16B9     		cbnz	r6, .L147
 172:tinyusb/src/osal/osal_none.h ****   }
 1876              		.loc 4 172 5 is_stmt 1 view .LVU535
 1877              	.LVL147:
 1878              	.LBB386:
 1879              	.LBI386:
 139:tinyusb/src/osal/osal_none.h **** {
ARM GAS  /tmp/ccyyDEje.s 			page 78


 1880              		.loc 4 139 42 view .LVU536
 1881              	.LBB387:
 142:tinyusb/src/osal/osal_none.h **** }
 1882              		.loc 4 142 3 view .LVU537
 142:tinyusb/src/osal/osal_none.h **** }
 1883              		.loc 4 142 7 is_stmt 0 view .LVU538
 1884 003e 3B68     		ldr	r3, [r7]
 142:tinyusb/src/osal/osal_none.h **** }
 1885              		.loc 4 142 3 view .LVU539
 1886 0040 0846     		mov	r0, r1
 1887              	.LVL148:
 142:tinyusb/src/osal/osal_none.h **** }
 1888              		.loc 4 142 3 view .LVU540
 1889 0042 9847     		blx	r3
 1890              	.LVL149:
 1891              	.L147:
 142:tinyusb/src/osal/osal_none.h **** }
 1892              		.loc 4 142 3 view .LVU541
 1893              	.LBE387:
 1894              	.LBE386:
 175:tinyusb/src/osal/osal_none.h **** 
 1895              		.loc 4 175 3 is_stmt 1 view .LVU542
 175:tinyusb/src/osal/osal_none.h **** 
 1896              		.loc 4 175 18 is_stmt 0 view .LVU543
 1897 0044 2946     		mov	r1, r5
 1898 0046 381D     		adds	r0, r7, #4
 1899 0048 FFF7FEFF 		bl	tu_fifo_write
 1900              	.LVL150:
 1901 004c 0446     		mov	r4, r0
 1902              	.LVL151:
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 1903              		.loc 4 177 3 is_stmt 1 view .LVU544
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 1904              		.loc 4 177 6 is_stmt 0 view .LVU545
 1905 004e 16B9     		cbnz	r6, .L148
 178:tinyusb/src/osal/osal_none.h ****   }
 1906              		.loc 4 178 5 is_stmt 1 view .LVU546
 1907              	.LVL152:
 1908              	.LBB388:
 1909              	.LBI388:
 146:tinyusb/src/osal/osal_none.h **** {
 1910              		.loc 4 146 42 view .LVU547
 1911              	.LBB389:
 149:tinyusb/src/osal/osal_none.h **** }
 1912              		.loc 4 149 3 view .LVU548
 149:tinyusb/src/osal/osal_none.h **** }
 1913              		.loc 4 149 7 is_stmt 0 view .LVU549
 1914 0050 3B68     		ldr	r3, [r7]
 149:tinyusb/src/osal/osal_none.h **** }
 1915              		.loc 4 149 3 view .LVU550
 1916 0052 0120     		movs	r0, #1
 1917 0054 9847     		blx	r3
 1918              	.LVL153:
 1919              	.L148:
 149:tinyusb/src/osal/osal_none.h **** }
 1920              		.loc 4 149 3 view .LVU551
 1921              	.LBE389:
ARM GAS  /tmp/ccyyDEje.s 			page 79


 1922              	.LBE388:
 181:tinyusb/src/osal/osal_none.h **** 
 1923              		.loc 4 181 3 is_stmt 1 view .LVU552
 181:tinyusb/src/osal/osal_none.h **** 
 1924              		.loc 4 181 3 view .LVU553
 1925 0056 0CB1     		cbz	r4, .L165
 1926              	.LVL154:
 1927              	.L140:
 181:tinyusb/src/osal/osal_none.h **** 
 1928              		.loc 4 181 3 is_stmt 0 view .LVU554
 1929              	.LBE385:
 1930              	.LBE384:
1141:tinyusb/src/device/usbd.c **** 
 1931              		.loc 1 1141 1 view .LVU555
 1932 0058 05B0     		add	sp, sp, #20
 1933              	.LCFI16:
 1934              		.cfi_remember_state
 1935              		.cfi_def_cfa_offset 20
 1936              		@ sp needed
 1937 005a F0BD     		pop	{r4, r5, r6, r7, pc}
 1938              	.LVL155:
 1939              	.L165:
 1940              	.LCFI17:
 1941              		.cfi_restore_state
 1942              	.LBB392:
 1943              	.LBB391:
 181:tinyusb/src/osal/osal_none.h **** 
 1944              		.loc 4 181 3 is_stmt 1 view .LVU556
 181:tinyusb/src/osal/osal_none.h **** 
 1945              		.loc 4 181 3 view .LVU557
 181:tinyusb/src/osal/osal_none.h **** 
 1946              		.loc 4 181 3 view .LVU558
 181:tinyusb/src/osal/osal_none.h **** 
 1947              		.loc 4 181 3 view .LVU559
 1948              	.LBB390:
 181:tinyusb/src/osal/osal_none.h **** 
 1949              		.loc 4 181 3 view .LVU560
 181:tinyusb/src/osal/osal_none.h **** 
 1950              		.loc 4 181 3 view .LVU561
 1951 005c 4FF0E023 		mov	r3, #-536813568
 1952 0060 D3F8F03D 		ldr	r3, [r3, #3568]
 1953 0064 13F0010F 		tst	r3, #1
 1954 0068 F6D0     		beq	.L140
 181:tinyusb/src/osal/osal_none.h **** 
 1955              		.loc 4 181 3 view .LVU562
 1956              		.syntax unified
 1957              	@ 181 "tinyusb/src/osal/osal_none.h" 1
 1958 006a 00BE     		BKPT #0
 1959              	
 1960              	@ 0 "" 2
 1961              		.thumb
 1962              		.syntax unified
 1963 006c F4E7     		b	.L140
 1964              	.LVL156:
 1965              	.L144:
 181:tinyusb/src/osal/osal_none.h **** 
 1966              		.loc 4 181 3 is_stmt 0 view .LVU563
ARM GAS  /tmp/ccyyDEje.s 			page 80


 1967              	.LBE390:
 1968              	.LBE391:
 1969              	.LBE392:
1097:tinyusb/src/device/usbd.c ****       {
 1970              		.loc 1 1097 7 is_stmt 1 view .LVU564
1097:tinyusb/src/device/usbd.c ****       {
 1971              		.loc 1 1097 21 is_stmt 0 view .LVU565
 1972 006e 5A4B     		ldr	r3, .L167
 1973 0070 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1097:tinyusb/src/device/usbd.c ****       {
 1974              		.loc 1 1097 10 view .LVU566
 1975 0072 13F0010F 		tst	r3, #1
 1976 0076 EFD0     		beq	.L140
1099:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, event, in_isr);
 1977              		.loc 1 1099 9 is_stmt 1 view .LVU567
1099:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, event, in_isr);
 1978              		.loc 1 1099 29 is_stmt 0 view .LVU568
 1979 0078 574A     		ldr	r2, .L167
 1980 007a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1981 007c 43F00403 		orr	r3, r3, #4
 1982 0080 1370     		strb	r3, [r2]
1100:tinyusb/src/device/usbd.c ****       }
 1983              		.loc 1 1100 9 is_stmt 1 view .LVU569
 1984 0082 564B     		ldr	r3, .L167+4
 1985 0084 1F68     		ldr	r7, [r3]
 1986              	.LVL157:
 1987              	.LBB393:
 1988              	.LBI393:
 169:tinyusb/src/osal/osal_none.h **** {
 1989              		.loc 4 169 42 view .LVU570
 1990              	.LBB394:
 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 1991              		.loc 4 171 3 view .LVU571
 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 1992              		.loc 4 171 6 is_stmt 0 view .LVU572
 1993 0086 11B9     		cbnz	r1, .L150
 172:tinyusb/src/osal/osal_none.h ****   }
 1994              		.loc 4 172 5 is_stmt 1 view .LVU573
 1995              	.LVL158:
 1996              	.LBB395:
 1997              	.LBI395:
 139:tinyusb/src/osal/osal_none.h **** {
 1998              		.loc 4 139 42 view .LVU574
 1999              	.LBB396:
 142:tinyusb/src/osal/osal_none.h **** }
 2000              		.loc 4 142 3 view .LVU575
 142:tinyusb/src/osal/osal_none.h **** }
 2001              		.loc 4 142 7 is_stmt 0 view .LVU576
 2002 0088 3B68     		ldr	r3, [r7]
 142:tinyusb/src/osal/osal_none.h **** }
 2003              		.loc 4 142 3 view .LVU577
 2004 008a 0020     		movs	r0, #0
 2005              	.LVL159:
 142:tinyusb/src/osal/osal_none.h **** }
 2006              		.loc 4 142 3 view .LVU578
 2007 008c 9847     		blx	r3
 2008              	.LVL160:
ARM GAS  /tmp/ccyyDEje.s 			page 81


 2009              	.L150:
 142:tinyusb/src/osal/osal_none.h **** }
 2010              		.loc 4 142 3 view .LVU579
 2011              	.LBE396:
 2012              	.LBE395:
 175:tinyusb/src/osal/osal_none.h **** 
 2013              		.loc 4 175 3 is_stmt 1 view .LVU580
 175:tinyusb/src/osal/osal_none.h **** 
 2014              		.loc 4 175 18 is_stmt 0 view .LVU581
 2015 008e 2946     		mov	r1, r5
 2016 0090 381D     		adds	r0, r7, #4
 2017 0092 FFF7FEFF 		bl	tu_fifo_write
 2018              	.LVL161:
 2019 0096 0446     		mov	r4, r0
 2020              	.LVL162:
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 2021              		.loc 4 177 3 is_stmt 1 view .LVU582
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 2022              		.loc 4 177 6 is_stmt 0 view .LVU583
 2023 0098 16B9     		cbnz	r6, .L151
 178:tinyusb/src/osal/osal_none.h ****   }
 2024              		.loc 4 178 5 is_stmt 1 view .LVU584
 2025              	.LVL163:
 2026              	.LBB397:
 2027              	.LBI397:
 146:tinyusb/src/osal/osal_none.h **** {
 2028              		.loc 4 146 42 view .LVU585
 2029              	.LBB398:
 149:tinyusb/src/osal/osal_none.h **** }
 2030              		.loc 4 149 3 view .LVU586
 149:tinyusb/src/osal/osal_none.h **** }
 2031              		.loc 4 149 7 is_stmt 0 view .LVU587
 2032 009a 3B68     		ldr	r3, [r7]
 149:tinyusb/src/osal/osal_none.h **** }
 2033              		.loc 4 149 3 view .LVU588
 2034 009c 0120     		movs	r0, #1
 2035 009e 9847     		blx	r3
 2036              	.LVL164:
 2037              	.L151:
 149:tinyusb/src/osal/osal_none.h **** }
 2038              		.loc 4 149 3 view .LVU589
 2039              	.LBE398:
 2040              	.LBE397:
 181:tinyusb/src/osal/osal_none.h **** 
 2041              		.loc 4 181 3 is_stmt 1 view .LVU590
 181:tinyusb/src/osal/osal_none.h **** 
 2042              		.loc 4 181 3 view .LVU591
 2043 00a0 002C     		cmp	r4, #0
 2044 00a2 D9D1     		bne	.L140
 181:tinyusb/src/osal/osal_none.h **** 
 2045              		.loc 4 181 3 view .LVU592
 181:tinyusb/src/osal/osal_none.h **** 
 2046              		.loc 4 181 3 view .LVU593
 181:tinyusb/src/osal/osal_none.h **** 
 2047              		.loc 4 181 3 view .LVU594
 181:tinyusb/src/osal/osal_none.h **** 
 2048              		.loc 4 181 3 view .LVU595
ARM GAS  /tmp/ccyyDEje.s 			page 82


 2049              	.LBB399:
 181:tinyusb/src/osal/osal_none.h **** 
 2050              		.loc 4 181 3 view .LVU596
 2051              	.LVL165:
 181:tinyusb/src/osal/osal_none.h **** 
 2052              		.loc 4 181 3 view .LVU597
 2053 00a4 4FF0E023 		mov	r3, #-536813568
 2054 00a8 D3F8F03D 		ldr	r3, [r3, #3568]
 2055 00ac 13F0010F 		tst	r3, #1
 2056 00b0 D2D0     		beq	.L140
 181:tinyusb/src/osal/osal_none.h **** 
 2057              		.loc 4 181 3 view .LVU598
 2058              		.syntax unified
 2059              	@ 181 "tinyusb/src/osal/osal_none.h" 1
 2060 00b2 00BE     		BKPT #0
 2061              	
 2062              	@ 0 "" 2
 2063              		.thumb
 2064              		.syntax unified
 2065 00b4 D0E7     		b	.L140
 2066              	.LVL166:
 2067              	.L142:
 181:tinyusb/src/osal/osal_none.h **** 
 2068              		.loc 4 181 3 is_stmt 0 view .LVU599
 2069              	.LBE399:
 2070              	.LBE394:
 2071              	.LBE393:
1106:tinyusb/src/device/usbd.c ****       {
 2072              		.loc 1 1106 7 is_stmt 1 view .LVU600
1106:tinyusb/src/device/usbd.c ****       {
 2073              		.loc 1 1106 21 is_stmt 0 view .LVU601
 2074 00b6 484B     		ldr	r3, .L167
 2075 00b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1106:tinyusb/src/device/usbd.c ****       {
 2076              		.loc 1 1106 10 view .LVU602
 2077 00ba 13F0010F 		tst	r3, #1
 2078 00be CBD0     		beq	.L140
1108:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, event, in_isr);
 2079              		.loc 1 1108 9 is_stmt 1 view .LVU603
1108:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, event, in_isr);
 2080              		.loc 1 1108 29 is_stmt 0 view .LVU604
 2081 00c0 454A     		ldr	r2, .L167
 2082 00c2 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2083 00c4 6FF38203 		bfc	r3, #2, #1
 2084 00c8 1370     		strb	r3, [r2]
1109:tinyusb/src/device/usbd.c ****       }
 2085              		.loc 1 1109 9 is_stmt 1 view .LVU605
 2086 00ca 444B     		ldr	r3, .L167+4
 2087 00cc 1F68     		ldr	r7, [r3]
 2088              	.LVL167:
 2089              	.LBB400:
 2090              	.LBI400:
 169:tinyusb/src/osal/osal_none.h **** {
 2091              		.loc 4 169 42 view .LVU606
 2092              	.LBB401:
 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 2093              		.loc 4 171 3 view .LVU607
ARM GAS  /tmp/ccyyDEje.s 			page 83


 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 2094              		.loc 4 171 6 is_stmt 0 view .LVU608
 2095 00ce 11B9     		cbnz	r1, .L152
 172:tinyusb/src/osal/osal_none.h ****   }
 2096              		.loc 4 172 5 is_stmt 1 view .LVU609
 2097              	.LVL168:
 2098              	.LBB402:
 2099              	.LBI402:
 139:tinyusb/src/osal/osal_none.h **** {
 2100              		.loc 4 139 42 view .LVU610
 2101              	.LBB403:
 142:tinyusb/src/osal/osal_none.h **** }
 2102              		.loc 4 142 3 view .LVU611
 142:tinyusb/src/osal/osal_none.h **** }
 2103              		.loc 4 142 7 is_stmt 0 view .LVU612
 2104 00d0 3B68     		ldr	r3, [r7]
 142:tinyusb/src/osal/osal_none.h **** }
 2105              		.loc 4 142 3 view .LVU613
 2106 00d2 0020     		movs	r0, #0
 2107              	.LVL169:
 142:tinyusb/src/osal/osal_none.h **** }
 2108              		.loc 4 142 3 view .LVU614
 2109 00d4 9847     		blx	r3
 2110              	.LVL170:
 2111              	.L152:
 142:tinyusb/src/osal/osal_none.h **** }
 2112              		.loc 4 142 3 view .LVU615
 2113              	.LBE403:
 2114              	.LBE402:
 175:tinyusb/src/osal/osal_none.h **** 
 2115              		.loc 4 175 3 is_stmt 1 view .LVU616
 175:tinyusb/src/osal/osal_none.h **** 
 2116              		.loc 4 175 18 is_stmt 0 view .LVU617
 2117 00d6 2946     		mov	r1, r5
 2118 00d8 381D     		adds	r0, r7, #4
 2119 00da FFF7FEFF 		bl	tu_fifo_write
 2120              	.LVL171:
 2121 00de 0446     		mov	r4, r0
 2122              	.LVL172:
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 2123              		.loc 4 177 3 is_stmt 1 view .LVU618
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 2124              		.loc 4 177 6 is_stmt 0 view .LVU619
 2125 00e0 16B9     		cbnz	r6, .L153
 178:tinyusb/src/osal/osal_none.h ****   }
 2126              		.loc 4 178 5 is_stmt 1 view .LVU620
 2127              	.LVL173:
 2128              	.LBB404:
 2129              	.LBI404:
 146:tinyusb/src/osal/osal_none.h **** {
 2130              		.loc 4 146 42 view .LVU621
 2131              	.LBB405:
 149:tinyusb/src/osal/osal_none.h **** }
 2132              		.loc 4 149 3 view .LVU622
 149:tinyusb/src/osal/osal_none.h **** }
 2133              		.loc 4 149 7 is_stmt 0 view .LVU623
 2134 00e2 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccyyDEje.s 			page 84


 149:tinyusb/src/osal/osal_none.h **** }
 2135              		.loc 4 149 3 view .LVU624
 2136 00e4 0120     		movs	r0, #1
 2137 00e6 9847     		blx	r3
 2138              	.LVL174:
 2139              	.L153:
 149:tinyusb/src/osal/osal_none.h **** }
 2140              		.loc 4 149 3 view .LVU625
 2141              	.LBE405:
 2142              	.LBE404:
 181:tinyusb/src/osal/osal_none.h **** 
 2143              		.loc 4 181 3 is_stmt 1 view .LVU626
 181:tinyusb/src/osal/osal_none.h **** 
 2144              		.loc 4 181 3 view .LVU627
 2145 00e8 002C     		cmp	r4, #0
 2146 00ea B5D1     		bne	.L140
 181:tinyusb/src/osal/osal_none.h **** 
 2147              		.loc 4 181 3 view .LVU628
 181:tinyusb/src/osal/osal_none.h **** 
 2148              		.loc 4 181 3 view .LVU629
 181:tinyusb/src/osal/osal_none.h **** 
 2149              		.loc 4 181 3 view .LVU630
 181:tinyusb/src/osal/osal_none.h **** 
 2150              		.loc 4 181 3 view .LVU631
 2151              	.LBB406:
 181:tinyusb/src/osal/osal_none.h **** 
 2152              		.loc 4 181 3 view .LVU632
 2153              	.LVL175:
 181:tinyusb/src/osal/osal_none.h **** 
 2154              		.loc 4 181 3 view .LVU633
 2155 00ec 4FF0E023 		mov	r3, #-536813568
 2156 00f0 D3F8F03D 		ldr	r3, [r3, #3568]
 2157 00f4 13F0010F 		tst	r3, #1
 2158 00f8 AED0     		beq	.L140
 181:tinyusb/src/osal/osal_none.h **** 
 2159              		.loc 4 181 3 view .LVU634
 2160              		.syntax unified
 2161              	@ 181 "tinyusb/src/osal/osal_none.h" 1
 2162 00fa 00BE     		BKPT #0
 2163              	
 2164              	@ 0 "" 2
 2165              		.thumb
 2166              		.syntax unified
 2167 00fc ACE7     		b	.L140
 2168              	.LVL176:
 2169              	.L154:
 181:tinyusb/src/osal/osal_none.h **** 
 2170              		.loc 4 181 3 is_stmt 0 view .LVU635
 2171              	.LBE406:
 2172              	.LBE401:
 2173              	.LBE400:
 2174              	.LBB407:
 2175              	.LBB408:
 2176              	.LBB409:
 2177              	.LBB410:
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 2178              		.loc 1 252 10 is_stmt 1 view .LVU636
ARM GAS  /tmp/ccyyDEje.s 			page 85


 253:tinyusb/src/device/usbd.c ****   }
 2179              		.loc 1 253 5 view .LVU637
 253:tinyusb/src/device/usbd.c ****   }
 2180              		.loc 1 253 34 is_stmt 0 view .LVU638
 2181 00fe E31A     		subs	r3, r4, r3
 253:tinyusb/src/device/usbd.c ****   }
 2182              		.loc 1 253 12 view .LVU639
 2183 0100 03EB4303 		add	r3, r3, r3, lsl #1
 2184 0104 364A     		ldr	r2, .L167+8
 2185 0106 02EBC303 		add	r3, r2, r3, lsl #3
 2186              	.LVL177:
 253:tinyusb/src/device/usbd.c ****   }
 2187              		.loc 1 253 12 view .LVU640
 2188 010a 0DE0     		b	.L155
 2189              	.LVL178:
 2190              	.L156:
 253:tinyusb/src/device/usbd.c ****   }
 2191              		.loc 1 253 12 view .LVU641
 2192              	.LBE410:
 2193              	.LBE409:
 2194              	.LBE408:
1115:tinyusb/src/device/usbd.c ****       {
 2195              		.loc 1 1115 51 is_stmt 1 discriminator 2 view .LVU642
1115:tinyusb/src/device/usbd.c ****       {
 2196              		.loc 1 1115 52 is_stmt 0 discriminator 2 view .LVU643
 2197 010c 0134     		adds	r4, r4, #1
 2198              	.LVL179:
1115:tinyusb/src/device/usbd.c ****       {
 2199              		.loc 1 1115 52 discriminator 2 view .LVU644
 2200 010e E4B2     		uxtb	r4, r4
 2201              	.LVL180:
 2202              	.L145:
1115:tinyusb/src/device/usbd.c ****       {
 2203              		.loc 1 1115 27 is_stmt 1 discriminator 1 view .LVU645
1115:tinyusb/src/device/usbd.c ****       {
 2204              		.loc 1 1115 29 is_stmt 0 discriminator 1 view .LVU646
 2205 0110 344B     		ldr	r3, .L167+12
 2206 0112 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1115:tinyusb/src/device/usbd.c ****       {
 2207              		.loc 1 1115 7 discriminator 1 view .LVU647
 2208 0114 A342     		cmp	r3, r4
 2209 0116 12D3     		bcc	.L166
 2210              	.LBB413:
1117:tinyusb/src/device/usbd.c ****         if (driver && driver->sof)
 2211              		.loc 1 1117 9 is_stmt 1 view .LVU648
 2212              	.LVL181:
 2213              	.LBB412:
 2214              	.LBI409:
 245:tinyusb/src/device/usbd.c **** {
 2215              		.loc 1 245 43 view .LVU649
 2216              	.LBB411:
 247:tinyusb/src/device/usbd.c **** 
 2217              		.loc 1 247 3 view .LVU650
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 2218              		.loc 1 249 3 view .LVU651
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 2219              		.loc 1 249 6 is_stmt 0 view .LVU652
ARM GAS  /tmp/ccyyDEje.s 			page 86


 2220 0118 A342     		cmp	r3, r4
 2221 011a F0D9     		bls	.L154
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 2222              		.loc 1 251 5 is_stmt 1 view .LVU653
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 2223              		.loc 1 251 14 is_stmt 0 view .LVU654
 2224 011c 324B     		ldr	r3, .L167+16
 2225 011e 1B68     		ldr	r3, [r3]
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 2226              		.loc 1 251 26 view .LVU655
 2227 0120 04EB4402 		add	r2, r4, r4, lsl #1
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 2228              		.loc 1 251 12 view .LVU656
 2229 0124 03EBC203 		add	r3, r3, r2, lsl #3
 2230              	.LVL182:
 2231              	.L155:
 256:tinyusb/src/device/usbd.c **** }
 2232              		.loc 1 256 3 is_stmt 1 view .LVU657
 256:tinyusb/src/device/usbd.c **** }
 2233              		.loc 1 256 3 is_stmt 0 view .LVU658
 2234              	.LBE411:
 2235              	.LBE412:
1118:tinyusb/src/device/usbd.c ****         {
 2236              		.loc 1 1118 9 is_stmt 1 view .LVU659
1118:tinyusb/src/device/usbd.c ****         {
 2237              		.loc 1 1118 12 is_stmt 0 view .LVU660
 2238 0128 002B     		cmp	r3, #0
 2239 012a EFD0     		beq	.L156
1118:tinyusb/src/device/usbd.c ****         {
 2240              		.loc 1 1118 29 discriminator 1 view .LVU661
 2241 012c 5B69     		ldr	r3, [r3, #20]
 2242              	.LVL183:
1118:tinyusb/src/device/usbd.c ****         {
 2243              		.loc 1 1118 20 discriminator 1 view .LVU662
 2244 012e 002B     		cmp	r3, #0
 2245 0130 ECD0     		beq	.L156
1120:tinyusb/src/device/usbd.c ****         }
 2246              		.loc 1 1120 11 is_stmt 1 view .LVU663
 2247 0132 6968     		ldr	r1, [r5, #4]
 2248 0134 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 2249 0136 9847     		blx	r3
 2250              	.LVL184:
 2251 0138 E8E7     		b	.L156
 2252              	.LVL185:
 2253              	.L163:
1120:tinyusb/src/device/usbd.c ****         }
 2254              		.loc 1 1120 11 is_stmt 0 view .LVU664
 2255              	.LBE413:
 2256              	.LBE407:
1082:tinyusb/src/device/usbd.c ****   {
 2257              		.loc 1 1082 3 view .LVU665
 2258 013a 0024     		movs	r4, #0
 2259 013c E8E7     		b	.L145
 2260              	.LVL186:
 2261              	.L166:
1126:tinyusb/src/device/usbd.c ****       {
 2262              		.loc 1 1126 7 is_stmt 1 view .LVU666
ARM GAS  /tmp/ccyyDEje.s 			page 87


1126:tinyusb/src/device/usbd.c ****       {
 2263              		.loc 1 1126 21 is_stmt 0 view .LVU667
 2264 013e 264B     		ldr	r3, .L167
 2265 0140 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1126:tinyusb/src/device/usbd.c ****       {
 2266              		.loc 1 1126 10 view .LVU668
 2267 0142 13F0040F 		tst	r3, #4
 2268 0146 87D0     		beq	.L140
 2269              	.LBB414:
1128:tinyusb/src/device/usbd.c **** 
 2270              		.loc 1 1128 9 is_stmt 1 view .LVU669
1128:tinyusb/src/device/usbd.c **** 
 2271              		.loc 1 1128 29 is_stmt 0 view .LVU670
 2272 0148 234A     		ldr	r2, .L167
 2273 014a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 2274 014c 6FF38203 		bfc	r3, #2, #1
 2275 0150 1370     		strb	r3, [r2]
1130:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, &event_resume, in_isr);
 2276              		.loc 1 1130 9 is_stmt 1 view .LVU671
1130:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, &event_resume, in_isr);
 2277              		.loc 1 1130 27 is_stmt 0 view .LVU672
 2278 0152 0023     		movs	r3, #0
 2279 0154 0193     		str	r3, [sp, #4]
 2280 0156 0293     		str	r3, [sp, #8]
 2281 0158 0393     		str	r3, [sp, #12]
1130:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, &event_resume, in_isr);
 2282              		.loc 1 1130 59 view .LVU673
 2283 015a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
1130:tinyusb/src/device/usbd.c ****         osal_queue_send(_usbd_q, &event_resume, in_isr);
 2284              		.loc 1 1130 27 view .LVU674
 2285 015c 8DF80430 		strb	r3, [sp, #4]
 2286 0160 0523     		movs	r3, #5
 2287 0162 8DF80530 		strb	r3, [sp, #5]
1131:tinyusb/src/device/usbd.c ****       }
 2288              		.loc 1 1131 9 is_stmt 1 view .LVU675
 2289 0166 1D4B     		ldr	r3, .L167+4
 2290 0168 1D68     		ldr	r5, [r3]
 2291              	.LVL187:
 2292              	.LBB415:
 2293              	.LBI415:
 169:tinyusb/src/osal/osal_none.h **** {
 2294              		.loc 4 169 42 view .LVU676
 2295              	.LBB416:
 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 2296              		.loc 4 171 3 view .LVU677
 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 2297              		.loc 4 171 6 is_stmt 0 view .LVU678
 2298 016a 16B9     		cbnz	r6, .L158
 172:tinyusb/src/osal/osal_none.h ****   }
 2299              		.loc 4 172 5 is_stmt 1 view .LVU679
 2300              	.LVL188:
 2301              	.LBB417:
 2302              	.LBI417:
 139:tinyusb/src/osal/osal_none.h **** {
 2303              		.loc 4 139 42 view .LVU680
 2304              	.LBB418:
 142:tinyusb/src/osal/osal_none.h **** }
ARM GAS  /tmp/ccyyDEje.s 			page 88


 2305              		.loc 4 142 3 view .LVU681
 142:tinyusb/src/osal/osal_none.h **** }
 2306              		.loc 4 142 7 is_stmt 0 view .LVU682
 2307 016c 2B68     		ldr	r3, [r5]
 142:tinyusb/src/osal/osal_none.h **** }
 2308              		.loc 4 142 3 view .LVU683
 2309 016e 0020     		movs	r0, #0
 2310 0170 9847     		blx	r3
 2311              	.LVL189:
 2312              	.L158:
 142:tinyusb/src/osal/osal_none.h **** }
 2313              		.loc 4 142 3 view .LVU684
 2314              	.LBE418:
 2315              	.LBE417:
 175:tinyusb/src/osal/osal_none.h **** 
 2316              		.loc 4 175 3 is_stmt 1 view .LVU685
 175:tinyusb/src/osal/osal_none.h **** 
 2317              		.loc 4 175 18 is_stmt 0 view .LVU686
 2318 0172 01A9     		add	r1, sp, #4
 2319              	.LVL190:
 175:tinyusb/src/osal/osal_none.h **** 
 2320              		.loc 4 175 18 view .LVU687
 2321 0174 281D     		adds	r0, r5, #4
 2322 0176 FFF7FEFF 		bl	tu_fifo_write
 2323              	.LVL191:
 175:tinyusb/src/osal/osal_none.h **** 
 2324              		.loc 4 175 18 view .LVU688
 2325 017a 0446     		mov	r4, r0
 2326              	.LVL192:
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 2327              		.loc 4 177 3 is_stmt 1 view .LVU689
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 2328              		.loc 4 177 6 is_stmt 0 view .LVU690
 2329 017c 16B9     		cbnz	r6, .L159
 178:tinyusb/src/osal/osal_none.h ****   }
 2330              		.loc 4 178 5 is_stmt 1 view .LVU691
 2331              	.LVL193:
 2332              	.LBB419:
 2333              	.LBI419:
 146:tinyusb/src/osal/osal_none.h **** {
 2334              		.loc 4 146 42 view .LVU692
 2335              	.LBB420:
 149:tinyusb/src/osal/osal_none.h **** }
 2336              		.loc 4 149 3 view .LVU693
 149:tinyusb/src/osal/osal_none.h **** }
 2337              		.loc 4 149 7 is_stmt 0 view .LVU694
 2338 017e 2B68     		ldr	r3, [r5]
 149:tinyusb/src/osal/osal_none.h **** }
 2339              		.loc 4 149 3 view .LVU695
 2340 0180 0120     		movs	r0, #1
 2341 0182 9847     		blx	r3
 2342              	.LVL194:
 2343              	.L159:
 149:tinyusb/src/osal/osal_none.h **** }
 2344              		.loc 4 149 3 view .LVU696
 2345              	.LBE420:
 2346              	.LBE419:
ARM GAS  /tmp/ccyyDEje.s 			page 89


 181:tinyusb/src/osal/osal_none.h **** 
 2347              		.loc 4 181 3 is_stmt 1 view .LVU697
 181:tinyusb/src/osal/osal_none.h **** 
 2348              		.loc 4 181 3 view .LVU698
 2349 0184 002C     		cmp	r4, #0
 2350 0186 7FF467AF 		bne	.L140
 181:tinyusb/src/osal/osal_none.h **** 
 2351              		.loc 4 181 3 view .LVU699
 181:tinyusb/src/osal/osal_none.h **** 
 2352              		.loc 4 181 3 view .LVU700
 181:tinyusb/src/osal/osal_none.h **** 
 2353              		.loc 4 181 3 view .LVU701
 181:tinyusb/src/osal/osal_none.h **** 
 2354              		.loc 4 181 3 view .LVU702
 2355              	.LBB421:
 181:tinyusb/src/osal/osal_none.h **** 
 2356              		.loc 4 181 3 view .LVU703
 2357              	.LVL195:
 181:tinyusb/src/osal/osal_none.h **** 
 2358              		.loc 4 181 3 view .LVU704
 2359 018a 4FF0E023 		mov	r3, #-536813568
 2360 018e D3F8F03D 		ldr	r3, [r3, #3568]
 2361 0192 13F0010F 		tst	r3, #1
 2362 0196 3FF45FAF 		beq	.L140
 181:tinyusb/src/osal/osal_none.h **** 
 2363              		.loc 4 181 3 view .LVU705
 2364              		.syntax unified
 2365              	@ 181 "tinyusb/src/osal/osal_none.h" 1
 2366 019a 00BE     		BKPT #0
 2367              	
 2368              	@ 0 "" 2
 2369              	.LVL196:
 181:tinyusb/src/osal/osal_none.h **** 
 2370              		.loc 4 181 3 is_stmt 0 view .LVU706
 2371              		.thumb
 2372              		.syntax unified
 2373 019c 5CE7     		b	.L140
 2374              	.LVL197:
 2375              	.L141:
 181:tinyusb/src/osal/osal_none.h **** 
 2376              		.loc 4 181 3 view .LVU707
 2377              	.LBE421:
 2378              	.LBE416:
 2379              	.LBE415:
 2380              	.LBE414:
1138:tinyusb/src/device/usbd.c ****     break;
 2381              		.loc 1 1138 7 is_stmt 1 view .LVU708
 2382 019e 0F4B     		ldr	r3, .L167+4
 2383 01a0 1F68     		ldr	r7, [r3]
 2384              	.LVL198:
 2385              	.LBB422:
 2386              	.LBI422:
 169:tinyusb/src/osal/osal_none.h **** {
 2387              		.loc 4 169 42 view .LVU709
 2388              	.LBB423:
 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 2389              		.loc 4 171 3 view .LVU710
ARM GAS  /tmp/ccyyDEje.s 			page 90


 171:tinyusb/src/osal/osal_none.h ****     _osal_q_lock(qhdl);
 2390              		.loc 4 171 6 is_stmt 0 view .LVU711
 2391 01a2 11B9     		cbnz	r1, .L161
 172:tinyusb/src/osal/osal_none.h ****   }
 2392              		.loc 4 172 5 is_stmt 1 view .LVU712
 2393              	.LVL199:
 2394              	.LBB424:
 2395              	.LBI424:
 139:tinyusb/src/osal/osal_none.h **** {
 2396              		.loc 4 139 42 view .LVU713
 2397              	.LBB425:
 142:tinyusb/src/osal/osal_none.h **** }
 2398              		.loc 4 142 3 view .LVU714
 142:tinyusb/src/osal/osal_none.h **** }
 2399              		.loc 4 142 7 is_stmt 0 view .LVU715
 2400 01a4 3B68     		ldr	r3, [r7]
 142:tinyusb/src/osal/osal_none.h **** }
 2401              		.loc 4 142 3 view .LVU716
 2402 01a6 0020     		movs	r0, #0
 2403              	.LVL200:
 142:tinyusb/src/osal/osal_none.h **** }
 2404              		.loc 4 142 3 view .LVU717
 2405 01a8 9847     		blx	r3
 2406              	.LVL201:
 2407              	.L161:
 142:tinyusb/src/osal/osal_none.h **** }
 2408              		.loc 4 142 3 view .LVU718
 2409              	.LBE425:
 2410              	.LBE424:
 175:tinyusb/src/osal/osal_none.h **** 
 2411              		.loc 4 175 3 is_stmt 1 view .LVU719
 175:tinyusb/src/osal/osal_none.h **** 
 2412              		.loc 4 175 18 is_stmt 0 view .LVU720
 2413 01aa 2946     		mov	r1, r5
 2414 01ac 381D     		adds	r0, r7, #4
 2415 01ae FFF7FEFF 		bl	tu_fifo_write
 2416              	.LVL202:
 2417 01b2 0446     		mov	r4, r0
 2418              	.LVL203:
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 2419              		.loc 4 177 3 is_stmt 1 view .LVU721
 177:tinyusb/src/osal/osal_none.h ****     _osal_q_unlock(qhdl);
 2420              		.loc 4 177 6 is_stmt 0 view .LVU722
 2421 01b4 16B9     		cbnz	r6, .L162
 178:tinyusb/src/osal/osal_none.h ****   }
 2422              		.loc 4 178 5 is_stmt 1 view .LVU723
 2423              	.LVL204:
 2424              	.LBB426:
 2425              	.LBI426:
 146:tinyusb/src/osal/osal_none.h **** {
 2426              		.loc 4 146 42 view .LVU724
 2427              	.LBB427:
 149:tinyusb/src/osal/osal_none.h **** }
 2428              		.loc 4 149 3 view .LVU725
 149:tinyusb/src/osal/osal_none.h **** }
 2429              		.loc 4 149 7 is_stmt 0 view .LVU726
 2430 01b6 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccyyDEje.s 			page 91


 149:tinyusb/src/osal/osal_none.h **** }
 2431              		.loc 4 149 3 view .LVU727
 2432 01b8 0120     		movs	r0, #1
 2433 01ba 9847     		blx	r3
 2434              	.LVL205:
 2435              	.L162:
 149:tinyusb/src/osal/osal_none.h **** }
 2436              		.loc 4 149 3 view .LVU728
 2437              	.LBE427:
 2438              	.LBE426:
 181:tinyusb/src/osal/osal_none.h **** 
 2439              		.loc 4 181 3 is_stmt 1 view .LVU729
 181:tinyusb/src/osal/osal_none.h **** 
 2440              		.loc 4 181 3 view .LVU730
 2441 01bc 002C     		cmp	r4, #0
 2442 01be 7FF44BAF 		bne	.L140
 181:tinyusb/src/osal/osal_none.h **** 
 2443              		.loc 4 181 3 view .LVU731
 181:tinyusb/src/osal/osal_none.h **** 
 2444              		.loc 4 181 3 view .LVU732
 181:tinyusb/src/osal/osal_none.h **** 
 2445              		.loc 4 181 3 view .LVU733
 181:tinyusb/src/osal/osal_none.h **** 
 2446              		.loc 4 181 3 view .LVU734
 2447              	.LBB428:
 181:tinyusb/src/osal/osal_none.h **** 
 2448              		.loc 4 181 3 view .LVU735
 2449              	.LVL206:
 181:tinyusb/src/osal/osal_none.h **** 
 2450              		.loc 4 181 3 view .LVU736
 2451 01c2 4FF0E023 		mov	r3, #-536813568
 2452 01c6 D3F8F03D 		ldr	r3, [r3, #3568]
 2453 01ca 13F0010F 		tst	r3, #1
 2454 01ce 3FF443AF 		beq	.L140
 181:tinyusb/src/osal/osal_none.h **** 
 2455              		.loc 4 181 3 view .LVU737
 2456              		.syntax unified
 2457              	@ 181 "tinyusb/src/osal/osal_none.h" 1
 2458 01d2 00BE     		BKPT #0
 2459              	
 2460              	@ 0 "" 2
 2461              	.LVL207:
 181:tinyusb/src/osal/osal_none.h **** 
 2462              		.loc 4 181 3 is_stmt 0 view .LVU738
 2463              		.thumb
 2464              		.syntax unified
 2465              	.LBE428:
 2466              	.LBE423:
 2467              	.LBE422:
1141:tinyusb/src/device/usbd.c **** 
 2468              		.loc 1 1141 1 view .LVU739
 2469 01d4 40E7     		b	.L140
 2470              	.L168:
 2471 01d6 00BF     		.align	2
 2472              	.L167:
 2473 01d8 00000000 		.word	.LANCHOR3
 2474 01dc 00000000 		.word	.LANCHOR6
ARM GAS  /tmp/ccyyDEje.s 			page 92


 2475 01e0 00000000 		.word	.LANCHOR1
 2476 01e4 00000000 		.word	.LANCHOR2
 2477 01e8 00000000 		.word	.LANCHOR0
 2478              		.cfi_endproc
 2479              	.LFE102:
 2481              		.section	.text.usbd_defer_func,"ax",%progbits
 2482              		.align	1
 2483              		.global	usbd_defer_func
 2484              		.syntax unified
 2485              		.thumb
 2486              		.thumb_func
 2487              		.fpu fpv4-sp-d16
 2489              	usbd_defer_func:
 2490              	.LVL208:
 2491              	.LFB105:
1157:tinyusb/src/device/usbd.c **** 
1158:tinyusb/src/device/usbd.c **** // Parse consecutive endpoint descriptors (IN & OUT)
1159:tinyusb/src/device/usbd.c **** bool usbd_open_edpt_pair(uint8_t rhport, uint8_t const* p_desc, uint8_t ep_count, uint8_t xfer_type
1160:tinyusb/src/device/usbd.c **** {
1161:tinyusb/src/device/usbd.c ****   for(int i=0; i<ep_count; i++)
1162:tinyusb/src/device/usbd.c ****   {
1163:tinyusb/src/device/usbd.c ****     tusb_desc_endpoint_t const * desc_ep = (tusb_desc_endpoint_t const *) p_desc;
1164:tinyusb/src/device/usbd.c **** 
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(TUSB_DESC_ENDPOINT == desc_ep->bDescriptorType && xfer_type == desc_ep->bmAttributes.
1166:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
1167:tinyusb/src/device/usbd.c **** 
1168:tinyusb/src/device/usbd.c ****     if ( tu_edpt_dir(desc_ep->bEndpointAddress) == TUSB_DIR_IN )
1169:tinyusb/src/device/usbd.c ****     {
1170:tinyusb/src/device/usbd.c ****       (*ep_in) = desc_ep->bEndpointAddress;
1171:tinyusb/src/device/usbd.c ****     }else
1172:tinyusb/src/device/usbd.c ****     {
1173:tinyusb/src/device/usbd.c ****       (*ep_out) = desc_ep->bEndpointAddress;
1174:tinyusb/src/device/usbd.c ****     }
1175:tinyusb/src/device/usbd.c **** 
1176:tinyusb/src/device/usbd.c ****     p_desc = tu_desc_next(p_desc);
1177:tinyusb/src/device/usbd.c ****   }
1178:tinyusb/src/device/usbd.c **** 
1179:tinyusb/src/device/usbd.c ****   return true;
1180:tinyusb/src/device/usbd.c **** }
1181:tinyusb/src/device/usbd.c **** 
1182:tinyusb/src/device/usbd.c **** // Helper to defer an isr function
1183:tinyusb/src/device/usbd.c **** void usbd_defer_func(osal_task_func_t func, void* param, bool in_isr)
1184:tinyusb/src/device/usbd.c **** {
 2492              		.loc 1 1184 1 is_stmt 1 view -0
 2493              		.cfi_startproc
 2494              		@ args = 0, pretend = 0, frame = 16
 2495              		@ frame_needed = 0, uses_anonymous_args = 0
 2496              		.loc 1 1184 1 is_stmt 0 view .LVU741
 2497 0000 00B5     		push	{lr}
 2498              	.LCFI18:
 2499              		.cfi_def_cfa_offset 4
 2500              		.cfi_offset 14, -4
 2501 0002 85B0     		sub	sp, sp, #20
 2502              	.LCFI19:
 2503              		.cfi_def_cfa_offset 24
1185:tinyusb/src/device/usbd.c ****   dcd_event_t event =
 2504              		.loc 1 1185 3 is_stmt 1 view .LVU742
ARM GAS  /tmp/ccyyDEje.s 			page 93


 2505              		.loc 1 1185 15 is_stmt 0 view .LVU743
 2506 0004 0023     		movs	r3, #0
 2507 0006 0193     		str	r3, [sp, #4]
 2508 0008 0293     		str	r3, [sp, #8]
 2509 000a 0393     		str	r3, [sp, #12]
 2510 000c 0823     		movs	r3, #8
 2511 000e 8DF80530 		strb	r3, [sp, #5]
1186:tinyusb/src/device/usbd.c ****   {
1187:tinyusb/src/device/usbd.c ****       .rhport   = 0,
1188:tinyusb/src/device/usbd.c ****       .event_id = USBD_EVENT_FUNC_CALL,
1189:tinyusb/src/device/usbd.c ****   };
1190:tinyusb/src/device/usbd.c **** 
1191:tinyusb/src/device/usbd.c ****   event.func_call.func  = func;
 2512              		.loc 1 1191 3 is_stmt 1 view .LVU744
 2513              		.loc 1 1191 25 is_stmt 0 view .LVU745
 2514 0012 0290     		str	r0, [sp, #8]
1192:tinyusb/src/device/usbd.c ****   event.func_call.param = param;
 2515              		.loc 1 1192 3 is_stmt 1 view .LVU746
 2516              		.loc 1 1192 25 is_stmt 0 view .LVU747
 2517 0014 0391     		str	r1, [sp, #12]
1193:tinyusb/src/device/usbd.c **** 
1194:tinyusb/src/device/usbd.c ****   dcd_event_handler(&event, in_isr);
 2518              		.loc 1 1194 3 is_stmt 1 view .LVU748
 2519 0016 1146     		mov	r1, r2
 2520              	.LVL209:
 2521              		.loc 1 1194 3 is_stmt 0 view .LVU749
 2522 0018 01A8     		add	r0, sp, #4
 2523              	.LVL210:
 2524              		.loc 1 1194 3 view .LVU750
 2525 001a FFF7FEFF 		bl	dcd_event_handler
 2526              	.LVL211:
1195:tinyusb/src/device/usbd.c **** }
 2527              		.loc 1 1195 1 view .LVU751
 2528 001e 05B0     		add	sp, sp, #20
 2529              	.LCFI20:
 2530              		.cfi_def_cfa_offset 4
 2531              		@ sp needed
 2532 0020 5DF804FB 		ldr	pc, [sp], #4
 2533              		.cfi_endproc
 2534              	.LFE105:
 2536              		.section	.text.usbd_edpt_open,"ax",%progbits
 2537              		.align	1
 2538              		.global	usbd_edpt_open
 2539              		.syntax unified
 2540              		.thumb
 2541              		.thumb_func
 2542              		.fpu fpv4-sp-d16
 2544              	usbd_edpt_open:
 2545              	.LVL212:
 2546              	.LFB106:
1196:tinyusb/src/device/usbd.c **** 
1197:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
1198:tinyusb/src/device/usbd.c **** // USBD Endpoint API
1199:tinyusb/src/device/usbd.c **** //--------------------------------------------------------------------+
1200:tinyusb/src/device/usbd.c **** 
1201:tinyusb/src/device/usbd.c **** bool usbd_edpt_open(uint8_t rhport, tusb_desc_endpoint_t const * desc_ep)
1202:tinyusb/src/device/usbd.c **** {
ARM GAS  /tmp/ccyyDEje.s 			page 94


 2547              		.loc 1 1202 1 is_stmt 1 view -0
 2548              		.cfi_startproc
 2549              		@ args = 0, pretend = 0, frame = 0
 2550              		@ frame_needed = 0, uses_anonymous_args = 0
 2551              		.loc 1 1202 1 is_stmt 0 view .LVU753
 2552 0000 38B5     		push	{r3, r4, r5, lr}
 2553              	.LCFI21:
 2554              		.cfi_def_cfa_offset 16
 2555              		.cfi_offset 3, -16
 2556              		.cfi_offset 4, -12
 2557              		.cfi_offset 5, -8
 2558              		.cfi_offset 14, -4
1203:tinyusb/src/device/usbd.c ****   rhport = _usbd_rhport;
 2559              		.loc 1 1203 3 is_stmt 1 view .LVU754
 2560              		.loc 1 1203 10 is_stmt 0 view .LVU755
 2561 0002 134B     		ldr	r3, .L178
 2562 0004 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 2563              	.LVL213:
1204:tinyusb/src/device/usbd.c **** 
1205:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(desc_ep->bEndpointAddress) < CFG_TUD_ENDPPOINT_MAX);
 2564              		.loc 1 1205 3 is_stmt 1 view .LVU756
 2565              		.loc 1 1205 3 view .LVU757
 2566 0006 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 2567              	.LVL214:
 2568              	.LBB429:
 2569              	.LBI429:
 518:tinyusb/src/common/tusb_types.h **** {
 2570              		.loc 2 518 45 view .LVU758
 2571              	.LBB430:
 520:tinyusb/src/common/tusb_types.h **** }
 2572              		.loc 2 520 3 view .LVU759
 520:tinyusb/src/common/tusb_types.h **** }
 2573              		.loc 2 520 10 is_stmt 0 view .LVU760
 2574 0008 03F07F03 		and	r3, r3, #127
 2575              	.LVL215:
 520:tinyusb/src/common/tusb_types.h **** }
 2576              		.loc 2 520 10 view .LVU761
 2577              	.LBE430:
 2578              	.LBE429:
 2579              		.loc 1 1205 3 view .LVU762
 2580 000c 052B     		cmp	r3, #5
 2581 000e 09D9     		bls	.L172
 2582              		.loc 1 1205 3 is_stmt 1 discriminator 1 view .LVU763
 2583              		.loc 1 1205 3 discriminator 1 view .LVU764
 2584              		.loc 1 1205 3 discriminator 1 view .LVU765
 2585              		.loc 1 1205 3 discriminator 1 view .LVU766
 2586              	.LBB431:
 2587              		.loc 1 1205 3 discriminator 1 view .LVU767
 2588              	.LVL216:
 2589              		.loc 1 1205 3 discriminator 1 view .LVU768
 2590 0010 4FF0E023 		mov	r3, #-536813568
 2591 0014 D3F8F03D 		ldr	r3, [r3, #3568]
 2592 0018 13F0010F 		tst	r3, #1
 2593 001c 00D0     		beq	.L173
 2594              		.loc 1 1205 3 discriminator 3 view .LVU769
 2595              		.syntax unified
 2596              	@ 1205 "tinyusb/src/device/usbd.c" 1
ARM GAS  /tmp/ccyyDEje.s 			page 95


 2597 001e 00BE     		BKPT #0
 2598              	
 2599              	@ 0 "" 2
 2600              		.thumb
 2601              		.syntax unified
 2602              	.L173:
 2603              	.LBE431:
 2604              		.loc 1 1205 3 discriminator 5 view .LVU770
 2605              		.loc 1 1205 3 discriminator 5 view .LVU771
 2606 0020 0020     		movs	r0, #0
 2607              	.LVL217:
 2608              	.L174:
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
1207:tinyusb/src/device/usbd.c **** 
1208:tinyusb/src/device/usbd.c ****   return dcd_edpt_open(rhport, desc_ep);
1209:tinyusb/src/device/usbd.c **** }
 2609              		.loc 1 1209 1 is_stmt 0 view .LVU772
 2610 0022 38BD     		pop	{r3, r4, r5, pc}
 2611              	.LVL218:
 2612              	.L172:
 2613              		.loc 1 1209 1 view .LVU773
 2614 0024 0C46     		mov	r4, r1
1205:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2615              		.loc 1 1205 3 is_stmt 1 discriminator 2 view .LVU774
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2616              		.loc 1 1206 3 discriminator 2 view .LVU775
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2617              		.loc 1 1206 3 discriminator 2 view .LVU776
 2618 0026 0B4B     		ldr	r3, .L178+4
 2619 0028 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 2620              	.LVL219:
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2621              		.loc 1 1206 3 is_stmt 0 discriminator 2 view .LVU777
 2622 002a 2046     		mov	r0, r4
 2623 002c FFF7FEFF 		bl	tu_edpt_validate
 2624              	.LVL220:
 2625 0030 40B9     		cbnz	r0, .L175
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2626              		.loc 1 1206 3 is_stmt 1 discriminator 1 view .LVU778
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2627              		.loc 1 1206 3 discriminator 1 view .LVU779
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2628              		.loc 1 1206 3 discriminator 1 view .LVU780
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2629              		.loc 1 1206 3 discriminator 1 view .LVU781
 2630              	.LBB432:
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2631              		.loc 1 1206 3 discriminator 1 view .LVU782
 2632              	.LVL221:
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2633              		.loc 1 1206 3 discriminator 1 view .LVU783
 2634 0032 4FF0E023 		mov	r3, #-536813568
 2635 0036 D3F8F03D 		ldr	r3, [r3, #3568]
 2636 003a 13F0010F 		tst	r3, #1
 2637 003e F0D0     		beq	.L174
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2638              		.loc 1 1206 3 discriminator 3 view .LVU784
ARM GAS  /tmp/ccyyDEje.s 			page 96


 2639              		.syntax unified
 2640              	@ 1206 "tinyusb/src/device/usbd.c" 1
 2641 0040 00BE     		BKPT #0
 2642              	
 2643              	@ 0 "" 2
 2644              		.thumb
 2645              		.syntax unified
 2646              	.LBE432:
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2647              		.loc 1 1206 3 discriminator 3 view .LVU785
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2648              		.loc 1 1206 3 discriminator 3 view .LVU786
 2649 0042 EEE7     		b	.L174
 2650              	.LVL222:
 2651              	.L175:
1206:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 2652              		.loc 1 1206 3 discriminator 2 view .LVU787
1208:tinyusb/src/device/usbd.c **** }
 2653              		.loc 1 1208 3 discriminator 2 view .LVU788
1208:tinyusb/src/device/usbd.c **** }
 2654              		.loc 1 1208 10 is_stmt 0 discriminator 2 view .LVU789
 2655 0044 2146     		mov	r1, r4
 2656 0046 2846     		mov	r0, r5
 2657 0048 FFF7FEFF 		bl	dcd_edpt_open
 2658              	.LVL223:
 2659 004c E9E7     		b	.L174
 2660              	.L179:
 2661 004e 00BF     		.align	2
 2662              	.L178:
 2663 0050 00000000 		.word	.LANCHOR4
 2664 0054 00000000 		.word	.LANCHOR3
 2665              		.cfi_endproc
 2666              	.LFE106:
 2668              		.section	.text.usbd_open_edpt_pair,"ax",%progbits
 2669              		.align	1
 2670              		.global	usbd_open_edpt_pair
 2671              		.syntax unified
 2672              		.thumb
 2673              		.thumb_func
 2674              		.fpu fpv4-sp-d16
 2676              	usbd_open_edpt_pair:
 2677              	.LVL224:
 2678              	.LFB104:
1160:tinyusb/src/device/usbd.c ****   for(int i=0; i<ep_count; i++)
 2679              		.loc 1 1160 1 is_stmt 1 view -0
 2680              		.cfi_startproc
 2681              		@ args = 8, pretend = 0, frame = 0
 2682              		@ frame_needed = 0, uses_anonymous_args = 0
1160:tinyusb/src/device/usbd.c ****   for(int i=0; i<ep_count; i++)
 2683              		.loc 1 1160 1 is_stmt 0 view .LVU791
 2684 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2685              	.LCFI22:
 2686              		.cfi_def_cfa_offset 32
 2687              		.cfi_offset 4, -32
 2688              		.cfi_offset 5, -28
 2689              		.cfi_offset 6, -24
 2690              		.cfi_offset 7, -20
ARM GAS  /tmp/ccyyDEje.s 			page 97


 2691              		.cfi_offset 8, -16
 2692              		.cfi_offset 9, -12
 2693              		.cfi_offset 10, -8
 2694              		.cfi_offset 14, -4
 2695 0004 8046     		mov	r8, r0
 2696 0006 0C46     		mov	r4, r1
 2697 0008 1646     		mov	r6, r2
 2698 000a 1F46     		mov	r7, r3
 2699 000c DDF82090 		ldr	r9, [sp, #32]
 2700 0010 DDF824A0 		ldr	r10, [sp, #36]
1161:tinyusb/src/device/usbd.c ****   {
 2701              		.loc 1 1161 3 is_stmt 1 view .LVU792
 2702              	.LBB433:
1161:tinyusb/src/device/usbd.c ****   {
 2703              		.loc 1 1161 7 view .LVU793
 2704              	.LVL225:
1161:tinyusb/src/device/usbd.c ****   {
 2705              		.loc 1 1161 11 is_stmt 0 view .LVU794
 2706 0014 0025     		movs	r5, #0
1161:tinyusb/src/device/usbd.c ****   {
 2707              		.loc 1 1161 3 view .LVU795
 2708 0016 19E0     		b	.L181
 2709              	.LVL226:
 2710              	.L182:
 2711              	.LBB434:
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2712              		.loc 1 1165 5 is_stmt 1 discriminator 3 view .LVU796
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2713              		.loc 1 1165 5 discriminator 3 view .LVU797
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2714              		.loc 1 1165 5 discriminator 3 view .LVU798
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2715              		.loc 1 1165 5 discriminator 3 view .LVU799
 2716              	.LBB435:
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2717              		.loc 1 1165 5 discriminator 3 view .LVU800
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2718              		.loc 1 1165 5 discriminator 3 view .LVU801
 2719 0018 4FF0E023 		mov	r3, #-536813568
 2720 001c D3F8F03D 		ldr	r3, [r3, #3568]
 2721 0020 13F0010F 		tst	r3, #1
 2722 0024 00D0     		beq	.L184
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2723              		.loc 1 1165 5 discriminator 5 view .LVU802
 2724              		.syntax unified
 2725              	@ 1165 "tinyusb/src/device/usbd.c" 1
 2726 0026 00BE     		BKPT #0
 2727              	
 2728              	@ 0 "" 2
 2729              		.thumb
 2730              		.syntax unified
 2731              	.L184:
 2732              	.LBE435:
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2733              		.loc 1 1165 5 discriminator 7 view .LVU803
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2734              		.loc 1 1165 5 discriminator 7 view .LVU804
ARM GAS  /tmp/ccyyDEje.s 			page 98


 2735 0028 0023     		movs	r3, #0
 2736              	.LVL227:
 2737              	.L185:
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2738              		.loc 1 1165 5 is_stmt 0 discriminator 7 view .LVU805
 2739              	.LBE434:
 2740              	.LBE433:
1180:tinyusb/src/device/usbd.c **** 
 2741              		.loc 1 1180 1 view .LVU806
 2742 002a 1846     		mov	r0, r3
 2743 002c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2744              	.LVL228:
 2745              	.L193:
 2746              	.LBB443:
 2747              	.LBB441:
1166:tinyusb/src/device/usbd.c **** 
 2748              		.loc 1 1166 5 is_stmt 1 discriminator 1 view .LVU807
1166:tinyusb/src/device/usbd.c **** 
 2749              		.loc 1 1166 5 discriminator 1 view .LVU808
1166:tinyusb/src/device/usbd.c **** 
 2750              		.loc 1 1166 5 discriminator 1 view .LVU809
1166:tinyusb/src/device/usbd.c **** 
 2751              		.loc 1 1166 5 discriminator 1 view .LVU810
 2752              	.LBB436:
1166:tinyusb/src/device/usbd.c **** 
 2753              		.loc 1 1166 5 discriminator 1 view .LVU811
1166:tinyusb/src/device/usbd.c **** 
 2754              		.loc 1 1166 5 discriminator 1 view .LVU812
 2755 0030 4FF0E022 		mov	r2, #-536813568
 2756 0034 D2F8F02D 		ldr	r2, [r2, #3568]
 2757 0038 12F0010F 		tst	r2, #1
 2758 003c F5D0     		beq	.L185
1166:tinyusb/src/device/usbd.c **** 
 2759              		.loc 1 1166 5 discriminator 3 view .LVU813
 2760              		.syntax unified
 2761              	@ 1166 "tinyusb/src/device/usbd.c" 1
 2762 003e 00BE     		BKPT #0
 2763              	
 2764              	@ 0 "" 2
 2765              		.thumb
 2766              		.syntax unified
 2767              	.LBE436:
1166:tinyusb/src/device/usbd.c **** 
 2768              		.loc 1 1166 5 discriminator 3 view .LVU814
1166:tinyusb/src/device/usbd.c **** 
 2769              		.loc 1 1166 5 discriminator 3 view .LVU815
 2770 0040 F3E7     		b	.L185
 2771              	.LVL229:
 2772              	.L194:
1170:tinyusb/src/device/usbd.c ****     }else
 2773              		.loc 1 1170 7 view .LVU816
1170:tinyusb/src/device/usbd.c ****     }else
 2774              		.loc 1 1170 16 is_stmt 0 view .LVU817
 2775 0042 8AF80030 		strb	r3, [r10]
 2776              	.L189:
1176:tinyusb/src/device/usbd.c ****   }
 2777              		.loc 1 1176 5 is_stmt 1 discriminator 2 view .LVU818
ARM GAS  /tmp/ccyyDEje.s 			page 99


 2778              	.LVL230:
 2779              	.LBB437:
 2780              	.LBI437:
 552:tinyusb/src/common/tusb_types.h **** {
 2781              		.loc 2 552 53 discriminator 2 view .LVU819
 2782              	.LBB438:
 554:tinyusb/src/common/tusb_types.h ****   return desc8 + desc8[DESC_OFFSET_LEN];
 2783              		.loc 2 554 3 discriminator 2 view .LVU820
 555:tinyusb/src/common/tusb_types.h **** }
 2784              		.loc 2 555 3 discriminator 2 view .LVU821
 555:tinyusb/src/common/tusb_types.h **** }
 2785              		.loc 2 555 23 is_stmt 0 discriminator 2 view .LVU822
 2786 0046 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 555:tinyusb/src/common/tusb_types.h **** }
 2787              		.loc 2 555 16 discriminator 2 view .LVU823
 2788 0048 1C44     		add	r4, r4, r3
 2789              	.LVL231:
 555:tinyusb/src/common/tusb_types.h **** }
 2790              		.loc 2 555 16 discriminator 2 view .LVU824
 2791              	.LBE438:
 2792              	.LBE437:
 2793              	.LBE441:
1161:tinyusb/src/device/usbd.c ****   {
 2794              		.loc 1 1161 28 is_stmt 1 discriminator 2 view .LVU825
1161:tinyusb/src/device/usbd.c ****   {
 2795              		.loc 1 1161 29 is_stmt 0 discriminator 2 view .LVU826
 2796 004a 0135     		adds	r5, r5, #1
 2797              	.LVL232:
 2798              	.L181:
1161:tinyusb/src/device/usbd.c ****   {
 2799              		.loc 1 1161 16 is_stmt 1 discriminator 1 view .LVU827
1161:tinyusb/src/device/usbd.c ****   {
 2800              		.loc 1 1161 3 is_stmt 0 discriminator 1 view .LVU828
 2801 004c AE42     		cmp	r6, r5
 2802 004e 14DD     		ble	.L192
 2803              	.LBB442:
1163:tinyusb/src/device/usbd.c **** 
 2804              		.loc 1 1163 5 is_stmt 1 view .LVU829
 2805              	.LVL233:
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2806              		.loc 1 1165 5 view .LVU830
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2807              		.loc 1 1165 5 view .LVU831
 2808 0050 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 2809 0052 052B     		cmp	r3, #5
 2810 0054 E0D1     		bne	.L182
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2811              		.loc 1 1165 5 is_stmt 0 discriminator 2 view .LVU832
 2812 0056 E178     		ldrb	r1, [r4, #3]	@ zero_extendqisi2
 2813 0058 01F00301 		and	r1, r1, #3
 2814 005c B942     		cmp	r1, r7
 2815 005e DBD1     		bne	.L182
1165:tinyusb/src/device/usbd.c ****     TU_ASSERT(usbd_edpt_open(rhport, desc_ep));
 2816              		.loc 1 1165 5 is_stmt 1 discriminator 4 view .LVU833
1166:tinyusb/src/device/usbd.c **** 
 2817              		.loc 1 1166 5 discriminator 4 view .LVU834
1166:tinyusb/src/device/usbd.c **** 
ARM GAS  /tmp/ccyyDEje.s 			page 100


 2818              		.loc 1 1166 5 discriminator 4 view .LVU835
 2819 0060 2146     		mov	r1, r4
 2820 0062 4046     		mov	r0, r8
 2821 0064 FFF7FEFF 		bl	usbd_edpt_open
 2822              	.LVL234:
 2823 0068 0346     		mov	r3, r0
 2824 006a 0028     		cmp	r0, #0
 2825 006c E0D0     		beq	.L193
1166:tinyusb/src/device/usbd.c **** 
 2826              		.loc 1 1166 5 discriminator 2 view .LVU836
1168:tinyusb/src/device/usbd.c ****     {
 2827              		.loc 1 1168 5 discriminator 2 view .LVU837
1168:tinyusb/src/device/usbd.c ****     {
 2828              		.loc 1 1168 10 is_stmt 0 discriminator 2 view .LVU838
 2829 006e A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 2830              	.LVL235:
 2831              	.LBB439:
 2832              	.LBI439:
 512:tinyusb/src/common/tusb_types.h **** {
 2833              		.loc 2 512 48 is_stmt 1 discriminator 2 view .LVU839
 2834              	.LBB440:
 514:tinyusb/src/common/tusb_types.h **** }
 2835              		.loc 2 514 3 discriminator 2 view .LVU840
 514:tinyusb/src/common/tusb_types.h **** }
 2836              		.loc 2 514 3 is_stmt 0 discriminator 2 view .LVU841
 2837              	.LBE440:
 2838              	.LBE439:
1168:tinyusb/src/device/usbd.c ****     {
 2839              		.loc 1 1168 8 discriminator 2 view .LVU842
 2840 0070 DA09     		lsrs	r2, r3, #7
 2841 0072 E6D1     		bne	.L194
1173:tinyusb/src/device/usbd.c ****     }
 2842              		.loc 1 1173 7 is_stmt 1 view .LVU843
1173:tinyusb/src/device/usbd.c ****     }
 2843              		.loc 1 1173 17 is_stmt 0 view .LVU844
 2844 0074 89F80030 		strb	r3, [r9]
 2845 0078 E5E7     		b	.L189
 2846              	.LVL236:
 2847              	.L192:
1173:tinyusb/src/device/usbd.c ****     }
 2848              		.loc 1 1173 17 view .LVU845
 2849              	.LBE442:
 2850              	.LBE443:
1179:tinyusb/src/device/usbd.c **** }
 2851              		.loc 1 1179 10 view .LVU846
 2852 007a 0123     		movs	r3, #1
 2853 007c D5E7     		b	.L185
 2854              		.cfi_endproc
 2855              	.LFE104:
 2857              		.section	.text.usbd_edpt_claim,"ax",%progbits
 2858              		.align	1
 2859              		.global	usbd_edpt_claim
 2860              		.syntax unified
 2861              		.thumb
 2862              		.thumb_func
 2863              		.fpu fpv4-sp-d16
 2865              	usbd_edpt_claim:
ARM GAS  /tmp/ccyyDEje.s 			page 101


 2866              	.LVL237:
 2867              	.LFB107:
1210:tinyusb/src/device/usbd.c **** 
1211:tinyusb/src/device/usbd.c **** bool usbd_edpt_claim(uint8_t rhport, uint8_t ep_addr)
1212:tinyusb/src/device/usbd.c **** {
 2868              		.loc 1 1212 1 is_stmt 1 view -0
 2869              		.cfi_startproc
 2870              		@ args = 0, pretend = 0, frame = 0
 2871              		@ frame_needed = 0, uses_anonymous_args = 0
 2872              		.loc 1 1212 1 is_stmt 0 view .LVU848
 2873 0000 08B5     		push	{r3, lr}
 2874              	.LCFI23:
 2875              		.cfi_def_cfa_offset 8
 2876              		.cfi_offset 3, -8
 2877              		.cfi_offset 14, -4
1213:tinyusb/src/device/usbd.c ****   (void) rhport;
 2878              		.loc 1 1213 3 is_stmt 1 view .LVU849
1214:tinyusb/src/device/usbd.c **** 
1215:tinyusb/src/device/usbd.c ****   // TODO add this check later, also make sure we don't starve an out endpoint while suspending
1216:tinyusb/src/device/usbd.c ****   // TU_VERIFY(tud_ready());
1217:tinyusb/src/device/usbd.c **** 
1218:tinyusb/src/device/usbd.c ****   uint8_t const epnum       = tu_edpt_number(ep_addr);
 2879              		.loc 1 1218 3 view .LVU850
 2880              	.LVL238:
 2881              	.LBB444:
 2882              	.LBI444:
 518:tinyusb/src/common/tusb_types.h **** {
 2883              		.loc 2 518 45 view .LVU851
 2884              	.LBB445:
 520:tinyusb/src/common/tusb_types.h **** }
 2885              		.loc 2 520 3 view .LVU852
 520:tinyusb/src/common/tusb_types.h **** }
 2886              		.loc 2 520 10 is_stmt 0 view .LVU853
 2887 0002 01F07F00 		and	r0, r1, #127
 2888              	.LVL239:
 520:tinyusb/src/common/tusb_types.h **** }
 2889              		.loc 2 520 10 view .LVU854
 2890              	.LBE445:
 2891              	.LBE444:
1219:tinyusb/src/device/usbd.c ****   uint8_t const dir         = tu_edpt_dir(ep_addr);
 2892              		.loc 1 1219 3 is_stmt 1 view .LVU855
 2893              	.LBB446:
 2894              	.LBI446:
 512:tinyusb/src/common/tusb_types.h **** {
 2895              		.loc 2 512 48 view .LVU856
 2896              	.LBB447:
 514:tinyusb/src/common/tusb_types.h **** }
 2897              		.loc 2 514 3 view .LVU857
 514:tinyusb/src/common/tusb_types.h **** }
 2898              		.loc 2 514 3 is_stmt 0 view .LVU858
 2899              	.LBE447:
 2900              	.LBE446:
1220:tinyusb/src/device/usbd.c ****   tu_edpt_state_t* ep_state = &_usbd_dev.ep_status[epnum][dir];
 2901              		.loc 1 1220 3 is_stmt 1 view .LVU859
 2902              		.loc 1 1220 20 is_stmt 0 view .LVU860
 2903 0006 4000     		lsls	r0, r0, #1
 2904              	.LVL240:
ARM GAS  /tmp/ccyyDEje.s 			page 102


 2905              		.loc 1 1220 20 view .LVU861
 2906 0008 00EBD110 		add	r0, r0, r1, lsr #7
 2907 000c 1830     		adds	r0, r0, #24
 2908 000e 034B     		ldr	r3, .L197
 2909 0010 1844     		add	r0, r0, r3
 2910              	.LVL241:
1221:tinyusb/src/device/usbd.c **** 
1222:tinyusb/src/device/usbd.c ****   return tu_edpt_claim(ep_state, _usbd_mutex);
 2911              		.loc 1 1222 3 is_stmt 1 view .LVU862
 2912              		.loc 1 1222 10 is_stmt 0 view .LVU863
 2913 0012 0021     		movs	r1, #0
 2914              	.LVL242:
 2915              		.loc 1 1222 10 view .LVU864
 2916 0014 0730     		adds	r0, r0, #7
 2917              	.LVL243:
 2918              		.loc 1 1222 10 view .LVU865
 2919 0016 FFF7FEFF 		bl	tu_edpt_claim
 2920              	.LVL244:
1223:tinyusb/src/device/usbd.c **** }
 2921              		.loc 1 1223 1 view .LVU866
 2922 001a 08BD     		pop	{r3, pc}
 2923              	.L198:
 2924              		.align	2
 2925              	.L197:
 2926 001c 00000000 		.word	.LANCHOR3
 2927              		.cfi_endproc
 2928              	.LFE107:
 2930              		.section	.text.usbd_edpt_release,"ax",%progbits
 2931              		.align	1
 2932              		.global	usbd_edpt_release
 2933              		.syntax unified
 2934              		.thumb
 2935              		.thumb_func
 2936              		.fpu fpv4-sp-d16
 2938              	usbd_edpt_release:
 2939              	.LVL245:
 2940              	.LFB108:
1224:tinyusb/src/device/usbd.c **** 
1225:tinyusb/src/device/usbd.c **** bool usbd_edpt_release(uint8_t rhport, uint8_t ep_addr)
1226:tinyusb/src/device/usbd.c **** {
 2941              		.loc 1 1226 1 is_stmt 1 view -0
 2942              		.cfi_startproc
 2943              		@ args = 0, pretend = 0, frame = 0
 2944              		@ frame_needed = 0, uses_anonymous_args = 0
 2945              		.loc 1 1226 1 is_stmt 0 view .LVU868
 2946 0000 08B5     		push	{r3, lr}
 2947              	.LCFI24:
 2948              		.cfi_def_cfa_offset 8
 2949              		.cfi_offset 3, -8
 2950              		.cfi_offset 14, -4
1227:tinyusb/src/device/usbd.c ****   (void) rhport;
 2951              		.loc 1 1227 3 is_stmt 1 view .LVU869
1228:tinyusb/src/device/usbd.c **** 
1229:tinyusb/src/device/usbd.c ****   uint8_t const epnum       = tu_edpt_number(ep_addr);
 2952              		.loc 1 1229 3 view .LVU870
 2953              	.LVL246:
 2954              	.LBB448:
ARM GAS  /tmp/ccyyDEje.s 			page 103


 2955              	.LBI448:
 518:tinyusb/src/common/tusb_types.h **** {
 2956              		.loc 2 518 45 view .LVU871
 2957              	.LBB449:
 520:tinyusb/src/common/tusb_types.h **** }
 2958              		.loc 2 520 3 view .LVU872
 520:tinyusb/src/common/tusb_types.h **** }
 2959              		.loc 2 520 10 is_stmt 0 view .LVU873
 2960 0002 01F07F00 		and	r0, r1, #127
 2961              	.LVL247:
 520:tinyusb/src/common/tusb_types.h **** }
 2962              		.loc 2 520 10 view .LVU874
 2963              	.LBE449:
 2964              	.LBE448:
1230:tinyusb/src/device/usbd.c ****   uint8_t const dir         = tu_edpt_dir(ep_addr);
 2965              		.loc 1 1230 3 is_stmt 1 view .LVU875
 2966              	.LBB450:
 2967              	.LBI450:
 512:tinyusb/src/common/tusb_types.h **** {
 2968              		.loc 2 512 48 view .LVU876
 2969              	.LBB451:
 514:tinyusb/src/common/tusb_types.h **** }
 2970              		.loc 2 514 3 view .LVU877
 514:tinyusb/src/common/tusb_types.h **** }
 2971              		.loc 2 514 3 is_stmt 0 view .LVU878
 2972              	.LBE451:
 2973              	.LBE450:
1231:tinyusb/src/device/usbd.c ****   tu_edpt_state_t* ep_state = &_usbd_dev.ep_status[epnum][dir];
 2974              		.loc 1 1231 3 is_stmt 1 view .LVU879
 2975              		.loc 1 1231 20 is_stmt 0 view .LVU880
 2976 0006 4000     		lsls	r0, r0, #1
 2977              	.LVL248:
 2978              		.loc 1 1231 20 view .LVU881
 2979 0008 00EBD110 		add	r0, r0, r1, lsr #7
 2980 000c 1830     		adds	r0, r0, #24
 2981 000e 034B     		ldr	r3, .L201
 2982 0010 1844     		add	r0, r0, r3
 2983              	.LVL249:
1232:tinyusb/src/device/usbd.c **** 
1233:tinyusb/src/device/usbd.c ****   return tu_edpt_release(ep_state, _usbd_mutex);
 2984              		.loc 1 1233 3 is_stmt 1 view .LVU882
 2985              		.loc 1 1233 10 is_stmt 0 view .LVU883
 2986 0012 0021     		movs	r1, #0
 2987              	.LVL250:
 2988              		.loc 1 1233 10 view .LVU884
 2989 0014 0730     		adds	r0, r0, #7
 2990              	.LVL251:
 2991              		.loc 1 1233 10 view .LVU885
 2992 0016 FFF7FEFF 		bl	tu_edpt_release
 2993              	.LVL252:
1234:tinyusb/src/device/usbd.c **** }
 2994              		.loc 1 1234 1 view .LVU886
 2995 001a 08BD     		pop	{r3, pc}
 2996              	.L202:
 2997              		.align	2
 2998              	.L201:
 2999 001c 00000000 		.word	.LANCHOR3
ARM GAS  /tmp/ccyyDEje.s 			page 104


 3000              		.cfi_endproc
 3001              	.LFE108:
 3003              		.section	.text.usbd_edpt_xfer,"ax",%progbits
 3004              		.align	1
 3005              		.global	usbd_edpt_xfer
 3006              		.syntax unified
 3007              		.thumb
 3008              		.thumb_func
 3009              		.fpu fpv4-sp-d16
 3011              	usbd_edpt_xfer:
 3012              	.LVL253:
 3013              	.LFB109:
1235:tinyusb/src/device/usbd.c **** 
1236:tinyusb/src/device/usbd.c **** bool usbd_edpt_xfer(uint8_t rhport, uint8_t ep_addr, uint8_t * buffer, uint16_t total_bytes)
1237:tinyusb/src/device/usbd.c **** {
 3014              		.loc 1 1237 1 is_stmt 1 view -0
 3015              		.cfi_startproc
 3016              		@ args = 0, pretend = 0, frame = 0
 3017              		@ frame_needed = 0, uses_anonymous_args = 0
 3018              		.loc 1 1237 1 is_stmt 0 view .LVU888
 3019 0000 70B5     		push	{r4, r5, r6, lr}
 3020              	.LCFI25:
 3021              		.cfi_def_cfa_offset 16
 3022              		.cfi_offset 4, -16
 3023              		.cfi_offset 5, -12
 3024              		.cfi_offset 6, -8
 3025              		.cfi_offset 14, -4
1238:tinyusb/src/device/usbd.c ****   rhport = _usbd_rhport;
 3026              		.loc 1 1238 3 is_stmt 1 view .LVU889
 3027              		.loc 1 1238 10 is_stmt 0 view .LVU890
 3028 0002 1C48     		ldr	r0, .L209
 3029              	.LVL254:
 3030              		.loc 1 1238 10 view .LVU891
 3031 0004 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3032              	.LVL255:
1239:tinyusb/src/device/usbd.c **** 
1240:tinyusb/src/device/usbd.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 3033              		.loc 1 1240 3 is_stmt 1 view .LVU892
 3034              	.LBB452:
 3035              	.LBI452:
 518:tinyusb/src/common/tusb_types.h **** {
 3036              		.loc 2 518 45 view .LVU893
 3037              	.LBB453:
 520:tinyusb/src/common/tusb_types.h **** }
 3038              		.loc 2 520 3 view .LVU894
 520:tinyusb/src/common/tusb_types.h **** }
 3039              		.loc 2 520 10 is_stmt 0 view .LVU895
 3040 0006 01F07F05 		and	r5, r1, #127
 3041              	.LVL256:
 520:tinyusb/src/common/tusb_types.h **** }
 3042              		.loc 2 520 10 view .LVU896
 3043              	.LBE453:
 3044              	.LBE452:
1241:tinyusb/src/device/usbd.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 3045              		.loc 1 1241 3 is_stmt 1 view .LVU897
 3046              	.LBB454:
 3047              	.LBI454:
ARM GAS  /tmp/ccyyDEje.s 			page 105


 512:tinyusb/src/common/tusb_types.h **** {
 3048              		.loc 2 512 48 view .LVU898
 3049              	.LBB455:
 514:tinyusb/src/common/tusb_types.h **** }
 3050              		.loc 2 514 3 view .LVU899
 514:tinyusb/src/common/tusb_types.h **** }
 3051              		.loc 2 514 3 is_stmt 0 view .LVU900
 3052              	.LBE455:
 3053              	.LBE454:
1242:tinyusb/src/device/usbd.c **** 
1243:tinyusb/src/device/usbd.c ****   // TODO skip ready() check for now since enumeration also use this API
1244:tinyusb/src/device/usbd.c ****   // TU_VERIFY(tud_ready());
1245:tinyusb/src/device/usbd.c **** 
1246:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  Queue EP %02X with %u bytes ...\r\n", ep_addr, total_bytes);
 3054              		.loc 1 1246 77 is_stmt 1 view .LVU901
1247:tinyusb/src/device/usbd.c **** 
1248:tinyusb/src/device/usbd.c ****   // Attempt to transfer on a busy endpoint, sound like an race condition !
1249:tinyusb/src/device/usbd.c ****   TU_ASSERT(_usbd_dev.ep_status[epnum][dir].busy == 0);
 3055              		.loc 1 1249 3 view .LVU902
 3056              		.loc 1 1249 3 view .LVU903
 3057 000a 1B4C     		ldr	r4, .L209+4
 3058 000c 04EB450C 		add	ip, r4, r5, lsl #1
 3059 0010 0CEBD11C 		add	ip, ip, r1, lsr #7
 3060 0014 9CF81F40 		ldrb	r4, [ip, #31]	@ zero_extendqisi2
 3061 0018 14F0010F 		tst	r4, #1
 3062 001c 09D0     		beq	.L204
 3063              		.loc 1 1249 3 discriminator 1 view .LVU904
 3064              		.loc 1 1249 3 discriminator 1 view .LVU905
 3065              		.loc 1 1249 3 discriminator 1 view .LVU906
 3066              		.loc 1 1249 3 discriminator 1 view .LVU907
 3067              	.LBB456:
 3068              		.loc 1 1249 3 discriminator 1 view .LVU908
 3069              	.LVL257:
 3070              		.loc 1 1249 3 discriminator 1 view .LVU909
 3071 001e 4FF0E023 		mov	r3, #-536813568
 3072              	.LVL258:
 3073              		.loc 1 1249 3 is_stmt 0 discriminator 1 view .LVU910
 3074 0022 D3F8F03D 		ldr	r3, [r3, #3568]
 3075 0026 13F0010F 		tst	r3, #1
 3076 002a 00D0     		beq	.L205
 3077              		.loc 1 1249 3 is_stmt 1 discriminator 3 view .LVU911
 3078              		.syntax unified
 3079              	@ 1249 "tinyusb/src/device/usbd.c" 1
 3080 002c 00BE     		BKPT #0
 3081              	
 3082              	@ 0 "" 2
 3083              		.thumb
 3084              		.syntax unified
 3085              	.L205:
 3086              	.LBE456:
 3087              		.loc 1 1249 3 discriminator 5 view .LVU912
 3088              		.loc 1 1249 3 discriminator 5 view .LVU913
 3089 002e 0020     		movs	r0, #0
 3090              	.LVL259:
 3091              	.L206:
1250:tinyusb/src/device/usbd.c **** 
1251:tinyusb/src/device/usbd.c ****   // Set busy first since the actual transfer can be complete before dcd_edpt_xfer()
ARM GAS  /tmp/ccyyDEje.s 			page 106


1252:tinyusb/src/device/usbd.c ****   // could return and USBD task can preempt and clear the busy
1253:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].busy = 1;
1254:tinyusb/src/device/usbd.c **** 
1255:tinyusb/src/device/usbd.c ****   if ( dcd_edpt_xfer(rhport, ep_addr, buffer, total_bytes) )
1256:tinyusb/src/device/usbd.c ****   {
1257:tinyusb/src/device/usbd.c ****     return true;
1258:tinyusb/src/device/usbd.c ****   }else
1259:tinyusb/src/device/usbd.c ****   {
1260:tinyusb/src/device/usbd.c ****     // DCD error, mark endpoint as ready to allow next transfer
1261:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].busy = 0;
1262:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].claimed = 0;
1263:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("FAILED\r\n");
1264:tinyusb/src/device/usbd.c ****     TU_BREAKPOINT();
1265:tinyusb/src/device/usbd.c ****     return false;
1266:tinyusb/src/device/usbd.c ****   }
1267:tinyusb/src/device/usbd.c **** }
 3092              		.loc 1 1267 1 is_stmt 0 view .LVU914
 3093 0030 70BD     		pop	{r4, r5, r6, pc}
 3094              	.LVL260:
 3095              	.L204:
 3096              		.loc 1 1267 1 view .LVU915
 3097 0032 CE09     		lsrs	r6, r1, #7
1249:tinyusb/src/device/usbd.c **** 
 3098              		.loc 1 1249 3 is_stmt 1 discriminator 2 view .LVU916
1253:tinyusb/src/device/usbd.c **** 
 3099              		.loc 1 1253 3 discriminator 2 view .LVU917
1253:tinyusb/src/device/usbd.c **** 
 3100              		.loc 1 1253 40 is_stmt 0 discriminator 2 view .LVU918
 3101 0034 104C     		ldr	r4, .L209+4
 3102 0036 04EB4504 		add	r4, r4, r5, lsl #1
 3103 003a 3444     		add	r4, r4, r6
 3104 003c 94F81FC0 		ldrb	ip, [r4, #31]	@ zero_extendqisi2
 3105 0040 4CF0010C 		orr	ip, ip, #1
 3106 0044 84F81FC0 		strb	ip, [r4, #31]
 3107 0048 1834     		adds	r4, r4, #24
1255:tinyusb/src/device/usbd.c ****   {
 3108              		.loc 1 1255 3 is_stmt 1 discriminator 2 view .LVU919
1255:tinyusb/src/device/usbd.c ****   {
 3109              		.loc 1 1255 8 is_stmt 0 discriminator 2 view .LVU920
 3110 004a FFF7FEFF 		bl	dcd_edpt_xfer
 3111              	.LVL261:
1255:tinyusb/src/device/usbd.c ****   {
 3112              		.loc 1 1255 6 discriminator 2 view .LVU921
 3113 004e 0028     		cmp	r0, #0
 3114 0050 EED1     		bne	.L206
1261:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].claimed = 0;
 3115              		.loc 1 1261 5 is_stmt 1 view .LVU922
1261:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].claimed = 0;
 3116              		.loc 1 1261 42 is_stmt 0 view .LVU923
 3117 0052 E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 3118 0054 6FF30003 		bfc	r3, #0, #1
 3119 0058 E371     		strb	r3, [r4, #7]
1262:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("FAILED\r\n");
 3120              		.loc 1 1262 5 is_stmt 1 view .LVU924
1262:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("FAILED\r\n");
 3121              		.loc 1 1262 45 is_stmt 0 view .LVU925
 3122 005a E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
ARM GAS  /tmp/ccyyDEje.s 			page 107


 3123 005c 6FF38203 		bfc	r3, #2, #1
 3124 0060 E371     		strb	r3, [r4, #7]
1263:tinyusb/src/device/usbd.c ****     TU_BREAKPOINT();
 3125              		.loc 1 1263 30 is_stmt 1 view .LVU926
1264:tinyusb/src/device/usbd.c ****     return false;
 3126              		.loc 1 1264 5 view .LVU927
 3127              	.LBB457:
1264:tinyusb/src/device/usbd.c ****     return false;
 3128              		.loc 1 1264 5 view .LVU928
 3129              	.LVL262:
1264:tinyusb/src/device/usbd.c ****     return false;
 3130              		.loc 1 1264 5 view .LVU929
 3131 0062 4FF0E023 		mov	r3, #-536813568
 3132 0066 D3F8F03D 		ldr	r3, [r3, #3568]
 3133 006a 13F0010F 		tst	r3, #1
 3134 006e DFD0     		beq	.L206
1264:tinyusb/src/device/usbd.c ****     return false;
 3135              		.loc 1 1264 5 discriminator 1 view .LVU930
 3136              		.syntax unified
 3137              	@ 1264 "tinyusb/src/device/usbd.c" 1
 3138 0070 00BE     		BKPT #0
 3139              	
 3140              	@ 0 "" 2
 3141              		.thumb
 3142              		.syntax unified
 3143              	.LBE457:
1264:tinyusb/src/device/usbd.c ****     return false;
 3144              		.loc 1 1264 5 discriminator 1 view .LVU931
1265:tinyusb/src/device/usbd.c ****   }
 3145              		.loc 1 1265 5 discriminator 1 view .LVU932
1265:tinyusb/src/device/usbd.c ****   }
 3146              		.loc 1 1265 12 is_stmt 0 discriminator 1 view .LVU933
 3147 0072 DDE7     		b	.L206
 3148              	.L210:
 3149              		.align	2
 3150              	.L209:
 3151 0074 00000000 		.word	.LANCHOR4
 3152 0078 00000000 		.word	.LANCHOR3
 3153              		.cfi_endproc
 3154              	.LFE109:
 3156              		.section	.text.usbd_edpt_xfer_fifo,"ax",%progbits
 3157              		.align	1
 3158              		.global	usbd_edpt_xfer_fifo
 3159              		.syntax unified
 3160              		.thumb
 3161              		.thumb_func
 3162              		.fpu fpv4-sp-d16
 3164              	usbd_edpt_xfer_fifo:
 3165              	.LVL263:
 3166              	.LFB110:
1268:tinyusb/src/device/usbd.c **** 
1269:tinyusb/src/device/usbd.c **** // The number of bytes has to be given explicitly to allow more flexible control of how many
1270:tinyusb/src/device/usbd.c **** // bytes should be written and second to keep the return value free to give back a boolean
1271:tinyusb/src/device/usbd.c **** // success message. If total_bytes is too big, the FIFO will copy only what is available
1272:tinyusb/src/device/usbd.c **** // into the USB buffer!
1273:tinyusb/src/device/usbd.c **** bool usbd_edpt_xfer_fifo(uint8_t rhport, uint8_t ep_addr, tu_fifo_t * ff, uint16_t total_bytes)
1274:tinyusb/src/device/usbd.c **** {
ARM GAS  /tmp/ccyyDEje.s 			page 108


 3167              		.loc 1 1274 1 is_stmt 1 view -0
 3168              		.cfi_startproc
 3169              		@ args = 0, pretend = 0, frame = 0
 3170              		@ frame_needed = 0, uses_anonymous_args = 0
 3171              		.loc 1 1274 1 is_stmt 0 view .LVU935
 3172 0000 70B5     		push	{r4, r5, r6, lr}
 3173              	.LCFI26:
 3174              		.cfi_def_cfa_offset 16
 3175              		.cfi_offset 4, -16
 3176              		.cfi_offset 5, -12
 3177              		.cfi_offset 6, -8
 3178              		.cfi_offset 14, -4
1275:tinyusb/src/device/usbd.c ****   rhport = _usbd_rhport;
 3179              		.loc 1 1275 3 is_stmt 1 view .LVU936
 3180              		.loc 1 1275 10 is_stmt 0 view .LVU937
 3181 0002 1C48     		ldr	r0, .L217
 3182              	.LVL264:
 3183              		.loc 1 1275 10 view .LVU938
 3184 0004 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3185              	.LVL265:
1276:tinyusb/src/device/usbd.c **** 
1277:tinyusb/src/device/usbd.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 3186              		.loc 1 1277 3 is_stmt 1 view .LVU939
 3187              	.LBB458:
 3188              	.LBI458:
 518:tinyusb/src/common/tusb_types.h **** {
 3189              		.loc 2 518 45 view .LVU940
 3190              	.LBB459:
 520:tinyusb/src/common/tusb_types.h **** }
 3191              		.loc 2 520 3 view .LVU941
 520:tinyusb/src/common/tusb_types.h **** }
 3192              		.loc 2 520 10 is_stmt 0 view .LVU942
 3193 0006 01F07F05 		and	r5, r1, #127
 3194              	.LVL266:
 520:tinyusb/src/common/tusb_types.h **** }
 3195              		.loc 2 520 10 view .LVU943
 3196              	.LBE459:
 3197              	.LBE458:
1278:tinyusb/src/device/usbd.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 3198              		.loc 1 1278 3 is_stmt 1 view .LVU944
 3199              	.LBB460:
 3200              	.LBI460:
 512:tinyusb/src/common/tusb_types.h **** {
 3201              		.loc 2 512 48 view .LVU945
 3202              	.LBB461:
 514:tinyusb/src/common/tusb_types.h **** }
 3203              		.loc 2 514 3 view .LVU946
 514:tinyusb/src/common/tusb_types.h **** }
 3204              		.loc 2 514 3 is_stmt 0 view .LVU947
 3205              	.LBE461:
 3206              	.LBE460:
1279:tinyusb/src/device/usbd.c **** 
1280:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  Queue ISO EP %02X with %u bytes ... ", ep_addr, total_bytes);
 3207              		.loc 1 1280 78 is_stmt 1 view .LVU948
1281:tinyusb/src/device/usbd.c **** 
1282:tinyusb/src/device/usbd.c ****   // Attempt to transfer on a busy endpoint, sound like an race condition !
1283:tinyusb/src/device/usbd.c ****   TU_ASSERT(_usbd_dev.ep_status[epnum][dir].busy == 0);
ARM GAS  /tmp/ccyyDEje.s 			page 109


 3208              		.loc 1 1283 3 view .LVU949
 3209              		.loc 1 1283 3 view .LVU950
 3210 000a 1B4C     		ldr	r4, .L217+4
 3211 000c 04EB450C 		add	ip, r4, r5, lsl #1
 3212 0010 0CEBD11C 		add	ip, ip, r1, lsr #7
 3213 0014 9CF81F40 		ldrb	r4, [ip, #31]	@ zero_extendqisi2
 3214 0018 14F0010F 		tst	r4, #1
 3215 001c 09D0     		beq	.L212
 3216              		.loc 1 1283 3 discriminator 1 view .LVU951
 3217              		.loc 1 1283 3 discriminator 1 view .LVU952
 3218              		.loc 1 1283 3 discriminator 1 view .LVU953
 3219              		.loc 1 1283 3 discriminator 1 view .LVU954
 3220              	.LBB462:
 3221              		.loc 1 1283 3 discriminator 1 view .LVU955
 3222              	.LVL267:
 3223              		.loc 1 1283 3 discriminator 1 view .LVU956
 3224 001e 4FF0E023 		mov	r3, #-536813568
 3225              	.LVL268:
 3226              		.loc 1 1283 3 is_stmt 0 discriminator 1 view .LVU957
 3227 0022 D3F8F03D 		ldr	r3, [r3, #3568]
 3228 0026 13F0010F 		tst	r3, #1
 3229 002a 00D0     		beq	.L213
 3230              		.loc 1 1283 3 is_stmt 1 discriminator 3 view .LVU958
 3231              		.syntax unified
 3232              	@ 1283 "tinyusb/src/device/usbd.c" 1
 3233 002c 00BE     		BKPT #0
 3234              	
 3235              	@ 0 "" 2
 3236              		.thumb
 3237              		.syntax unified
 3238              	.L213:
 3239              	.LBE462:
 3240              		.loc 1 1283 3 discriminator 5 view .LVU959
 3241              		.loc 1 1283 3 discriminator 5 view .LVU960
 3242 002e 0020     		movs	r0, #0
 3243              	.LVL269:
 3244              	.L214:
1284:tinyusb/src/device/usbd.c **** 
1285:tinyusb/src/device/usbd.c ****   // Set busy first since the actual transfer can be complete before dcd_edpt_xfer() could return
1286:tinyusb/src/device/usbd.c ****   // and usbd task can preempt and clear the busy
1287:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].busy = 1;
1288:tinyusb/src/device/usbd.c **** 
1289:tinyusb/src/device/usbd.c ****   if (dcd_edpt_xfer_fifo(rhport, ep_addr, ff, total_bytes))
1290:tinyusb/src/device/usbd.c ****   {
1291:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("OK\r\n");
1292:tinyusb/src/device/usbd.c ****     return true;
1293:tinyusb/src/device/usbd.c ****   }else
1294:tinyusb/src/device/usbd.c ****   {
1295:tinyusb/src/device/usbd.c ****     // DCD error, mark endpoint as ready to allow next transfer
1296:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].busy = 0;
1297:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].claimed = 0;
1298:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("failed\r\n");
1299:tinyusb/src/device/usbd.c ****     TU_BREAKPOINT();
1300:tinyusb/src/device/usbd.c ****     return false;
1301:tinyusb/src/device/usbd.c ****   }
1302:tinyusb/src/device/usbd.c **** }
 3245              		.loc 1 1302 1 is_stmt 0 view .LVU961
ARM GAS  /tmp/ccyyDEje.s 			page 110


 3246 0030 70BD     		pop	{r4, r5, r6, pc}
 3247              	.LVL270:
 3248              	.L212:
 3249              		.loc 1 1302 1 view .LVU962
 3250 0032 CE09     		lsrs	r6, r1, #7
1283:tinyusb/src/device/usbd.c **** 
 3251              		.loc 1 1283 3 is_stmt 1 discriminator 2 view .LVU963
1287:tinyusb/src/device/usbd.c **** 
 3252              		.loc 1 1287 3 discriminator 2 view .LVU964
1287:tinyusb/src/device/usbd.c **** 
 3253              		.loc 1 1287 40 is_stmt 0 discriminator 2 view .LVU965
 3254 0034 104C     		ldr	r4, .L217+4
 3255 0036 04EB4504 		add	r4, r4, r5, lsl #1
 3256 003a 3444     		add	r4, r4, r6
 3257 003c 94F81FC0 		ldrb	ip, [r4, #31]	@ zero_extendqisi2
 3258 0040 4CF0010C 		orr	ip, ip, #1
 3259 0044 84F81FC0 		strb	ip, [r4, #31]
 3260 0048 1834     		adds	r4, r4, #24
1289:tinyusb/src/device/usbd.c ****   {
 3261              		.loc 1 1289 3 is_stmt 1 discriminator 2 view .LVU966
1289:tinyusb/src/device/usbd.c ****   {
 3262              		.loc 1 1289 7 is_stmt 0 discriminator 2 view .LVU967
 3263 004a FFF7FEFF 		bl	dcd_edpt_xfer_fifo
 3264              	.LVL271:
1289:tinyusb/src/device/usbd.c ****   {
 3265              		.loc 1 1289 6 discriminator 2 view .LVU968
 3266 004e 0028     		cmp	r0, #0
 3267 0050 EED1     		bne	.L214
1296:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].claimed = 0;
 3268              		.loc 1 1296 5 is_stmt 1 view .LVU969
1296:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].claimed = 0;
 3269              		.loc 1 1296 42 is_stmt 0 view .LVU970
 3270 0052 E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 3271 0054 6FF30003 		bfc	r3, #0, #1
 3272 0058 E371     		strb	r3, [r4, #7]
1297:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("failed\r\n");
 3273              		.loc 1 1297 5 is_stmt 1 view .LVU971
1297:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("failed\r\n");
 3274              		.loc 1 1297 45 is_stmt 0 view .LVU972
 3275 005a E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 3276 005c 6FF38203 		bfc	r3, #2, #1
 3277 0060 E371     		strb	r3, [r4, #7]
1298:tinyusb/src/device/usbd.c ****     TU_BREAKPOINT();
 3278              		.loc 1 1298 30 is_stmt 1 view .LVU973
1299:tinyusb/src/device/usbd.c ****     return false;
 3279              		.loc 1 1299 5 view .LVU974
 3280              	.LBB463:
1299:tinyusb/src/device/usbd.c ****     return false;
 3281              		.loc 1 1299 5 view .LVU975
 3282              	.LVL272:
1299:tinyusb/src/device/usbd.c ****     return false;
 3283              		.loc 1 1299 5 view .LVU976
 3284 0062 4FF0E023 		mov	r3, #-536813568
 3285 0066 D3F8F03D 		ldr	r3, [r3, #3568]
 3286 006a 13F0010F 		tst	r3, #1
 3287 006e DFD0     		beq	.L214
1299:tinyusb/src/device/usbd.c ****     return false;
ARM GAS  /tmp/ccyyDEje.s 			page 111


 3288              		.loc 1 1299 5 discriminator 1 view .LVU977
 3289              		.syntax unified
 3290              	@ 1299 "tinyusb/src/device/usbd.c" 1
 3291 0070 00BE     		BKPT #0
 3292              	
 3293              	@ 0 "" 2
 3294              		.thumb
 3295              		.syntax unified
 3296              	.LBE463:
1299:tinyusb/src/device/usbd.c ****     return false;
 3297              		.loc 1 1299 5 discriminator 1 view .LVU978
1300:tinyusb/src/device/usbd.c ****   }
 3298              		.loc 1 1300 5 discriminator 1 view .LVU979
1300:tinyusb/src/device/usbd.c ****   }
 3299              		.loc 1 1300 12 is_stmt 0 discriminator 1 view .LVU980
 3300 0072 DDE7     		b	.L214
 3301              	.L218:
 3302              		.align	2
 3303              	.L217:
 3304 0074 00000000 		.word	.LANCHOR4
 3305 0078 00000000 		.word	.LANCHOR3
 3306              		.cfi_endproc
 3307              	.LFE110:
 3309              		.section	.text.usbd_edpt_busy,"ax",%progbits
 3310              		.align	1
 3311              		.global	usbd_edpt_busy
 3312              		.syntax unified
 3313              		.thumb
 3314              		.thumb_func
 3315              		.fpu fpv4-sp-d16
 3317              	usbd_edpt_busy:
 3318              	.LVL273:
 3319              	.LFB111:
1303:tinyusb/src/device/usbd.c **** 
1304:tinyusb/src/device/usbd.c **** bool usbd_edpt_busy(uint8_t rhport, uint8_t ep_addr)
1305:tinyusb/src/device/usbd.c **** {
 3320              		.loc 1 1305 1 is_stmt 1 view -0
 3321              		.cfi_startproc
 3322              		@ args = 0, pretend = 0, frame = 0
 3323              		@ frame_needed = 0, uses_anonymous_args = 0
 3324              		@ link register save eliminated.
1306:tinyusb/src/device/usbd.c ****   (void) rhport;
 3325              		.loc 1 1306 3 view .LVU982
1307:tinyusb/src/device/usbd.c **** 
1308:tinyusb/src/device/usbd.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 3326              		.loc 1 1308 3 view .LVU983
 3327              	.LBB464:
 3328              	.LBI464:
 518:tinyusb/src/common/tusb_types.h **** {
 3329              		.loc 2 518 45 view .LVU984
 3330              	.LBB465:
 520:tinyusb/src/common/tusb_types.h **** }
 3331              		.loc 2 520 3 view .LVU985
 520:tinyusb/src/common/tusb_types.h **** }
 3332              		.loc 2 520 10 is_stmt 0 view .LVU986
 3333 0000 01F07F02 		and	r2, r1, #127
 3334              	.LVL274:
ARM GAS  /tmp/ccyyDEje.s 			page 112


 520:tinyusb/src/common/tusb_types.h **** }
 3335              		.loc 2 520 10 view .LVU987
 3336              	.LBE465:
 3337              	.LBE464:
1309:tinyusb/src/device/usbd.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 3338              		.loc 1 1309 3 is_stmt 1 view .LVU988
 3339              	.LBB466:
 3340              	.LBI466:
 512:tinyusb/src/common/tusb_types.h **** {
 3341              		.loc 2 512 48 view .LVU989
 3342              	.LBB467:
 514:tinyusb/src/common/tusb_types.h **** }
 3343              		.loc 2 514 3 view .LVU990
 514:tinyusb/src/common/tusb_types.h **** }
 3344              		.loc 2 514 3 is_stmt 0 view .LVU991
 3345              	.LBE467:
 3346              	.LBE466:
1310:tinyusb/src/device/usbd.c **** 
1311:tinyusb/src/device/usbd.c ****   return _usbd_dev.ep_status[epnum][dir].busy;
 3347              		.loc 1 1311 3 is_stmt 1 view .LVU992
 3348              		.loc 1 1311 41 is_stmt 0 view .LVU993
 3349 0004 044B     		ldr	r3, .L220
 3350 0006 03EB4203 		add	r3, r3, r2, lsl #1
 3351 000a 03EBD111 		add	r1, r3, r1, lsr #7
 3352              	.LVL275:
 3353              		.loc 1 1311 41 view .LVU994
 3354 000e C87F     		ldrb	r0, [r1, #31]	@ zero_extendqisi2
 3355              	.LVL276:
1312:tinyusb/src/device/usbd.c **** }
 3356              		.loc 1 1312 1 view .LVU995
 3357 0010 00F00100 		and	r0, r0, #1
 3358 0014 7047     		bx	lr
 3359              	.L221:
 3360 0016 00BF     		.align	2
 3361              	.L220:
 3362 0018 00000000 		.word	.LANCHOR3
 3363              		.cfi_endproc
 3364              	.LFE111:
 3366              		.section	.text.usbd_edpt_stall,"ax",%progbits
 3367              		.align	1
 3368              		.global	usbd_edpt_stall
 3369              		.syntax unified
 3370              		.thumb
 3371              		.thumb_func
 3372              		.fpu fpv4-sp-d16
 3374              	usbd_edpt_stall:
 3375              	.LVL277:
 3376              	.LFB112:
1313:tinyusb/src/device/usbd.c **** 
1314:tinyusb/src/device/usbd.c **** void usbd_edpt_stall(uint8_t rhport, uint8_t ep_addr)
1315:tinyusb/src/device/usbd.c **** {
 3377              		.loc 1 1315 1 is_stmt 1 view -0
 3378              		.cfi_startproc
 3379              		@ args = 0, pretend = 0, frame = 0
 3380              		@ frame_needed = 0, uses_anonymous_args = 0
 3381              		.loc 1 1315 1 is_stmt 0 view .LVU997
 3382 0000 38B5     		push	{r3, r4, r5, lr}
ARM GAS  /tmp/ccyyDEje.s 			page 113


 3383              	.LCFI27:
 3384              		.cfi_def_cfa_offset 16
 3385              		.cfi_offset 3, -16
 3386              		.cfi_offset 4, -12
 3387              		.cfi_offset 5, -8
 3388              		.cfi_offset 14, -4
1316:tinyusb/src/device/usbd.c ****   rhport = _usbd_rhport;
 3389              		.loc 1 1316 3 is_stmt 1 view .LVU998
 3390              		.loc 1 1316 10 is_stmt 0 view .LVU999
 3391 0002 0F4B     		ldr	r3, .L226
 3392 0004 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3393              	.LVL278:
1317:tinyusb/src/device/usbd.c **** 
1318:tinyusb/src/device/usbd.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 3394              		.loc 1 1318 3 is_stmt 1 view .LVU1000
 3395              	.LBB468:
 3396              	.LBI468:
 518:tinyusb/src/common/tusb_types.h **** {
 3397              		.loc 2 518 45 view .LVU1001
 3398              	.LBB469:
 520:tinyusb/src/common/tusb_types.h **** }
 3399              		.loc 2 520 3 view .LVU1002
 520:tinyusb/src/common/tusb_types.h **** }
 3400              		.loc 2 520 10 is_stmt 0 view .LVU1003
 3401 0006 01F07F05 		and	r5, r1, #127
 3402              	.LVL279:
 520:tinyusb/src/common/tusb_types.h **** }
 3403              		.loc 2 520 10 view .LVU1004
 3404              	.LBE469:
 3405              	.LBE468:
1319:tinyusb/src/device/usbd.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 3406              		.loc 1 1319 3 is_stmt 1 view .LVU1005
 3407              	.LBB470:
 3408              	.LBI470:
 512:tinyusb/src/common/tusb_types.h **** {
 3409              		.loc 2 512 48 view .LVU1006
 3410              	.LBB471:
 514:tinyusb/src/common/tusb_types.h **** }
 3411              		.loc 2 514 3 view .LVU1007
 514:tinyusb/src/common/tusb_types.h **** }
 3412              		.loc 2 514 3 is_stmt 0 view .LVU1008
 3413              	.LBE471:
 3414              	.LBE470:
1320:tinyusb/src/device/usbd.c **** 
1321:tinyusb/src/device/usbd.c ****   // only stalled if currently cleared
1322:tinyusb/src/device/usbd.c ****   if ( !_usbd_dev.ep_status[epnum][dir].stalled )
 3415              		.loc 1 1322 3 is_stmt 1 view .LVU1009
 3416              		.loc 1 1322 40 is_stmt 0 view .LVU1010
 3417 000a 0E4B     		ldr	r3, .L226+4
 3418 000c 03EB4503 		add	r3, r3, r5, lsl #1
 3419 0010 03EBD113 		add	r3, r3, r1, lsr #7
 3420 0014 1833     		adds	r3, r3, #24
 3421 0016 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 3422              		.loc 1 1322 6 view .LVU1011
 3423 0018 13F0020F 		tst	r3, #2
 3424 001c 00D0     		beq	.L225
 3425              	.LVL280:
ARM GAS  /tmp/ccyyDEje.s 			page 114


 3426              	.L222:
1323:tinyusb/src/device/usbd.c ****   {
1324:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("    Stall EP %02X\r\n", ep_addr);
1325:tinyusb/src/device/usbd.c ****     dcd_edpt_stall(rhport, ep_addr);
1326:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].stalled = 1;
1327:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].busy = 1;
1328:tinyusb/src/device/usbd.c ****   }
1329:tinyusb/src/device/usbd.c **** }
 3427              		.loc 1 1329 1 view .LVU1012
 3428 001e 38BD     		pop	{r3, r4, r5, pc}
 3429              	.LVL281:
 3430              	.L225:
 3431              		.loc 1 1329 1 view .LVU1013
 3432 0020 CC09     		lsrs	r4, r1, #7
1324:tinyusb/src/device/usbd.c ****     dcd_edpt_stall(rhport, ep_addr);
 3433              		.loc 1 1324 50 is_stmt 1 view .LVU1014
1325:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].stalled = 1;
 3434              		.loc 1 1325 5 view .LVU1015
 3435 0022 FFF7FEFF 		bl	dcd_edpt_stall
 3436              	.LVL282:
1326:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].busy = 1;
 3437              		.loc 1 1326 5 view .LVU1016
1326:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].busy = 1;
 3438              		.loc 1 1326 45 is_stmt 0 view .LVU1017
 3439 0026 074B     		ldr	r3, .L226+4
 3440 0028 03EB4503 		add	r3, r3, r5, lsl #1
 3441 002c 2344     		add	r3, r3, r4
 3442 002e DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 3443 0030 42F00202 		orr	r2, r2, #2
 3444 0034 DA77     		strb	r2, [r3, #31]
1327:tinyusb/src/device/usbd.c ****   }
 3445              		.loc 1 1327 5 is_stmt 1 view .LVU1018
1327:tinyusb/src/device/usbd.c ****   }
 3446              		.loc 1 1327 42 is_stmt 0 view .LVU1019
 3447 0036 DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 3448 0038 42F00102 		orr	r2, r2, #1
 3449 003c DA77     		strb	r2, [r3, #31]
 3450              		.loc 1 1329 1 view .LVU1020
 3451 003e EEE7     		b	.L222
 3452              	.L227:
 3453              		.align	2
 3454              	.L226:
 3455 0040 00000000 		.word	.LANCHOR4
 3456 0044 00000000 		.word	.LANCHOR3
 3457              		.cfi_endproc
 3458              	.LFE112:
 3460              		.section	.text.usbd_edpt_clear_stall,"ax",%progbits
 3461              		.align	1
 3462              		.global	usbd_edpt_clear_stall
 3463              		.syntax unified
 3464              		.thumb
 3465              		.thumb_func
 3466              		.fpu fpv4-sp-d16
 3468              	usbd_edpt_clear_stall:
 3469              	.LVL283:
 3470              	.LFB113:
1330:tinyusb/src/device/usbd.c **** 
ARM GAS  /tmp/ccyyDEje.s 			page 115


1331:tinyusb/src/device/usbd.c **** void usbd_edpt_clear_stall(uint8_t rhport, uint8_t ep_addr)
1332:tinyusb/src/device/usbd.c **** {
 3471              		.loc 1 1332 1 is_stmt 1 view -0
 3472              		.cfi_startproc
 3473              		@ args = 0, pretend = 0, frame = 0
 3474              		@ frame_needed = 0, uses_anonymous_args = 0
 3475              		.loc 1 1332 1 is_stmt 0 view .LVU1022
 3476 0000 38B5     		push	{r3, r4, r5, lr}
 3477              	.LCFI28:
 3478              		.cfi_def_cfa_offset 16
 3479              		.cfi_offset 3, -16
 3480              		.cfi_offset 4, -12
 3481              		.cfi_offset 5, -8
 3482              		.cfi_offset 14, -4
1333:tinyusb/src/device/usbd.c ****   rhport = _usbd_rhport;
 3483              		.loc 1 1333 3 is_stmt 1 view .LVU1023
 3484              		.loc 1 1333 10 is_stmt 0 view .LVU1024
 3485 0002 0F4B     		ldr	r3, .L232
 3486 0004 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 3487              	.LVL284:
1334:tinyusb/src/device/usbd.c **** 
1335:tinyusb/src/device/usbd.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 3488              		.loc 1 1335 3 is_stmt 1 view .LVU1025
 3489              	.LBB472:
 3490              	.LBI472:
 518:tinyusb/src/common/tusb_types.h **** {
 3491              		.loc 2 518 45 view .LVU1026
 3492              	.LBB473:
 520:tinyusb/src/common/tusb_types.h **** }
 3493              		.loc 2 520 3 view .LVU1027
 520:tinyusb/src/common/tusb_types.h **** }
 3494              		.loc 2 520 10 is_stmt 0 view .LVU1028
 3495 0006 01F07F05 		and	r5, r1, #127
 3496              	.LVL285:
 520:tinyusb/src/common/tusb_types.h **** }
 3497              		.loc 2 520 10 view .LVU1029
 3498              	.LBE473:
 3499              	.LBE472:
1336:tinyusb/src/device/usbd.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 3500              		.loc 1 1336 3 is_stmt 1 view .LVU1030
 3501              	.LBB474:
 3502              	.LBI474:
 512:tinyusb/src/common/tusb_types.h **** {
 3503              		.loc 2 512 48 view .LVU1031
 3504              	.LBB475:
 514:tinyusb/src/common/tusb_types.h **** }
 3505              		.loc 2 514 3 view .LVU1032
 514:tinyusb/src/common/tusb_types.h **** }
 3506              		.loc 2 514 3 is_stmt 0 view .LVU1033
 3507              	.LBE475:
 3508              	.LBE474:
1337:tinyusb/src/device/usbd.c **** 
1338:tinyusb/src/device/usbd.c ****   // only clear if currently stalled
1339:tinyusb/src/device/usbd.c ****   if ( _usbd_dev.ep_status[epnum][dir].stalled )
 3509              		.loc 1 1339 3 is_stmt 1 view .LVU1034
 3510              		.loc 1 1339 39 is_stmt 0 view .LVU1035
 3511 000a 0E4B     		ldr	r3, .L232+4
ARM GAS  /tmp/ccyyDEje.s 			page 116


 3512 000c 03EB4503 		add	r3, r3, r5, lsl #1
 3513 0010 03EBD113 		add	r3, r3, r1, lsr #7
 3514 0014 1833     		adds	r3, r3, #24
 3515 0016 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 3516              		.loc 1 1339 6 view .LVU1036
 3517 0018 13F0020F 		tst	r3, #2
 3518 001c 00D1     		bne	.L231
 3519              	.LVL286:
 3520              	.L228:
1340:tinyusb/src/device/usbd.c ****   {
1341:tinyusb/src/device/usbd.c ****     TU_LOG_USBD("    Clear Stall EP %02X\r\n", ep_addr);
1342:tinyusb/src/device/usbd.c ****     dcd_edpt_clear_stall(rhport, ep_addr);
1343:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].stalled = 0;
1344:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].busy = 0;
1345:tinyusb/src/device/usbd.c ****   }
1346:tinyusb/src/device/usbd.c **** }
 3521              		.loc 1 1346 1 view .LVU1037
 3522 001e 38BD     		pop	{r3, r4, r5, pc}
 3523              	.LVL287:
 3524              	.L231:
 3525              		.loc 1 1346 1 view .LVU1038
 3526 0020 CC09     		lsrs	r4, r1, #7
1341:tinyusb/src/device/usbd.c ****     dcd_edpt_clear_stall(rhport, ep_addr);
 3527              		.loc 1 1341 56 is_stmt 1 view .LVU1039
1342:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].stalled = 0;
 3528              		.loc 1 1342 5 view .LVU1040
 3529 0022 FFF7FEFF 		bl	dcd_edpt_clear_stall
 3530              	.LVL288:
1343:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].busy = 0;
 3531              		.loc 1 1343 5 view .LVU1041
1343:tinyusb/src/device/usbd.c ****     _usbd_dev.ep_status[epnum][dir].busy = 0;
 3532              		.loc 1 1343 45 is_stmt 0 view .LVU1042
 3533 0026 074B     		ldr	r3, .L232+4
 3534 0028 03EB4503 		add	r3, r3, r5, lsl #1
 3535 002c 2344     		add	r3, r3, r4
 3536 002e DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 3537 0030 6FF34102 		bfc	r2, #1, #1
 3538 0034 DA77     		strb	r2, [r3, #31]
1344:tinyusb/src/device/usbd.c ****   }
 3539              		.loc 1 1344 5 is_stmt 1 view .LVU1043
1344:tinyusb/src/device/usbd.c ****   }
 3540              		.loc 1 1344 42 is_stmt 0 view .LVU1044
 3541 0036 DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 3542 0038 6FF30002 		bfc	r2, #0, #1
 3543 003c DA77     		strb	r2, [r3, #31]
 3544              		.loc 1 1346 1 view .LVU1045
 3545 003e EEE7     		b	.L228
 3546              	.L233:
 3547              		.align	2
 3548              	.L232:
 3549 0040 00000000 		.word	.LANCHOR4
 3550 0044 00000000 		.word	.LANCHOR3
 3551              		.cfi_endproc
 3552              	.LFE113:
 3554              		.section	.text.usbd_edpt_stalled,"ax",%progbits
 3555              		.align	1
 3556              		.global	usbd_edpt_stalled
ARM GAS  /tmp/ccyyDEje.s 			page 117


 3557              		.syntax unified
 3558              		.thumb
 3559              		.thumb_func
 3560              		.fpu fpv4-sp-d16
 3562              	usbd_edpt_stalled:
 3563              	.LVL289:
 3564              	.LFB114:
1347:tinyusb/src/device/usbd.c **** 
1348:tinyusb/src/device/usbd.c **** bool usbd_edpt_stalled(uint8_t rhport, uint8_t ep_addr)
1349:tinyusb/src/device/usbd.c **** {
 3565              		.loc 1 1349 1 is_stmt 1 view -0
 3566              		.cfi_startproc
 3567              		@ args = 0, pretend = 0, frame = 0
 3568              		@ frame_needed = 0, uses_anonymous_args = 0
 3569              		@ link register save eliminated.
1350:tinyusb/src/device/usbd.c ****   (void) rhport;
 3570              		.loc 1 1350 3 view .LVU1047
1351:tinyusb/src/device/usbd.c **** 
1352:tinyusb/src/device/usbd.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 3571              		.loc 1 1352 3 view .LVU1048
 3572              	.LBB476:
 3573              	.LBI476:
 518:tinyusb/src/common/tusb_types.h **** {
 3574              		.loc 2 518 45 view .LVU1049
 3575              	.LBB477:
 520:tinyusb/src/common/tusb_types.h **** }
 3576              		.loc 2 520 3 view .LVU1050
 520:tinyusb/src/common/tusb_types.h **** }
 3577              		.loc 2 520 10 is_stmt 0 view .LVU1051
 3578 0000 01F07F02 		and	r2, r1, #127
 3579              	.LVL290:
 520:tinyusb/src/common/tusb_types.h **** }
 3580              		.loc 2 520 10 view .LVU1052
 3581              	.LBE477:
 3582              	.LBE476:
1353:tinyusb/src/device/usbd.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 3583              		.loc 1 1353 3 is_stmt 1 view .LVU1053
 3584              	.LBB478:
 3585              	.LBI478:
 512:tinyusb/src/common/tusb_types.h **** {
 3586              		.loc 2 512 48 view .LVU1054
 3587              	.LBB479:
 514:tinyusb/src/common/tusb_types.h **** }
 3588              		.loc 2 514 3 view .LVU1055
 514:tinyusb/src/common/tusb_types.h **** }
 3589              		.loc 2 514 3 is_stmt 0 view .LVU1056
 3590              	.LBE479:
 3591              	.LBE478:
1354:tinyusb/src/device/usbd.c **** 
1355:tinyusb/src/device/usbd.c ****   return _usbd_dev.ep_status[epnum][dir].stalled;
 3592              		.loc 1 1355 3 is_stmt 1 view .LVU1057
 3593              		.loc 1 1355 41 is_stmt 0 view .LVU1058
 3594 0004 044B     		ldr	r3, .L235
 3595 0006 03EB4203 		add	r3, r3, r2, lsl #1
 3596 000a 03EBD111 		add	r1, r3, r1, lsr #7
 3597              	.LVL291:
 3598              		.loc 1 1355 41 view .LVU1059
ARM GAS  /tmp/ccyyDEje.s 			page 118


 3599 000e C87F     		ldrb	r0, [r1, #31]	@ zero_extendqisi2
 3600              	.LVL292:
1356:tinyusb/src/device/usbd.c **** }
 3601              		.loc 1 1356 1 view .LVU1060
 3602 0010 C0F34000 		ubfx	r0, r0, #1, #1
 3603 0014 7047     		bx	lr
 3604              	.L236:
 3605 0016 00BF     		.align	2
 3606              	.L235:
 3607 0018 00000000 		.word	.LANCHOR3
 3608              		.cfi_endproc
 3609              	.LFE114:
 3611              		.section	.text.process_control_request,"ax",%progbits
 3612              		.align	1
 3613              		.syntax unified
 3614              		.thumb
 3615              		.thumb_func
 3616              		.fpu fpv4-sp-d16
 3618              	process_control_request:
 3619              	.LVL293:
 3620              	.LFB99:
 618:tinyusb/src/device/usbd.c ****   usbd_control_set_complete_callback(NULL);
 3621              		.loc 1 618 1 is_stmt 1 view -0
 3622              		.cfi_startproc
 3623              		@ args = 0, pretend = 0, frame = 8
 3624              		@ frame_needed = 0, uses_anonymous_args = 0
 618:tinyusb/src/device/usbd.c ****   usbd_control_set_complete_callback(NULL);
 3625              		.loc 1 618 1 is_stmt 0 view .LVU1062
 3626 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3627              	.LCFI29:
 3628              		.cfi_def_cfa_offset 24
 3629              		.cfi_offset 4, -24
 3630              		.cfi_offset 5, -20
 3631              		.cfi_offset 6, -16
 3632              		.cfi_offset 7, -12
 3633              		.cfi_offset 8, -8
 3634              		.cfi_offset 14, -4
 3635 0004 82B0     		sub	sp, sp, #8
 3636              	.LCFI30:
 3637              		.cfi_def_cfa_offset 32
 3638 0006 0546     		mov	r5, r0
 3639 0008 0C46     		mov	r4, r1
 619:tinyusb/src/device/usbd.c **** 
 3640              		.loc 1 619 3 is_stmt 1 view .LVU1063
 3641 000a 0020     		movs	r0, #0
 3642              	.LVL294:
 619:tinyusb/src/device/usbd.c **** 
 3643              		.loc 1 619 3 is_stmt 0 view .LVU1064
 3644 000c FFF7FEFF 		bl	usbd_control_set_complete_callback
 3645              	.LVL295:
 621:tinyusb/src/device/usbd.c **** 
 3646              		.loc 1 621 3 is_stmt 1 view .LVU1065
 621:tinyusb/src/device/usbd.c **** 
 3647              		.loc 1 621 3 view .LVU1066
 3648 0010 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 3649 0012 03F06003 		and	r3, r3, #96
 3650 0016 602B     		cmp	r3, #96
ARM GAS  /tmp/ccyyDEje.s 			page 119


 3651 0018 16D0     		beq	.L292
 621:tinyusb/src/device/usbd.c **** 
 3652              		.loc 1 621 3 discriminator 2 view .LVU1067
 624:tinyusb/src/device/usbd.c ****   {
 3653              		.loc 1 624 3 discriminator 2 view .LVU1068
 624:tinyusb/src/device/usbd.c ****   {
 3654              		.loc 1 624 6 is_stmt 0 discriminator 2 view .LVU1069
 3655 001a 402B     		cmp	r3, #64
 3656 001c 20D0     		beq	.L293
 640:tinyusb/src/device/usbd.c ****   {
 3657              		.loc 1 640 3 is_stmt 1 view .LVU1070
 640:tinyusb/src/device/usbd.c ****   {
 3658              		.loc 1 640 40 is_stmt 0 view .LVU1071
 3659 001e 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 3660 0020 02F01F02 		and	r2, r2, #31
 640:tinyusb/src/device/usbd.c ****   {
 3661              		.loc 1 640 3 view .LVU1072
 3662 0024 012A     		cmp	r2, #1
 3663 0026 00F0FB80 		beq	.L242
 3664 002a 022A     		cmp	r2, #2
 3665 002c 00F04081 		beq	.L243
 3666 0030 1AB3     		cbz	r2, .L294
 871:tinyusb/src/device/usbd.c ****   }
 3667              		.loc 1 871 14 is_stmt 1 view .LVU1073
 3668              	.LBB480:
 871:tinyusb/src/device/usbd.c ****   }
 3669              		.loc 1 871 14 view .LVU1074
 3670              	.LVL296:
 871:tinyusb/src/device/usbd.c ****   }
 3671              		.loc 1 871 14 view .LVU1075
 3672 0032 4FF0E023 		mov	r3, #-536813568
 3673 0036 D3F8F03D 		ldr	r3, [r3, #3568]
 3674 003a 13F0010F 		tst	r3, #1
 3675 003e 00F0CF81 		beq	.L290
 871:tinyusb/src/device/usbd.c ****   }
 3676              		.loc 1 871 14 discriminator 1 view .LVU1076
 3677              		.syntax unified
 3678              	@ 871 "tinyusb/src/device/usbd.c" 1
 3679 0042 00BE     		BKPT #0
 3680              	
 3681              	@ 0 "" 2
 3682              		.thumb
 3683              		.syntax unified
 3684              	.LBE480:
 871:tinyusb/src/device/usbd.c ****   }
 3685              		.loc 1 871 38 is_stmt 0 discriminator 1 view .LVU1077
 3686 0044 0020     		movs	r0, #0
 3687 0046 08E0     		b	.L240
 3688              	.LVL297:
 3689              	.L292:
 621:tinyusb/src/device/usbd.c **** 
 3690              		.loc 1 621 3 is_stmt 1 discriminator 1 view .LVU1078
 621:tinyusb/src/device/usbd.c **** 
 3691              		.loc 1 621 3 discriminator 1 view .LVU1079
 621:tinyusb/src/device/usbd.c **** 
 3692              		.loc 1 621 3 discriminator 1 view .LVU1080
 621:tinyusb/src/device/usbd.c **** 
ARM GAS  /tmp/ccyyDEje.s 			page 120


 3693              		.loc 1 621 3 discriminator 1 view .LVU1081
 3694              	.LBB481:
 621:tinyusb/src/device/usbd.c **** 
 3695              		.loc 1 621 3 discriminator 1 view .LVU1082
 621:tinyusb/src/device/usbd.c **** 
 3696              		.loc 1 621 3 discriminator 1 view .LVU1083
 3697 0048 4FF0E023 		mov	r3, #-536813568
 3698 004c D3F8F03D 		ldr	r3, [r3, #3568]
 3699 0050 13F0010F 		tst	r3, #1
 3700 0054 00D0     		beq	.L239
 621:tinyusb/src/device/usbd.c **** 
 3701              		.loc 1 621 3 discriminator 3 view .LVU1084
 3702              		.syntax unified
 3703              	@ 621 "tinyusb/src/device/usbd.c" 1
 3704 0056 00BE     		BKPT #0
 3705              	
 3706              	@ 0 "" 2
 3707              		.thumb
 3708              		.syntax unified
 3709              	.L239:
 3710              	.LBE481:
 621:tinyusb/src/device/usbd.c **** 
 3711              		.loc 1 621 3 discriminator 5 view .LVU1085
 621:tinyusb/src/device/usbd.c **** 
 3712              		.loc 1 621 3 discriminator 5 view .LVU1086
 3713 0058 0020     		movs	r0, #0
 3714              	.LVL298:
 3715              	.L240:
 875:tinyusb/src/device/usbd.c **** 
 3716              		.loc 1 875 1 is_stmt 0 view .LVU1087
 3717 005a 02B0     		add	sp, sp, #8
 3718              	.LCFI31:
 3719              		.cfi_remember_state
 3720              		.cfi_def_cfa_offset 24
 3721              		@ sp needed
 3722 005c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3723              	.LVL299:
 3724              	.L293:
 3725              	.LCFI32:
 3726              		.cfi_restore_state
 626:tinyusb/src/device/usbd.c **** 
 3727              		.loc 1 626 5 is_stmt 1 view .LVU1088
 626:tinyusb/src/device/usbd.c **** 
 3728              		.loc 1 626 5 view .LVU1089
 3729 0060 A94B     		ldr	r3, .L306
 3730 0062 002B     		cmp	r3, #0
 3731 0064 00F0A881 		beq	.L277
 626:tinyusb/src/device/usbd.c **** 
 3732              		.loc 1 626 5 discriminator 2 view .LVU1090
 628:tinyusb/src/device/usbd.c ****     return tud_vendor_control_xfer_cb(rhport, CONTROL_STAGE_SETUP, p_request);
 3733              		.loc 1 628 5 discriminator 2 view .LVU1091
 3734 0068 1846     		mov	r0, r3
 3735 006a FFF7FEFF 		bl	usbd_control_set_complete_callback
 3736              	.LVL300:
 629:tinyusb/src/device/usbd.c ****   }
 3737              		.loc 1 629 5 discriminator 2 view .LVU1092
 629:tinyusb/src/device/usbd.c ****   }
ARM GAS  /tmp/ccyyDEje.s 			page 121


 3738              		.loc 1 629 12 is_stmt 0 discriminator 2 view .LVU1093
 3739 006e 2246     		mov	r2, r4
 3740 0070 0121     		movs	r1, #1
 3741 0072 2846     		mov	r0, r5
 3742 0074 FFF7FEFF 		bl	tud_vendor_control_xfer_cb
 3743              	.LVL301:
 3744 0078 EFE7     		b	.L240
 3745              	.L294:
 644:tinyusb/src/device/usbd.c ****       {
 3746              		.loc 1 644 7 is_stmt 1 view .LVU1094
 644:tinyusb/src/device/usbd.c ****       {
 3747              		.loc 1 644 10 is_stmt 0 view .LVU1095
 3748 007a 202B     		cmp	r3, #32
 3749 007c 0BD0     		beq	.L295
 656:tinyusb/src/device/usbd.c ****       {
 3750              		.loc 1 656 7 is_stmt 1 view .LVU1096
 656:tinyusb/src/device/usbd.c ****       {
 3751              		.loc 1 656 10 is_stmt 0 view .LVU1097
 3752 007e 73BB     		cbnz	r3, .L296
 663:tinyusb/src/device/usbd.c ****       {
 3753              		.loc 1 663 7 is_stmt 1 view .LVU1098
 663:tinyusb/src/device/usbd.c ****       {
 3754              		.loc 1 663 25 is_stmt 0 view .LVU1099
 3755 0080 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 3756 0082 092B     		cmp	r3, #9
 3757 0084 00F2C180 		bhi	.L250
 3758 0088 DFE803F0 		tbb	[pc, r3]
 3759              	.L252:
 3760 008c AC       		.byte	(.L258-.L252)/2
 3761 008d 9C       		.byte	(.L257-.L252)/2
 3762 008e BF       		.byte	(.L250-.L252)/2
 3763 008f 8C       		.byte	(.L256-.L252)/2
 3764 0090 BF       		.byte	(.L250-.L252)/2
 3765 0091 33       		.byte	(.L255-.L252)/2
 3766 0092 87       		.byte	(.L254-.L252)/2
 3767 0093 BF       		.byte	(.L250-.L252)/2
 3768 0094 42       		.byte	(.L253-.L252)/2
 3769 0095 4F       		.byte	(.L251-.L252)/2
 3770              		.p2align 1
 3771              	.L295:
 3772              	.LBB482:
 646:tinyusb/src/device/usbd.c ****         TU_VERIFY(itf < TU_ARRAY_SIZE(_usbd_dev.itf2drv));
 3773              		.loc 1 646 9 is_stmt 1 view .LVU1100
 646:tinyusb/src/device/usbd.c ****         TU_VERIFY(itf < TU_ARRAY_SIZE(_usbd_dev.itf2drv));
 3774              		.loc 1 646 29 is_stmt 0 view .LVU1101
 3775 0096 A388     		ldrh	r3, [r4, #4]	@ unaligned
 3776              	.LVL302:
 3777              	.LBB483:
 3778              	.LBI483:
 140:tinyusb/src/common/tusb_common.h **** 
 3779              		.loc 3 140 45 is_stmt 1 view .LVU1102
 3780              	.LBB484:
 140:tinyusb/src/common/tusb_common.h **** 
 3781              		.loc 3 140 74 view .LVU1103
 140:tinyusb/src/common/tusb_common.h **** 
 3782              		.loc 3 140 81 is_stmt 0 view .LVU1104
 3783 0098 DBB2     		uxtb	r3, r3
ARM GAS  /tmp/ccyyDEje.s 			page 122


 3784              	.LVL303:
 140:tinyusb/src/common/tusb_common.h **** 
 3785              		.loc 3 140 81 view .LVU1105
 3786              	.LBE484:
 3787              	.LBE483:
 647:tinyusb/src/device/usbd.c **** 
 3788              		.loc 1 647 9 is_stmt 1 view .LVU1106
 647:tinyusb/src/device/usbd.c **** 
 3789              		.loc 1 647 9 view .LVU1107
 3790 009a 0F2B     		cmp	r3, #15
 3791 009c 00F28E81 		bhi	.L278
 647:tinyusb/src/device/usbd.c **** 
 3792              		.loc 1 647 9 discriminator 2 view .LVU1108
 649:tinyusb/src/device/usbd.c ****         TU_VERIFY(driver);
 3793              		.loc 1 649 9 discriminator 2 view .LVU1109
 649:tinyusb/src/device/usbd.c ****         TU_VERIFY(driver);
 3794              		.loc 1 649 46 is_stmt 0 discriminator 2 view .LVU1110
 3795 00a0 9A4A     		ldr	r2, .L306+4
 3796 00a2 1344     		add	r3, r3, r2
 3797              	.LVL304:
 649:tinyusb/src/device/usbd.c ****         TU_VERIFY(driver);
 3798              		.loc 1 649 46 discriminator 2 view .LVU1111
 3799 00a4 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3800              	.LVL305:
 3801              	.LBB485:
 3802              	.LBI485:
 245:tinyusb/src/device/usbd.c **** {
 3803              		.loc 1 245 43 is_stmt 1 discriminator 2 view .LVU1112
 3804              	.LBB486:
 247:tinyusb/src/device/usbd.c **** 
 3805              		.loc 1 247 3 discriminator 2 view .LVU1113
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 3806              		.loc 1 249 3 discriminator 2 view .LVU1114
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 3807              		.loc 1 249 14 is_stmt 0 discriminator 2 view .LVU1115
 3808 00a6 9A4A     		ldr	r2, .L306+8
 3809 00a8 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 3810              		.loc 1 249 6 discriminator 2 view .LVU1116
 3811 00aa 9342     		cmp	r3, r2
 3812 00ac 0DD2     		bcs	.L246
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 3813              		.loc 1 251 5 is_stmt 1 view .LVU1117
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 3814              		.loc 1 251 14 is_stmt 0 view .LVU1118
 3815 00ae 994A     		ldr	r2, .L306+12
 3816 00b0 1168     		ldr	r1, [r2]
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 3817              		.loc 1 251 26 view .LVU1119
 3818 00b2 03EB4303 		add	r3, r3, r3, lsl #1
 3819              	.LVL306:
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 3820              		.loc 1 251 12 view .LVU1120
 3821 00b6 01EBC301 		add	r1, r1, r3, lsl #3
 3822              	.LVL307:
 3823              	.L247:
 256:tinyusb/src/device/usbd.c **** }
ARM GAS  /tmp/ccyyDEje.s 			page 123


 3824              		.loc 1 256 3 is_stmt 1 view .LVU1121
 256:tinyusb/src/device/usbd.c **** }
 3825              		.loc 1 256 3 is_stmt 0 view .LVU1122
 3826              	.LBE486:
 3827              	.LBE485:
 650:tinyusb/src/device/usbd.c **** 
 3828              		.loc 1 650 9 is_stmt 1 view .LVU1123
 650:tinyusb/src/device/usbd.c **** 
 3829              		.loc 1 650 9 view .LVU1124
 3830 00ba 0029     		cmp	r1, #0
 3831 00bc 00F08281 		beq	.L280
 650:tinyusb/src/device/usbd.c **** 
 3832              		.loc 1 650 9 discriminator 2 view .LVU1125
 653:tinyusb/src/device/usbd.c ****       }
 3833              		.loc 1 653 9 discriminator 2 view .LVU1126
 653:tinyusb/src/device/usbd.c ****       }
 3834              		.loc 1 653 16 is_stmt 0 discriminator 2 view .LVU1127
 3835 00c0 2246     		mov	r2, r4
 3836 00c2 2846     		mov	r0, r5
 3837 00c4 FFF7FEFF 		bl	invoke_class_control
 3838              	.LVL308:
 653:tinyusb/src/device/usbd.c ****       }
 3839              		.loc 1 653 16 discriminator 2 view .LVU1128
 3840 00c8 C7E7     		b	.L240
 3841              	.LVL309:
 3842              	.L246:
 3843              	.LBB488:
 3844              	.LBB487:
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 3845              		.loc 1 252 10 is_stmt 1 view .LVU1129
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 3846              		.loc 1 252 13 is_stmt 0 view .LVU1130
 3847 00ca 9342     		cmp	r3, r2
 3848 00cc 00F27881 		bhi	.L279
 253:tinyusb/src/device/usbd.c ****   }
 3849              		.loc 1 253 5 is_stmt 1 view .LVU1131
 253:tinyusb/src/device/usbd.c ****   }
 3850              		.loc 1 253 34 is_stmt 0 view .LVU1132
 3851 00d0 9B1A     		subs	r3, r3, r2
 3852              	.LVL310:
 253:tinyusb/src/device/usbd.c ****   }
 3853              		.loc 1 253 12 view .LVU1133
 3854 00d2 03EB4303 		add	r3, r3, r3, lsl #1
 3855 00d6 9049     		ldr	r1, .L306+16
 3856 00d8 01EBC301 		add	r1, r1, r3, lsl #3
 3857              	.LVL311:
 253:tinyusb/src/device/usbd.c ****   }
 3858              		.loc 1 253 12 view .LVU1134
 3859 00dc EDE7     		b	.L247
 3860              	.LVL312:
 3861              	.L296:
 253:tinyusb/src/device/usbd.c ****   }
 3862              		.loc 1 253 12 view .LVU1135
 3863              	.LBE487:
 3864              	.LBE488:
 3865              	.LBE482:
 659:tinyusb/src/device/usbd.c ****         return false;
ARM GAS  /tmp/ccyyDEje.s 			page 124


 3866              		.loc 1 659 9 is_stmt 1 view .LVU1136
 3867              	.LBB489:
 659:tinyusb/src/device/usbd.c ****         return false;
 3868              		.loc 1 659 9 view .LVU1137
 659:tinyusb/src/device/usbd.c ****         return false;
 3869              		.loc 1 659 9 view .LVU1138
 3870 00de 4FF0E023 		mov	r3, #-536813568
 3871 00e2 D3F8F03D 		ldr	r3, [r3, #3568]
 3872 00e6 13F0010F 		tst	r3, #1
 3873 00ea 00D0     		beq	.L249
 659:tinyusb/src/device/usbd.c ****         return false;
 3874              		.loc 1 659 9 discriminator 1 view .LVU1139
 3875              		.syntax unified
 3876              	@ 659 "tinyusb/src/device/usbd.c" 1
 3877 00ec 00BE     		BKPT #0
 3878              	
 3879              	@ 0 "" 2
 3880              		.thumb
 3881              		.syntax unified
 3882              	.L249:
 3883              	.LBE489:
 659:tinyusb/src/device/usbd.c ****         return false;
 3884              		.loc 1 659 9 discriminator 3 view .LVU1140
 660:tinyusb/src/device/usbd.c ****       }
 3885              		.loc 1 660 9 discriminator 3 view .LVU1141
 660:tinyusb/src/device/usbd.c ****       }
 3886              		.loc 1 660 16 is_stmt 0 discriminator 3 view .LVU1142
 3887 00ee 0020     		movs	r0, #0
 3888 00f0 B3E7     		b	.L240
 3889              	.LVL313:
 3890              	.L255:
 669:tinyusb/src/device/usbd.c ****           dcd_set_address(rhport, (uint8_t) p_request->wValue);
 3891              		.loc 1 669 11 is_stmt 1 view .LVU1143
 3892 00f2 2046     		mov	r0, r4
 3893 00f4 FFF7FEFF 		bl	usbd_control_set_request
 3894              	.LVL314:
 670:tinyusb/src/device/usbd.c ****           // skip tud_control_status()
 3895              		.loc 1 670 11 view .LVU1144
 670:tinyusb/src/device/usbd.c ****           // skip tud_control_status()
 3896              		.loc 1 670 54 is_stmt 0 view .LVU1145
 3897 00f8 6188     		ldrh	r1, [r4, #2]	@ unaligned
 670:tinyusb/src/device/usbd.c ****           // skip tud_control_status()
 3898              		.loc 1 670 11 view .LVU1146
 3899 00fa C9B2     		uxtb	r1, r1
 3900 00fc 2846     		mov	r0, r5
 3901 00fe FFF7FEFF 		bl	dcd_set_address
 3902              	.LVL315:
 672:tinyusb/src/device/usbd.c ****         break;
 3903              		.loc 1 672 11 is_stmt 1 view .LVU1147
 672:tinyusb/src/device/usbd.c ****         break;
 3904              		.loc 1 672 31 is_stmt 0 view .LVU1148
 3905 0102 824A     		ldr	r2, .L306+4
 3906 0104 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3907 0106 43F00203 		orr	r3, r3, #2
 3908 010a 1370     		strb	r3, [r2]
 673:tinyusb/src/device/usbd.c **** 
 3909              		.loc 1 673 9 is_stmt 1 view .LVU1149
ARM GAS  /tmp/ccyyDEje.s 			page 125


 874:tinyusb/src/device/usbd.c **** }
 3910              		.loc 1 874 10 is_stmt 0 view .LVU1150
 3911 010c 0120     		movs	r0, #1
 673:tinyusb/src/device/usbd.c **** 
 3912              		.loc 1 673 9 view .LVU1151
 3913 010e A4E7     		b	.L240
 3914              	.L253:
 3915              	.LBB490:
 677:tinyusb/src/device/usbd.c ****           tud_control_xfer(rhport, p_request, &cfg_num, 1);
 3916              		.loc 1 677 11 is_stmt 1 discriminator 2 view .LVU1152
 677:tinyusb/src/device/usbd.c ****           tud_control_xfer(rhport, p_request, &cfg_num, 1);
 3917              		.loc 1 677 38 is_stmt 0 discriminator 2 view .LVU1153
 3918 0110 7E4B     		ldr	r3, .L306+4
 3919 0112 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 677:tinyusb/src/device/usbd.c ****           tud_control_xfer(rhport, p_request, &cfg_num, 1);
 3920              		.loc 1 677 19 discriminator 2 view .LVU1154
 3921 0114 8DF80630 		strb	r3, [sp, #6]
 678:tinyusb/src/device/usbd.c ****         }
 3922              		.loc 1 678 11 is_stmt 1 discriminator 2 view .LVU1155
 3923 0118 0123     		movs	r3, #1
 3924 011a 0DF10602 		add	r2, sp, #6
 3925 011e 2146     		mov	r1, r4
 3926 0120 2846     		mov	r0, r5
 3927 0122 FFF7FEFF 		bl	tud_control_xfer
 3928              	.LVL316:
 3929              	.LBE490:
 680:tinyusb/src/device/usbd.c **** 
 3930              		.loc 1 680 9 discriminator 2 view .LVU1156
 874:tinyusb/src/device/usbd.c **** }
 3931              		.loc 1 874 10 is_stmt 0 discriminator 2 view .LVU1157
 3932 0126 0120     		movs	r0, #1
 680:tinyusb/src/device/usbd.c **** 
 3933              		.loc 1 680 9 discriminator 2 view .LVU1158
 3934 0128 97E7     		b	.L240
 3935              	.L251:
 3936              	.LBB491:
 684:tinyusb/src/device/usbd.c **** 
 3937              		.loc 1 684 11 is_stmt 1 view .LVU1159
 684:tinyusb/src/device/usbd.c **** 
 3938              		.loc 1 684 54 is_stmt 0 view .LVU1160
 3939 012a 6688     		ldrh	r6, [r4, #2]	@ unaligned
 684:tinyusb/src/device/usbd.c **** 
 3940              		.loc 1 684 25 view .LVU1161
 3941 012c F6B2     		uxtb	r6, r6
 3942              	.LVL317:
 687:tinyusb/src/device/usbd.c ****           {
 3943              		.loc 1 687 11 is_stmt 1 view .LVU1162
 687:tinyusb/src/device/usbd.c ****           {
 3944              		.loc 1 687 24 is_stmt 0 view .LVU1163
 3945 012e 774B     		ldr	r3, .L306+4
 3946 0130 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3947 0132 DBB2     		uxtb	r3, r3
 687:tinyusb/src/device/usbd.c ****           {
 3948              		.loc 1 687 14 view .LVU1164
 3949 0134 B342     		cmp	r3, r6
 3950 0136 07D0     		beq	.L259
 689:tinyusb/src/device/usbd.c ****             {
ARM GAS  /tmp/ccyyDEje.s 			page 126


 3951              		.loc 1 689 13 is_stmt 1 view .LVU1165
 689:tinyusb/src/device/usbd.c ****             {
 3952              		.loc 1 689 27 is_stmt 0 view .LVU1166
 3953 0138 744B     		ldr	r3, .L306+4
 3954 013a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 689:tinyusb/src/device/usbd.c ****             {
 3955              		.loc 1 689 16 view .LVU1167
 3956 013c 63B9     		cbnz	r3, .L297
 3957              	.L260:
 705:tinyusb/src/device/usbd.c ****             {
 3958              		.loc 1 705 13 is_stmt 1 view .LVU1168
 705:tinyusb/src/device/usbd.c ****             {
 3959              		.loc 1 705 16 is_stmt 0 view .LVU1169
 3960 013e BEB9     		cbnz	r6, .L298
 714:tinyusb/src/device/usbd.c ****             }
 3961              		.loc 1 714 15 is_stmt 1 view .LVU1170
 714:tinyusb/src/device/usbd.c ****             }
 3962              		.loc 1 714 18 is_stmt 0 view .LVU1171
 3963 0140 764B     		ldr	r3, .L306+20
 3964 0142 0BB1     		cbz	r3, .L259
 714:tinyusb/src/device/usbd.c ****             }
 3965              		.loc 1 714 36 is_stmt 1 discriminator 1 view .LVU1172
 3966 0144 FFF7FEFF 		bl	tud_umount_cb
 3967              	.LVL318:
 3968              	.L259:
 718:tinyusb/src/device/usbd.c ****           tud_control_status(rhport, p_request);
 3969              		.loc 1 718 11 view .LVU1173
 718:tinyusb/src/device/usbd.c ****           tud_control_status(rhport, p_request);
 3970              		.loc 1 718 29 is_stmt 0 view .LVU1174
 3971 0148 704B     		ldr	r3, .L306+4
 3972 014a 5E70     		strb	r6, [r3, #1]
 719:tinyusb/src/device/usbd.c ****         }
 3973              		.loc 1 719 11 is_stmt 1 view .LVU1175
 3974 014c 2146     		mov	r1, r4
 3975 014e 2846     		mov	r0, r5
 3976 0150 FFF7FEFF 		bl	tud_control_status
 3977              	.LVL319:
 3978              	.LBE491:
 721:tinyusb/src/device/usbd.c **** 
 3979              		.loc 1 721 9 view .LVU1176
 874:tinyusb/src/device/usbd.c **** }
 3980              		.loc 1 874 10 is_stmt 0 view .LVU1177
 3981 0154 0120     		movs	r0, #1
 721:tinyusb/src/device/usbd.c **** 
 3982              		.loc 1 721 9 view .LVU1178
 3983 0156 80E7     		b	.L240
 3984              	.L297:
 3985              	.LBB494:
 3986              	.LBB492:
 692:tinyusb/src/device/usbd.c **** 
 3987              		.loc 1 692 104 is_stmt 1 view .LVU1179
 695:tinyusb/src/device/usbd.c **** 
 3988              		.loc 1 695 15 view .LVU1180
 3989 0158 2846     		mov	r0, r5
 3990 015a FFF7FEFF 		bl	dcd_edpt_close_all
 3991              	.LVL320:
 698:tinyusb/src/device/usbd.c ****               configuration_reset(rhport);
ARM GAS  /tmp/ccyyDEje.s 			page 127


 3992              		.loc 1 698 15 view .LVU1181
 698:tinyusb/src/device/usbd.c ****               configuration_reset(rhport);
 3993              		.loc 1 698 29 is_stmt 0 view .LVU1182
 3994 015e 6B4F     		ldr	r7, .L306+4
 3995 0160 97F80280 		ldrb	r8, [r7, #2]	@ zero_extendqisi2
 3996              	.LVL321:
 699:tinyusb/src/device/usbd.c **** 
 3997              		.loc 1 699 15 is_stmt 1 view .LVU1183
 3998 0164 2846     		mov	r0, r5
 3999 0166 FFF7FEFF 		bl	configuration_reset
 4000              	.LVL322:
 701:tinyusb/src/device/usbd.c ****             }
 4001              		.loc 1 701 15 view .LVU1184
 701:tinyusb/src/device/usbd.c ****             }
 4002              		.loc 1 701 31 is_stmt 0 view .LVU1185
 4003 016a 87F80280 		strb	r8, [r7, #2]
 4004 016e E6E7     		b	.L260
 4005              	.LVL323:
 4006              	.L298:
 701:tinyusb/src/device/usbd.c ****             }
 4007              		.loc 1 701 31 view .LVU1186
 4008              	.LBE492:
 708:tinyusb/src/device/usbd.c **** 
 4009              		.loc 1 708 15 is_stmt 1 view .LVU1187
 708:tinyusb/src/device/usbd.c **** 
 4010              		.loc 1 708 15 view .LVU1188
 4011 0170 3146     		mov	r1, r6
 4012 0172 2846     		mov	r0, r5
 4013 0174 FFF7FEFF 		bl	process_set_config
 4014              	.LVL324:
 4015 0178 28B1     		cbz	r0, .L299
 708:tinyusb/src/device/usbd.c **** 
 4016              		.loc 1 708 15 discriminator 2 view .LVU1189
 710:tinyusb/src/device/usbd.c ****             }
 4017              		.loc 1 710 15 discriminator 2 view .LVU1190
 710:tinyusb/src/device/usbd.c ****             }
 4018              		.loc 1 710 18 is_stmt 0 discriminator 2 view .LVU1191
 4019 017a 694B     		ldr	r3, .L306+24
 4020 017c 002B     		cmp	r3, #0
 4021 017e E3D0     		beq	.L259
 710:tinyusb/src/device/usbd.c ****             }
 4022              		.loc 1 710 35 is_stmt 1 discriminator 1 view .LVU1192
 4023 0180 FFF7FEFF 		bl	tud_mount_cb
 4024              	.LVL325:
 4025 0184 E0E7     		b	.L259
 4026              	.L299:
 708:tinyusb/src/device/usbd.c **** 
 4027              		.loc 1 708 15 discriminator 1 view .LVU1193
 708:tinyusb/src/device/usbd.c **** 
 4028              		.loc 1 708 15 discriminator 1 view .LVU1194
 708:tinyusb/src/device/usbd.c **** 
 4029              		.loc 1 708 15 discriminator 1 view .LVU1195
 708:tinyusb/src/device/usbd.c **** 
 4030              		.loc 1 708 15 discriminator 1 view .LVU1196
 4031              	.LBB493:
 708:tinyusb/src/device/usbd.c **** 
 4032              		.loc 1 708 15 discriminator 1 view .LVU1197
ARM GAS  /tmp/ccyyDEje.s 			page 128


 4033              	.LVL326:
 708:tinyusb/src/device/usbd.c **** 
 4034              		.loc 1 708 15 discriminator 1 view .LVU1198
 4035 0186 4FF0E023 		mov	r3, #-536813568
 4036 018a D3F8F03D 		ldr	r3, [r3, #3568]
 4037 018e 13F0010F 		tst	r3, #1
 4038 0192 3FF462AF 		beq	.L240
 708:tinyusb/src/device/usbd.c **** 
 4039              		.loc 1 708 15 discriminator 3 view .LVU1199
 4040              		.syntax unified
 4041              	@ 708 "tinyusb/src/device/usbd.c" 1
 4042 0196 00BE     		BKPT #0
 4043              	
 4044              	@ 0 "" 2
 4045              		.thumb
 4046              		.syntax unified
 4047              	.LBE493:
 708:tinyusb/src/device/usbd.c **** 
 4048              		.loc 1 708 15 discriminator 3 view .LVU1200
 708:tinyusb/src/device/usbd.c **** 
 4049              		.loc 1 708 15 discriminator 3 view .LVU1201
 4050 0198 5FE7     		b	.L240
 4051              	.LVL327:
 4052              	.L254:
 708:tinyusb/src/device/usbd.c **** 
 4053              		.loc 1 708 15 is_stmt 0 discriminator 3 view .LVU1202
 4054              	.LBE494:
 724:tinyusb/src/device/usbd.c ****         break;
 4055              		.loc 1 724 11 is_stmt 1 view .LVU1203
 724:tinyusb/src/device/usbd.c ****         break;
 4056              		.loc 1 724 11 view .LVU1204
 4057 019a 2146     		mov	r1, r4
 4058 019c 2846     		mov	r0, r5
 4059 019e FFF7FEFF 		bl	process_get_descriptor
 4060              	.LVL328:
 4061 01a2 5AE7     		b	.L240
 4062              	.L256:
 729:tinyusb/src/device/usbd.c **** 
 4063              		.loc 1 729 11 view .LVU1205
 729:tinyusb/src/device/usbd.c **** 
 4064              		.loc 1 729 11 view .LVU1206
 4065 01a4 6388     		ldrh	r3, [r4, #2]	@ unaligned
 4066 01a6 012B     		cmp	r3, #1
 4067 01a8 01D0     		beq	.L300
 4068 01aa 0020     		movs	r0, #0
 4069 01ac 55E7     		b	.L240
 4070              	.L300:
 729:tinyusb/src/device/usbd.c **** 
 4071              		.loc 1 729 11 discriminator 2 view .LVU1207
 731:tinyusb/src/device/usbd.c **** 
 4072              		.loc 1 731 54 discriminator 2 view .LVU1208
 734:tinyusb/src/device/usbd.c ****           tud_control_status(rhport, p_request);
 4073              		.loc 1 734 11 discriminator 2 view .LVU1209
 734:tinyusb/src/device/usbd.c ****           tud_control_status(rhport, p_request);
 4074              		.loc 1 734 38 is_stmt 0 discriminator 2 view .LVU1210
 4075 01ae 574A     		ldr	r2, .L306+4
 4076 01b0 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
ARM GAS  /tmp/ccyyDEje.s 			page 129


 4077 01b2 43F00803 		orr	r3, r3, #8
 4078 01b6 1370     		strb	r3, [r2]
 735:tinyusb/src/device/usbd.c ****         break;
 4079              		.loc 1 735 11 is_stmt 1 discriminator 2 view .LVU1211
 4080 01b8 2146     		mov	r1, r4
 4081 01ba 2846     		mov	r0, r5
 4082 01bc FFF7FEFF 		bl	tud_control_status
 4083              	.LVL329:
 736:tinyusb/src/device/usbd.c **** 
 4084              		.loc 1 736 9 discriminator 2 view .LVU1212
 874:tinyusb/src/device/usbd.c **** }
 4085              		.loc 1 874 10 is_stmt 0 discriminator 2 view .LVU1213
 4086 01c0 0120     		movs	r0, #1
 736:tinyusb/src/device/usbd.c **** 
 4087              		.loc 1 736 9 discriminator 2 view .LVU1214
 4088 01c2 4AE7     		b	.L240
 4089              	.L257:
 740:tinyusb/src/device/usbd.c **** 
 4090              		.loc 1 740 11 is_stmt 1 view .LVU1215
 740:tinyusb/src/device/usbd.c **** 
 4091              		.loc 1 740 11 view .LVU1216
 4092 01c4 6388     		ldrh	r3, [r4, #2]	@ unaligned
 4093 01c6 012B     		cmp	r3, #1
 4094 01c8 01D0     		beq	.L301
 4095 01ca 0020     		movs	r0, #0
 4096 01cc 45E7     		b	.L240
 4097              	.L301:
 740:tinyusb/src/device/usbd.c **** 
 4098              		.loc 1 740 11 discriminator 2 view .LVU1217
 742:tinyusb/src/device/usbd.c **** 
 4099              		.loc 1 742 55 discriminator 2 view .LVU1218
 745:tinyusb/src/device/usbd.c ****           tud_control_status(rhport, p_request);
 4100              		.loc 1 745 11 discriminator 2 view .LVU1219
 745:tinyusb/src/device/usbd.c ****           tud_control_status(rhport, p_request);
 4101              		.loc 1 745 38 is_stmt 0 discriminator 2 view .LVU1220
 4102 01ce 4F4B     		ldr	r3, .L306+4
 4103 01d0 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 4104 01d2 6FF3C302 		bfc	r2, #3, #1
 4105 01d6 1A70     		strb	r2, [r3]
 746:tinyusb/src/device/usbd.c ****         break;
 4106              		.loc 1 746 11 is_stmt 1 discriminator 2 view .LVU1221
 4107 01d8 2146     		mov	r1, r4
 4108 01da 2846     		mov	r0, r5
 4109 01dc FFF7FEFF 		bl	tud_control_status
 4110              	.LVL330:
 747:tinyusb/src/device/usbd.c **** 
 4111              		.loc 1 747 9 discriminator 2 view .LVU1222
 874:tinyusb/src/device/usbd.c **** }
 4112              		.loc 1 874 10 is_stmt 0 discriminator 2 view .LVU1223
 4113 01e0 0120     		movs	r0, #1
 747:tinyusb/src/device/usbd.c **** 
 4114              		.loc 1 747 9 discriminator 2 view .LVU1224
 4115 01e2 3AE7     		b	.L240
 4116              	.L258:
 4117              	.LBB495:
 754:tinyusb/src/device/usbd.c ****           tud_control_xfer(rhport, p_request, &status, 2);
 4118              		.loc 1 754 11 is_stmt 1 discriminator 1 view .LVU1225
ARM GAS  /tmp/ccyyDEje.s 			page 130


 754:tinyusb/src/device/usbd.c ****           tud_control_xfer(rhport, p_request, &status, 2);
 4119              		.loc 1 754 65 is_stmt 0 discriminator 1 view .LVU1226
 4120 01e4 494B     		ldr	r3, .L306+4
 4121 01e6 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 754:tinyusb/src/device/usbd.c ****           tud_control_xfer(rhport, p_request, &status, 2);
 4122              		.loc 1 754 29 discriminator 1 view .LVU1227
 4123 01e8 9308     		lsrs	r3, r2, #2
 4124 01ea 03F00203 		and	r3, r3, #2
 4125 01ee C2F34012 		ubfx	r2, r2, #5, #1
 4126 01f2 1343     		orrs	r3, r3, r2
 754:tinyusb/src/device/usbd.c ****           tud_control_xfer(rhport, p_request, &status, 2);
 4127              		.loc 1 754 20 discriminator 1 view .LVU1228
 4128 01f4 ADF80630 		strh	r3, [sp, #6]	@ movhi
 755:tinyusb/src/device/usbd.c ****         }
 4129              		.loc 1 755 11 is_stmt 1 discriminator 1 view .LVU1229
 4130 01f8 0223     		movs	r3, #2
 4131 01fa 0DF10602 		add	r2, sp, #6
 4132 01fe 2146     		mov	r1, r4
 4133 0200 2846     		mov	r0, r5
 4134 0202 FFF7FEFF 		bl	tud_control_xfer
 4135              	.LVL331:
 4136              	.LBE495:
 757:tinyusb/src/device/usbd.c **** 
 4137              		.loc 1 757 9 discriminator 1 view .LVU1230
 874:tinyusb/src/device/usbd.c **** }
 4138              		.loc 1 874 10 is_stmt 0 discriminator 1 view .LVU1231
 4139 0206 0120     		movs	r0, #1
 757:tinyusb/src/device/usbd.c **** 
 4140              		.loc 1 757 9 discriminator 1 view .LVU1232
 4141 0208 27E7     		b	.L240
 4142              	.L250:
 760:tinyusb/src/device/usbd.c ****       }
 4143              		.loc 1 760 18 is_stmt 1 view .LVU1233
 4144              	.LBB496:
 760:tinyusb/src/device/usbd.c ****       }
 4145              		.loc 1 760 18 view .LVU1234
 4146              	.LVL332:
 760:tinyusb/src/device/usbd.c ****       }
 4147              		.loc 1 760 18 view .LVU1235
 4148 020a 4FF0E023 		mov	r3, #-536813568
 4149 020e D3F8F03D 		ldr	r3, [r3, #3568]
 4150 0212 13F0010F 		tst	r3, #1
 4151 0216 00F0D780 		beq	.L283
 760:tinyusb/src/device/usbd.c ****       }
 4152              		.loc 1 760 18 discriminator 1 view .LVU1236
 4153              		.syntax unified
 4154              	@ 760 "tinyusb/src/device/usbd.c" 1
 4155 021a 00BE     		BKPT #0
 4156              	
 4157              	@ 0 "" 2
 4158              		.thumb
 4159              		.syntax unified
 4160              	.LBE496:
 760:tinyusb/src/device/usbd.c ****       }
 4161              		.loc 1 760 42 is_stmt 0 discriminator 1 view .LVU1237
 4162 021c 0020     		movs	r0, #0
 4163 021e 1CE7     		b	.L240
ARM GAS  /tmp/ccyyDEje.s 			page 131


 4164              	.LVL333:
 4165              	.L242:
 4166              	.LBB497:
 767:tinyusb/src/device/usbd.c ****       TU_VERIFY(itf < TU_ARRAY_SIZE(_usbd_dev.itf2drv));
 4167              		.loc 1 767 7 is_stmt 1 view .LVU1238
 767:tinyusb/src/device/usbd.c ****       TU_VERIFY(itf < TU_ARRAY_SIZE(_usbd_dev.itf2drv));
 4168              		.loc 1 767 27 is_stmt 0 view .LVU1239
 4169 0220 A388     		ldrh	r3, [r4, #4]	@ unaligned
 4170              	.LVL334:
 4171              	.LBB498:
 4172              	.LBI498:
 140:tinyusb/src/common/tusb_common.h **** 
 4173              		.loc 3 140 45 is_stmt 1 view .LVU1240
 4174              	.LBB499:
 140:tinyusb/src/common/tusb_common.h **** 
 4175              		.loc 3 140 74 view .LVU1241
 140:tinyusb/src/common/tusb_common.h **** 
 4176              		.loc 3 140 81 is_stmt 0 view .LVU1242
 4177 0222 DBB2     		uxtb	r3, r3
 4178              	.LVL335:
 140:tinyusb/src/common/tusb_common.h **** 
 4179              		.loc 3 140 81 view .LVU1243
 4180              	.LBE499:
 4181              	.LBE498:
 768:tinyusb/src/device/usbd.c **** 
 4182              		.loc 1 768 7 is_stmt 1 view .LVU1244
 768:tinyusb/src/device/usbd.c **** 
 4183              		.loc 1 768 7 view .LVU1245
 4184 0224 0F2B     		cmp	r3, #15
 4185 0226 00F2D180 		bhi	.L284
 768:tinyusb/src/device/usbd.c **** 
 4186              		.loc 1 768 7 discriminator 2 view .LVU1246
 770:tinyusb/src/device/usbd.c ****       TU_VERIFY(driver);
 4187              		.loc 1 770 7 discriminator 2 view .LVU1247
 770:tinyusb/src/device/usbd.c ****       TU_VERIFY(driver);
 4188              		.loc 1 770 44 is_stmt 0 discriminator 2 view .LVU1248
 4189 022a 384A     		ldr	r2, .L306+4
 4190 022c 1344     		add	r3, r3, r2
 4191              	.LVL336:
 770:tinyusb/src/device/usbd.c ****       TU_VERIFY(driver);
 4192              		.loc 1 770 44 discriminator 2 view .LVU1249
 4193 022e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 4194              	.LVL337:
 4195              	.LBB500:
 4196              	.LBI500:
 245:tinyusb/src/device/usbd.c **** {
 4197              		.loc 1 245 43 is_stmt 1 discriminator 2 view .LVU1250
 4198              	.LBB501:
 247:tinyusb/src/device/usbd.c **** 
 4199              		.loc 1 247 3 discriminator 2 view .LVU1251
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 4200              		.loc 1 249 3 discriminator 2 view .LVU1252
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 4201              		.loc 1 249 14 is_stmt 0 discriminator 2 view .LVU1253
 4202 0230 374A     		ldr	r2, .L306+8
 4203 0232 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 249:tinyusb/src/device/usbd.c ****     // Application drivers
ARM GAS  /tmp/ccyyDEje.s 			page 132


 4204              		.loc 1 249 6 discriminator 2 view .LVU1254
 4205 0234 9342     		cmp	r3, r2
 4206 0236 25D2     		bcs	.L264
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4207              		.loc 1 251 5 is_stmt 1 view .LVU1255
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4208              		.loc 1 251 14 is_stmt 0 view .LVU1256
 4209 0238 364A     		ldr	r2, .L306+12
 4210 023a 1168     		ldr	r1, [r2]
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4211              		.loc 1 251 26 view .LVU1257
 4212 023c 03EB4303 		add	r3, r3, r3, lsl #1
 4213              	.LVL338:
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4214              		.loc 1 251 12 view .LVU1258
 4215 0240 01EBC301 		add	r1, r1, r3, lsl #3
 4216              	.LVL339:
 4217              	.L265:
 256:tinyusb/src/device/usbd.c **** }
 4218              		.loc 1 256 3 is_stmt 1 view .LVU1259
 256:tinyusb/src/device/usbd.c **** }
 4219              		.loc 1 256 3 is_stmt 0 view .LVU1260
 4220              	.LBE501:
 4221              	.LBE500:
 771:tinyusb/src/device/usbd.c **** 
 4222              		.loc 1 771 7 is_stmt 1 view .LVU1261
 771:tinyusb/src/device/usbd.c **** 
 4223              		.loc 1 771 7 view .LVU1262
 4224 0244 0029     		cmp	r1, #0
 4225 0246 00F0C580 		beq	.L286
 771:tinyusb/src/device/usbd.c **** 
 4226              		.loc 1 771 7 discriminator 2 view .LVU1263
 775:tinyusb/src/device/usbd.c ****       {
 4227              		.loc 1 775 7 discriminator 2 view .LVU1264
 775:tinyusb/src/device/usbd.c ****       {
 4228              		.loc 1 775 13 is_stmt 0 discriminator 2 view .LVU1265
 4229 024a 2246     		mov	r2, r4
 4230 024c 2846     		mov	r0, r5
 4231 024e FFF7FEFF 		bl	invoke_class_control
 4232              	.LVL340:
 775:tinyusb/src/device/usbd.c ****       {
 4233              		.loc 1 775 10 discriminator 2 view .LVU1266
 4234 0252 0028     		cmp	r0, #0
 4235 0254 7FF401AF 		bne	.L240
 779:tinyusb/src/device/usbd.c **** 
 4236              		.loc 1 779 9 is_stmt 1 view .LVU1267
 779:tinyusb/src/device/usbd.c **** 
 4237              		.loc 1 779 9 view .LVU1268
 4238 0258 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 4239 025a 13F0600F 		tst	r3, #96
 4240 025e 7FF4FCAE 		bne	.L240
 779:tinyusb/src/device/usbd.c **** 
 4241              		.loc 1 779 9 discriminator 2 view .LVU1269
 781:tinyusb/src/device/usbd.c ****         {
 4242              		.loc 1 781 9 discriminator 2 view .LVU1270
 781:tinyusb/src/device/usbd.c ****         {
 4243              		.loc 1 781 25 is_stmt 0 discriminator 2 view .LVU1271
ARM GAS  /tmp/ccyyDEje.s 			page 133


 4244 0262 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 4245 0264 0A3B     		subs	r3, r3, #10
 4246 0266 012B     		cmp	r3, #1
 4247 0268 3FF6F7AE 		bhi	.L240
 786:tinyusb/src/device/usbd.c **** 
 4248              		.loc 1 786 13 is_stmt 1 view .LVU1272
 4249 026c 0020     		movs	r0, #0
 4250 026e FFF7FEFF 		bl	usbd_control_set_complete_callback
 4251              	.LVL341:
 788:tinyusb/src/device/usbd.c ****             {
 4252              		.loc 1 788 13 view .LVU1273
 788:tinyusb/src/device/usbd.c ****             {
 4253              		.loc 1 788 52 is_stmt 0 view .LVU1274
 4254 0272 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 788:tinyusb/src/device/usbd.c ****             {
 4255              		.loc 1 788 16 view .LVU1275
 4256 0274 0A2B     		cmp	r3, #10
 4257 0276 0FD0     		beq	.L302
 794:tinyusb/src/device/usbd.c ****             }
 4258              		.loc 1 794 15 is_stmt 1 view .LVU1276
 4259 0278 2146     		mov	r1, r4
 4260 027a 2846     		mov	r0, r5
 4261 027c FFF7FEFF 		bl	tud_control_status
 4262              	.LVL342:
 4263              	.LBE497:
 874:tinyusb/src/device/usbd.c **** }
 4264              		.loc 1 874 10 is_stmt 0 view .LVU1277
 4265 0280 0120     		movs	r0, #1
 4266 0282 EAE6     		b	.L240
 4267              	.LVL343:
 4268              	.L264:
 4269              	.LBB505:
 4270              	.LBB503:
 4271              	.LBB502:
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 4272              		.loc 1 252 10 is_stmt 1 view .LVU1278
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 4273              		.loc 1 252 13 is_stmt 0 view .LVU1279
 4274 0284 9342     		cmp	r3, r2
 4275 0286 00F2A380 		bhi	.L285
 253:tinyusb/src/device/usbd.c ****   }
 4276              		.loc 1 253 5 is_stmt 1 view .LVU1280
 253:tinyusb/src/device/usbd.c ****   }
 4277              		.loc 1 253 34 is_stmt 0 view .LVU1281
 4278 028a 9B1A     		subs	r3, r3, r2
 4279              	.LVL344:
 253:tinyusb/src/device/usbd.c ****   }
 4280              		.loc 1 253 12 view .LVU1282
 4281 028c 03EB4303 		add	r3, r3, r3, lsl #1
 4282 0290 2149     		ldr	r1, .L306+16
 4283 0292 01EBC301 		add	r1, r1, r3, lsl #3
 4284              	.LVL345:
 253:tinyusb/src/device/usbd.c ****   }
 4285              		.loc 1 253 12 view .LVU1283
 4286 0296 D5E7     		b	.L265
 4287              	.LVL346:
 4288              	.L302:
ARM GAS  /tmp/ccyyDEje.s 			page 134


 253:tinyusb/src/device/usbd.c ****   }
 4289              		.loc 1 253 12 view .LVU1284
 4290              	.LBE502:
 4291              	.LBE503:
 4292              	.LBB504:
 790:tinyusb/src/device/usbd.c ****               tud_control_xfer(rhport, p_request, &alternate, 1);
 4293              		.loc 1 790 15 is_stmt 1 view .LVU1285
 790:tinyusb/src/device/usbd.c ****               tud_control_xfer(rhport, p_request, &alternate, 1);
 4294              		.loc 1 790 23 is_stmt 0 view .LVU1286
 4295 0298 0023     		movs	r3, #0
 4296 029a 8DF80630 		strb	r3, [sp, #6]
 791:tinyusb/src/device/usbd.c ****             }else
 4297              		.loc 1 791 15 is_stmt 1 view .LVU1287
 4298 029e 0123     		movs	r3, #1
 4299 02a0 0DF10602 		add	r2, sp, #6
 4300 02a4 2146     		mov	r1, r4
 4301 02a6 2846     		mov	r0, r5
 4302 02a8 FFF7FEFF 		bl	tud_control_xfer
 4303              	.LVL347:
 4304              	.LBE504:
 4305              	.LBE505:
 874:tinyusb/src/device/usbd.c **** }
 4306              		.loc 1 874 10 is_stmt 0 view .LVU1288
 4307 02ac 0120     		movs	r0, #1
 4308              	.LBB506:
 4309 02ae D4E6     		b	.L240
 4310              	.L243:
 874:tinyusb/src/device/usbd.c **** }
 4311              		.loc 1 874 10 view .LVU1289
 4312              	.LBE506:
 4313              	.LBB507:
 807:tinyusb/src/device/usbd.c ****       uint8_t const ep_num  = tu_edpt_number(ep_addr);
 4314              		.loc 1 807 7 is_stmt 1 view .LVU1290
 807:tinyusb/src/device/usbd.c ****       uint8_t const ep_num  = tu_edpt_number(ep_addr);
 4315              		.loc 1 807 31 is_stmt 0 view .LVU1291
 4316 02b0 A288     		ldrh	r2, [r4, #4]	@ unaligned
 4317              	.LVL348:
 4318              	.LBB508:
 4319              	.LBI508:
 140:tinyusb/src/common/tusb_common.h **** 
 4320              		.loc 3 140 45 is_stmt 1 view .LVU1292
 4321              	.LBB509:
 140:tinyusb/src/common/tusb_common.h **** 
 4322              		.loc 3 140 74 view .LVU1293
 140:tinyusb/src/common/tusb_common.h **** 
 4323              		.loc 3 140 81 is_stmt 0 view .LVU1294
 4324 02b2 D1B2     		uxtb	r1, r2
 4325              	.LVL349:
 140:tinyusb/src/common/tusb_common.h **** 
 4326              		.loc 3 140 81 view .LVU1295
 4327              	.LBE509:
 4328              	.LBE508:
 808:tinyusb/src/device/usbd.c ****       uint8_t const ep_dir  = tu_edpt_dir(ep_addr);
 4329              		.loc 1 808 7 is_stmt 1 view .LVU1296
 4330              	.LBB510:
 4331              	.LBI510:
 518:tinyusb/src/common/tusb_types.h **** {
ARM GAS  /tmp/ccyyDEje.s 			page 135


 4332              		.loc 2 518 45 view .LVU1297
 4333              	.LBB511:
 520:tinyusb/src/common/tusb_types.h **** }
 4334              		.loc 2 520 3 view .LVU1298
 520:tinyusb/src/common/tusb_types.h **** }
 4335              		.loc 2 520 10 is_stmt 0 view .LVU1299
 4336 02b4 02F07F0C 		and	ip, r2, #127
 4337              	.LVL350:
 520:tinyusb/src/common/tusb_types.h **** }
 4338              		.loc 2 520 10 view .LVU1300
 4339              	.LBE511:
 4340              	.LBE510:
 809:tinyusb/src/device/usbd.c **** 
 4341              		.loc 1 809 7 is_stmt 1 view .LVU1301
 4342              	.LBB512:
 4343              	.LBI512:
 512:tinyusb/src/common/tusb_types.h **** {
 4344              		.loc 2 512 48 view .LVU1302
 4345              	.LBB513:
 514:tinyusb/src/common/tusb_types.h **** }
 4346              		.loc 2 514 3 view .LVU1303
 514:tinyusb/src/common/tusb_types.h **** }
 4347              		.loc 2 514 50 is_stmt 0 view .LVU1304
 4348 02b8 C2F3C012 		ubfx	r2, r2, #7, #1
 4349              	.LVL351:
 514:tinyusb/src/common/tusb_types.h **** }
 4350              		.loc 2 514 50 view .LVU1305
 4351              	.LBE513:
 4352              	.LBE512:
 811:tinyusb/src/device/usbd.c **** 
 4353              		.loc 1 811 7 is_stmt 1 view .LVU1306
 811:tinyusb/src/device/usbd.c **** 
 4354              		.loc 1 811 7 view .LVU1307
 4355 02bc BCF1050F 		cmp	ip, #5
 4356 02c0 17D8     		bhi	.L303
 811:tinyusb/src/device/usbd.c **** 
 4357              		.loc 1 811 7 discriminator 2 view .LVU1308
 813:tinyusb/src/device/usbd.c **** 
 4358              		.loc 1 813 7 discriminator 2 view .LVU1309
 813:tinyusb/src/device/usbd.c **** 
 4359              		.loc 1 813 44 is_stmt 0 discriminator 2 view .LVU1310
 4360 02c2 1248     		ldr	r0, .L306+4
 4361 02c4 00EB4C00 		add	r0, r0, ip, lsl #1
 4362 02c8 0244     		add	r2, r2, r0
 4363              	.LVL352:
 813:tinyusb/src/device/usbd.c **** 
 4364              		.loc 1 813 44 discriminator 2 view .LVU1311
 4365 02ca D27C     		ldrb	r2, [r2, #19]	@ zero_extendqisi2
 4366              	.LVL353:
 4367              	.LBB514:
 4368              	.LBI514:
 245:tinyusb/src/device/usbd.c **** {
 4369              		.loc 1 245 43 is_stmt 1 discriminator 2 view .LVU1312
 4370              	.LBB515:
 247:tinyusb/src/device/usbd.c **** 
 4371              		.loc 1 247 3 discriminator 2 view .LVU1313
 249:tinyusb/src/device/usbd.c ****     // Application drivers
ARM GAS  /tmp/ccyyDEje.s 			page 136


 4372              		.loc 1 249 3 discriminator 2 view .LVU1314
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 4373              		.loc 1 249 14 is_stmt 0 discriminator 2 view .LVU1315
 4374 02cc 1048     		ldr	r0, .L306+8
 4375 02ce 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 4376              		.loc 1 249 6 discriminator 2 view .LVU1316
 4377 02d0 8242     		cmp	r2, r0
 4378 02d2 27D2     		bcs	.L269
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4379              		.loc 1 251 5 is_stmt 1 view .LVU1317
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4380              		.loc 1 251 14 is_stmt 0 view .LVU1318
 4381 02d4 0F48     		ldr	r0, .L306+12
 4382 02d6 0668     		ldr	r6, [r0]
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4383              		.loc 1 251 26 view .LVU1319
 4384 02d8 02EB4202 		add	r2, r2, r2, lsl #1
 4385              	.LVL354:
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4386              		.loc 1 251 12 view .LVU1320
 4387 02dc 06EBC206 		add	r6, r6, r2, lsl #3
 4388              	.LVL355:
 4389              	.L270:
 256:tinyusb/src/device/usbd.c **** }
 4390              		.loc 1 256 3 is_stmt 1 view .LVU1321
 256:tinyusb/src/device/usbd.c **** }
 4391              		.loc 1 256 3 is_stmt 0 view .LVU1322
 4392              	.LBE515:
 4393              	.LBE514:
 815:tinyusb/src/device/usbd.c ****       {
 4394              		.loc 1 815 7 is_stmt 1 view .LVU1323
 815:tinyusb/src/device/usbd.c ****       {
 4395              		.loc 1 815 10 is_stmt 0 view .LVU1324
 4396 02e0 5BB3     		cbz	r3, .L271
 818:tinyusb/src/device/usbd.c ****         return invoke_class_control(rhport, driver, p_request);
 4397              		.loc 1 818 9 is_stmt 1 view .LVU1325
 818:tinyusb/src/device/usbd.c ****         return invoke_class_control(rhport, driver, p_request);
 4398              		.loc 1 818 9 view .LVU1326
 4399 02e2 002E     		cmp	r6, #0
 4400 02e4 78D0     		beq	.L288
 818:tinyusb/src/device/usbd.c ****         return invoke_class_control(rhport, driver, p_request);
 4401              		.loc 1 818 9 discriminator 2 view .LVU1327
 819:tinyusb/src/device/usbd.c ****       }
 4402              		.loc 1 819 9 discriminator 2 view .LVU1328
 819:tinyusb/src/device/usbd.c ****       }
 4403              		.loc 1 819 16 is_stmt 0 discriminator 2 view .LVU1329
 4404 02e6 2246     		mov	r2, r4
 4405 02e8 3146     		mov	r1, r6
 4406              	.LVL356:
 819:tinyusb/src/device/usbd.c ****       }
 4407              		.loc 1 819 16 discriminator 2 view .LVU1330
 4408 02ea 2846     		mov	r0, r5
 4409 02ec FFF7FEFF 		bl	invoke_class_control
 4410              	.LVL357:
 819:tinyusb/src/device/usbd.c ****       }
 4411              		.loc 1 819 16 discriminator 2 view .LVU1331
ARM GAS  /tmp/ccyyDEje.s 			page 137


 4412 02f0 B3E6     		b	.L240
 4413              	.LVL358:
 4414              	.L303:
 811:tinyusb/src/device/usbd.c **** 
 4415              		.loc 1 811 7 is_stmt 1 discriminator 1 view .LVU1332
 811:tinyusb/src/device/usbd.c **** 
 4416              		.loc 1 811 7 discriminator 1 view .LVU1333
 811:tinyusb/src/device/usbd.c **** 
 4417              		.loc 1 811 7 discriminator 1 view .LVU1334
 811:tinyusb/src/device/usbd.c **** 
 4418              		.loc 1 811 7 discriminator 1 view .LVU1335
 4419              	.LBB517:
 811:tinyusb/src/device/usbd.c **** 
 4420              		.loc 1 811 7 discriminator 1 view .LVU1336
 811:tinyusb/src/device/usbd.c **** 
 4421              		.loc 1 811 7 discriminator 1 view .LVU1337
 4422 02f2 4FF0E023 		mov	r3, #-536813568
 4423 02f6 D3F8F03D 		ldr	r3, [r3, #3568]
 4424 02fa 13F0010F 		tst	r3, #1
 4425 02fe 00D0     		beq	.L268
 811:tinyusb/src/device/usbd.c **** 
 4426              		.loc 1 811 7 discriminator 3 view .LVU1338
 4427              		.syntax unified
 4428              	@ 811 "tinyusb/src/device/usbd.c" 1
 4429 0300 00BE     		BKPT #0
 4430              	
 4431              	@ 0 "" 2
 4432              		.thumb
 4433              		.syntax unified
 4434              	.L268:
 4435              	.LBE517:
 811:tinyusb/src/device/usbd.c **** 
 4436              		.loc 1 811 7 discriminator 5 view .LVU1339
 811:tinyusb/src/device/usbd.c **** 
 4437              		.loc 1 811 7 discriminator 5 view .LVU1340
 4438 0302 0020     		movs	r0, #0
 4439 0304 A9E6     		b	.L240
 4440              	.L307:
 4441 0306 00BF     		.align	2
 4442              	.L306:
 4443 0308 00000000 		.word	tud_vendor_control_xfer_cb
 4444 030c 00000000 		.word	.LANCHOR3
 4445 0310 00000000 		.word	.LANCHOR2
 4446 0314 00000000 		.word	.LANCHOR0
 4447 0318 00000000 		.word	.LANCHOR1
 4448 031c 00000000 		.word	tud_umount_cb
 4449 0320 00000000 		.word	tud_mount_cb
 4450              	.LVL359:
 4451              	.L269:
 4452              	.LBB518:
 4453              	.LBB516:
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 4454              		.loc 1 252 10 view .LVU1341
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 4455              		.loc 1 252 13 is_stmt 0 view .LVU1342
 4456 0324 8242     		cmp	r2, r0
 4457 0326 06D8     		bhi	.L287
ARM GAS  /tmp/ccyyDEje.s 			page 138


 253:tinyusb/src/device/usbd.c ****   }
 4458              		.loc 1 253 5 is_stmt 1 view .LVU1343
 253:tinyusb/src/device/usbd.c ****   }
 4459              		.loc 1 253 34 is_stmt 0 view .LVU1344
 4460 0328 121A     		subs	r2, r2, r0
 4461              	.LVL360:
 253:tinyusb/src/device/usbd.c ****   }
 4462              		.loc 1 253 12 view .LVU1345
 4463 032a 02EB4202 		add	r2, r2, r2, lsl #1
 4464 032e 2D4E     		ldr	r6, .L308
 4465 0330 06EBC206 		add	r6, r6, r2, lsl #3
 4466              	.LVL361:
 253:tinyusb/src/device/usbd.c ****   }
 4467              		.loc 1 253 12 view .LVU1346
 4468 0334 D4E7     		b	.L270
 4469              	.LVL362:
 4470              	.L287:
 247:tinyusb/src/device/usbd.c **** 
 4471              		.loc 1 247 31 view .LVU1347
 4472 0336 0026     		movs	r6, #0
 4473 0338 D2E7     		b	.L270
 4474              	.LVL363:
 4475              	.L271:
 247:tinyusb/src/device/usbd.c **** 
 4476              		.loc 1 247 31 view .LVU1348
 4477              	.LBE516:
 4478              	.LBE518:
 824:tinyusb/src/device/usbd.c ****         {
 4479              		.loc 1 824 9 is_stmt 1 view .LVU1349
 824:tinyusb/src/device/usbd.c ****         {
 4480              		.loc 1 824 27 is_stmt 0 view .LVU1350
 4481 033a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 4482 033c 012B     		cmp	r3, #1
 4483 033e 1AD0     		beq	.L272
 4484 0340 032B     		cmp	r3, #3
 4485 0342 18D0     		beq	.L272
 4486 0344 4BB1     		cbz	r3, .L304
 864:tinyusb/src/device/usbd.c ****         }
 4487              		.loc 1 864 20 is_stmt 1 view .LVU1351
 4488              	.LBB519:
 864:tinyusb/src/device/usbd.c ****         }
 4489              		.loc 1 864 20 view .LVU1352
 4490              	.LVL364:
 864:tinyusb/src/device/usbd.c ****         }
 4491              		.loc 1 864 20 view .LVU1353
 4492 0346 4FF0E023 		mov	r3, #-536813568
 4493 034a D3F8F03D 		ldr	r3, [r3, #3568]
 4494 034e 13F0010F 		tst	r3, #1
 4495 0352 00D0     		beq	.L276
 864:tinyusb/src/device/usbd.c ****         }
 4496              		.loc 1 864 20 discriminator 1 view .LVU1354
 4497              		.syntax unified
 4498              	@ 864 "tinyusb/src/device/usbd.c" 1
 4499 0354 00BE     		BKPT #0
 4500              	
 4501              	@ 0 "" 2
 4502              		.thumb
ARM GAS  /tmp/ccyyDEje.s 			page 139


 4503              		.syntax unified
 4504              	.L276:
 4505              	.LBE519:
 864:tinyusb/src/device/usbd.c ****         }
 4506              		.loc 1 864 20 discriminator 3 view .LVU1355
 864:tinyusb/src/device/usbd.c ****         }
 4507              		.loc 1 864 37 discriminator 3 view .LVU1356
 864:tinyusb/src/device/usbd.c ****         }
 4508              		.loc 1 864 44 is_stmt 0 discriminator 3 view .LVU1357
 4509 0356 0020     		movs	r0, #0
 4510 0358 7FE6     		b	.L240
 4511              	.LVL365:
 4512              	.L304:
 4513              	.LBB520:
 828:tinyusb/src/device/usbd.c ****             tud_control_xfer(rhport, p_request, &status, 2);
 4514              		.loc 1 828 13 is_stmt 1 discriminator 4 view .LVU1358
 828:tinyusb/src/device/usbd.c ****             tud_control_xfer(rhport, p_request, &status, 2);
 4515              		.loc 1 828 31 is_stmt 0 discriminator 4 view .LVU1359
 4516 035a 2846     		mov	r0, r5
 4517 035c FFF7FEFF 		bl	usbd_edpt_stalled
 4518              	.LVL366:
 828:tinyusb/src/device/usbd.c ****             tud_control_xfer(rhport, p_request, &status, 2);
 4519              		.loc 1 828 22 discriminator 4 view .LVU1360
 4520 0360 ADF80600 		strh	r0, [sp, #6]	@ movhi
 829:tinyusb/src/device/usbd.c ****           }
 4521              		.loc 1 829 13 is_stmt 1 discriminator 4 view .LVU1361
 4522 0364 0223     		movs	r3, #2
 4523 0366 0DF10602 		add	r2, sp, #6
 4524 036a 2146     		mov	r1, r4
 4525 036c 2846     		mov	r0, r5
 4526 036e FFF7FEFF 		bl	tud_control_xfer
 4527              	.LVL367:
 4528              	.LBE520:
 831:tinyusb/src/device/usbd.c **** 
 4529              		.loc 1 831 11 discriminator 4 view .LVU1362
 4530              	.LBE507:
 874:tinyusb/src/device/usbd.c **** }
 4531              		.loc 1 874 10 is_stmt 0 discriminator 4 view .LVU1363
 4532 0372 0120     		movs	r0, #1
 4533              	.LBB521:
 831:tinyusb/src/device/usbd.c **** 
 4534              		.loc 1 831 11 discriminator 4 view .LVU1364
 4535 0374 71E6     		b	.L240
 4536              	.LVL368:
 4537              	.L272:
 836:tinyusb/src/device/usbd.c ****             {
 4538              		.loc 1 836 13 is_stmt 1 view .LVU1365
 836:tinyusb/src/device/usbd.c ****             {
 4539              		.loc 1 836 57 is_stmt 0 view .LVU1366
 4540 0376 6288     		ldrh	r2, [r4, #2]	@ unaligned
 836:tinyusb/src/device/usbd.c ****             {
 4541              		.loc 1 836 16 view .LVU1367
 4542 0378 22B9     		cbnz	r2, .L274
 838:tinyusb/src/device/usbd.c ****               {
 4543              		.loc 1 838 15 is_stmt 1 view .LVU1368
 838:tinyusb/src/device/usbd.c ****               {
 4544              		.loc 1 838 18 is_stmt 0 view .LVU1369
ARM GAS  /tmp/ccyyDEje.s 			page 140


 4545 037a 012B     		cmp	r3, #1
 4546 037c 18D0     		beq	.L305
 843:tinyusb/src/device/usbd.c ****               }
 4547              		.loc 1 843 17 is_stmt 1 view .LVU1370
 4548 037e 2846     		mov	r0, r5
 4549 0380 FFF7FEFF 		bl	usbd_edpt_stall
 4550              	.LVL369:
 4551              	.L274:
 847:tinyusb/src/device/usbd.c ****             {
 4552              		.loc 1 847 13 view .LVU1371
 847:tinyusb/src/device/usbd.c ****             {
 4553              		.loc 1 847 16 is_stmt 0 view .LVU1372
 4554 0384 56B3     		cbz	r6, .L289
 854:tinyusb/src/device/usbd.c ****               usbd_control_set_complete_callback(NULL);
 4555              		.loc 1 854 15 is_stmt 1 view .LVU1373
 854:tinyusb/src/device/usbd.c ****               usbd_control_set_complete_callback(NULL);
 4556              		.loc 1 854 22 is_stmt 0 view .LVU1374
 4557 0386 2246     		mov	r2, r4
 4558 0388 3146     		mov	r1, r6
 4559 038a 2846     		mov	r0, r5
 4560 038c FFF7FEFF 		bl	invoke_class_control
 4561              	.LVL370:
 855:tinyusb/src/device/usbd.c **** 
 4562              		.loc 1 855 15 is_stmt 1 view .LVU1375
 4563 0390 0020     		movs	r0, #0
 4564 0392 FFF7FEFF 		bl	usbd_control_set_complete_callback
 4565              	.LVL371:
 858:tinyusb/src/device/usbd.c ****             }
 4566              		.loc 1 858 15 view .LVU1376
 858:tinyusb/src/device/usbd.c ****             }
 4567              		.loc 1 858 56 is_stmt 0 view .LVU1377
 4568 0396 144B     		ldr	r3, .L308+4
 4569 0398 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 858:tinyusb/src/device/usbd.c ****             }
 4570              		.loc 1 858 18 view .LVU1378
 4571 039c 13F00100 		ands	r0, r3, #1
 4572 03a0 7FF45BAE 		bne	.L240
 858:tinyusb/src/device/usbd.c ****             }
 4573              		.loc 1 858 64 is_stmt 1 discriminator 1 view .LVU1379
 4574 03a4 2146     		mov	r1, r4
 4575 03a6 2846     		mov	r0, r5
 4576 03a8 FFF7FEFF 		bl	tud_control_status
 4577              	.LVL372:
 4578              	.LBE521:
 874:tinyusb/src/device/usbd.c **** }
 4579              		.loc 1 874 10 is_stmt 0 discriminator 1 view .LVU1380
 4580 03ac 0120     		movs	r0, #1
 4581 03ae 54E6     		b	.L240
 4582              	.LVL373:
 4583              	.L305:
 4584              	.LBB522:
 840:tinyusb/src/device/usbd.c ****               }else
 4585              		.loc 1 840 17 is_stmt 1 view .LVU1381
 4586 03b0 2846     		mov	r0, r5
 4587 03b2 FFF7FEFF 		bl	usbd_edpt_clear_stall
 4588              	.LVL374:
 840:tinyusb/src/device/usbd.c ****               }else
ARM GAS  /tmp/ccyyDEje.s 			page 141


 4589              		.loc 1 840 17 is_stmt 0 view .LVU1382
 4590 03b6 E5E7     		b	.L274
 4591              	.LVL375:
 4592              	.L277:
 840:tinyusb/src/device/usbd.c ****               }else
 4593              		.loc 1 840 17 view .LVU1383
 4594              	.LBE522:
 626:tinyusb/src/device/usbd.c **** 
 4595              		.loc 1 626 5 view .LVU1384
 4596 03b8 0020     		movs	r0, #0
 4597 03ba 4EE6     		b	.L240
 4598              	.LVL376:
 4599              	.L278:
 4600              	.LBB523:
 647:tinyusb/src/device/usbd.c **** 
 4601              		.loc 1 647 9 view .LVU1385
 4602 03bc 0020     		movs	r0, #0
 4603 03be 4CE6     		b	.L240
 4604              	.LVL377:
 4605              	.L279:
 650:tinyusb/src/device/usbd.c **** 
 4606              		.loc 1 650 9 view .LVU1386
 4607 03c0 0020     		movs	r0, #0
 4608 03c2 4AE6     		b	.L240
 4609              	.LVL378:
 4610              	.L280:
 650:tinyusb/src/device/usbd.c **** 
 4611              		.loc 1 650 9 view .LVU1387
 4612 03c4 0020     		movs	r0, #0
 4613 03c6 48E6     		b	.L240
 4614              	.LVL379:
 4615              	.L283:
 650:tinyusb/src/device/usbd.c **** 
 4616              		.loc 1 650 9 view .LVU1388
 4617              	.LBE523:
 760:tinyusb/src/device/usbd.c ****       }
 4618              		.loc 1 760 42 view .LVU1389
 4619 03c8 0020     		movs	r0, #0
 4620 03ca 46E6     		b	.L240
 4621              	.LVL380:
 4622              	.L284:
 4623              	.LBB524:
 768:tinyusb/src/device/usbd.c **** 
 4624              		.loc 1 768 7 view .LVU1390
 4625 03cc 0020     		movs	r0, #0
 4626 03ce 44E6     		b	.L240
 4627              	.LVL381:
 4628              	.L285:
 771:tinyusb/src/device/usbd.c **** 
 4629              		.loc 1 771 7 view .LVU1391
 4630 03d0 0020     		movs	r0, #0
 4631 03d2 42E6     		b	.L240
 4632              	.LVL382:
 4633              	.L286:
 771:tinyusb/src/device/usbd.c **** 
 4634              		.loc 1 771 7 view .LVU1392
 4635 03d4 0020     		movs	r0, #0
ARM GAS  /tmp/ccyyDEje.s 			page 142


 4636 03d6 40E6     		b	.L240
 4637              	.LVL383:
 4638              	.L288:
 771:tinyusb/src/device/usbd.c **** 
 4639              		.loc 1 771 7 view .LVU1393
 4640              	.LBE524:
 4641              	.LBB525:
 818:tinyusb/src/device/usbd.c ****         return invoke_class_control(rhport, driver, p_request);
 4642              		.loc 1 818 9 view .LVU1394
 4643 03d8 0020     		movs	r0, #0
 4644 03da 3EE6     		b	.L240
 4645              	.LVL384:
 4646              	.L289:
 818:tinyusb/src/device/usbd.c ****         return invoke_class_control(rhport, driver, p_request);
 4647              		.loc 1 818 9 view .LVU1395
 4648              	.LBE525:
 874:tinyusb/src/device/usbd.c **** }
 4649              		.loc 1 874 10 view .LVU1396
 4650 03dc 0120     		movs	r0, #1
 4651 03de 3CE6     		b	.L240
 4652              	.LVL385:
 4653              	.L290:
 871:tinyusb/src/device/usbd.c ****   }
 4654              		.loc 1 871 38 view .LVU1397
 4655 03e0 0020     		movs	r0, #0
 4656 03e2 3AE6     		b	.L240
 4657              	.L309:
 4658              		.align	2
 4659              	.L308:
 4660 03e4 00000000 		.word	.LANCHOR1
 4661 03e8 00000000 		.word	.LANCHOR3
 4662              		.cfi_endproc
 4663              	.LFE99:
 4665              		.section	.text.tud_task_ext,"ax",%progbits
 4666              		.align	1
 4667              		.global	tud_task_ext
 4668              		.syntax unified
 4669              		.thumb
 4670              		.thumb_func
 4671              		.fpu fpv4-sp-d16
 4673              	tud_task_ext:
 4674              	.LVL386:
 4675              	.LFB97:
 475:tinyusb/src/device/usbd.c ****   (void) in_isr; // not implemented yet
 4676              		.loc 1 475 1 is_stmt 1 view -0
 4677              		.cfi_startproc
 4678              		@ args = 0, pretend = 0, frame = 16
 4679              		@ frame_needed = 0, uses_anonymous_args = 0
 475:tinyusb/src/device/usbd.c ****   (void) in_isr; // not implemented yet
 4680              		.loc 1 475 1 is_stmt 0 view .LVU1399
 4681 0000 30B5     		push	{r4, r5, lr}
 4682              	.LCFI33:
 4683              		.cfi_def_cfa_offset 12
 4684              		.cfi_offset 4, -12
 4685              		.cfi_offset 5, -8
 4686              		.cfi_offset 14, -4
 4687 0002 85B0     		sub	sp, sp, #20
ARM GAS  /tmp/ccyyDEje.s 			page 143


 4688              	.LCFI34:
 4689              		.cfi_def_cfa_offset 32
 476:tinyusb/src/device/usbd.c **** 
 4690              		.loc 1 476 3 is_stmt 1 view .LVU1400
 479:tinyusb/src/device/usbd.c **** 
 4691              		.loc 1 479 3 view .LVU1401
 479:tinyusb/src/device/usbd.c **** 
 4692              		.loc 1 479 9 is_stmt 0 view .LVU1402
 4693 0004 FFF7FEFF 		bl	tud_inited
 4694              	.LVL387:
 479:tinyusb/src/device/usbd.c **** 
 4695              		.loc 1 479 6 view .LVU1403
 4696 0008 48B9     		cbnz	r0, .L329
 4697              	.L310:
 601:tinyusb/src/device/usbd.c **** 
 4698              		.loc 1 601 1 view .LVU1404
 4699 000a 05B0     		add	sp, sp, #20
 4700              	.LCFI35:
 4701              		.cfi_remember_state
 4702              		.cfi_def_cfa_offset 12
 4703              		@ sp needed
 4704 000c 30BD     		pop	{r4, r5, pc}
 4705              	.L321:
 4706              	.LCFI36:
 4707              		.cfi_restore_state
 4708              	.LBB526:
 495:tinyusb/src/device/usbd.c ****         usbd_reset(event.rhport);
 4709              		.loc 1 495 75 is_stmt 1 view .LVU1405
 496:tinyusb/src/device/usbd.c ****         _usbd_dev.speed = event.bus_reset.speed;
 4710              		.loc 1 496 9 view .LVU1406
 4711 000e 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 4712 0012 FFF7FEFF 		bl	usbd_reset
 4713              	.LVL388:
 497:tinyusb/src/device/usbd.c ****       break;
 4714              		.loc 1 497 9 view .LVU1407
 497:tinyusb/src/device/usbd.c ****       break;
 4715              		.loc 1 497 42 is_stmt 0 view .LVU1408
 4716 0016 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 497:tinyusb/src/device/usbd.c ****       break;
 4717              		.loc 1 497 25 view .LVU1409
 4718 001a 6B4B     		ldr	r3, .L332
 4719 001c 9A70     		strb	r2, [r3, #2]
 498:tinyusb/src/device/usbd.c **** 
 4720              		.loc 1 498 7 is_stmt 1 view .LVU1410
 4721              	.L329:
 4722              	.LBE526:
 482:tinyusb/src/device/usbd.c ****   {
 4723              		.loc 1 482 3 view .LVU1411
 4724              	.LBB546:
 484:tinyusb/src/device/usbd.c ****     if ( !osal_queue_receive(_usbd_q, &event, timeout_ms) ) return;
 4725              		.loc 1 484 5 view .LVU1412
 485:tinyusb/src/device/usbd.c **** 
 4726              		.loc 1 485 5 view .LVU1413
 485:tinyusb/src/device/usbd.c **** 
 4727              		.loc 1 485 11 is_stmt 0 view .LVU1414
 4728 001e 6B4B     		ldr	r3, .L332+4
 4729 0020 1D68     		ldr	r5, [r3]
ARM GAS  /tmp/ccyyDEje.s 			page 144


 4730              	.LVL389:
 4731              	.LBB527:
 4732              	.LBI527:
 158:tinyusb/src/osal/osal_none.h **** {
 4733              		.loc 4 158 42 is_stmt 1 view .LVU1415
 4734              	.LBB528:
 160:tinyusb/src/osal/osal_none.h **** 
 4735              		.loc 4 160 3 view .LVU1416
 162:tinyusb/src/osal/osal_none.h ****   bool success = tu_fifo_read(&qhdl->ff, data);
 4736              		.loc 4 162 3 view .LVU1417
 4737              	.LBB529:
 4738              	.LBI529:
 139:tinyusb/src/osal/osal_none.h **** {
 4739              		.loc 4 139 42 view .LVU1418
 4740              	.LBB530:
 142:tinyusb/src/osal/osal_none.h **** }
 4741              		.loc 4 142 3 view .LVU1419
 142:tinyusb/src/osal/osal_none.h **** }
 4742              		.loc 4 142 7 is_stmt 0 view .LVU1420
 4743 0022 2C46     		mov	r4, r5
 4744 0024 54F8043B 		ldr	r3, [r4], #4
 142:tinyusb/src/osal/osal_none.h **** }
 4745              		.loc 4 142 3 view .LVU1421
 4746 0028 0020     		movs	r0, #0
 4747 002a 9847     		blx	r3
 4748              	.LVL390:
 142:tinyusb/src/osal/osal_none.h **** }
 4749              		.loc 4 142 3 view .LVU1422
 4750              	.LBE530:
 4751              	.LBE529:
 163:tinyusb/src/osal/osal_none.h ****   _osal_q_unlock(qhdl);
 4752              		.loc 4 163 3 is_stmt 1 view .LVU1423
 163:tinyusb/src/osal/osal_none.h ****   _osal_q_unlock(qhdl);
 4753              		.loc 4 163 18 is_stmt 0 view .LVU1424
 4754 002c 01A9     		add	r1, sp, #4
 4755              	.LVL391:
 163:tinyusb/src/osal/osal_none.h ****   _osal_q_unlock(qhdl);
 4756              		.loc 4 163 18 view .LVU1425
 4757 002e 2046     		mov	r0, r4
 4758 0030 FFF7FEFF 		bl	tu_fifo_read
 4759              	.LVL392:
 163:tinyusb/src/osal/osal_none.h ****   _osal_q_unlock(qhdl);
 4760              		.loc 4 163 18 view .LVU1426
 4761 0034 0446     		mov	r4, r0
 4762              	.LVL393:
 164:tinyusb/src/osal/osal_none.h **** 
 4763              		.loc 4 164 3 is_stmt 1 view .LVU1427
 4764              	.LBB531:
 4765              	.LBI531:
 146:tinyusb/src/osal/osal_none.h **** {
 4766              		.loc 4 146 42 view .LVU1428
 4767              	.LBB532:
 149:tinyusb/src/osal/osal_none.h **** }
 4768              		.loc 4 149 3 view .LVU1429
 149:tinyusb/src/osal/osal_none.h **** }
 4769              		.loc 4 149 7 is_stmt 0 view .LVU1430
 4770 0036 2B68     		ldr	r3, [r5]
ARM GAS  /tmp/ccyyDEje.s 			page 145


 149:tinyusb/src/osal/osal_none.h **** }
 4771              		.loc 4 149 3 view .LVU1431
 4772 0038 0120     		movs	r0, #1
 4773 003a 9847     		blx	r3
 4774              	.LVL394:
 149:tinyusb/src/osal/osal_none.h **** }
 4775              		.loc 4 149 3 view .LVU1432
 4776              	.LBE532:
 4777              	.LBE531:
 166:tinyusb/src/osal/osal_none.h **** }
 4778              		.loc 4 166 3 is_stmt 1 view .LVU1433
 166:tinyusb/src/osal/osal_none.h **** }
 4779              		.loc 4 166 3 is_stmt 0 view .LVU1434
 4780              	.LBE528:
 4781              	.LBE527:
 485:tinyusb/src/device/usbd.c **** 
 4782              		.loc 1 485 8 view .LVU1435
 4783 003c 002C     		cmp	r4, #0
 4784 003e E4D0     		beq	.L310
 492:tinyusb/src/device/usbd.c ****     {
 4785              		.loc 1 492 5 is_stmt 1 view .LVU1436
 492:tinyusb/src/device/usbd.c ****     {
 4786              		.loc 1 492 19 is_stmt 0 view .LVU1437
 4787 0040 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 492:tinyusb/src/device/usbd.c ****     {
 4788              		.loc 1 492 5 view .LVU1438
 4789 0044 013B     		subs	r3, r3, #1
 4790 0046 072B     		cmp	r3, #7
 4791 0048 00F2B480 		bhi	.L313
 4792 004c 01A2     		adr	r2, .L315
 4793 004e 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 4794 0052 00BF     		.p2align 2
 4795              	.L315:
 4796 0054 0F000000 		.word	.L321+1
 4797 0058 75000000 		.word	.L320+1
 4798 005c B5010000 		.word	.L313+1
 4799 0060 6B010000 		.word	.L319+1
 4800 0064 8D010000 		.word	.L318+1
 4801 0068 89000000 		.word	.L317+1
 4802 006c DF000000 		.word	.L316+1
 4803 0070 A7010000 		.word	.L314+1
 4804              		.p2align 1
 4805              	.L320:
 501:tinyusb/src/device/usbd.c ****         usbd_reset(event.rhport);
 4806              		.loc 1 501 28 is_stmt 1 view .LVU1439
 502:tinyusb/src/device/usbd.c **** 
 4807              		.loc 1 502 9 view .LVU1440
 4808 0074 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 4809 0078 FFF7FEFF 		bl	usbd_reset
 4810              	.LVL395:
 505:tinyusb/src/device/usbd.c ****       break;
 4811              		.loc 1 505 9 view .LVU1441
 505:tinyusb/src/device/usbd.c ****       break;
 4812              		.loc 1 505 12 is_stmt 0 view .LVU1442
 4813 007c 544B     		ldr	r3, .L332+8
 4814 007e 002B     		cmp	r3, #0
 4815 0080 CDD0     		beq	.L329
ARM GAS  /tmp/ccyyDEje.s 			page 146


 505:tinyusb/src/device/usbd.c ****       break;
 4816              		.loc 1 505 28 is_stmt 1 discriminator 1 view .LVU1443
 4817 0082 FFF7FEFF 		bl	tud_umount_cb
 4818              	.LVL396:
 4819 0086 CAE7     		b	.L329
 4820              	.L317:
 509:tinyusb/src/device/usbd.c ****         TU_LOG_USBD("\r\n");
 4821              		.loc 1 509 64 view .LVU1444
 510:tinyusb/src/device/usbd.c **** 
 4822              		.loc 1 510 28 view .LVU1445
 514:tinyusb/src/device/usbd.c **** 
 4823              		.loc 1 514 9 view .LVU1446
 514:tinyusb/src/device/usbd.c **** 
 4824              		.loc 1 514 29 is_stmt 0 view .LVU1447
 4825 0088 4F4B     		ldr	r3, .L332
 4826 008a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 4827 008c 42F00102 		orr	r2, r2, #1
 4828 0090 1A70     		strb	r2, [r3]
 517:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_OUT].claimed = 0;
 4829              		.loc 1 517 9 is_stmt 1 view .LVU1448
 517:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_OUT].claimed = 0;
 4830              		.loc 1 517 51 is_stmt 0 view .LVU1449
 4831 0092 DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 4832 0094 6FF30002 		bfc	r2, #0, #1
 4833 0098 DA77     		strb	r2, [r3, #31]
 518:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_IN ].busy = 0;
 4834              		.loc 1 518 9 is_stmt 1 view .LVU1450
 518:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_IN ].busy = 0;
 4835              		.loc 1 518 54 is_stmt 0 view .LVU1451
 4836 009a DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 4837 009c 6FF38202 		bfc	r2, #2, #1
 4838 00a0 DA77     		strb	r2, [r3, #31]
 519:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_IN ].claimed = 0;
 4839              		.loc 1 519 9 is_stmt 1 view .LVU1452
 519:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[0][TUSB_DIR_IN ].claimed = 0;
 4840              		.loc 1 519 51 is_stmt 0 view .LVU1453
 4841 00a2 93F82020 		ldrb	r2, [r3, #32]	@ zero_extendqisi2
 4842 00a6 6FF30002 		bfc	r2, #0, #1
 4843 00aa 83F82020 		strb	r2, [r3, #32]
 520:tinyusb/src/device/usbd.c **** 
 4844              		.loc 1 520 9 is_stmt 1 view .LVU1454
 520:tinyusb/src/device/usbd.c **** 
 4845              		.loc 1 520 54 is_stmt 0 view .LVU1455
 4846 00ae 93F82020 		ldrb	r2, [r3, #32]	@ zero_extendqisi2
 4847 00b2 6FF38202 		bfc	r2, #2, #1
 4848 00b6 83F82020 		strb	r2, [r3, #32]
 523:tinyusb/src/device/usbd.c ****         {
 4849              		.loc 1 523 9 is_stmt 1 view .LVU1456
 523:tinyusb/src/device/usbd.c ****         {
 4850              		.loc 1 523 15 is_stmt 0 view .LVU1457
 4851 00ba 02A9     		add	r1, sp, #8
 4852 00bc 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 4853 00c0 FFF7FEFF 		bl	process_control_request
 4854              	.LVL397:
 523:tinyusb/src/device/usbd.c ****         {
 4855              		.loc 1 523 12 view .LVU1458
 4856 00c4 0028     		cmp	r0, #0
ARM GAS  /tmp/ccyyDEje.s 			page 147


 4857 00c6 AAD1     		bne	.L329
 525:tinyusb/src/device/usbd.c ****           // Failed -> stall both control endpoint IN and OUT
 4858              		.loc 1 525 41 is_stmt 1 view .LVU1459
 527:tinyusb/src/device/usbd.c ****           dcd_edpt_stall(event.rhport, 0 | TUSB_DIR_IN_MASK);
 4859              		.loc 1 527 11 view .LVU1460
 4860 00c8 0021     		movs	r1, #0
 4861 00ca 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 4862 00ce FFF7FEFF 		bl	dcd_edpt_stall
 4863              	.LVL398:
 528:tinyusb/src/device/usbd.c ****         }
 4864              		.loc 1 528 11 view .LVU1461
 4865 00d2 8021     		movs	r1, #128
 4866 00d4 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 4867 00d8 FFF7FEFF 		bl	dcd_edpt_stall
 4868              	.LVL399:
 4869 00dc 9FE7     		b	.L329
 4870              	.L316:
 4871              	.LBB533:
 535:tinyusb/src/device/usbd.c ****         uint8_t const epnum   = tu_edpt_number(ep_addr);
 4872              		.loc 1 535 9 view .LVU1462
 535:tinyusb/src/device/usbd.c ****         uint8_t const epnum   = tu_edpt_number(ep_addr);
 4873              		.loc 1 535 23 is_stmt 0 view .LVU1463
 4874 00de 9DF80810 		ldrb	r1, [sp, #8]	@ zero_extendqisi2
 4875              	.LVL400:
 536:tinyusb/src/device/usbd.c ****         uint8_t const ep_dir  = tu_edpt_dir(ep_addr);
 4876              		.loc 1 536 9 is_stmt 1 view .LVU1464
 4877              	.LBB534:
 4878              	.LBI534:
 518:tinyusb/src/common/tusb_types.h **** {
 4879              		.loc 2 518 45 view .LVU1465
 4880              	.LBB535:
 520:tinyusb/src/common/tusb_types.h **** }
 4881              		.loc 2 520 3 view .LVU1466
 520:tinyusb/src/common/tusb_types.h **** }
 4882              		.loc 2 520 10 is_stmt 0 view .LVU1467
 4883 00e2 01F07F00 		and	r0, r1, #127
 4884              	.LVL401:
 520:tinyusb/src/common/tusb_types.h **** }
 4885              		.loc 2 520 10 view .LVU1468
 4886              	.LBE535:
 4887              	.LBE534:
 537:tinyusb/src/device/usbd.c **** 
 4888              		.loc 1 537 9 is_stmt 1 view .LVU1469
 4889              	.LBB536:
 4890              	.LBI536:
 512:tinyusb/src/common/tusb_types.h **** {
 4891              		.loc 2 512 48 view .LVU1470
 4892              	.LBB537:
 514:tinyusb/src/common/tusb_types.h **** }
 4893              		.loc 2 514 3 view .LVU1471
 514:tinyusb/src/common/tusb_types.h **** }
 4894              		.loc 2 514 50 is_stmt 0 view .LVU1472
 4895 00e6 CC09     		lsrs	r4, r1, #7
 4896              	.LVL402:
 514:tinyusb/src/common/tusb_types.h **** }
 4897              		.loc 2 514 50 view .LVU1473
 4898              	.LBE537:
ARM GAS  /tmp/ccyyDEje.s 			page 148


 4899              	.LBE536:
 539:tinyusb/src/device/usbd.c **** 
 4900              		.loc 1 539 101 is_stmt 1 view .LVU1474
 541:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[epnum][ep_dir].claimed = 0;
 4901              		.loc 1 541 9 view .LVU1475
 541:tinyusb/src/device/usbd.c ****         _usbd_dev.ep_status[epnum][ep_dir].claimed = 0;
 4902              		.loc 1 541 49 is_stmt 0 view .LVU1476
 4903 00e8 374B     		ldr	r3, .L332
 4904 00ea 03EB4003 		add	r3, r3, r0, lsl #1
 4905 00ee 03EBD113 		add	r3, r3, r1, lsr #7
 4906 00f2 DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 4907 00f4 6FF30002 		bfc	r2, #0, #1
 4908 00f8 DA77     		strb	r2, [r3, #31]
 542:tinyusb/src/device/usbd.c **** 
 4909              		.loc 1 542 9 is_stmt 1 view .LVU1477
 542:tinyusb/src/device/usbd.c **** 
 4910              		.loc 1 542 52 is_stmt 0 view .LVU1478
 4911 00fa DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 4912 00fc 6FF38202 		bfc	r2, #2, #1
 4913 0100 DA77     		strb	r2, [r3, #31]
 544:tinyusb/src/device/usbd.c ****         {
 4914              		.loc 1 544 9 is_stmt 1 view .LVU1479
 544:tinyusb/src/device/usbd.c ****         {
 4915              		.loc 1 544 12 is_stmt 0 view .LVU1480
 4916 0102 B8B1     		cbz	r0, .L331
 4917              	.LBB538:
 551:tinyusb/src/device/usbd.c ****           TU_ASSERT(driver, );
 4918              		.loc 1 551 11 is_stmt 1 view .LVU1481
 551:tinyusb/src/device/usbd.c ****           TU_ASSERT(driver, );
 4919              		.loc 1 551 48 is_stmt 0 view .LVU1482
 4920 0104 304B     		ldr	r3, .L332
 4921 0106 03EB4003 		add	r3, r3, r0, lsl #1
 4922 010a 2344     		add	r3, r3, r4
 4923 010c DB7C     		ldrb	r3, [r3, #19]	@ zero_extendqisi2
 4924              	.LVL403:
 4925              	.LBB539:
 4926              	.LBI539:
 245:tinyusb/src/device/usbd.c **** {
 4927              		.loc 1 245 43 is_stmt 1 view .LVU1483
 4928              	.LBB540:
 247:tinyusb/src/device/usbd.c **** 
 4929              		.loc 1 247 3 view .LVU1484
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 4930              		.loc 1 249 3 view .LVU1485
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 4931              		.loc 1 249 14 is_stmt 0 view .LVU1486
 4932 010e 314A     		ldr	r2, .L332+12
 4933 0110 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 249:tinyusb/src/device/usbd.c ****     // Application drivers
 4934              		.loc 1 249 6 view .LVU1487
 4935 0112 9342     		cmp	r3, r2
 4936 0114 16D2     		bcs	.L324
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4937              		.loc 1 251 5 is_stmt 1 view .LVU1488
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4938              		.loc 1 251 14 is_stmt 0 view .LVU1489
 4939 0116 304A     		ldr	r2, .L332+16
ARM GAS  /tmp/ccyyDEje.s 			page 149


 4940 0118 1268     		ldr	r2, [r2]
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4941              		.loc 1 251 26 view .LVU1490
 4942 011a 03EB4303 		add	r3, r3, r3, lsl #1
 4943              	.LVL404:
 251:tinyusb/src/device/usbd.c ****   } else if ( drvid < TOTAL_DRIVER_COUNT && BUILTIN_DRIVER_COUNT > 0 ){
 4944              		.loc 1 251 12 view .LVU1491
 4945 011e 02EBC303 		add	r3, r2, r3, lsl #3
 4946              	.LVL405:
 4947              	.L325:
 256:tinyusb/src/device/usbd.c **** }
 4948              		.loc 1 256 3 is_stmt 1 view .LVU1492
 256:tinyusb/src/device/usbd.c **** }
 4949              		.loc 1 256 3 is_stmt 0 view .LVU1493
 4950              	.LBE540:
 4951              	.LBE539:
 552:tinyusb/src/device/usbd.c **** 
 4952              		.loc 1 552 11 is_stmt 1 view .LVU1494
 552:tinyusb/src/device/usbd.c **** 
 4953              		.loc 1 552 11 view .LVU1495
 4954 0122 C3B1     		cbz	r3, .L326
 552:tinyusb/src/device/usbd.c **** 
 4955              		.loc 1 552 11 discriminator 2 view .LVU1496
 554:tinyusb/src/device/usbd.c ****           driver->xfer_cb(event.rhport, ep_addr, (xfer_result_t) event.xfer_complete.result, event.
 4956              		.loc 1 554 62 discriminator 2 view .LVU1497
 555:tinyusb/src/device/usbd.c ****         }
 4957              		.loc 1 555 11 discriminator 2 view .LVU1498
 555:tinyusb/src/device/usbd.c ****         }
 4958              		.loc 1 555 17 is_stmt 0 discriminator 2 view .LVU1499
 4959 0124 1C69     		ldr	r4, [r3, #16]
 4960              	.LVL406:
 555:tinyusb/src/device/usbd.c ****         }
 4961              		.loc 1 555 11 discriminator 2 view .LVU1500
 4962 0126 039B     		ldr	r3, [sp, #12]
 4963              	.LVL407:
 555:tinyusb/src/device/usbd.c ****         }
 4964              		.loc 1 555 11 discriminator 2 view .LVU1501
 4965 0128 9DF80920 		ldrb	r2, [sp, #9]	@ zero_extendqisi2
 4966 012c 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
 4967              	.LVL408:
 555:tinyusb/src/device/usbd.c ****         }
 4968              		.loc 1 555 11 discriminator 2 view .LVU1502
 4969 0130 A047     		blx	r4
 4970              	.LVL409:
 555:tinyusb/src/device/usbd.c ****         }
 4971              		.loc 1 555 11 discriminator 2 view .LVU1503
 4972 0132 74E7     		b	.L329
 4973              	.LVL410:
 4974              	.L331:
 555:tinyusb/src/device/usbd.c ****         }
 4975              		.loc 1 555 11 discriminator 2 view .LVU1504
 4976              	.LBE538:
 546:tinyusb/src/device/usbd.c ****           .len);
 4977              		.loc 1 546 11 is_stmt 1 view .LVU1505
 4978 0134 039B     		ldr	r3, [sp, #12]
 4979 0136 9DF80920 		ldrb	r2, [sp, #9]	@ zero_extendqisi2
 4980 013a 9DF80400 		ldrb	r0, [sp, #4]	@ zero_extendqisi2
ARM GAS  /tmp/ccyyDEje.s 			page 150


 4981              	.LVL411:
 546:tinyusb/src/device/usbd.c ****           .len);
 4982              		.loc 1 546 11 is_stmt 0 view .LVU1506
 4983 013e FFF7FEFF 		bl	usbd_control_xfer_cb
 4984              	.LVL412:
 546:tinyusb/src/device/usbd.c ****           .len);
 4985              		.loc 1 546 11 view .LVU1507
 4986 0142 6CE7     		b	.L329
 4987              	.LVL413:
 4988              	.L324:
 4989              	.LBB544:
 4990              	.LBB542:
 4991              	.LBB541:
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 4992              		.loc 1 252 10 is_stmt 1 view .LVU1508
 252:tinyusb/src/device/usbd.c ****     driver = &_usbd_driver[drvid - _app_driver_count];
 4993              		.loc 1 252 13 is_stmt 0 view .LVU1509
 4994 0144 9342     		cmp	r3, r2
 4995 0146 06D8     		bhi	.L326
 253:tinyusb/src/device/usbd.c ****   }
 4996              		.loc 1 253 5 is_stmt 1 view .LVU1510
 253:tinyusb/src/device/usbd.c ****   }
 4997              		.loc 1 253 34 is_stmt 0 view .LVU1511
 4998 0148 9B1A     		subs	r3, r3, r2
 4999              	.LVL414:
 253:tinyusb/src/device/usbd.c ****   }
 5000              		.loc 1 253 12 view .LVU1512
 5001 014a 03EB4303 		add	r3, r3, r3, lsl #1
 5002 014e 234A     		ldr	r2, .L332+20
 5003 0150 02EBC303 		add	r3, r2, r3, lsl #3
 5004              	.LVL415:
 253:tinyusb/src/device/usbd.c ****   }
 5005              		.loc 1 253 12 view .LVU1513
 5006 0154 E5E7     		b	.L325
 5007              	.LVL416:
 5008              	.L326:
 253:tinyusb/src/device/usbd.c ****   }
 5009              		.loc 1 253 12 view .LVU1514
 5010              	.LBE541:
 5011              	.LBE542:
 552:tinyusb/src/device/usbd.c **** 
 5012              		.loc 1 552 11 is_stmt 1 discriminator 1 view .LVU1515
 552:tinyusb/src/device/usbd.c **** 
 5013              		.loc 1 552 11 discriminator 1 view .LVU1516
 552:tinyusb/src/device/usbd.c **** 
 5014              		.loc 1 552 11 discriminator 1 view .LVU1517
 552:tinyusb/src/device/usbd.c **** 
 5015              		.loc 1 552 11 discriminator 1 view .LVU1518
 5016              	.LBB543:
 552:tinyusb/src/device/usbd.c **** 
 5017              		.loc 1 552 11 discriminator 1 view .LVU1519
 552:tinyusb/src/device/usbd.c **** 
 5018              		.loc 1 552 11 discriminator 1 view .LVU1520
 5019 0156 4FF0E023 		mov	r3, #-536813568
 5020 015a D3F8F03D 		ldr	r3, [r3, #3568]
 5021 015e 13F0010F 		tst	r3, #1
 5022 0162 3FF452AF 		beq	.L310
ARM GAS  /tmp/ccyyDEje.s 			page 151


 552:tinyusb/src/device/usbd.c **** 
 5023              		.loc 1 552 11 discriminator 3 view .LVU1521
 5024              		.syntax unified
 5025              	@ 552 "tinyusb/src/device/usbd.c" 1
 5026 0166 00BE     		BKPT #0
 5027              	
 5028              	@ 0 "" 2
 5029              		.thumb
 5030              		.syntax unified
 5031              	.LBE543:
 552:tinyusb/src/device/usbd.c **** 
 5032              		.loc 1 552 11 discriminator 3 view .LVU1522
 552:tinyusb/src/device/usbd.c **** 
 5033              		.loc 1 552 11 discriminator 3 view .LVU1523
 5034 0168 4FE7     		b	.L310
 5035              	.LVL417:
 5036              	.L319:
 552:tinyusb/src/device/usbd.c **** 
 5037              		.loc 1 552 11 is_stmt 0 discriminator 3 view .LVU1524
 5038              	.LBE544:
 5039              	.LBE533:
 564:tinyusb/src/device/usbd.c ****         {
 5040              		.loc 1 564 9 is_stmt 1 view .LVU1525
 564:tinyusb/src/device/usbd.c ****         {
 5041              		.loc 1 564 23 is_stmt 0 view .LVU1526
 5042 016a 174B     		ldr	r3, .L332
 5043 016c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 564:tinyusb/src/device/usbd.c ****         {
 5044              		.loc 1 564 12 view .LVU1527
 5045 016e 13F0010F 		tst	r3, #1
 5046 0172 3FF454AF 		beq	.L329
 566:tinyusb/src/device/usbd.c ****           if (tud_suspend_cb) tud_suspend_cb(_usbd_dev.remote_wakeup_en);
 5047              		.loc 1 566 78 is_stmt 1 view .LVU1528
 567:tinyusb/src/device/usbd.c ****         }else
 5048              		.loc 1 567 11 view .LVU1529
 567:tinyusb/src/device/usbd.c ****         }else
 5049              		.loc 1 567 14 is_stmt 0 view .LVU1530
 5050 0176 1A4B     		ldr	r3, .L332+24
 5051 0178 002B     		cmp	r3, #0
 5052 017a 3FF450AF 		beq	.L329
 567:tinyusb/src/device/usbd.c ****         }else
 5053              		.loc 1 567 31 is_stmt 1 discriminator 1 view .LVU1531
 567:tinyusb/src/device/usbd.c ****         }else
 5054              		.loc 1 567 55 is_stmt 0 discriminator 1 view .LVU1532
 5055 017e 124B     		ldr	r3, .L332
 5056 0180 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 567:tinyusb/src/device/usbd.c ****         }else
 5057              		.loc 1 567 31 discriminator 1 view .LVU1533
 5058 0182 C0F3C000 		ubfx	r0, r0, #3, #1
 5059 0186 FFF7FEFF 		bl	tud_suspend_cb
 5060              	.LVL418:
 5061 018a 48E7     		b	.L329
 5062              	.L318:
 575:tinyusb/src/device/usbd.c ****         {
 5063              		.loc 1 575 9 is_stmt 1 view .LVU1534
 575:tinyusb/src/device/usbd.c ****         {
 5064              		.loc 1 575 23 is_stmt 0 view .LVU1535
ARM GAS  /tmp/ccyyDEje.s 			page 152


 5065 018c 0E4B     		ldr	r3, .L332
 5066 018e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 575:tinyusb/src/device/usbd.c ****         {
 5067              		.loc 1 575 12 view .LVU1536
 5068 0190 13F0010F 		tst	r3, #1
 5069 0194 3FF443AF 		beq	.L329
 577:tinyusb/src/device/usbd.c ****           if (tud_resume_cb) tud_resume_cb();
 5070              		.loc 1 577 30 is_stmt 1 view .LVU1537
 578:tinyusb/src/device/usbd.c ****         }else
 5071              		.loc 1 578 11 view .LVU1538
 578:tinyusb/src/device/usbd.c ****         }else
 5072              		.loc 1 578 14 is_stmt 0 view .LVU1539
 5073 0198 124B     		ldr	r3, .L332+28
 5074 019a 002B     		cmp	r3, #0
 5075 019c 3FF43FAF 		beq	.L329
 578:tinyusb/src/device/usbd.c ****         }else
 5076              		.loc 1 578 30 is_stmt 1 discriminator 1 view .LVU1540
 5077 01a0 FFF7FEFF 		bl	tud_resume_cb
 5078              	.LVL419:
 5079 01a4 3BE7     		b	.L329
 5080              	.L314:
 586:tinyusb/src/device/usbd.c ****         if ( event.func_call.func ) event.func_call.func(event.func_call.param);
 5081              		.loc 1 586 28 view .LVU1541
 587:tinyusb/src/device/usbd.c ****       break;
 5082              		.loc 1 587 9 view .LVU1542
 587:tinyusb/src/device/usbd.c ****       break;
 5083              		.loc 1 587 29 is_stmt 0 view .LVU1543
 5084 01a6 029B     		ldr	r3, [sp, #8]
 587:tinyusb/src/device/usbd.c ****       break;
 5085              		.loc 1 587 12 view .LVU1544
 5086 01a8 002B     		cmp	r3, #0
 5087 01aa 3FF438AF 		beq	.L329
 587:tinyusb/src/device/usbd.c ****       break;
 5088              		.loc 1 587 37 is_stmt 1 discriminator 1 view .LVU1545
 5089 01ae 0398     		ldr	r0, [sp, #12]
 5090 01b0 9847     		blx	r3
 5091              	.LVL420:
 5092 01b2 34E7     		b	.L329
 5093              	.L313:
 592:tinyusb/src/device/usbd.c ****       break;
 5094              		.loc 1 592 9 view .LVU1546
 5095              	.LBB545:
 592:tinyusb/src/device/usbd.c ****       break;
 5096              		.loc 1 592 9 view .LVU1547
 5097              	.LVL421:
 592:tinyusb/src/device/usbd.c ****       break;
 5098              		.loc 1 592 9 view .LVU1548
 5099 01b4 4FF0E023 		mov	r3, #-536813568
 5100 01b8 D3F8F03D 		ldr	r3, [r3, #3568]
 5101 01bc 13F0010F 		tst	r3, #1
 5102 01c0 3FF42DAF 		beq	.L329
 592:tinyusb/src/device/usbd.c ****       break;
 5103              		.loc 1 592 9 discriminator 1 view .LVU1549
 5104              		.syntax unified
 5105              	@ 592 "tinyusb/src/device/usbd.c" 1
 5106 01c4 00BE     		BKPT #0
 5107              	
ARM GAS  /tmp/ccyyDEje.s 			page 153


 5108              	@ 0 "" 2
 5109              		.thumb
 5110              		.syntax unified
 5111              	.LBE545:
 5112              	.LBE546:
 482:tinyusb/src/device/usbd.c ****   {
 5113              		.loc 1 482 9 discriminator 1 view .LVU1550
 483:tinyusb/src/device/usbd.c ****     dcd_event_t event;
 5114              		.loc 1 483 3 is_stmt 0 discriminator 1 view .LVU1551
 5115 01c6 2AE7     		b	.L329
 5116              	.L333:
 5117              		.align	2
 5118              	.L332:
 5119 01c8 00000000 		.word	.LANCHOR3
 5120 01cc 00000000 		.word	.LANCHOR6
 5121 01d0 00000000 		.word	tud_umount_cb
 5122 01d4 00000000 		.word	.LANCHOR2
 5123 01d8 00000000 		.word	.LANCHOR0
 5124 01dc 00000000 		.word	.LANCHOR1
 5125 01e0 00000000 		.word	tud_suspend_cb
 5126 01e4 00000000 		.word	tud_resume_cb
 5127              		.cfi_endproc
 5128              	.LFE97:
 5130              		.section	.text.usbd_edpt_close,"ax",%progbits
 5131              		.align	1
 5132              		.global	usbd_edpt_close
 5133              		.syntax unified
 5134              		.thumb
 5135              		.thumb_func
 5136              		.fpu fpv4-sp-d16
 5138              	usbd_edpt_close:
 5139              	.LVL422:
 5140              	.LFB115:
1357:tinyusb/src/device/usbd.c **** 
1358:tinyusb/src/device/usbd.c **** /**
1359:tinyusb/src/device/usbd.c ****  * usbd_edpt_close will disable an endpoint.
1360:tinyusb/src/device/usbd.c ****  *
1361:tinyusb/src/device/usbd.c ****  * In progress transfers on this EP may be delivered after this call.
1362:tinyusb/src/device/usbd.c ****  *
1363:tinyusb/src/device/usbd.c ****  */
1364:tinyusb/src/device/usbd.c **** void usbd_edpt_close(uint8_t rhport, uint8_t ep_addr)
1365:tinyusb/src/device/usbd.c **** {
 5141              		.loc 1 1365 1 is_stmt 1 view -0
 5142              		.cfi_startproc
 5143              		@ args = 0, pretend = 0, frame = 0
 5144              		@ frame_needed = 0, uses_anonymous_args = 0
 5145              		.loc 1 1365 1 is_stmt 0 view .LVU1553
 5146 0000 38B5     		push	{r3, r4, r5, lr}
 5147              	.LCFI37:
 5148              		.cfi_def_cfa_offset 16
 5149              		.cfi_offset 3, -16
 5150              		.cfi_offset 4, -12
 5151              		.cfi_offset 5, -8
 5152              		.cfi_offset 14, -4
1366:tinyusb/src/device/usbd.c ****   rhport = _usbd_rhport;
 5153              		.loc 1 1366 3 is_stmt 1 view .LVU1554
 5154              		.loc 1 1366 10 is_stmt 0 view .LVU1555
ARM GAS  /tmp/ccyyDEje.s 			page 154


 5155 0002 114B     		ldr	r3, .L340
 5156 0004 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 5157              	.LVL423:
1367:tinyusb/src/device/usbd.c **** 
1368:tinyusb/src/device/usbd.c ****   TU_ASSERT(dcd_edpt_close, /**/);
 5158              		.loc 1 1368 3 is_stmt 1 view .LVU1556
 5159              		.loc 1 1368 3 view .LVU1557
 5160 0006 114B     		ldr	r3, .L340+4
 5161 0008 ABB1     		cbz	r3, .L339
 5162              		.loc 1 1368 3 view .LVU1558
1369:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
 5163              		.loc 1 1369 57 view .LVU1559
1370:tinyusb/src/device/usbd.c **** 
1371:tinyusb/src/device/usbd.c ****   uint8_t const epnum = tu_edpt_number(ep_addr);
 5164              		.loc 1 1371 3 view .LVU1560
 5165              	.LVL424:
 5166              	.LBB547:
 5167              	.LBI547:
 518:tinyusb/src/common/tusb_types.h **** {
 5168              		.loc 2 518 45 view .LVU1561
 5169              	.LBB548:
 520:tinyusb/src/common/tusb_types.h **** }
 5170              		.loc 2 520 3 view .LVU1562
 520:tinyusb/src/common/tusb_types.h **** }
 5171              		.loc 2 520 10 is_stmt 0 view .LVU1563
 5172 000a 01F07F05 		and	r5, r1, #127
 5173              	.LVL425:
 520:tinyusb/src/common/tusb_types.h **** }
 5174              		.loc 2 520 10 view .LVU1564
 5175              	.LBE548:
 5176              	.LBE547:
1372:tinyusb/src/device/usbd.c ****   uint8_t const dir   = tu_edpt_dir(ep_addr);
 5177              		.loc 1 1372 3 is_stmt 1 view .LVU1565
 5178              	.LBB549:
 5179              	.LBI549:
 512:tinyusb/src/common/tusb_types.h **** {
 5180              		.loc 2 512 48 view .LVU1566
 5181              	.LBB550:
 514:tinyusb/src/common/tusb_types.h **** }
 5182              		.loc 2 514 3 view .LVU1567
 514:tinyusb/src/common/tusb_types.h **** }
 5183              		.loc 2 514 50 is_stmt 0 view .LVU1568
 5184 000e CC09     		lsrs	r4, r1, #7
 5185              	.LVL426:
 514:tinyusb/src/common/tusb_types.h **** }
 5186              		.loc 2 514 50 view .LVU1569
 5187              	.LBE550:
 5188              	.LBE549:
1373:tinyusb/src/device/usbd.c **** 
1374:tinyusb/src/device/usbd.c ****   dcd_edpt_close(rhport, ep_addr);
 5189              		.loc 1 1374 3 is_stmt 1 view .LVU1570
 5190 0010 FFF7FEFF 		bl	dcd_edpt_close
 5191              	.LVL427:
1375:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].stalled = 0;
 5192              		.loc 1 1375 3 view .LVU1571
 5193              		.loc 1 1375 43 is_stmt 0 view .LVU1572
 5194 0014 0E4B     		ldr	r3, .L340+8
ARM GAS  /tmp/ccyyDEje.s 			page 155


 5195 0016 03EB4503 		add	r3, r3, r5, lsl #1
 5196 001a 2344     		add	r3, r3, r4
 5197 001c DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 5198 001e 6FF34102 		bfc	r2, #1, #1
 5199 0022 DA77     		strb	r2, [r3, #31]
1376:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].busy = 0;
 5200              		.loc 1 1376 3 is_stmt 1 view .LVU1573
 5201              		.loc 1 1376 40 is_stmt 0 view .LVU1574
 5202 0024 DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 5203 0026 6FF30002 		bfc	r2, #0, #1
 5204 002a DA77     		strb	r2, [r3, #31]
1377:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].claimed = 0;
 5205              		.loc 1 1377 3 is_stmt 1 view .LVU1575
 5206              		.loc 1 1377 43 is_stmt 0 view .LVU1576
 5207 002c DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 5208 002e 6FF38202 		bfc	r2, #2, #1
 5209 0032 DA77     		strb	r2, [r3, #31]
1378:tinyusb/src/device/usbd.c **** 
1379:tinyusb/src/device/usbd.c ****   return;
 5210              		.loc 1 1379 3 is_stmt 1 view .LVU1577
 5211              	.LVL428:
 5212              	.L334:
1380:tinyusb/src/device/usbd.c **** }
 5213              		.loc 1 1380 1 is_stmt 0 view .LVU1578
 5214 0034 38BD     		pop	{r3, r4, r5, pc}
 5215              	.LVL429:
 5216              	.L339:
1368:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
 5217              		.loc 1 1368 3 is_stmt 1 discriminator 1 view .LVU1579
1368:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
 5218              		.loc 1 1368 3 discriminator 1 view .LVU1580
1368:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
 5219              		.loc 1 1368 3 discriminator 1 view .LVU1581
1368:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
 5220              		.loc 1 1368 3 discriminator 1 view .LVU1582
 5221              	.LBB551:
1368:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
 5222              		.loc 1 1368 3 discriminator 1 view .LVU1583
1368:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
 5223              		.loc 1 1368 3 discriminator 1 view .LVU1584
 5224 0036 4FF0E023 		mov	r3, #-536813568
 5225 003a D3F8F03D 		ldr	r3, [r3, #3568]
 5226 003e 13F0010F 		tst	r3, #1
 5227 0042 F7D0     		beq	.L334
1368:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
 5228              		.loc 1 1368 3 discriminator 3 view .LVU1585
 5229              		.syntax unified
 5230              	@ 1368 "tinyusb/src/device/usbd.c" 1
 5231 0044 00BE     		BKPT #0
 5232              	
 5233              	@ 0 "" 2
 5234              		.thumb
 5235              		.syntax unified
 5236              	.LBE551:
1368:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
 5237              		.loc 1 1368 3 discriminator 3 view .LVU1586
1368:tinyusb/src/device/usbd.c ****   TU_LOG_USBD("  CLOSING Endpoint: 0x%02X\r\n", ep_addr);
ARM GAS  /tmp/ccyyDEje.s 			page 156


 5238              		.loc 1 1368 3 discriminator 3 view .LVU1587
 5239 0046 F5E7     		b	.L334
 5240              	.L341:
 5241              		.align	2
 5242              	.L340:
 5243 0048 00000000 		.word	.LANCHOR4
 5244 004c 00000000 		.word	dcd_edpt_close
 5245 0050 00000000 		.word	.LANCHOR3
 5246              		.cfi_endproc
 5247              	.LFE115:
 5249              		.section	.text.usbd_sof_enable,"ax",%progbits
 5250              		.align	1
 5251              		.global	usbd_sof_enable
 5252              		.syntax unified
 5253              		.thumb
 5254              		.thumb_func
 5255              		.fpu fpv4-sp-d16
 5257              	usbd_sof_enable:
 5258              	.LVL430:
 5259              	.LFB116:
1381:tinyusb/src/device/usbd.c **** 
1382:tinyusb/src/device/usbd.c **** void usbd_sof_enable(uint8_t rhport, bool en)
1383:tinyusb/src/device/usbd.c **** {
 5260              		.loc 1 1383 1 view -0
 5261              		.cfi_startproc
 5262              		@ args = 0, pretend = 0, frame = 0
 5263              		@ frame_needed = 0, uses_anonymous_args = 0
 5264              		.loc 1 1383 1 is_stmt 0 view .LVU1589
 5265 0000 08B5     		push	{r3, lr}
 5266              	.LCFI38:
 5267              		.cfi_def_cfa_offset 8
 5268              		.cfi_offset 3, -8
 5269              		.cfi_offset 14, -4
1384:tinyusb/src/device/usbd.c ****   rhport = _usbd_rhport;
 5270              		.loc 1 1384 3 is_stmt 1 view .LVU1590
 5271              	.LVL431:
1385:tinyusb/src/device/usbd.c **** 
1386:tinyusb/src/device/usbd.c ****   // TODO: Check needed if all drivers including the user sof_cb does not need an active SOF ISR an
1387:tinyusb/src/device/usbd.c ****   // Only if all drivers switched off SOF calls the SOF interrupt may be disabled
1388:tinyusb/src/device/usbd.c ****   dcd_sof_enable(rhport, en);
 5272              		.loc 1 1388 3 view .LVU1591
 5273 0002 024B     		ldr	r3, .L344
 5274 0004 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 5275 0006 FFF7FEFF 		bl	dcd_sof_enable
 5276              	.LVL432:
1389:tinyusb/src/device/usbd.c **** }
 5277              		.loc 1 1389 1 is_stmt 0 view .LVU1592
 5278 000a 08BD     		pop	{r3, pc}
 5279              	.L345:
 5280              		.align	2
 5281              	.L344:
 5282 000c 00000000 		.word	.LANCHOR4
 5283              		.cfi_endproc
 5284              	.LFE116:
 5286              		.section	.text.usbd_edpt_iso_alloc,"ax",%progbits
 5287              		.align	1
 5288              		.global	usbd_edpt_iso_alloc
ARM GAS  /tmp/ccyyDEje.s 			page 157


 5289              		.syntax unified
 5290              		.thumb
 5291              		.thumb_func
 5292              		.fpu fpv4-sp-d16
 5294              	usbd_edpt_iso_alloc:
 5295              	.LVL433:
 5296              	.LFB117:
1390:tinyusb/src/device/usbd.c **** 
1391:tinyusb/src/device/usbd.c **** bool usbd_edpt_iso_alloc(uint8_t rhport, uint8_t ep_addr, uint16_t largest_packet_size)
1392:tinyusb/src/device/usbd.c **** {
 5297              		.loc 1 1392 1 is_stmt 1 view -0
 5298              		.cfi_startproc
 5299              		@ args = 0, pretend = 0, frame = 0
 5300              		@ frame_needed = 0, uses_anonymous_args = 0
 5301              		.loc 1 1392 1 is_stmt 0 view .LVU1594
 5302 0000 08B5     		push	{r3, lr}
 5303              	.LCFI39:
 5304              		.cfi_def_cfa_offset 8
 5305              		.cfi_offset 3, -8
 5306              		.cfi_offset 14, -4
1393:tinyusb/src/device/usbd.c ****   rhport = _usbd_rhport;
 5307              		.loc 1 1393 3 is_stmt 1 view .LVU1595
 5308              		.loc 1 1393 10 is_stmt 0 view .LVU1596
 5309 0002 0F4B     		ldr	r3, .L354
 5310 0004 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 5311              	.LVL434:
1394:tinyusb/src/device/usbd.c **** 
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(dcd_edpt_iso_alloc);
 5312              		.loc 1 1395 3 is_stmt 1 view .LVU1597
 5313              		.loc 1 1395 3 view .LVU1598
 5314 0006 0F4B     		ldr	r3, .L354+4
 5315 0008 6BB1     		cbz	r3, .L353
 5316              		.loc 1 1395 3 view .LVU1599
1396:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5317              		.loc 1 1396 3 view .LVU1600
 5318              		.loc 1 1396 3 view .LVU1601
 5319              	.LVL435:
 5320              	.LBB552:
 5321              	.LBI552:
 518:tinyusb/src/common/tusb_types.h **** {
 5322              		.loc 2 518 45 view .LVU1602
 5323              	.LBB553:
 520:tinyusb/src/common/tusb_types.h **** }
 5324              		.loc 2 520 3 view .LVU1603
 520:tinyusb/src/common/tusb_types.h **** }
 5325              		.loc 2 520 10 is_stmt 0 view .LVU1604
 5326 000a 01F07F03 		and	r3, r1, #127
 5327              	.LVL436:
 520:tinyusb/src/common/tusb_types.h **** }
 5328              		.loc 2 520 10 view .LVU1605
 5329              	.LBE553:
 5330              	.LBE552:
 5331              		.loc 1 1396 3 view .LVU1606
 5332 000e 052B     		cmp	r3, #5
 5333 0010 13D9     		bls	.L350
 5334              		.loc 1 1396 3 is_stmt 1 discriminator 1 view .LVU1607
 5335              		.loc 1 1396 3 discriminator 1 view .LVU1608
ARM GAS  /tmp/ccyyDEje.s 			page 158


 5336              		.loc 1 1396 3 discriminator 1 view .LVU1609
 5337              		.loc 1 1396 3 discriminator 1 view .LVU1610
 5338              	.LBB554:
 5339              		.loc 1 1396 3 discriminator 1 view .LVU1611
 5340              	.LVL437:
 5341              		.loc 1 1396 3 discriminator 1 view .LVU1612
 5342 0012 4FF0E023 		mov	r3, #-536813568
 5343 0016 D3F8F03D 		ldr	r3, [r3, #3568]
 5344 001a 13F0010F 		tst	r3, #1
 5345 001e 00D0     		beq	.L351
 5346              		.loc 1 1396 3 discriminator 3 view .LVU1613
 5347              		.syntax unified
 5348              	@ 1396 "tinyusb/src/device/usbd.c" 1
 5349 0020 00BE     		BKPT #0
 5350              	
 5351              	@ 0 "" 2
 5352              		.thumb
 5353              		.syntax unified
 5354              	.L351:
 5355              	.LBE554:
 5356              		.loc 1 1396 3 discriminator 5 view .LVU1614
 5357              		.loc 1 1396 3 discriminator 5 view .LVU1615
 5358 0022 0020     		movs	r0, #0
 5359              	.LVL438:
 5360              	.L349:
1397:tinyusb/src/device/usbd.c **** 
1398:tinyusb/src/device/usbd.c ****   return dcd_edpt_iso_alloc(rhport, ep_addr, largest_packet_size);
1399:tinyusb/src/device/usbd.c **** }
 5361              		.loc 1 1399 1 is_stmt 0 view .LVU1616
 5362 0024 08BD     		pop	{r3, pc}
 5363              	.LVL439:
 5364              	.L353:
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5365              		.loc 1 1395 3 is_stmt 1 discriminator 1 view .LVU1617
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5366              		.loc 1 1395 3 discriminator 1 view .LVU1618
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5367              		.loc 1 1395 3 discriminator 1 view .LVU1619
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5368              		.loc 1 1395 3 discriminator 1 view .LVU1620
 5369              	.LBB555:
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5370              		.loc 1 1395 3 discriminator 1 view .LVU1621
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5371              		.loc 1 1395 3 discriminator 1 view .LVU1622
 5372 0026 4FF0E023 		mov	r3, #-536813568
 5373 002a D3F8F03D 		ldr	r3, [r3, #3568]
 5374 002e 13F0010F 		tst	r3, #1
 5375 0032 00D0     		beq	.L348
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5376              		.loc 1 1395 3 discriminator 3 view .LVU1623
 5377              		.syntax unified
 5378              	@ 1395 "tinyusb/src/device/usbd.c" 1
 5379 0034 00BE     		BKPT #0
 5380              	
 5381              	@ 0 "" 2
 5382              		.thumb
ARM GAS  /tmp/ccyyDEje.s 			page 159


 5383              		.syntax unified
 5384              	.L348:
 5385              	.LBE555:
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5386              		.loc 1 1395 3 discriminator 5 view .LVU1624
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5387              		.loc 1 1395 3 discriminator 5 view .LVU1625
 5388 0036 0020     		movs	r0, #0
 5389              	.LVL440:
1395:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_number(ep_addr) < CFG_TUD_ENDPPOINT_MAX);
 5390              		.loc 1 1395 3 is_stmt 0 discriminator 5 view .LVU1626
 5391 0038 F4E7     		b	.L349
 5392              	.LVL441:
 5393              	.L350:
1396:tinyusb/src/device/usbd.c **** 
 5394              		.loc 1 1396 3 is_stmt 1 discriminator 2 view .LVU1627
1398:tinyusb/src/device/usbd.c **** }
 5395              		.loc 1 1398 3 discriminator 2 view .LVU1628
1398:tinyusb/src/device/usbd.c **** }
 5396              		.loc 1 1398 10 is_stmt 0 discriminator 2 view .LVU1629
 5397 003a FFF7FEFF 		bl	dcd_edpt_iso_alloc
 5398              	.LVL442:
1398:tinyusb/src/device/usbd.c **** }
 5399              		.loc 1 1398 10 discriminator 2 view .LVU1630
 5400 003e F1E7     		b	.L349
 5401              	.L355:
 5402              		.align	2
 5403              	.L354:
 5404 0040 00000000 		.word	.LANCHOR4
 5405 0044 00000000 		.word	dcd_edpt_iso_alloc
 5406              		.cfi_endproc
 5407              	.LFE117:
 5409              		.section	.text.usbd_edpt_iso_activate,"ax",%progbits
 5410              		.align	1
 5411              		.global	usbd_edpt_iso_activate
 5412              		.syntax unified
 5413              		.thumb
 5414              		.thumb_func
 5415              		.fpu fpv4-sp-d16
 5417              	usbd_edpt_iso_activate:
 5418              	.LVL443:
 5419              	.LFB118:
1400:tinyusb/src/device/usbd.c **** 
1401:tinyusb/src/device/usbd.c **** bool usbd_edpt_iso_activate(uint8_t rhport, tusb_desc_endpoint_t const * desc_ep)
1402:tinyusb/src/device/usbd.c **** {
 5420              		.loc 1 1402 1 is_stmt 1 view -0
 5421              		.cfi_startproc
 5422              		@ args = 0, pretend = 0, frame = 0
 5423              		@ frame_needed = 0, uses_anonymous_args = 0
 5424              		.loc 1 1402 1 is_stmt 0 view .LVU1632
 5425 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 5426              	.LCFI40:
 5427              		.cfi_def_cfa_offset 24
 5428              		.cfi_offset 3, -24
 5429              		.cfi_offset 4, -20
 5430              		.cfi_offset 5, -16
 5431              		.cfi_offset 6, -12
ARM GAS  /tmp/ccyyDEje.s 			page 160


 5432              		.cfi_offset 7, -8
 5433              		.cfi_offset 14, -4
1403:tinyusb/src/device/usbd.c ****   rhport = _usbd_rhport;
 5434              		.loc 1 1403 3 is_stmt 1 view .LVU1633
 5435              		.loc 1 1403 10 is_stmt 0 view .LVU1634
 5436 0002 214B     		ldr	r3, .L366
 5437 0004 1E78     		ldrb	r6, [r3]	@ zero_extendqisi2
 5438              	.LVL444:
1404:tinyusb/src/device/usbd.c **** 
1405:tinyusb/src/device/usbd.c ****   uint8_t const epnum = tu_edpt_number(desc_ep->bEndpointAddress);
 5439              		.loc 1 1405 3 is_stmt 1 view .LVU1635
 5440              		.loc 1 1405 25 is_stmt 0 view .LVU1636
 5441 0006 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 5442              	.LVL445:
 5443              	.LBB556:
 5444              	.LBI556:
 518:tinyusb/src/common/tusb_types.h **** {
 5445              		.loc 2 518 45 is_stmt 1 view .LVU1637
 5446              	.LBB557:
 520:tinyusb/src/common/tusb_types.h **** }
 5447              		.loc 2 520 3 view .LVU1638
 520:tinyusb/src/common/tusb_types.h **** }
 5448              		.loc 2 520 10 is_stmt 0 view .LVU1639
 5449 0008 03F07F07 		and	r7, r3, #127
 5450              	.LVL446:
 520:tinyusb/src/common/tusb_types.h **** }
 5451              		.loc 2 520 10 view .LVU1640
 5452              	.LBE557:
 5453              	.LBE556:
1406:tinyusb/src/device/usbd.c ****   uint8_t const dir   = tu_edpt_dir(desc_ep->bEndpointAddress);
 5454              		.loc 1 1406 3 is_stmt 1 view .LVU1641
 5455              	.LBB558:
 5456              	.LBI558:
 512:tinyusb/src/common/tusb_types.h **** {
 5457              		.loc 2 512 48 view .LVU1642
 5458              	.LBB559:
 514:tinyusb/src/common/tusb_types.h **** }
 5459              		.loc 2 514 3 view .LVU1643
 514:tinyusb/src/common/tusb_types.h **** }
 5460              		.loc 2 514 50 is_stmt 0 view .LVU1644
 5461 000c DD09     		lsrs	r5, r3, #7
 5462              	.LVL447:
 514:tinyusb/src/common/tusb_types.h **** }
 5463              		.loc 2 514 50 view .LVU1645
 5464              	.LBE559:
 5465              	.LBE558:
1407:tinyusb/src/device/usbd.c **** 
1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(dcd_edpt_iso_activate);
 5466              		.loc 1 1408 3 is_stmt 1 view .LVU1646
 5467              		.loc 1 1408 3 view .LVU1647
 5468 000e 1F4B     		ldr	r3, .L366+4
 5469 0010 63B1     		cbz	r3, .L365
 5470 0012 0C46     		mov	r4, r1
 5471              		.loc 1 1408 3 discriminator 2 view .LVU1648
1409:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5472              		.loc 1 1409 3 discriminator 2 view .LVU1649
 5473              		.loc 1 1409 3 discriminator 2 view .LVU1650
ARM GAS  /tmp/ccyyDEje.s 			page 161


 5474 0014 052F     		cmp	r7, #5
 5475 0016 13D9     		bls	.L360
 5476              		.loc 1 1409 3 discriminator 1 view .LVU1651
 5477              		.loc 1 1409 3 discriminator 1 view .LVU1652
 5478              		.loc 1 1409 3 discriminator 1 view .LVU1653
 5479              		.loc 1 1409 3 discriminator 1 view .LVU1654
 5480              	.LBB560:
 5481              		.loc 1 1409 3 discriminator 1 view .LVU1655
 5482              	.LVL448:
 5483              		.loc 1 1409 3 discriminator 1 view .LVU1656
 5484 0018 4FF0E023 		mov	r3, #-536813568
 5485 001c D3F8F03D 		ldr	r3, [r3, #3568]
 5486 0020 13F0010F 		tst	r3, #1
 5487 0024 00D0     		beq	.L361
 5488              		.loc 1 1409 3 discriminator 3 view .LVU1657
 5489              		.syntax unified
 5490              	@ 1409 "tinyusb/src/device/usbd.c" 1
 5491 0026 00BE     		BKPT #0
 5492              	
 5493              	@ 0 "" 2
 5494              		.thumb
 5495              		.syntax unified
 5496              	.L361:
 5497              	.LBE560:
 5498              		.loc 1 1409 3 discriminator 5 view .LVU1658
 5499              		.loc 1 1409 3 discriminator 5 view .LVU1659
 5500 0028 0020     		movs	r0, #0
 5501              	.LVL449:
 5502              	.L359:
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
1411:tinyusb/src/device/usbd.c **** 
1412:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].stalled = 0;
1413:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].busy = 0;
1414:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].claimed = 0;
1415:tinyusb/src/device/usbd.c ****   return dcd_edpt_iso_activate(rhport, desc_ep);
1416:tinyusb/src/device/usbd.c **** }
 5503              		.loc 1 1416 1 is_stmt 0 view .LVU1660
 5504 002a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 5505              	.LVL450:
 5506              	.L365:
1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5507              		.loc 1 1408 3 is_stmt 1 discriminator 1 view .LVU1661
1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5508              		.loc 1 1408 3 discriminator 1 view .LVU1662
1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5509              		.loc 1 1408 3 discriminator 1 view .LVU1663
1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5510              		.loc 1 1408 3 discriminator 1 view .LVU1664
 5511              	.LBB561:
1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5512              		.loc 1 1408 3 discriminator 1 view .LVU1665
1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5513              		.loc 1 1408 3 discriminator 1 view .LVU1666
 5514 002c 4FF0E023 		mov	r3, #-536813568
 5515 0030 D3F8F03D 		ldr	r3, [r3, #3568]
 5516 0034 13F0010F 		tst	r3, #1
 5517 0038 00D0     		beq	.L358
ARM GAS  /tmp/ccyyDEje.s 			page 162


1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5518              		.loc 1 1408 3 discriminator 3 view .LVU1667
 5519              		.syntax unified
 5520              	@ 1408 "tinyusb/src/device/usbd.c" 1
 5521 003a 00BE     		BKPT #0
 5522              	
 5523              	@ 0 "" 2
 5524              		.thumb
 5525              		.syntax unified
 5526              	.L358:
 5527              	.LBE561:
1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5528              		.loc 1 1408 3 discriminator 5 view .LVU1668
1408:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5529              		.loc 1 1408 3 discriminator 5 view .LVU1669
 5530 003c 0020     		movs	r0, #0
 5531 003e F4E7     		b	.L359
 5532              	.LVL451:
 5533              	.L360:
1409:tinyusb/src/device/usbd.c ****   TU_ASSERT(epnum < CFG_TUD_ENDPPOINT_MAX);
 5534              		.loc 1 1409 3 discriminator 2 view .LVU1670
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5535              		.loc 1 1410 3 discriminator 2 view .LVU1671
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5536              		.loc 1 1410 3 discriminator 2 view .LVU1672
 5537 0040 134B     		ldr	r3, .L366+8
 5538 0042 9978     		ldrb	r1, [r3, #2]	@ zero_extendqisi2
 5539              	.LVL452:
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5540              		.loc 1 1410 3 is_stmt 0 discriminator 2 view .LVU1673
 5541 0044 2046     		mov	r0, r4
 5542 0046 FFF7FEFF 		bl	tu_edpt_validate
 5543              	.LVL453:
 5544 004a 40B9     		cbnz	r0, .L362
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5545              		.loc 1 1410 3 is_stmt 1 discriminator 1 view .LVU1674
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5546              		.loc 1 1410 3 discriminator 1 view .LVU1675
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5547              		.loc 1 1410 3 discriminator 1 view .LVU1676
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5548              		.loc 1 1410 3 discriminator 1 view .LVU1677
 5549              	.LBB562:
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5550              		.loc 1 1410 3 discriminator 1 view .LVU1678
 5551              	.LVL454:
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5552              		.loc 1 1410 3 discriminator 1 view .LVU1679
 5553 004c 4FF0E023 		mov	r3, #-536813568
 5554 0050 D3F8F03D 		ldr	r3, [r3, #3568]
 5555 0054 13F0010F 		tst	r3, #1
 5556 0058 E7D0     		beq	.L359
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5557              		.loc 1 1410 3 discriminator 3 view .LVU1680
 5558              		.syntax unified
 5559              	@ 1410 "tinyusb/src/device/usbd.c" 1
 5560 005a 00BE     		BKPT #0
ARM GAS  /tmp/ccyyDEje.s 			page 163


 5561              	
 5562              	@ 0 "" 2
 5563              		.thumb
 5564              		.syntax unified
 5565              	.LBE562:
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5566              		.loc 1 1410 3 discriminator 3 view .LVU1681
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5567              		.loc 1 1410 3 discriminator 3 view .LVU1682
 5568 005c E5E7     		b	.L359
 5569              	.LVL455:
 5570              	.L362:
1410:tinyusb/src/device/usbd.c ****   TU_ASSERT(tu_edpt_validate(desc_ep, (tusb_speed_t) _usbd_dev.speed));
 5571              		.loc 1 1410 3 discriminator 2 view .LVU1683
1412:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].busy = 0;
 5572              		.loc 1 1412 3 discriminator 2 view .LVU1684
1412:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].busy = 0;
 5573              		.loc 1 1412 43 is_stmt 0 discriminator 2 view .LVU1685
 5574 005e 0C4B     		ldr	r3, .L366+8
 5575 0060 03EB4703 		add	r3, r3, r7, lsl #1
 5576 0064 2B44     		add	r3, r3, r5
 5577 0066 DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 5578 0068 6FF34102 		bfc	r2, #1, #1
 5579 006c DA77     		strb	r2, [r3, #31]
1413:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].claimed = 0;
 5580              		.loc 1 1413 3 is_stmt 1 discriminator 2 view .LVU1686
1413:tinyusb/src/device/usbd.c ****   _usbd_dev.ep_status[epnum][dir].claimed = 0;
 5581              		.loc 1 1413 40 is_stmt 0 discriminator 2 view .LVU1687
 5582 006e DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 5583 0070 6FF30002 		bfc	r2, #0, #1
 5584 0074 DA77     		strb	r2, [r3, #31]
1414:tinyusb/src/device/usbd.c ****   return dcd_edpt_iso_activate(rhport, desc_ep);
 5585              		.loc 1 1414 3 is_stmt 1 discriminator 2 view .LVU1688
1414:tinyusb/src/device/usbd.c ****   return dcd_edpt_iso_activate(rhport, desc_ep);
 5586              		.loc 1 1414 43 is_stmt 0 discriminator 2 view .LVU1689
 5587 0076 DA7F     		ldrb	r2, [r3, #31]	@ zero_extendqisi2
 5588 0078 6FF38202 		bfc	r2, #2, #1
 5589 007c DA77     		strb	r2, [r3, #31]
1415:tinyusb/src/device/usbd.c **** }
 5590              		.loc 1 1415 3 is_stmt 1 discriminator 2 view .LVU1690
1415:tinyusb/src/device/usbd.c **** }
 5591              		.loc 1 1415 10 is_stmt 0 discriminator 2 view .LVU1691
 5592 007e 2146     		mov	r1, r4
 5593 0080 3046     		mov	r0, r6
 5594 0082 FFF7FEFF 		bl	dcd_edpt_iso_activate
 5595              	.LVL456:
 5596 0086 D0E7     		b	.L359
 5597              	.L367:
 5598              		.align	2
 5599              	.L366:
 5600 0088 00000000 		.word	.LANCHOR4
 5601 008c 00000000 		.word	dcd_edpt_iso_activate
 5602 0090 00000000 		.word	.LANCHOR3
 5603              		.cfi_endproc
 5604              	.LFE118:
 5606              		.global	_usbd_qdef
 5607              		.global	_usbd_qdef_buf
ARM GAS  /tmp/ccyyDEje.s 			page 164


 5608              		.section	.bss._app_driver,"aw",%nobits
 5609              		.align	2
 5610              		.set	.LANCHOR0,. + 0
 5613              	_app_driver:
 5614 0000 00000000 		.space	4
 5615              		.section	.bss._app_driver_count,"aw",%nobits
 5616              		.set	.LANCHOR2,. + 0
 5619              	_app_driver_count:
 5620 0000 00       		.space	1
 5621              		.section	.bss._usbd_dev,"aw",%nobits
 5622              		.align	2
 5623              		.set	.LANCHOR3,. + 0
 5626              	_usbd_dev:
 5627 0000 00000000 		.space	43
 5627      00000000 
 5627      00000000 
 5627      00000000 
 5627      00000000 
 5628              		.section	.bss._usbd_q,"aw",%nobits
 5629              		.align	2
 5630              		.set	.LANCHOR6,. + 0
 5633              	_usbd_q:
 5634 0000 00000000 		.space	4
 5635              		.section	.bss._usbd_qdef_buf,"aw",%nobits
 5636              		.align	2
 5639              	_usbd_qdef_buf:
 5640 0000 00000000 		.space	192
 5640      00000000 
 5640      00000000 
 5640      00000000 
 5640      00000000 
 5641              		.section	.data._usbd_qdef,"aw"
 5642              		.align	2
 5643              		.set	.LANCHOR5,. + 0
 5646              	_usbd_qdef:
 5647 0000 00000000 		.word	usbd_int_set
 5648 0004 00000000 		.word	_usbd_qdef_buf
 5649 0008 1000     		.short	16
 5650 000a 0C       		.byte	12
 5651 000b 00       		.byte	0
 5652 000c 00000000 		.space	4
 5653              		.section	.data._usbd_rhport,"aw"
 5654              		.set	.LANCHOR4,. + 0
 5657              	_usbd_rhport:
 5658 0000 FF       		.byte	-1
 5659              		.section	.rodata._usbd_driver,"a"
 5660              		.align	2
 5661              		.set	.LANCHOR1,. + 0
 5664              	_usbd_driver:
 5665 0000 00000000 		.word	midid_init
 5666 0004 00000000 		.word	midid_reset
 5667 0008 00000000 		.word	midid_open
 5668 000c 00000000 		.word	midid_control_xfer_cb
 5669 0010 00000000 		.word	midid_xfer_cb
 5670 0014 00000000 		.word	0
 5671              		.weak	dcd_edpt_iso_activate
 5672              		.weak	dcd_edpt_iso_alloc
ARM GAS  /tmp/ccyyDEje.s 			page 165


 5673              		.weak	dcd_edpt_close
 5674              		.weak	tud_resume_cb
 5675              		.weak	tud_suspend_cb
 5676              		.weak	tud_mount_cb
 5677              		.weak	tud_umount_cb
 5678              		.weak	tud_vendor_control_xfer_cb
 5679              		.weak	dcd_edpt_xfer_fifo
 5680              		.weak	usbd_app_driver_get_cb
 5681              		.weak	dcd_connect
 5682              		.weak	dcd_disconnect
 5683              		.weak	tud_descriptor_device_qualifier_cb
 5684              		.weak	tud_descriptor_other_speed_configuration_cb
 5685              		.weak	tud_descriptor_bos_cb
 5686              		.text
 5687              	.Letext0:
 5688              		.file 5 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 5689              		.file 6 "tinyusb/src/osal/osal.h"
 5690              		.file 7 "tinyusb/src/common/tusb_fifo.h"
 5691              		.file 8 "tinyusb/src/device/dcd.h"
 5692              		.file 9 "tinyusb/src/common/tusb_private.h"
 5693              		.file 10 "tinyusb/src/device/usbd_pvt.h"
 5694              		.file 11 "tinyusb/src/device/usbd.h"
 5695              		.file 12 "<built-in>"
ARM GAS  /tmp/ccyyDEje.s 			page 166


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd.c
     /tmp/ccyyDEje.s:18     .text.configuration_reset:0000000000000000 $t
     /tmp/ccyyDEje.s:25     .text.configuration_reset:0000000000000000 configuration_reset
     /tmp/ccyyDEje.s:180    .text.configuration_reset:000000000000007c $d
     /tmp/ccyyDEje.s:188    .text.usbd_reset:0000000000000000 $t
     /tmp/ccyyDEje.s:194    .text.usbd_reset:0000000000000000 usbd_reset
     /tmp/ccyyDEje.s:219    .text.invoke_class_control:0000000000000000 $t
     /tmp/ccyyDEje.s:225    .text.invoke_class_control:0000000000000000 invoke_class_control
     /tmp/ccyyDEje.s:266    .text.process_set_config:0000000000000000 $t
     /tmp/ccyyDEje.s:272    .text.process_set_config:0000000000000000 process_set_config
     /tmp/ccyyDEje.s:769    .text.process_set_config:0000000000000170 $d
     /tmp/ccyyDEje.s:779    .text.process_get_descriptor:0000000000000000 $t
     /tmp/ccyyDEje.s:785    .text.process_get_descriptor:0000000000000000 process_get_descriptor
     /tmp/ccyyDEje.s:837    .text.process_get_descriptor:0000000000000016 $d
     /tmp/ccyyDEje.s:1164   .text.process_get_descriptor:00000000000000e4 $d
     /tmp/ccyyDEje.s:1172   .text.usbd_int_set:0000000000000000 $t
     /tmp/ccyyDEje.s:1179   .text.usbd_int_set:0000000000000000 usbd_int_set
     /tmp/ccyyDEje.s:1219   .text.usbd_int_set:0000000000000018 $d
     /tmp/ccyyDEje.s:1224   .text.tud_speed_get:0000000000000000 $t
     /tmp/ccyyDEje.s:1231   .text.tud_speed_get:0000000000000000 tud_speed_get
     /tmp/ccyyDEje.s:1246   .text.tud_speed_get:0000000000000008 $d
     /tmp/ccyyDEje.s:1251   .text.tud_connected:0000000000000000 $t
     /tmp/ccyyDEje.s:1258   .text.tud_connected:0000000000000000 tud_connected
     /tmp/ccyyDEje.s:1275   .text.tud_connected:000000000000000c $d
     /tmp/ccyyDEje.s:1280   .text.tud_mounted:0000000000000000 $t
     /tmp/ccyyDEje.s:1287   .text.tud_mounted:0000000000000000 tud_mounted
     /tmp/ccyyDEje.s:1306   .text.tud_mounted:000000000000000c $d
     /tmp/ccyyDEje.s:1311   .text.tud_suspended:0000000000000000 $t
     /tmp/ccyyDEje.s:1318   .text.tud_suspended:0000000000000000 tud_suspended
     /tmp/ccyyDEje.s:1335   .text.tud_suspended:000000000000000c $d
     /tmp/ccyyDEje.s:1340   .text.tud_remote_wakeup:0000000000000000 $t
     /tmp/ccyyDEje.s:1347   .text.tud_remote_wakeup:0000000000000000 tud_remote_wakeup
     /tmp/ccyyDEje.s:1390   .text.tud_remote_wakeup:000000000000002c $d
     /tmp/ccyyDEje.s:1396   .text.tud_disconnect:0000000000000000 $t
     /tmp/ccyyDEje.s:1403   .text.tud_disconnect:0000000000000000 tud_disconnect
     /tmp/ccyyDEje.s:1437   .text.tud_disconnect:0000000000000018 $d
     /tmp/ccyyDEje.s:1443   .text.tud_connect:0000000000000000 $t
     /tmp/ccyyDEje.s:1450   .text.tud_connect:0000000000000000 tud_connect
     /tmp/ccyyDEje.s:1484   .text.tud_connect:0000000000000018 $d
     /tmp/ccyyDEje.s:1490   .text.tud_inited:0000000000000000 $t
     /tmp/ccyyDEje.s:1497   .text.tud_inited:0000000000000000 tud_inited
     /tmp/ccyyDEje.s:1516   .text.tud_inited:000000000000000c $d
     /tmp/ccyyDEje.s:1521   .text.tud_init:0000000000000000 $t
     /tmp/ccyyDEje.s:1528   .text.tud_init:0000000000000000 tud_init
     /tmp/ccyyDEje.s:1728   .text.tud_init:0000000000000090 $d
     /tmp/ccyyDEje.s:1740   .text.tud_task_event_ready:0000000000000000 $t
     /tmp/ccyyDEje.s:1747   .text.tud_task_event_ready:0000000000000000 tud_task_event_ready
     /tmp/ccyyDEje.s:1795   .text.tud_task_event_ready:000000000000001c $d
     /tmp/ccyyDEje.s:1800   .text.dcd_event_handler:0000000000000000 $t
     /tmp/ccyyDEje.s:1807   .text.dcd_event_handler:0000000000000000 dcd_event_handler
     /tmp/ccyyDEje.s:1837   .text.dcd_event_handler:0000000000000016 $d
     /tmp/ccyyDEje.s:1841   .text.dcd_event_handler:000000000000001a $t
     /tmp/ccyyDEje.s:2473   .text.dcd_event_handler:00000000000001d8 $d
     /tmp/ccyyDEje.s:2482   .text.usbd_defer_func:0000000000000000 $t
     /tmp/ccyyDEje.s:2489   .text.usbd_defer_func:0000000000000000 usbd_defer_func
     /tmp/ccyyDEje.s:2537   .text.usbd_edpt_open:0000000000000000 $t
ARM GAS  /tmp/ccyyDEje.s 			page 167


     /tmp/ccyyDEje.s:2544   .text.usbd_edpt_open:0000000000000000 usbd_edpt_open
     /tmp/ccyyDEje.s:2663   .text.usbd_edpt_open:0000000000000050 $d
     /tmp/ccyyDEje.s:2669   .text.usbd_open_edpt_pair:0000000000000000 $t
     /tmp/ccyyDEje.s:2676   .text.usbd_open_edpt_pair:0000000000000000 usbd_open_edpt_pair
     /tmp/ccyyDEje.s:2858   .text.usbd_edpt_claim:0000000000000000 $t
     /tmp/ccyyDEje.s:2865   .text.usbd_edpt_claim:0000000000000000 usbd_edpt_claim
     /tmp/ccyyDEje.s:2926   .text.usbd_edpt_claim:000000000000001c $d
     /tmp/ccyyDEje.s:2931   .text.usbd_edpt_release:0000000000000000 $t
     /tmp/ccyyDEje.s:2938   .text.usbd_edpt_release:0000000000000000 usbd_edpt_release
     /tmp/ccyyDEje.s:2999   .text.usbd_edpt_release:000000000000001c $d
     /tmp/ccyyDEje.s:3004   .text.usbd_edpt_xfer:0000000000000000 $t
     /tmp/ccyyDEje.s:3011   .text.usbd_edpt_xfer:0000000000000000 usbd_edpt_xfer
     /tmp/ccyyDEje.s:3151   .text.usbd_edpt_xfer:0000000000000074 $d
     /tmp/ccyyDEje.s:3157   .text.usbd_edpt_xfer_fifo:0000000000000000 $t
     /tmp/ccyyDEje.s:3164   .text.usbd_edpt_xfer_fifo:0000000000000000 usbd_edpt_xfer_fifo
     /tmp/ccyyDEje.s:3304   .text.usbd_edpt_xfer_fifo:0000000000000074 $d
     /tmp/ccyyDEje.s:3310   .text.usbd_edpt_busy:0000000000000000 $t
     /tmp/ccyyDEje.s:3317   .text.usbd_edpt_busy:0000000000000000 usbd_edpt_busy
     /tmp/ccyyDEje.s:3362   .text.usbd_edpt_busy:0000000000000018 $d
     /tmp/ccyyDEje.s:3367   .text.usbd_edpt_stall:0000000000000000 $t
     /tmp/ccyyDEje.s:3374   .text.usbd_edpt_stall:0000000000000000 usbd_edpt_stall
     /tmp/ccyyDEje.s:3455   .text.usbd_edpt_stall:0000000000000040 $d
     /tmp/ccyyDEje.s:3461   .text.usbd_edpt_clear_stall:0000000000000000 $t
     /tmp/ccyyDEje.s:3468   .text.usbd_edpt_clear_stall:0000000000000000 usbd_edpt_clear_stall
     /tmp/ccyyDEje.s:3549   .text.usbd_edpt_clear_stall:0000000000000040 $d
     /tmp/ccyyDEje.s:3555   .text.usbd_edpt_stalled:0000000000000000 $t
     /tmp/ccyyDEje.s:3562   .text.usbd_edpt_stalled:0000000000000000 usbd_edpt_stalled
     /tmp/ccyyDEje.s:3607   .text.usbd_edpt_stalled:0000000000000018 $d
     /tmp/ccyyDEje.s:3612   .text.process_control_request:0000000000000000 $t
     /tmp/ccyyDEje.s:3618   .text.process_control_request:0000000000000000 process_control_request
     /tmp/ccyyDEje.s:3760   .text.process_control_request:000000000000008c $d
     /tmp/ccyyDEje.s:3770   .text.process_control_request:0000000000000096 $t
     /tmp/ccyyDEje.s:4443   .text.process_control_request:0000000000000308 $d
     /tmp/ccyyDEje.s:4456   .text.process_control_request:0000000000000324 $t
     /tmp/ccyyDEje.s:4660   .text.process_control_request:00000000000003e4 $d
     /tmp/ccyyDEje.s:4666   .text.tud_task_ext:0000000000000000 $t
     /tmp/ccyyDEje.s:4673   .text.tud_task_ext:0000000000000000 tud_task_ext
     /tmp/ccyyDEje.s:4796   .text.tud_task_ext:0000000000000054 $d
     /tmp/ccyyDEje.s:4804   .text.tud_task_ext:0000000000000074 $t
     /tmp/ccyyDEje.s:5119   .text.tud_task_ext:00000000000001c8 $d
     /tmp/ccyyDEje.s:5131   .text.usbd_edpt_close:0000000000000000 $t
     /tmp/ccyyDEje.s:5138   .text.usbd_edpt_close:0000000000000000 usbd_edpt_close
     /tmp/ccyyDEje.s:5243   .text.usbd_edpt_close:0000000000000048 $d
     /tmp/ccyyDEje.s:5250   .text.usbd_sof_enable:0000000000000000 $t
     /tmp/ccyyDEje.s:5257   .text.usbd_sof_enable:0000000000000000 usbd_sof_enable
     /tmp/ccyyDEje.s:5282   .text.usbd_sof_enable:000000000000000c $d
     /tmp/ccyyDEje.s:5287   .text.usbd_edpt_iso_alloc:0000000000000000 $t
     /tmp/ccyyDEje.s:5294   .text.usbd_edpt_iso_alloc:0000000000000000 usbd_edpt_iso_alloc
     /tmp/ccyyDEje.s:5404   .text.usbd_edpt_iso_alloc:0000000000000040 $d
     /tmp/ccyyDEje.s:5410   .text.usbd_edpt_iso_activate:0000000000000000 $t
     /tmp/ccyyDEje.s:5417   .text.usbd_edpt_iso_activate:0000000000000000 usbd_edpt_iso_activate
     /tmp/ccyyDEje.s:5600   .text.usbd_edpt_iso_activate:0000000000000088 $d
     /tmp/ccyyDEje.s:5646   .data._usbd_qdef:0000000000000000 _usbd_qdef
     /tmp/ccyyDEje.s:5639   .bss._usbd_qdef_buf:0000000000000000 _usbd_qdef_buf
     /tmp/ccyyDEje.s:5609   .bss._app_driver:0000000000000000 $d
     /tmp/ccyyDEje.s:5613   .bss._app_driver:0000000000000000 _app_driver
     /tmp/ccyyDEje.s:5619   .bss._app_driver_count:0000000000000000 _app_driver_count
ARM GAS  /tmp/ccyyDEje.s 			page 168


     /tmp/ccyyDEje.s:5620   .bss._app_driver_count:0000000000000000 $d
     /tmp/ccyyDEje.s:5622   .bss._usbd_dev:0000000000000000 $d
     /tmp/ccyyDEje.s:5626   .bss._usbd_dev:0000000000000000 _usbd_dev
     /tmp/ccyyDEje.s:5629   .bss._usbd_q:0000000000000000 $d
     /tmp/ccyyDEje.s:5633   .bss._usbd_q:0000000000000000 _usbd_q
     /tmp/ccyyDEje.s:5636   .bss._usbd_qdef_buf:0000000000000000 $d
     /tmp/ccyyDEje.s:5642   .data._usbd_qdef:0000000000000000 $d
     /tmp/ccyyDEje.s:5657   .data._usbd_rhport:0000000000000000 _usbd_rhport
     /tmp/ccyyDEje.s:5660   .rodata._usbd_driver:0000000000000000 $d
     /tmp/ccyyDEje.s:5664   .rodata._usbd_driver:0000000000000000 _usbd_driver
     /tmp/ccyyDEje.s:852    .text.process_get_descriptor:0000000000000025 $d
     /tmp/ccyyDEje.s:852    .text.process_get_descriptor:0000000000000026 $t

UNDEFINED SYMBOLS
memset
usbd_control_reset
usbd_control_set_complete_callback
tud_descriptor_configuration_cb
tu_edpt_bind_driver
midid_open
tud_descriptor_device_cb
tud_control_xfer
tud_descriptor_bos_cb
tud_descriptor_other_speed_configuration_cb
tud_descriptor_string_cb
tud_descriptor_device_qualifier_cb
dcd_int_enable
dcd_int_disable
dcd_remote_wakeup
dcd_disconnect
dcd_connect
tu_fifo_clear
usbd_app_driver_get_cb
dcd_init
tu_fifo_empty
tu_fifo_write
tu_edpt_validate
dcd_edpt_open
tu_edpt_claim
tu_edpt_release
dcd_edpt_xfer
dcd_edpt_xfer_fifo
dcd_edpt_stall
dcd_edpt_clear_stall
tud_vendor_control_xfer_cb
usbd_control_set_request
dcd_set_address
tud_umount_cb
tud_control_status
dcd_edpt_close_all
tud_mount_cb
tu_fifo_read
usbd_control_xfer_cb
tud_suspend_cb
tud_resume_cb
dcd_edpt_close
dcd_sof_enable
ARM GAS  /tmp/ccyyDEje.s 			page 169


dcd_edpt_iso_alloc
dcd_edpt_iso_activate
midid_init
midid_reset
midid_control_xfer_cb
midid_xfer_cb
