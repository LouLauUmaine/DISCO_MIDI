ARM GAS  /tmp/ccqStGVa.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"midi_device.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._prep_out_transaction,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	_prep_out_transaction:
  26              	.LVL0:
  27              	.LFB72:
  28              		.file 1 "tinyusb/src/class/midi/midi_device.c"
   1:tinyusb/src/class/midi/midi_device.c **** /*
   2:tinyusb/src/class/midi/midi_device.c ****  * The MIT License (MIT)
   3:tinyusb/src/class/midi/midi_device.c ****  *
   4:tinyusb/src/class/midi/midi_device.c ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/class/midi/midi_device.c ****  *
   6:tinyusb/src/class/midi/midi_device.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/class/midi/midi_device.c ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/class/midi/midi_device.c ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/class/midi/midi_device.c ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  10:tinyusb/src/class/midi/midi_device.c ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/class/midi/midi_device.c ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/class/midi/midi_device.c ****  *
  13:tinyusb/src/class/midi/midi_device.c ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/class/midi/midi_device.c ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/class/midi/midi_device.c ****  *
  16:tinyusb/src/class/midi/midi_device.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  17:tinyusb/src/class/midi/midi_device.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/class/midi/midi_device.c ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/class/midi/midi_device.c ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/class/midi/midi_device.c ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/class/midi/midi_device.c ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/class/midi/midi_device.c ****  * THE SOFTWARE.
  23:tinyusb/src/class/midi/midi_device.c ****  *
  24:tinyusb/src/class/midi/midi_device.c ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/class/midi/midi_device.c ****  */
  26:tinyusb/src/class/midi/midi_device.c **** 
  27:tinyusb/src/class/midi/midi_device.c **** #include "tusb_option.h"
  28:tinyusb/src/class/midi/midi_device.c **** 
  29:tinyusb/src/class/midi/midi_device.c **** #if (CFG_TUD_ENABLED && CFG_TUD_MIDI)
  30:tinyusb/src/class/midi/midi_device.c **** 
ARM GAS  /tmp/ccqStGVa.s 			page 2


  31:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
  32:tinyusb/src/class/midi/midi_device.c **** // INCLUDE
  33:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
  34:tinyusb/src/class/midi/midi_device.c **** #include "device/usbd.h"
  35:tinyusb/src/class/midi/midi_device.c **** #include "device/usbd_pvt.h"
  36:tinyusb/src/class/midi/midi_device.c **** 
  37:tinyusb/src/class/midi/midi_device.c **** #include "midi_device.h"
  38:tinyusb/src/class/midi/midi_device.c **** 
  39:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
  40:tinyusb/src/class/midi/midi_device.c **** // MACRO CONSTANT TYPEDEF
  41:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
  42:tinyusb/src/class/midi/midi_device.c **** 
  43:tinyusb/src/class/midi/midi_device.c **** typedef struct
  44:tinyusb/src/class/midi/midi_device.c **** {
  45:tinyusb/src/class/midi/midi_device.c ****   uint8_t buffer[4];
  46:tinyusb/src/class/midi/midi_device.c ****   uint8_t index;
  47:tinyusb/src/class/midi/midi_device.c ****   uint8_t total;
  48:tinyusb/src/class/midi/midi_device.c **** }midid_stream_t;
  49:tinyusb/src/class/midi/midi_device.c **** 
  50:tinyusb/src/class/midi/midi_device.c **** typedef struct
  51:tinyusb/src/class/midi/midi_device.c **** {
  52:tinyusb/src/class/midi/midi_device.c ****   uint8_t itf_num;
  53:tinyusb/src/class/midi/midi_device.c ****   uint8_t ep_in;
  54:tinyusb/src/class/midi/midi_device.c ****   uint8_t ep_out;
  55:tinyusb/src/class/midi/midi_device.c **** 
  56:tinyusb/src/class/midi/midi_device.c ****   // For Stream read()/write() API
  57:tinyusb/src/class/midi/midi_device.c ****   // Messages are always 4 bytes long, queue them for reading and writing so the
  58:tinyusb/src/class/midi/midi_device.c ****   // callers can use the Stream interface with single-byte read/write calls.
  59:tinyusb/src/class/midi/midi_device.c ****   midid_stream_t stream_write;
  60:tinyusb/src/class/midi/midi_device.c ****   midid_stream_t stream_read;
  61:tinyusb/src/class/midi/midi_device.c **** 
  62:tinyusb/src/class/midi/midi_device.c ****   /*------------- From this point, data is not cleared by bus reset -------------*/
  63:tinyusb/src/class/midi/midi_device.c ****   // FIFO
  64:tinyusb/src/class/midi/midi_device.c ****   tu_fifo_t rx_ff;
  65:tinyusb/src/class/midi/midi_device.c ****   tu_fifo_t tx_ff;
  66:tinyusb/src/class/midi/midi_device.c ****   uint8_t rx_ff_buf[CFG_TUD_MIDI_RX_BUFSIZE];
  67:tinyusb/src/class/midi/midi_device.c ****   uint8_t tx_ff_buf[CFG_TUD_MIDI_TX_BUFSIZE];
  68:tinyusb/src/class/midi/midi_device.c **** 
  69:tinyusb/src/class/midi/midi_device.c ****   #if CFG_FIFO_MUTEX
  70:tinyusb/src/class/midi/midi_device.c ****   osal_mutex_def_t rx_ff_mutex;
  71:tinyusb/src/class/midi/midi_device.c ****   osal_mutex_def_t tx_ff_mutex;
  72:tinyusb/src/class/midi/midi_device.c ****   #endif
  73:tinyusb/src/class/midi/midi_device.c **** 
  74:tinyusb/src/class/midi/midi_device.c ****   // Endpoint Transfer buffer
  75:tinyusb/src/class/midi/midi_device.c ****   CFG_TUSB_MEM_ALIGN uint8_t epout_buf[CFG_TUD_MIDI_EP_BUFSIZE];
  76:tinyusb/src/class/midi/midi_device.c ****   CFG_TUSB_MEM_ALIGN uint8_t epin_buf[CFG_TUD_MIDI_EP_BUFSIZE];
  77:tinyusb/src/class/midi/midi_device.c **** 
  78:tinyusb/src/class/midi/midi_device.c **** } midid_interface_t;
  79:tinyusb/src/class/midi/midi_device.c **** 
  80:tinyusb/src/class/midi/midi_device.c **** #define ITF_MEM_RESET_SIZE   offsetof(midid_interface_t, rx_ff)
  81:tinyusb/src/class/midi/midi_device.c **** 
  82:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
  83:tinyusb/src/class/midi/midi_device.c **** // INTERNAL OBJECT & FUNCTION DECLARATION
  84:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
  85:tinyusb/src/class/midi/midi_device.c **** CFG_TUD_MEM_SECTION midid_interface_t _midid_itf[CFG_TUD_MIDI];
  86:tinyusb/src/class/midi/midi_device.c **** 
  87:tinyusb/src/class/midi/midi_device.c **** bool tud_midi_n_mounted (uint8_t itf)
ARM GAS  /tmp/ccqStGVa.s 			page 3


  88:tinyusb/src/class/midi/midi_device.c **** {
  89:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* midi = &_midid_itf[itf];
  90:tinyusb/src/class/midi/midi_device.c ****   return midi->ep_in && midi->ep_out;
  91:tinyusb/src/class/midi/midi_device.c **** }
  92:tinyusb/src/class/midi/midi_device.c **** 
  93:tinyusb/src/class/midi/midi_device.c **** static void _prep_out_transaction (midid_interface_t* p_midi)
  94:tinyusb/src/class/midi/midi_device.c **** {
  29              		.loc 1 94 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 94 1 is_stmt 0 view .LVU1
  34 0000 38B5     		push	{r3, r4, r5, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 3, -16
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 0446     		mov	r4, r0
  95:tinyusb/src/class/midi/midi_device.c ****   uint8_t const rhport = 0;
  42              		.loc 1 95 3 is_stmt 1 view .LVU2
  43              	.LVL1:
  96:tinyusb/src/class/midi/midi_device.c ****   uint16_t available = tu_fifo_remaining(&p_midi->rx_ff);
  44              		.loc 1 96 3 view .LVU3
  45              		.loc 1 96 24 is_stmt 0 view .LVU4
  46 0004 00F11005 		add	r5, r0, #16
  47 0008 2846     		mov	r0, r5
  48              	.LVL2:
  49              		.loc 1 96 24 view .LVU5
  50 000a FFF7FEFF 		bl	tu_fifo_remaining
  51              	.LVL3:
  97:tinyusb/src/class/midi/midi_device.c **** 
  98:tinyusb/src/class/midi/midi_device.c ****   // Prepare for incoming data but only allow what we can store in the ring buffer.
  99:tinyusb/src/class/midi/midi_device.c ****   // TODO Actually we can still carry out the transfer, keeping count of received bytes
 100:tinyusb/src/class/midi/midi_device.c ****   // and slowly move it to the FIFO when read().
 101:tinyusb/src/class/midi/midi_device.c ****   // This pre-check reduces endpoint claiming
 102:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(available >= sizeof(p_midi->epout_buf), );
  52              		.loc 1 102 3 is_stmt 1 view .LVU6
  53              		.loc 1 102 3 view .LVU7
  54 000e 3F28     		cmp	r0, #63
  55 0010 00D8     		bhi	.L5
  56              	.LVL4:
  57              	.L1:
 103:tinyusb/src/class/midi/midi_device.c **** 
 104:tinyusb/src/class/midi/midi_device.c ****   // claim endpoint
 105:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(usbd_edpt_claim(rhport, p_midi->ep_out), );
 106:tinyusb/src/class/midi/midi_device.c **** 
 107:tinyusb/src/class/midi/midi_device.c ****   // fifo can be changed before endpoint is claimed
 108:tinyusb/src/class/midi/midi_device.c ****   available = tu_fifo_remaining(&p_midi->rx_ff);
 109:tinyusb/src/class/midi/midi_device.c **** 
 110:tinyusb/src/class/midi/midi_device.c ****   if ( available >= sizeof(p_midi->epout_buf) )  {
 111:tinyusb/src/class/midi/midi_device.c ****     usbd_edpt_xfer(rhport, p_midi->ep_out, p_midi->epout_buf, sizeof(p_midi->epout_buf));
 112:tinyusb/src/class/midi/midi_device.c ****   }else
 113:tinyusb/src/class/midi/midi_device.c ****   {
 114:tinyusb/src/class/midi/midi_device.c ****     // Release endpoint since we don't make any transfer
 115:tinyusb/src/class/midi/midi_device.c ****     usbd_edpt_release(rhport, p_midi->ep_out);
ARM GAS  /tmp/ccqStGVa.s 			page 4


 116:tinyusb/src/class/midi/midi_device.c ****   }
 117:tinyusb/src/class/midi/midi_device.c **** }
  58              		.loc 1 117 1 is_stmt 0 view .LVU8
  59 0012 38BD     		pop	{r3, r4, r5, pc}
  60              	.LVL5:
  61              	.L5:
 102:tinyusb/src/class/midi/midi_device.c **** 
  62              		.loc 1 102 3 is_stmt 1 discriminator 2 view .LVU9
 105:tinyusb/src/class/midi/midi_device.c **** 
  63              		.loc 1 105 3 discriminator 2 view .LVU10
 105:tinyusb/src/class/midi/midi_device.c **** 
  64              		.loc 1 105 3 discriminator 2 view .LVU11
  65 0014 A178     		ldrb	r1, [r4, #2]	@ zero_extendqisi2
  66 0016 0020     		movs	r0, #0
  67              	.LVL6:
 105:tinyusb/src/class/midi/midi_device.c **** 
  68              		.loc 1 105 3 is_stmt 0 discriminator 2 view .LVU12
  69 0018 FFF7FEFF 		bl	usbd_edpt_claim
  70              	.LVL7:
  71 001c 0028     		cmp	r0, #0
  72 001e F8D0     		beq	.L1
 105:tinyusb/src/class/midi/midi_device.c **** 
  73              		.loc 1 105 3 is_stmt 1 discriminator 2 view .LVU13
 108:tinyusb/src/class/midi/midi_device.c **** 
  74              		.loc 1 108 3 discriminator 2 view .LVU14
 108:tinyusb/src/class/midi/midi_device.c **** 
  75              		.loc 1 108 15 is_stmt 0 discriminator 2 view .LVU15
  76 0020 2846     		mov	r0, r5
  77 0022 FFF7FEFF 		bl	tu_fifo_remaining
  78              	.LVL8:
 110:tinyusb/src/class/midi/midi_device.c ****     usbd_edpt_xfer(rhport, p_midi->ep_out, p_midi->epout_buf, sizeof(p_midi->epout_buf));
  79              		.loc 1 110 3 is_stmt 1 discriminator 2 view .LVU16
 110:tinyusb/src/class/midi/midi_device.c ****     usbd_edpt_xfer(rhport, p_midi->ep_out, p_midi->epout_buf, sizeof(p_midi->epout_buf));
  80              		.loc 1 110 6 is_stmt 0 discriminator 2 view .LVU17
  81 0026 3F28     		cmp	r0, #63
  82 0028 07D9     		bls	.L3
 111:tinyusb/src/class/midi/midi_device.c ****   }else
  83              		.loc 1 111 5 is_stmt 1 view .LVU18
  84 002a 4023     		movs	r3, #64
  85 002c 04F1A802 		add	r2, r4, #168
  86 0030 A178     		ldrb	r1, [r4, #2]	@ zero_extendqisi2
  87 0032 0020     		movs	r0, #0
  88              	.LVL9:
 111:tinyusb/src/class/midi/midi_device.c ****   }else
  89              		.loc 1 111 5 is_stmt 0 view .LVU19
  90 0034 FFF7FEFF 		bl	usbd_edpt_xfer
  91              	.LVL10:
  92 0038 EBE7     		b	.L1
  93              	.LVL11:
  94              	.L3:
 115:tinyusb/src/class/midi/midi_device.c ****   }
  95              		.loc 1 115 5 is_stmt 1 view .LVU20
  96 003a A178     		ldrb	r1, [r4, #2]	@ zero_extendqisi2
  97 003c 0020     		movs	r0, #0
  98              	.LVL12:
 115:tinyusb/src/class/midi/midi_device.c ****   }
  99              		.loc 1 115 5 is_stmt 0 view .LVU21
ARM GAS  /tmp/ccqStGVa.s 			page 5


 100 003e FFF7FEFF 		bl	usbd_edpt_release
 101              	.LVL13:
 102 0042 E6E7     		b	.L1
 103              		.cfi_endproc
 104              	.LFE72:
 106              		.section	.text.write_flush,"ax",%progbits
 107              		.align	1
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 111              		.fpu fpv4-sp-d16
 113              	write_flush:
 114              	.LVL14:
 115              	.LFB76:
 118:tinyusb/src/class/midi/midi_device.c **** 
 119:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
 120:tinyusb/src/class/midi/midi_device.c **** // READ API
 121:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
 122:tinyusb/src/class/midi/midi_device.c **** uint32_t tud_midi_n_available(uint8_t itf, uint8_t cable_num)
 123:tinyusb/src/class/midi/midi_device.c **** {
 124:tinyusb/src/class/midi/midi_device.c ****   (void) cable_num;
 125:tinyusb/src/class/midi/midi_device.c **** 
 126:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* midi = &_midid_itf[itf];
 127:tinyusb/src/class/midi/midi_device.c ****   midid_stream_t const* stream = &midi->stream_read;
 128:tinyusb/src/class/midi/midi_device.c **** 
 129:tinyusb/src/class/midi/midi_device.c ****   // when using with packet API stream total & index are both zero
 130:tinyusb/src/class/midi/midi_device.c ****   return tu_fifo_count(&midi->rx_ff) + (uint8_t) (stream->total - stream->index);
 131:tinyusb/src/class/midi/midi_device.c **** }
 132:tinyusb/src/class/midi/midi_device.c **** 
 133:tinyusb/src/class/midi/midi_device.c **** uint32_t tud_midi_n_stream_read(uint8_t itf, uint8_t cable_num, void* buffer, uint32_t bufsize)
 134:tinyusb/src/class/midi/midi_device.c **** {
 135:tinyusb/src/class/midi/midi_device.c ****   (void) cable_num;
 136:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(bufsize, 0);
 137:tinyusb/src/class/midi/midi_device.c **** 
 138:tinyusb/src/class/midi/midi_device.c ****   uint8_t* buf8 = (uint8_t*) buffer;
 139:tinyusb/src/class/midi/midi_device.c **** 
 140:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* midi = &_midid_itf[itf];
 141:tinyusb/src/class/midi/midi_device.c ****   midid_stream_t* stream = &midi->stream_read;
 142:tinyusb/src/class/midi/midi_device.c **** 
 143:tinyusb/src/class/midi/midi_device.c ****   uint32_t total_read = 0;
 144:tinyusb/src/class/midi/midi_device.c ****   while( bufsize )
 145:tinyusb/src/class/midi/midi_device.c ****   {
 146:tinyusb/src/class/midi/midi_device.c ****     // Get new packet from fifo, then set packet expected bytes
 147:tinyusb/src/class/midi/midi_device.c ****     if ( stream->total == 0 )
 148:tinyusb/src/class/midi/midi_device.c ****     {
 149:tinyusb/src/class/midi/midi_device.c ****       // return if there is no more data from fifo
 150:tinyusb/src/class/midi/midi_device.c ****       if ( !tud_midi_n_packet_read(itf, stream->buffer) ) return total_read;
 151:tinyusb/src/class/midi/midi_device.c **** 
 152:tinyusb/src/class/midi/midi_device.c ****       uint8_t const code_index = stream->buffer[0] & 0x0f;
 153:tinyusb/src/class/midi/midi_device.c **** 
 154:tinyusb/src/class/midi/midi_device.c ****       // MIDI 1.0 Table 4-1: Code Index Number Classifications
 155:tinyusb/src/class/midi/midi_device.c ****       switch(code_index)
 156:tinyusb/src/class/midi/midi_device.c ****       {
 157:tinyusb/src/class/midi/midi_device.c ****         case MIDI_CIN_MISC:
 158:tinyusb/src/class/midi/midi_device.c ****         case MIDI_CIN_CABLE_EVENT:
 159:tinyusb/src/class/midi/midi_device.c ****           // These are reserved and unused, possibly issue somewhere, skip this packet
 160:tinyusb/src/class/midi/midi_device.c ****           return 0;
ARM GAS  /tmp/ccqStGVa.s 			page 6


 161:tinyusb/src/class/midi/midi_device.c ****         break;
 162:tinyusb/src/class/midi/midi_device.c **** 
 163:tinyusb/src/class/midi/midi_device.c ****         case MIDI_CIN_SYSEX_END_1BYTE:
 164:tinyusb/src/class/midi/midi_device.c ****         case MIDI_CIN_1BYTE_DATA:
 165:tinyusb/src/class/midi/midi_device.c ****           stream->total = 1;
 166:tinyusb/src/class/midi/midi_device.c ****         break;
 167:tinyusb/src/class/midi/midi_device.c **** 
 168:tinyusb/src/class/midi/midi_device.c ****         case MIDI_CIN_SYSCOM_2BYTE     :
 169:tinyusb/src/class/midi/midi_device.c ****         case MIDI_CIN_SYSEX_END_2BYTE  :
 170:tinyusb/src/class/midi/midi_device.c ****         case MIDI_CIN_PROGRAM_CHANGE   :
 171:tinyusb/src/class/midi/midi_device.c ****         case MIDI_CIN_CHANNEL_PRESSURE :
 172:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 173:tinyusb/src/class/midi/midi_device.c ****         break;
 174:tinyusb/src/class/midi/midi_device.c **** 
 175:tinyusb/src/class/midi/midi_device.c ****         default:
 176:tinyusb/src/class/midi/midi_device.c ****           stream->total = 3;
 177:tinyusb/src/class/midi/midi_device.c ****         break;
 178:tinyusb/src/class/midi/midi_device.c ****       }
 179:tinyusb/src/class/midi/midi_device.c ****     }
 180:tinyusb/src/class/midi/midi_device.c **** 
 181:tinyusb/src/class/midi/midi_device.c ****     // Copy data up to bufsize
 182:tinyusb/src/class/midi/midi_device.c ****     uint8_t const count = (uint8_t) tu_min32(stream->total - stream->index, bufsize);
 183:tinyusb/src/class/midi/midi_device.c **** 
 184:tinyusb/src/class/midi/midi_device.c ****     // Skip the header (1st byte) in the buffer
 185:tinyusb/src/class/midi/midi_device.c ****     TU_VERIFY(0 == tu_memcpy_s(buf8, bufsize, stream->buffer + 1 + stream->index, count));
 186:tinyusb/src/class/midi/midi_device.c **** 
 187:tinyusb/src/class/midi/midi_device.c ****     total_read += count;
 188:tinyusb/src/class/midi/midi_device.c ****     stream->index += count;
 189:tinyusb/src/class/midi/midi_device.c ****     buf8 += count;
 190:tinyusb/src/class/midi/midi_device.c ****     bufsize -= count;
 191:tinyusb/src/class/midi/midi_device.c **** 
 192:tinyusb/src/class/midi/midi_device.c ****     // complete current event packet, reset stream
 193:tinyusb/src/class/midi/midi_device.c ****     if ( stream->total == stream->index )
 194:tinyusb/src/class/midi/midi_device.c ****     {
 195:tinyusb/src/class/midi/midi_device.c ****       stream->index = 0;
 196:tinyusb/src/class/midi/midi_device.c ****       stream->total = 0;
 197:tinyusb/src/class/midi/midi_device.c ****     }
 198:tinyusb/src/class/midi/midi_device.c ****   }
 199:tinyusb/src/class/midi/midi_device.c **** 
 200:tinyusb/src/class/midi/midi_device.c ****   return total_read;
 201:tinyusb/src/class/midi/midi_device.c **** }
 202:tinyusb/src/class/midi/midi_device.c **** 
 203:tinyusb/src/class/midi/midi_device.c **** bool tud_midi_n_packet_read (uint8_t itf, uint8_t packet[4])
 204:tinyusb/src/class/midi/midi_device.c **** {
 205:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* midi = &_midid_itf[itf];
 206:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(midi->ep_out);
 207:tinyusb/src/class/midi/midi_device.c **** 
 208:tinyusb/src/class/midi/midi_device.c ****   uint32_t const num_read = tu_fifo_read_n(&midi->rx_ff, packet, 4);
 209:tinyusb/src/class/midi/midi_device.c ****   _prep_out_transaction(midi);
 210:tinyusb/src/class/midi/midi_device.c ****   return (num_read == 4);
 211:tinyusb/src/class/midi/midi_device.c **** }
 212:tinyusb/src/class/midi/midi_device.c **** 
 213:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
 214:tinyusb/src/class/midi/midi_device.c **** // WRITE API
 215:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
 216:tinyusb/src/class/midi/midi_device.c **** 
 217:tinyusb/src/class/midi/midi_device.c **** static uint32_t write_flush(midid_interface_t* midi)
ARM GAS  /tmp/ccqStGVa.s 			page 7


 218:tinyusb/src/class/midi/midi_device.c **** {
 116              		.loc 1 218 1 is_stmt 1 view -0
 117              		.cfi_startproc
 118              		@ args = 0, pretend = 0, frame = 0
 119              		@ frame_needed = 0, uses_anonymous_args = 0
 120              		.loc 1 218 1 is_stmt 0 view .LVU23
 121 0000 70B5     		push	{r4, r5, r6, lr}
 122              	.LCFI1:
 123              		.cfi_def_cfa_offset 16
 124              		.cfi_offset 4, -16
 125              		.cfi_offset 5, -12
 126              		.cfi_offset 6, -8
 127              		.cfi_offset 14, -4
 128 0002 0446     		mov	r4, r0
 219:tinyusb/src/class/midi/midi_device.c ****   // No data to send
 220:tinyusb/src/class/midi/midi_device.c ****   if ( !tu_fifo_count(&midi->tx_ff) ) return 0;
 129              		.loc 1 220 3 is_stmt 1 view .LVU24
 130              		.loc 1 220 9 is_stmt 0 view .LVU25
 131 0004 00F11C05 		add	r5, r0, #28
 132 0008 2846     		mov	r0, r5
 133              	.LVL15:
 134              		.loc 1 220 9 view .LVU26
 135 000a FFF7FEFF 		bl	tu_fifo_count
 136              	.LVL16:
 137              		.loc 1 220 6 view .LVU27
 138 000e 08B9     		cbnz	r0, .L14
 139              		.loc 1 220 46 view .LVU28
 140 0010 0020     		movs	r0, #0
 141              	.L6:
 221:tinyusb/src/class/midi/midi_device.c **** 
 222:tinyusb/src/class/midi/midi_device.c ****   uint8_t const rhport = 0;
 223:tinyusb/src/class/midi/midi_device.c **** 
 224:tinyusb/src/class/midi/midi_device.c ****   // skip if previous transfer not complete
 225:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY( usbd_edpt_claim(rhport, midi->ep_in), 0 );
 226:tinyusb/src/class/midi/midi_device.c **** 
 227:tinyusb/src/class/midi/midi_device.c ****   uint16_t count = tu_fifo_read_n(&midi->tx_ff, midi->epin_buf, CFG_TUD_MIDI_EP_BUFSIZE);
 228:tinyusb/src/class/midi/midi_device.c **** 
 229:tinyusb/src/class/midi/midi_device.c ****   if (count)
 230:tinyusb/src/class/midi/midi_device.c ****   {
 231:tinyusb/src/class/midi/midi_device.c ****     TU_ASSERT( usbd_edpt_xfer(rhport, midi->ep_in, midi->epin_buf, count), 0 );
 232:tinyusb/src/class/midi/midi_device.c ****     return count;
 233:tinyusb/src/class/midi/midi_device.c ****   }else
 234:tinyusb/src/class/midi/midi_device.c ****   {
 235:tinyusb/src/class/midi/midi_device.c ****     // Release endpoint since we don't make any transfer
 236:tinyusb/src/class/midi/midi_device.c ****     usbd_edpt_release(rhport, midi->ep_in);
 237:tinyusb/src/class/midi/midi_device.c ****     return 0;
 238:tinyusb/src/class/midi/midi_device.c ****   }
 239:tinyusb/src/class/midi/midi_device.c **** }
 142              		.loc 1 239 1 view .LVU29
 143 0012 70BD     		pop	{r4, r5, r6, pc}
 144              	.LVL17:
 145              	.L14:
 222:tinyusb/src/class/midi/midi_device.c **** 
 146              		.loc 1 222 3 is_stmt 1 view .LVU30
 225:tinyusb/src/class/midi/midi_device.c **** 
 147              		.loc 1 225 3 view .LVU31
 225:tinyusb/src/class/midi/midi_device.c **** 
ARM GAS  /tmp/ccqStGVa.s 			page 8


 148              		.loc 1 225 3 view .LVU32
 149 0014 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 150 0016 0020     		movs	r0, #0
 151 0018 FFF7FEFF 		bl	usbd_edpt_claim
 152              	.LVL18:
 153 001c 08B9     		cbnz	r0, .L15
 154 001e 0020     		movs	r0, #0
 155 0020 F7E7     		b	.L6
 156              	.L15:
 225:tinyusb/src/class/midi/midi_device.c **** 
 157              		.loc 1 225 3 discriminator 2 view .LVU33
 227:tinyusb/src/class/midi/midi_device.c **** 
 158              		.loc 1 227 3 discriminator 2 view .LVU34
 227:tinyusb/src/class/midi/midi_device.c **** 
 159              		.loc 1 227 53 is_stmt 0 discriminator 2 view .LVU35
 160 0022 04F1E806 		add	r6, r4, #232
 227:tinyusb/src/class/midi/midi_device.c **** 
 161              		.loc 1 227 20 discriminator 2 view .LVU36
 162 0026 4022     		movs	r2, #64
 163 0028 3146     		mov	r1, r6
 164 002a 2846     		mov	r0, r5
 165 002c FFF7FEFF 		bl	tu_fifo_read_n
 166              	.LVL19:
 229:tinyusb/src/class/midi/midi_device.c ****   {
 167              		.loc 1 229 3 is_stmt 1 discriminator 2 view .LVU37
 229:tinyusb/src/class/midi/midi_device.c ****   {
 168              		.loc 1 229 6 is_stmt 0 discriminator 2 view .LVU38
 169 0030 0546     		mov	r5, r0
 170 0032 90B1     		cbz	r0, .L8
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 171              		.loc 1 231 5 is_stmt 1 view .LVU39
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 172              		.loc 1 231 5 view .LVU40
 173 0034 0346     		mov	r3, r0
 174 0036 3246     		mov	r2, r6
 175 0038 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 176 003a 0020     		movs	r0, #0
 177              	.LVL20:
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 178              		.loc 1 231 5 is_stmt 0 view .LVU41
 179 003c FFF7FEFF 		bl	usbd_edpt_xfer
 180              	.LVL21:
 181 0040 48B9     		cbnz	r0, .L9
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 182              		.loc 1 231 5 is_stmt 1 discriminator 1 view .LVU42
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 183              		.loc 1 231 5 discriminator 1 view .LVU43
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 184              		.loc 1 231 5 discriminator 1 view .LVU44
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 185              		.loc 1 231 5 discriminator 1 view .LVU45
 186              	.LBB40:
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 187              		.loc 1 231 5 discriminator 1 view .LVU46
 188              	.LVL22:
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 189              		.loc 1 231 5 discriminator 1 view .LVU47
ARM GAS  /tmp/ccqStGVa.s 			page 9


 190 0042 4FF0E023 		mov	r3, #-536813568
 191 0046 D3F8F03D 		ldr	r3, [r3, #3568]
 192 004a 13F0010F 		tst	r3, #1
 193 004e 00D0     		beq	.L10
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 194              		.loc 1 231 5 discriminator 3 view .LVU48
 195              		.syntax unified
 196              	@ 231 "tinyusb/src/class/midi/midi_device.c" 1
 197 0050 00BE     		BKPT #0
 198              	
 199              	@ 0 "" 2
 200              		.thumb
 201              		.syntax unified
 202              	.L10:
 203              	.LBE40:
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 204              		.loc 1 231 5 discriminator 5 view .LVU49
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 205              		.loc 1 231 5 discriminator 5 view .LVU50
 206 0052 0020     		movs	r0, #0
 207 0054 DDE7     		b	.L6
 208              	.LVL23:
 209              	.L9:
 231:tinyusb/src/class/midi/midi_device.c ****     return count;
 210              		.loc 1 231 5 discriminator 2 view .LVU51
 232:tinyusb/src/class/midi/midi_device.c ****   }else
 211              		.loc 1 232 5 discriminator 2 view .LVU52
 232:tinyusb/src/class/midi/midi_device.c ****   }else
 212              		.loc 1 232 12 is_stmt 0 discriminator 2 view .LVU53
 213 0056 2846     		mov	r0, r5
 214 0058 DBE7     		b	.L6
 215              	.LVL24:
 216              	.L8:
 236:tinyusb/src/class/midi/midi_device.c ****     return 0;
 217              		.loc 1 236 5 is_stmt 1 view .LVU54
 218 005a 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 219 005c 0020     		movs	r0, #0
 220              	.LVL25:
 236:tinyusb/src/class/midi/midi_device.c ****     return 0;
 221              		.loc 1 236 5 is_stmt 0 view .LVU55
 222 005e FFF7FEFF 		bl	usbd_edpt_release
 223              	.LVL26:
 237:tinyusb/src/class/midi/midi_device.c ****   }
 224              		.loc 1 237 5 is_stmt 1 view .LVU56
 237:tinyusb/src/class/midi/midi_device.c ****   }
 225              		.loc 1 237 12 is_stmt 0 view .LVU57
 226 0062 0020     		movs	r0, #0
 227 0064 D5E7     		b	.L6
 228              		.cfi_endproc
 229              	.LFE76:
 231              		.section	.text.tud_midi_n_mounted,"ax",%progbits
 232              		.align	1
 233              		.global	tud_midi_n_mounted
 234              		.syntax unified
 235              		.thumb
 236              		.thumb_func
 237              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccqStGVa.s 			page 10


 239              	tud_midi_n_mounted:
 240              	.LVL27:
 241              	.LFB71:
  88:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* midi = &_midid_itf[itf];
 242              		.loc 1 88 1 is_stmt 1 view -0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 0
 245              		@ frame_needed = 0, uses_anonymous_args = 0
 246              		@ link register save eliminated.
  89:tinyusb/src/class/midi/midi_device.c ****   return midi->ep_in && midi->ep_out;
 247              		.loc 1 89 3 view .LVU59
  90:tinyusb/src/class/midi/midi_device.c **** }
 248              		.loc 1 90 3 view .LVU60
  90:tinyusb/src/class/midi/midi_device.c **** }
 249              		.loc 1 90 14 is_stmt 0 view .LVU61
 250 0000 084B     		ldr	r3, .L20
 251 0002 4FF49472 		mov	r2, #296
 252 0006 02FB0033 		mla	r3, r2, r0, r3
 253 000a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
  90:tinyusb/src/class/midi/midi_device.c **** }
 254              		.loc 1 90 22 view .LVU62
 255 000c 33B1     		cbz	r3, .L18
  90:tinyusb/src/class/midi/midi_device.c **** }
 256              		.loc 1 90 29 discriminator 1 view .LVU63
 257 000e 054B     		ldr	r3, .L20
 258 0010 02FB0030 		mla	r0, r2, r0, r3
 259              	.LVL28:
  90:tinyusb/src/class/midi/midi_device.c **** }
 260              		.loc 1 90 29 discriminator 1 view .LVU64
 261 0014 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  90:tinyusb/src/class/midi/midi_device.c **** }
 262              		.loc 1 90 22 discriminator 1 view .LVU65
 263 0016 1BB9     		cbnz	r3, .L19
  90:tinyusb/src/class/midi/midi_device.c **** }
 264              		.loc 1 90 22 view .LVU66
 265 0018 0020     		movs	r0, #0
 266 001a 7047     		bx	lr
 267              	.LVL29:
 268              	.L18:
  90:tinyusb/src/class/midi/midi_device.c **** }
 269              		.loc 1 90 22 view .LVU67
 270 001c 0020     		movs	r0, #0
 271              	.LVL30:
  90:tinyusb/src/class/midi/midi_device.c **** }
 272              		.loc 1 90 22 view .LVU68
 273 001e 7047     		bx	lr
 274              	.L19:
 275 0020 0120     		movs	r0, #1
  91:tinyusb/src/class/midi/midi_device.c **** 
 276              		.loc 1 91 1 view .LVU69
 277 0022 7047     		bx	lr
 278              	.L21:
 279              		.align	2
 280              	.L20:
 281 0024 00000000 		.word	.LANCHOR0
 282              		.cfi_endproc
 283              	.LFE71:
ARM GAS  /tmp/ccqStGVa.s 			page 11


 285              		.section	.text.tud_midi_n_available,"ax",%progbits
 286              		.align	1
 287              		.global	tud_midi_n_available
 288              		.syntax unified
 289              		.thumb
 290              		.thumb_func
 291              		.fpu fpv4-sp-d16
 293              	tud_midi_n_available:
 294              	.LVL31:
 295              	.LFB73:
 123:tinyusb/src/class/midi/midi_device.c ****   (void) cable_num;
 296              		.loc 1 123 1 is_stmt 1 view -0
 297              		.cfi_startproc
 298              		@ args = 0, pretend = 0, frame = 0
 299              		@ frame_needed = 0, uses_anonymous_args = 0
 123:tinyusb/src/class/midi/midi_device.c ****   (void) cable_num;
 300              		.loc 1 123 1 is_stmt 0 view .LVU71
 301 0000 38B5     		push	{r3, r4, r5, lr}
 302              	.LCFI2:
 303              		.cfi_def_cfa_offset 16
 304              		.cfi_offset 3, -16
 305              		.cfi_offset 4, -12
 306              		.cfi_offset 5, -8
 307              		.cfi_offset 14, -4
 124:tinyusb/src/class/midi/midi_device.c **** 
 308              		.loc 1 124 3 is_stmt 1 view .LVU72
 126:tinyusb/src/class/midi/midi_device.c ****   midid_stream_t const* stream = &midi->stream_read;
 309              		.loc 1 126 3 view .LVU73
 310              	.LVL32:
 127:tinyusb/src/class/midi/midi_device.c **** 
 311              		.loc 1 127 3 view .LVU74
 130:tinyusb/src/class/midi/midi_device.c **** }
 312              		.loc 1 130 3 view .LVU75
 130:tinyusb/src/class/midi/midi_device.c **** }
 313              		.loc 1 130 10 is_stmt 0 view .LVU76
 314 0002 084C     		ldr	r4, .L24
 315 0004 4FF49475 		mov	r5, #296
 316 0008 00FB05F5 		mul	r5, r0, r5
 317 000c 05F11000 		add	r0, r5, #16
 318              	.LVL33:
 130:tinyusb/src/class/midi/midi_device.c **** }
 319              		.loc 1 130 10 view .LVU77
 320 0010 2044     		add	r0, r0, r4
 321 0012 FFF7FEFF 		bl	tu_fifo_count
 322              	.LVL34:
 130:tinyusb/src/class/midi/midi_device.c **** }
 323              		.loc 1 130 57 view .LVU78
 324 0016 2C44     		add	r4, r4, r5
 325 0018 A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 130:tinyusb/src/class/midi/midi_device.c **** }
 326              		.loc 1 130 73 view .LVU79
 327 001a 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 130:tinyusb/src/class/midi/midi_device.c **** }
 328              		.loc 1 130 40 view .LVU80
 329 001c 9B1A     		subs	r3, r3, r2
 131:tinyusb/src/class/midi/midi_device.c **** 
 330              		.loc 1 131 1 view .LVU81
ARM GAS  /tmp/ccqStGVa.s 			page 12


 331 001e 50FA83F0 		uxtab	r0, r0, r3
 332 0022 38BD     		pop	{r3, r4, r5, pc}
 333              	.L25:
 334              		.align	2
 335              	.L24:
 336 0024 00000000 		.word	.LANCHOR0
 337              		.cfi_endproc
 338              	.LFE73:
 340              		.section	.text.tud_midi_n_packet_read,"ax",%progbits
 341              		.align	1
 342              		.global	tud_midi_n_packet_read
 343              		.syntax unified
 344              		.thumb
 345              		.thumb_func
 346              		.fpu fpv4-sp-d16
 348              	tud_midi_n_packet_read:
 349              	.LVL35:
 350              	.LFB75:
 204:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* midi = &_midid_itf[itf];
 351              		.loc 1 204 1 is_stmt 1 view -0
 352              		.cfi_startproc
 353              		@ args = 0, pretend = 0, frame = 0
 354              		@ frame_needed = 0, uses_anonymous_args = 0
 204:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* midi = &_midid_itf[itf];
 355              		.loc 1 204 1 is_stmt 0 view .LVU83
 356 0000 38B5     		push	{r3, r4, r5, lr}
 357              	.LCFI3:
 358              		.cfi_def_cfa_offset 16
 359              		.cfi_offset 3, -16
 360              		.cfi_offset 4, -12
 361              		.cfi_offset 5, -8
 362              		.cfi_offset 14, -4
 205:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(midi->ep_out);
 363              		.loc 1 205 3 is_stmt 1 view .LVU84
 205:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(midi->ep_out);
 364              		.loc 1 205 22 is_stmt 0 view .LVU85
 365 0002 0E4C     		ldr	r4, .L31
 366 0004 4FF49473 		mov	r3, #296
 367 0008 03FB0044 		mla	r4, r3, r0, r4
 368              	.LVL36:
 206:tinyusb/src/class/midi/midi_device.c **** 
 369              		.loc 1 206 3 is_stmt 1 view .LVU86
 206:tinyusb/src/class/midi/midi_device.c **** 
 370              		.loc 1 206 3 view .LVU87
 371 000c A378     		ldrb	r3, [r4, #2]	@ zero_extendqisi2
 372 000e 0BB9     		cbnz	r3, .L30
 373 0010 0020     		movs	r0, #0
 374              	.LVL37:
 375              	.L27:
 211:tinyusb/src/class/midi/midi_device.c **** 
 376              		.loc 1 211 1 is_stmt 0 view .LVU88
 377 0012 38BD     		pop	{r3, r4, r5, pc}
 378              	.LVL38:
 379              	.L30:
 206:tinyusb/src/class/midi/midi_device.c **** 
 380              		.loc 1 206 3 is_stmt 1 discriminator 2 view .LVU89
 208:tinyusb/src/class/midi/midi_device.c ****   _prep_out_transaction(midi);
ARM GAS  /tmp/ccqStGVa.s 			page 13


 381              		.loc 1 208 3 discriminator 2 view .LVU90
 208:tinyusb/src/class/midi/midi_device.c ****   _prep_out_transaction(midi);
 382              		.loc 1 208 29 is_stmt 0 discriminator 2 view .LVU91
 383 0014 4FF49473 		mov	r3, #296
 384 0018 03FB00F0 		mul	r0, r3, r0
 385              	.LVL39:
 208:tinyusb/src/class/midi/midi_device.c ****   _prep_out_transaction(midi);
 386              		.loc 1 208 29 discriminator 2 view .LVU92
 387 001c 1030     		adds	r0, r0, #16
 388 001e 0422     		movs	r2, #4
 389 0020 064B     		ldr	r3, .L31
 390 0022 1844     		add	r0, r0, r3
 391 0024 FFF7FEFF 		bl	tu_fifo_read_n
 392              	.LVL40:
 208:tinyusb/src/class/midi/midi_device.c ****   _prep_out_transaction(midi);
 393              		.loc 1 208 29 discriminator 2 view .LVU93
 394 0028 0546     		mov	r5, r0
 395              	.LVL41:
 209:tinyusb/src/class/midi/midi_device.c ****   return (num_read == 4);
 396              		.loc 1 209 3 is_stmt 1 discriminator 2 view .LVU94
 397 002a 2046     		mov	r0, r4
 398 002c FFF7FEFF 		bl	_prep_out_transaction
 399              	.LVL42:
 210:tinyusb/src/class/midi/midi_device.c **** }
 400              		.loc 1 210 3 discriminator 2 view .LVU95
 210:tinyusb/src/class/midi/midi_device.c **** }
 401              		.loc 1 210 20 is_stmt 0 discriminator 2 view .LVU96
 402 0030 042D     		cmp	r5, #4
 403 0032 14BF     		ite	ne
 404 0034 0020     		movne	r0, #0
 405 0036 0120     		moveq	r0, #1
 406 0038 EBE7     		b	.L27
 407              	.L32:
 408 003a 00BF     		.align	2
 409              	.L31:
 410 003c 00000000 		.word	.LANCHOR0
 411              		.cfi_endproc
 412              	.LFE75:
 414              		.section	.text.tud_midi_n_stream_read,"ax",%progbits
 415              		.align	1
 416              		.global	tud_midi_n_stream_read
 417              		.syntax unified
 418              		.thumb
 419              		.thumb_func
 420              		.fpu fpv4-sp-d16
 422              	tud_midi_n_stream_read:
 423              	.LVL43:
 424              	.LFB74:
 134:tinyusb/src/class/midi/midi_device.c ****   (void) cable_num;
 425              		.loc 1 134 1 is_stmt 1 view -0
 426              		.cfi_startproc
 427              		@ args = 0, pretend = 0, frame = 0
 428              		@ frame_needed = 0, uses_anonymous_args = 0
 134:tinyusb/src/class/midi/midi_device.c ****   (void) cable_num;
 429              		.loc 1 134 1 is_stmt 0 view .LVU98
 430 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 431              	.LCFI4:
ARM GAS  /tmp/ccqStGVa.s 			page 14


 432              		.cfi_def_cfa_offset 24
 433              		.cfi_offset 4, -24
 434              		.cfi_offset 5, -20
 435              		.cfi_offset 6, -16
 436              		.cfi_offset 7, -12
 437              		.cfi_offset 8, -8
 438              		.cfi_offset 14, -4
 135:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(bufsize, 0);
 439              		.loc 1 135 3 is_stmt 1 view .LVU99
 136:tinyusb/src/class/midi/midi_device.c **** 
 440              		.loc 1 136 3 view .LVU100
 136:tinyusb/src/class/midi/midi_device.c **** 
 441              		.loc 1 136 3 view .LVU101
 442 0004 1E46     		mov	r6, r3
 443 0006 002B     		cmp	r3, #0
 444 0008 73D0     		beq	.L43
 445 000a 0546     		mov	r5, r0
 446 000c 1746     		mov	r7, r2
 136:tinyusb/src/class/midi/midi_device.c **** 
 447              		.loc 1 136 3 discriminator 2 view .LVU102
 138:tinyusb/src/class/midi/midi_device.c **** 
 448              		.loc 1 138 3 discriminator 2 view .LVU103
 449              	.LVL44:
 140:tinyusb/src/class/midi/midi_device.c ****   midid_stream_t* stream = &midi->stream_read;
 450              		.loc 1 140 3 discriminator 2 view .LVU104
 141:tinyusb/src/class/midi/midi_device.c **** 
 451              		.loc 1 141 3 discriminator 2 view .LVU105
 143:tinyusb/src/class/midi/midi_device.c ****   while( bufsize )
 452              		.loc 1 143 3 discriminator 2 view .LVU106
 144:tinyusb/src/class/midi/midi_device.c ****   {
 453              		.loc 1 144 3 discriminator 2 view .LVU107
 143:tinyusb/src/class/midi/midi_device.c ****   while( bufsize )
 454              		.loc 1 143 12 is_stmt 0 discriminator 2 view .LVU108
 455 000e 4FF00008 		mov	r8, #0
 456              	.LVL45:
 457              	.L35:
 144:tinyusb/src/class/midi/midi_device.c ****   {
 458              		.loc 1 144 8 is_stmt 1 view .LVU109
 459 0012 002E     		cmp	r6, #0
 460 0014 6ED0     		beq	.L33
 461              	.LBB41:
 147:tinyusb/src/class/midi/midi_device.c ****     {
 462              		.loc 1 147 5 view .LVU110
 147:tinyusb/src/class/midi/midi_device.c ****     {
 463              		.loc 1 147 16 is_stmt 0 view .LVU111
 464 0016 3C4B     		ldr	r3, .L48
 465 0018 4FF49472 		mov	r2, #296
 466 001c 02FB0533 		mla	r3, r2, r5, r3
 467 0020 9B7B     		ldrb	r3, [r3, #14]	@ zero_extendqisi2
 147:tinyusb/src/class/midi/midi_device.c ****     {
 468              		.loc 1 147 8 view .LVU112
 469 0022 7BB3     		cbz	r3, .L47
 470              	.L36:
 182:tinyusb/src/class/midi/midi_device.c **** 
 471              		.loc 1 182 5 is_stmt 1 view .LVU113
 182:tinyusb/src/class/midi/midi_device.c **** 
 472              		.loc 1 182 52 is_stmt 0 view .LVU114
ARM GAS  /tmp/ccqStGVa.s 			page 15


 473 0024 3849     		ldr	r1, .L48
 474 0026 4FF49473 		mov	r3, #296
 475 002a 05FB03F3 		mul	r3, r5, r3
 476 002e CA18     		adds	r2, r1, r3
 477 0030 947B     		ldrb	r4, [r2, #14]	@ zero_extendqisi2
 182:tinyusb/src/class/midi/midi_device.c **** 
 478              		.loc 1 182 68 view .LVU115
 479 0032 527B     		ldrb	r2, [r2, #13]	@ zero_extendqisi2
 182:tinyusb/src/class/midi/midi_device.c **** 
 480              		.loc 1 182 60 view .LVU116
 481 0034 A41A     		subs	r4, r4, r2
 482              	.LVL46:
 483              	.LBB42:
 484              	.LBI42:
 485              		.file 2 "tinyusb/src/common/tusb_common.h"
   1:tinyusb/src/common/tusb_common.h **** /*
   2:tinyusb/src/common/tusb_common.h ****  * The MIT License (MIT)
   3:tinyusb/src/common/tusb_common.h ****  *
   4:tinyusb/src/common/tusb_common.h ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/common/tusb_common.h ****  *
   6:tinyusb/src/common/tusb_common.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/common/tusb_common.h ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/common/tusb_common.h ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/common/tusb_common.h ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  10:tinyusb/src/common/tusb_common.h ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/common/tusb_common.h ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/common/tusb_common.h ****  *
  13:tinyusb/src/common/tusb_common.h ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/common/tusb_common.h ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/common/tusb_common.h ****  *
  16:tinyusb/src/common/tusb_common.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  17:tinyusb/src/common/tusb_common.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/common/tusb_common.h ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/common/tusb_common.h ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/common/tusb_common.h ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/common/tusb_common.h ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/common/tusb_common.h ****  * THE SOFTWARE.
  23:tinyusb/src/common/tusb_common.h ****  *
  24:tinyusb/src/common/tusb_common.h ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/common/tusb_common.h ****  */
  26:tinyusb/src/common/tusb_common.h **** 
  27:tinyusb/src/common/tusb_common.h **** #ifndef _TUSB_COMMON_H_
  28:tinyusb/src/common/tusb_common.h **** #define _TUSB_COMMON_H_
  29:tinyusb/src/common/tusb_common.h **** 
  30:tinyusb/src/common/tusb_common.h **** #ifdef __cplusplus
  31:tinyusb/src/common/tusb_common.h ****  extern "C" {
  32:tinyusb/src/common/tusb_common.h **** #endif
  33:tinyusb/src/common/tusb_common.h **** 
  34:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  35:tinyusb/src/common/tusb_common.h **** // Macros Helper
  36:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  37:tinyusb/src/common/tusb_common.h **** #define TU_ARRAY_SIZE(_arr)   ( sizeof(_arr) / sizeof(_arr[0]) )
  38:tinyusb/src/common/tusb_common.h **** #define TU_MIN(_x, _y)        ( ( (_x) < (_y) ) ? (_x) : (_y) )
  39:tinyusb/src/common/tusb_common.h **** #define TU_MAX(_x, _y)        ( ( (_x) > (_y) ) ? (_x) : (_y) )
  40:tinyusb/src/common/tusb_common.h **** 
  41:tinyusb/src/common/tusb_common.h **** #define TU_U16(_high, _low)   ((uint16_t) (((_high) << 8) | (_low)))
  42:tinyusb/src/common/tusb_common.h **** #define TU_U16_HIGH(_u16)     ((uint8_t) (((_u16) >> 8) & 0x00ff))
ARM GAS  /tmp/ccqStGVa.s 			page 16


  43:tinyusb/src/common/tusb_common.h **** #define TU_U16_LOW(_u16)      ((uint8_t) ((_u16)       & 0x00ff))
  44:tinyusb/src/common/tusb_common.h **** #define U16_TO_U8S_BE(_u16)   TU_U16_HIGH(_u16), TU_U16_LOW(_u16)
  45:tinyusb/src/common/tusb_common.h **** #define U16_TO_U8S_LE(_u16)   TU_U16_LOW(_u16), TU_U16_HIGH(_u16)
  46:tinyusb/src/common/tusb_common.h **** 
  47:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE3(_u32)    ((uint8_t) ((((uint32_t) _u32) >> 24) & 0x000000ff)) // MSB
  48:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE2(_u32)    ((uint8_t) ((((uint32_t) _u32) >> 16) & 0x000000ff))
  49:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE1(_u32)    ((uint8_t) ((((uint32_t) _u32) >>  8) & 0x000000ff))
  50:tinyusb/src/common/tusb_common.h **** #define TU_U32_BYTE0(_u32)    ((uint8_t) (((uint32_t)  _u32)        & 0x000000ff)) // LSB
  51:tinyusb/src/common/tusb_common.h **** 
  52:tinyusb/src/common/tusb_common.h **** #define U32_TO_U8S_BE(_u32)   TU_U32_BYTE3(_u32), TU_U32_BYTE2(_u32), TU_U32_BYTE1(_u32), TU_U32_BY
  53:tinyusb/src/common/tusb_common.h **** #define U32_TO_U8S_LE(_u32)   TU_U32_BYTE0(_u32), TU_U32_BYTE1(_u32), TU_U32_BYTE2(_u32), TU_U32_BY
  54:tinyusb/src/common/tusb_common.h **** 
  55:tinyusb/src/common/tusb_common.h **** #define TU_BIT(n)             (1UL << (n))
  56:tinyusb/src/common/tusb_common.h **** 
  57:tinyusb/src/common/tusb_common.h **** // Generate a mask with bit from high (31) to low (0) set, e.g TU_GENMASK(3, 0) = 0b1111
  58:tinyusb/src/common/tusb_common.h **** #define TU_GENMASK(h, l)      ( (UINT32_MAX << (l)) & (UINT32_MAX >> (31 - (h))) )
  59:tinyusb/src/common/tusb_common.h **** 
  60:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  61:tinyusb/src/common/tusb_common.h **** // Includes
  62:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  63:tinyusb/src/common/tusb_common.h **** 
  64:tinyusb/src/common/tusb_common.h **** // Standard Headers
  65:tinyusb/src/common/tusb_common.h **** #include <stdbool.h>
  66:tinyusb/src/common/tusb_common.h **** #include <stdint.h>
  67:tinyusb/src/common/tusb_common.h **** #include <stddef.h>
  68:tinyusb/src/common/tusb_common.h **** #include <string.h>
  69:tinyusb/src/common/tusb_common.h **** #include <stdio.h>
  70:tinyusb/src/common/tusb_common.h **** 
  71:tinyusb/src/common/tusb_common.h **** // Tinyusb Common Headers
  72:tinyusb/src/common/tusb_common.h **** #include "tusb_option.h"
  73:tinyusb/src/common/tusb_common.h **** #include "tusb_compiler.h"
  74:tinyusb/src/common/tusb_common.h **** #include "tusb_verify.h"
  75:tinyusb/src/common/tusb_common.h **** #include "tusb_types.h"
  76:tinyusb/src/common/tusb_common.h **** #include "tusb_debug.h"
  77:tinyusb/src/common/tusb_common.h **** 
  78:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  79:tinyusb/src/common/tusb_common.h **** // Optional API implemented by application if needed
  80:tinyusb/src/common/tusb_common.h **** // TODO move to a more ovious place/file
  81:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  82:tinyusb/src/common/tusb_common.h **** 
  83:tinyusb/src/common/tusb_common.h **** // flush data cache
  84:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void tusb_app_dcache_flush(uintptr_t addr, uint32_t data_size);
  85:tinyusb/src/common/tusb_common.h **** 
  86:tinyusb/src/common/tusb_common.h **** // invalidate data cache
  87:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void tusb_app_dcache_invalidate(uintptr_t addr, uint32_t data_size);
  88:tinyusb/src/common/tusb_common.h **** 
  89:tinyusb/src/common/tusb_common.h **** // Optional physical <-> virtual address translation
  90:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void* tusb_app_virt_to_phys(void *virt_addr);
  91:tinyusb/src/common/tusb_common.h **** TU_ATTR_WEAK extern void* tusb_app_phys_to_virt(void *phys_addr);
  92:tinyusb/src/common/tusb_common.h **** 
  93:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  94:tinyusb/src/common/tusb_common.h **** // Internal Inline Functions
  95:tinyusb/src/common/tusb_common.h **** //--------------------------------------------------------------------+
  96:tinyusb/src/common/tusb_common.h **** 
  97:tinyusb/src/common/tusb_common.h **** //------------- Mem -------------//
  98:tinyusb/src/common/tusb_common.h **** #define tu_memclr(buffer, size)  memset((buffer), 0, (size))
  99:tinyusb/src/common/tusb_common.h **** #define tu_varclr(_var)          tu_memclr(_var, sizeof(*(_var)))
ARM GAS  /tmp/ccqStGVa.s 			page 17


 100:tinyusb/src/common/tusb_common.h **** 
 101:tinyusb/src/common/tusb_common.h **** // This is a backport of memset_s from c11
 102:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline int tu_memset_s(void *dest, size_t destsz, int ch, size_t count
 103:tinyusb/src/common/tusb_common.h ****   // TODO may check if desst and src is not NULL
 104:tinyusb/src/common/tusb_common.h ****   if ( count > destsz ) {
 105:tinyusb/src/common/tusb_common.h ****     return -1;
 106:tinyusb/src/common/tusb_common.h ****   }
 107:tinyusb/src/common/tusb_common.h ****   memset(dest, ch, count);
 108:tinyusb/src/common/tusb_common.h ****   return 0;
 109:tinyusb/src/common/tusb_common.h **** }
 110:tinyusb/src/common/tusb_common.h **** 
 111:tinyusb/src/common/tusb_common.h **** // This is a backport of memcpy_s from c11
 112:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline int tu_memcpy_s(void *dest, size_t destsz, const void *src, siz
 113:tinyusb/src/common/tusb_common.h ****   // TODO may check if desst and src is not NULL
 114:tinyusb/src/common/tusb_common.h ****   if ( count > destsz ) {
 115:tinyusb/src/common/tusb_common.h ****     return -1;
 116:tinyusb/src/common/tusb_common.h ****   }
 117:tinyusb/src/common/tusb_common.h ****   memcpy(dest, src, count);
 118:tinyusb/src/common/tusb_common.h ****   return 0;
 119:tinyusb/src/common/tusb_common.h **** }
 120:tinyusb/src/common/tusb_common.h **** 
 121:tinyusb/src/common/tusb_common.h **** 
 122:tinyusb/src/common/tusb_common.h **** //------------- Bytes -------------//
 123:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_u32(uint8_t b3, uint8_t b2, uint8_t b1, uint8_t b0)
 124:tinyusb/src/common/tusb_common.h ****   return ( ((uint32_t) b3) << 24) | ( ((uint32_t) b2) << 16) | ( ((uint32_t) b1) << 8) | b0;
 125:tinyusb/src/common/tusb_common.h **** }
 126:tinyusb/src/common/tusb_common.h **** 
 127:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_u16(uint8_t high, uint8_t low) {
 128:tinyusb/src/common/tusb_common.h ****   return (uint16_t) ((((uint16_t) high) << 8) | low);
 129:tinyusb/src/common/tusb_common.h **** }
 130:tinyusb/src/common/tusb_common.h **** 
 131:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte3(uint32_t ui32) { return TU_U32_BYTE3(ui32)
 132:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte2(uint32_t ui32) { return TU_U32_BYTE2(ui32)
 133:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte1(uint32_t ui32) { return TU_U32_BYTE1(ui32)
 134:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u32_byte0(uint32_t ui32) { return TU_U32_BYTE0(ui32)
 135:tinyusb/src/common/tusb_common.h **** 
 136:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_u32_high16(uint32_t ui32) { return (uint16_t) (ui32
 137:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_u32_low16 (uint32_t ui32) { return (uint16_t) (ui32
 138:tinyusb/src/common/tusb_common.h **** 
 139:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u16_high(uint16_t ui16) { return TU_U16_HIGH(ui16); 
 140:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_u16_low (uint16_t ui16) { return TU_U16_LOW(ui16); }
 141:tinyusb/src/common/tusb_common.h **** 
 142:tinyusb/src/common/tusb_common.h **** //------------- Bits -------------//
 143:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_bit_set  (uint32_t value, uint8_t pos) { return val
 144:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_bit_clear(uint32_t value, uint8_t pos) { return val
 145:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline bool     tu_bit_test (uint32_t value, uint8_t pos) { return (va
 146:tinyusb/src/common/tusb_common.h **** 
 147:tinyusb/src/common/tusb_common.h **** //------------- Min -------------//
 148:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t  tu_min8  (uint8_t  x, uint8_t y ) { return (x < y) ? x
 149:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_min16 (uint16_t x, uint16_t y) { return (x < y) ? x
 150:tinyusb/src/common/tusb_common.h **** TU_ATTR_ALWAYS_INLINE static inline uint32_t tu_min32 (uint32_t x, uint32_t y) { return (x < y) ? x
 486              		.loc 2 150 46 is_stmt 1 view .LVU117
 487              	.LBB43:
 488              		.loc 2 150 82 view .LVU118
 489              		.loc 2 150 101 is_stmt 0 view .LVU119
 490 0036 B442     		cmp	r4, r6
 491 0038 28BF     		it	cs
ARM GAS  /tmp/ccqStGVa.s 			page 18


 492 003a 3446     		movcs	r4, r6
 493              	.LVL47:
 494              		.loc 2 150 101 view .LVU120
 495              	.LBE43:
 496              	.LBE42:
 182:tinyusb/src/class/midi/midi_device.c **** 
 497              		.loc 1 182 19 view .LVU121
 498 003c E4B2     		uxtb	r4, r4
 499              	.LVL48:
 185:tinyusb/src/class/midi/midi_device.c **** 
 500              		.loc 1 185 5 is_stmt 1 view .LVU122
 185:tinyusb/src/class/midi/midi_device.c **** 
 501              		.loc 1 185 5 view .LVU123
 502 003e 0833     		adds	r3, r3, #8
 503 0040 1944     		add	r1, r1, r3
 504 0042 0131     		adds	r1, r1, #1
 505 0044 0132     		adds	r2, r2, #1
 506 0046 1144     		add	r1, r1, r2
 507              	.LVL49:
 508              	.LBB44:
 509              	.LBI44:
 112:tinyusb/src/common/tusb_common.h ****   // TODO may check if desst and src is not NULL
 510              		.loc 2 112 41 view .LVU124
 511              	.LBB45:
 114:tinyusb/src/common/tusb_common.h ****     return -1;
 512              		.loc 2 114 3 view .LVU125
 114:tinyusb/src/common/tusb_common.h ****     return -1;
 513              		.loc 2 114 6 is_stmt 0 view .LVU126
 514 0048 A642     		cmp	r6, r4
 515 004a 59D3     		bcc	.L45
 117:tinyusb/src/common/tusb_common.h ****   return 0;
 516              		.loc 2 117 3 is_stmt 1 view .LVU127
 517 004c 2246     		mov	r2, r4
 518 004e 3846     		mov	r0, r7
 519 0050 FFF7FEFF 		bl	memcpy
 520              	.LVL50:
 118:tinyusb/src/common/tusb_common.h **** }
 521              		.loc 2 118 3 view .LVU128
 118:tinyusb/src/common/tusb_common.h **** }
 522              		.loc 2 118 3 is_stmt 0 view .LVU129
 523              	.LBE45:
 524              	.LBE44:
 185:tinyusb/src/class/midi/midi_device.c **** 
 525              		.loc 1 185 5 is_stmt 1 view .LVU130
 187:tinyusb/src/class/midi/midi_device.c ****     stream->index += count;
 526              		.loc 1 187 5 view .LVU131
 187:tinyusb/src/class/midi/midi_device.c ****     stream->index += count;
 527              		.loc 1 187 16 is_stmt 0 view .LVU132
 528 0054 A044     		add	r8, r8, r4
 529              	.LVL51:
 188:tinyusb/src/class/midi/midi_device.c ****     buf8 += count;
 530              		.loc 1 188 5 is_stmt 1 view .LVU133
 188:tinyusb/src/class/midi/midi_device.c ****     buf8 += count;
 531              		.loc 1 188 19 is_stmt 0 view .LVU134
 532 0056 2C4A     		ldr	r2, .L48
 533 0058 4FF49473 		mov	r3, #296
 534 005c 03FB0522 		mla	r2, r3, r5, r2
ARM GAS  /tmp/ccqStGVa.s 			page 19


 535 0060 537B     		ldrb	r3, [r2, #13]	@ zero_extendqisi2
 536 0062 2344     		add	r3, r3, r4
 537 0064 DBB2     		uxtb	r3, r3
 538 0066 5373     		strb	r3, [r2, #13]
 189:tinyusb/src/class/midi/midi_device.c ****     bufsize -= count;
 539              		.loc 1 189 5 is_stmt 1 view .LVU135
 189:tinyusb/src/class/midi/midi_device.c ****     bufsize -= count;
 540              		.loc 1 189 10 is_stmt 0 view .LVU136
 541 0068 2744     		add	r7, r7, r4
 542              	.LVL52:
 190:tinyusb/src/class/midi/midi_device.c **** 
 543              		.loc 1 190 5 is_stmt 1 view .LVU137
 190:tinyusb/src/class/midi/midi_device.c **** 
 544              		.loc 1 190 13 is_stmt 0 view .LVU138
 545 006a 361B     		subs	r6, r6, r4
 546              	.LVL53:
 193:tinyusb/src/class/midi/midi_device.c ****     {
 547              		.loc 1 193 5 is_stmt 1 view .LVU139
 193:tinyusb/src/class/midi/midi_device.c ****     {
 548              		.loc 1 193 16 is_stmt 0 view .LVU140
 549 006c 927B     		ldrb	r2, [r2, #14]	@ zero_extendqisi2
 193:tinyusb/src/class/midi/midi_device.c ****     {
 550              		.loc 1 193 8 view .LVU141
 551 006e 9342     		cmp	r3, r2
 552 0070 CFD1     		bne	.L35
 195:tinyusb/src/class/midi/midi_device.c ****       stream->total = 0;
 553              		.loc 1 195 7 is_stmt 1 view .LVU142
 195:tinyusb/src/class/midi/midi_device.c ****       stream->total = 0;
 554              		.loc 1 195 21 is_stmt 0 view .LVU143
 555 0072 254B     		ldr	r3, .L48
 556 0074 4FF49472 		mov	r2, #296
 557 0078 02FB0533 		mla	r3, r2, r5, r3
 558 007c 0022     		movs	r2, #0
 559 007e 5A73     		strb	r2, [r3, #13]
 196:tinyusb/src/class/midi/midi_device.c ****     }
 560              		.loc 1 196 7 is_stmt 1 view .LVU144
 196:tinyusb/src/class/midi/midi_device.c ****     }
 561              		.loc 1 196 21 is_stmt 0 view .LVU145
 562 0080 9A73     		strb	r2, [r3, #14]
 563 0082 C6E7     		b	.L35
 564              	.LVL54:
 565              	.L47:
 566              	.LBB46:
 150:tinyusb/src/class/midi/midi_device.c **** 
 567              		.loc 1 150 7 is_stmt 1 view .LVU146
 150:tinyusb/src/class/midi/midi_device.c **** 
 568              		.loc 1 150 47 is_stmt 0 view .LVU147
 569 0084 1146     		mov	r1, r2
 570 0086 05FB01F1 		mul	r1, r5, r1
 571 008a 0831     		adds	r1, r1, #8
 572 008c 1E4B     		ldr	r3, .L48
 573 008e 1944     		add	r1, r1, r3
 150:tinyusb/src/class/midi/midi_device.c **** 
 574              		.loc 1 150 13 view .LVU148
 575 0090 0131     		adds	r1, r1, #1
 576 0092 2846     		mov	r0, r5
 577 0094 FFF7FEFF 		bl	tud_midi_n_packet_read
ARM GAS  /tmp/ccqStGVa.s 			page 20


 578              	.LVL55:
 150:tinyusb/src/class/midi/midi_device.c **** 
 579              		.loc 1 150 10 view .LVU149
 580 0098 60B3     		cbz	r0, .L33
 152:tinyusb/src/class/midi/midi_device.c **** 
 581              		.loc 1 152 7 is_stmt 1 view .LVU150
 152:tinyusb/src/class/midi/midi_device.c **** 
 582              		.loc 1 152 48 is_stmt 0 view .LVU151
 583 009a 1B4B     		ldr	r3, .L48
 584 009c 4FF49472 		mov	r2, #296
 585 00a0 02FB0533 		mla	r3, r2, r5, r3
 586 00a4 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 152:tinyusb/src/class/midi/midi_device.c **** 
 587              		.loc 1 152 21 view .LVU152
 588 00a6 03F00F03 		and	r3, r3, #15
 589              	.LVL56:
 155:tinyusb/src/class/midi/midi_device.c ****       {
 590              		.loc 1 155 7 is_stmt 1 view .LVU153
 591 00aa 0F2B     		cmp	r3, #15
 592 00ac 19D8     		bhi	.L37
 593 00ae DFE803F0 		tbb	[pc, r3]
 594              	.L39:
 595 00b2 24       		.byte	(.L44-.L39)/2
 596 00b3 24       		.byte	(.L44-.L39)/2
 597 00b4 10       		.byte	(.L40-.L39)/2
 598 00b5 18       		.byte	(.L37-.L39)/2
 599 00b6 18       		.byte	(.L37-.L39)/2
 600 00b7 08       		.byte	(.L38-.L39)/2
 601 00b8 10       		.byte	(.L40-.L39)/2
 602 00b9 18       		.byte	(.L37-.L39)/2
 603 00ba 18       		.byte	(.L37-.L39)/2
 604 00bb 18       		.byte	(.L37-.L39)/2
 605 00bc 18       		.byte	(.L37-.L39)/2
 606 00bd 18       		.byte	(.L37-.L39)/2
 607 00be 10       		.byte	(.L40-.L39)/2
 608 00bf 10       		.byte	(.L40-.L39)/2
 609 00c0 18       		.byte	(.L37-.L39)/2
 610 00c1 08       		.byte	(.L38-.L39)/2
 611              		.p2align 1
 612              	.L38:
 161:tinyusb/src/class/midi/midi_device.c **** 
 613              		.loc 1 161 9 view .LVU154
 165:tinyusb/src/class/midi/midi_device.c ****         break;
 614              		.loc 1 165 11 view .LVU155
 165:tinyusb/src/class/midi/midi_device.c ****         break;
 615              		.loc 1 165 25 is_stmt 0 view .LVU156
 616 00c2 114B     		ldr	r3, .L48
 617              	.LVL57:
 165:tinyusb/src/class/midi/midi_device.c ****         break;
 618              		.loc 1 165 25 view .LVU157
 619 00c4 4FF49472 		mov	r2, #296
 620 00c8 02FB0533 		mla	r3, r2, r5, r3
 621              	.LVL58:
 165:tinyusb/src/class/midi/midi_device.c ****         break;
 622              		.loc 1 165 25 view .LVU158
 623 00cc 0122     		movs	r2, #1
 624 00ce 9A73     		strb	r2, [r3, #14]
ARM GAS  /tmp/ccqStGVa.s 			page 21


 166:tinyusb/src/class/midi/midi_device.c **** 
 625              		.loc 1 166 9 is_stmt 1 view .LVU159
 626 00d0 A8E7     		b	.L36
 627              	.LVL59:
 628              	.L40:
 172:tinyusb/src/class/midi/midi_device.c ****         break;
 629              		.loc 1 172 11 view .LVU160
 172:tinyusb/src/class/midi/midi_device.c ****         break;
 630              		.loc 1 172 25 is_stmt 0 view .LVU161
 631 00d2 0D4B     		ldr	r3, .L48
 632              	.LVL60:
 172:tinyusb/src/class/midi/midi_device.c ****         break;
 633              		.loc 1 172 25 view .LVU162
 634 00d4 4FF49472 		mov	r2, #296
 635 00d8 02FB0533 		mla	r3, r2, r5, r3
 636              	.LVL61:
 172:tinyusb/src/class/midi/midi_device.c ****         break;
 637              		.loc 1 172 25 view .LVU163
 638 00dc 0222     		movs	r2, #2
 639 00de 9A73     		strb	r2, [r3, #14]
 173:tinyusb/src/class/midi/midi_device.c **** 
 640              		.loc 1 173 9 is_stmt 1 view .LVU164
 641 00e0 A0E7     		b	.L36
 642              	.LVL62:
 643              	.L37:
 176:tinyusb/src/class/midi/midi_device.c ****         break;
 644              		.loc 1 176 11 view .LVU165
 176:tinyusb/src/class/midi/midi_device.c ****         break;
 645              		.loc 1 176 25 is_stmt 0 view .LVU166
 646 00e2 094B     		ldr	r3, .L48
 647              	.LVL63:
 176:tinyusb/src/class/midi/midi_device.c ****         break;
 648              		.loc 1 176 25 view .LVU167
 649 00e4 4FF49472 		mov	r2, #296
 650 00e8 02FB0533 		mla	r3, r2, r5, r3
 651              	.LVL64:
 176:tinyusb/src/class/midi/midi_device.c ****         break;
 652              		.loc 1 176 25 view .LVU168
 653 00ec 0322     		movs	r2, #3
 654 00ee 9A73     		strb	r2, [r3, #14]
 177:tinyusb/src/class/midi/midi_device.c ****       }
 655              		.loc 1 177 9 is_stmt 1 view .LVU169
 656 00f0 98E7     		b	.L36
 657              	.LVL65:
 658              	.L43:
 177:tinyusb/src/class/midi/midi_device.c ****       }
 659              		.loc 1 177 9 is_stmt 0 view .LVU170
 660              	.LBE46:
 661              	.LBE41:
 136:tinyusb/src/class/midi/midi_device.c **** 
 662              		.loc 1 136 3 view .LVU171
 663 00f2 9846     		mov	r8, r3
 664              	.LVL66:
 665              	.L33:
 201:tinyusb/src/class/midi/midi_device.c **** 
 666              		.loc 1 201 1 view .LVU172
 667 00f4 4046     		mov	r0, r8
ARM GAS  /tmp/ccqStGVa.s 			page 22


 668 00f6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 669              	.LVL67:
 670              	.L44:
 671              	.LBB48:
 672              	.LBB47:
 155:tinyusb/src/class/midi/midi_device.c ****       {
 673              		.loc 1 155 7 view .LVU173
 674 00fa 4FF00008 		mov	r8, #0
 675              	.LVL68:
 155:tinyusb/src/class/midi/midi_device.c ****       {
 676              		.loc 1 155 7 view .LVU174
 677 00fe F9E7     		b	.L33
 678              	.LVL69:
 679              	.L45:
 155:tinyusb/src/class/midi/midi_device.c ****       {
 680              		.loc 1 155 7 view .LVU175
 681              	.LBE47:
 185:tinyusb/src/class/midi/midi_device.c **** 
 682              		.loc 1 185 5 view .LVU176
 683 0100 4FF00008 		mov	r8, #0
 684              	.LVL70:
 185:tinyusb/src/class/midi/midi_device.c **** 
 685              		.loc 1 185 5 view .LVU177
 686 0104 F6E7     		b	.L33
 687              	.L49:
 688 0106 00BF     		.align	2
 689              	.L48:
 690 0108 00000000 		.word	.LANCHOR0
 691              	.LBE48:
 692              		.cfi_endproc
 693              	.LFE74:
 695              		.section	.text.tud_midi_n_stream_write,"ax",%progbits
 696              		.align	1
 697              		.global	tud_midi_n_stream_write
 698              		.syntax unified
 699              		.thumb
 700              		.thumb_func
 701              		.fpu fpv4-sp-d16
 703              	tud_midi_n_stream_write:
 704              	.LVL71:
 705              	.LFB77:
 240:tinyusb/src/class/midi/midi_device.c **** 
 241:tinyusb/src/class/midi/midi_device.c **** uint32_t tud_midi_n_stream_write(uint8_t itf, uint8_t cable_num, uint8_t const* buffer, uint32_t bu
 242:tinyusb/src/class/midi/midi_device.c **** {
 706              		.loc 1 242 1 is_stmt 1 view -0
 707              		.cfi_startproc
 708              		@ args = 0, pretend = 0, frame = 0
 709              		@ frame_needed = 0, uses_anonymous_args = 0
 710              		.loc 1 242 1 is_stmt 0 view .LVU179
 711 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 712              	.LCFI5:
 713              		.cfi_def_cfa_offset 40
 714              		.cfi_offset 3, -40
 715              		.cfi_offset 4, -36
 716              		.cfi_offset 5, -32
 717              		.cfi_offset 6, -28
 718              		.cfi_offset 7, -24
ARM GAS  /tmp/ccqStGVa.s 			page 23


 719              		.cfi_offset 8, -20
 720              		.cfi_offset 9, -16
 721              		.cfi_offset 10, -12
 722              		.cfi_offset 11, -8
 723              		.cfi_offset 14, -4
 724 0004 1F46     		mov	r7, r3
 243:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* midi = &_midid_itf[itf];
 725              		.loc 1 243 3 is_stmt 1 view .LVU180
 726              		.loc 1 243 22 is_stmt 0 view .LVU181
 727 0006 914B     		ldr	r3, .L84
 728              	.LVL72:
 729              		.loc 1 243 22 view .LVU182
 730 0008 4FF4947A 		mov	r10, #296
 731 000c 0AFB003A 		mla	r10, r10, r0, r3
 732              	.LVL73:
 244:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(midi->ep_in, 0);
 733              		.loc 1 244 3 is_stmt 1 view .LVU183
 734              		.loc 1 244 3 view .LVU184
 735 0010 9AF80130 		ldrb	r3, [r10, #1]	@ zero_extendqisi2
 736 0014 002B     		cmp	r3, #0
 737 0016 00F01681 		beq	.L74
 738 001a 0546     		mov	r5, r0
 739 001c 8946     		mov	r9, r1
 740 001e 9046     		mov	r8, r2
 245:tinyusb/src/class/midi/midi_device.c **** 
 246:tinyusb/src/class/midi/midi_device.c ****   midid_stream_t* stream = &midi->stream_write;
 247:tinyusb/src/class/midi/midi_device.c **** 
 248:tinyusb/src/class/midi/midi_device.c ****   uint32_t i = 0;
 741              		.loc 1 248 12 is_stmt 0 view .LVU185
 742 0020 0026     		movs	r6, #0
 743 0022 7FE0     		b	.L52
 744              	.LVL74:
 745              	.L81:
 746              	.LBB49:
 747              	.LBB50:
 249:tinyusb/src/class/midi/midi_device.c ****   while ( (i < bufsize) && (tu_fifo_remaining(&midi->tx_ff) >= 4) )
 250:tinyusb/src/class/midi/midi_device.c ****   {
 251:tinyusb/src/class/midi/midi_device.c ****     uint8_t const data = buffer[i];
 252:tinyusb/src/class/midi/midi_device.c ****     i++;
 253:tinyusb/src/class/midi/midi_device.c **** 
 254:tinyusb/src/class/midi/midi_device.c ****     if ( stream->index == 0 )
 255:tinyusb/src/class/midi/midi_device.c ****     {
 256:tinyusb/src/class/midi/midi_device.c ****       //------------- New event packet -------------//
 257:tinyusb/src/class/midi/midi_device.c **** 
 258:tinyusb/src/class/midi/midi_device.c ****       uint8_t const msg = data >> 4;
 259:tinyusb/src/class/midi/midi_device.c **** 
 260:tinyusb/src/class/midi/midi_device.c ****       stream->index = 2;
 261:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[1] = data;
 262:tinyusb/src/class/midi/midi_device.c **** 
 263:tinyusb/src/class/midi/midi_device.c ****       // Check to see if we're still in a SysEx transmit.
 264:tinyusb/src/class/midi/midi_device.c ****       if ( ((stream->buffer[0]) & 0xF) == MIDI_CIN_SYSEX_START )
 265:tinyusb/src/class/midi/midi_device.c ****       {
 266:tinyusb/src/class/midi/midi_device.c ****         if ( data == MIDI_STATUS_SYSEX_END )
 748              		.loc 1 266 9 is_stmt 1 view .LVU186
 749              		.loc 1 266 12 is_stmt 0 view .LVU187
 750 0024 F72A     		cmp	r2, #247
 751 0026 07D0     		beq	.L76
ARM GAS  /tmp/ccqStGVa.s 			page 24


 267:tinyusb/src/class/midi/midi_device.c ****         {
 268:tinyusb/src/class/midi/midi_device.c ****           stream->buffer[0] = (uint8_t) ((cable_num << 4) | MIDI_CIN_SYSEX_END_1BYTE);
 269:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 270:tinyusb/src/class/midi/midi_device.c ****         }
 271:tinyusb/src/class/midi/midi_device.c ****         else
 272:tinyusb/src/class/midi/midi_device.c ****         {
 273:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 752              		.loc 1 273 11 is_stmt 1 view .LVU188
 753              		.loc 1 273 25 is_stmt 0 view .LVU189
 754 0028 884B     		ldr	r3, .L84
 755 002a 4FF49472 		mov	r2, #296
 756              	.LVL75:
 757              		.loc 1 273 25 view .LVU190
 758 002e 02FB0533 		mla	r3, r2, r5, r3
 759              	.LVL76:
 760              		.loc 1 273 25 view .LVU191
 761 0032 0422     		movs	r2, #4
 762              	.LVL77:
 763              		.loc 1 273 25 view .LVU192
 764 0034 1A72     		strb	r2, [r3, #8]
 765 0036 6CE0     		b	.L56
 766              	.LVL78:
 767              	.L76:
 268:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 768              		.loc 1 268 11 is_stmt 1 view .LVU193
 268:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 769              		.loc 1 268 53 is_stmt 0 view .LVU194
 770 0038 4FEA0912 		lsl	r2, r9, #4
 771              	.LVL79:
 268:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 772              		.loc 1 268 59 view .LVU195
 773 003c 42F00502 		orr	r2, r2, #5
 268:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 774              		.loc 1 268 29 view .LVU196
 775 0040 824B     		ldr	r3, .L84
 776              	.LVL80:
 268:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 777              		.loc 1 268 29 view .LVU197
 778 0042 4FF49471 		mov	r1, #296
 779              	.LVL81:
 268:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 780              		.loc 1 268 29 view .LVU198
 781 0046 01FB0533 		mla	r3, r1, r5, r3
 782              	.LVL82:
 268:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 783              		.loc 1 268 29 view .LVU199
 784 004a DA70     		strb	r2, [r3, #3]
 269:tinyusb/src/class/midi/midi_device.c ****         }
 785              		.loc 1 269 11 is_stmt 1 view .LVU200
 269:tinyusb/src/class/midi/midi_device.c ****         }
 786              		.loc 1 269 25 is_stmt 0 view .LVU201
 787 004c 1872     		strb	r0, [r3, #8]
 788 004e 60E0     		b	.L56
 789              	.LVL83:
 790              	.L57:
 274:tinyusb/src/class/midi/midi_device.c ****         }
 275:tinyusb/src/class/midi/midi_device.c ****       }
ARM GAS  /tmp/ccqStGVa.s 			page 25


 276:tinyusb/src/class/midi/midi_device.c ****       else if ( (msg >= 0x8 && msg <= 0xB) || msg == 0xE )
 277:tinyusb/src/class/midi/midi_device.c ****       {
 278:tinyusb/src/class/midi/midi_device.c ****         // Channel Voice Messages
 279:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[0] = (uint8_t) ((cable_num << 4) | msg);
 791              		.loc 1 279 9 is_stmt 1 view .LVU202
 792              		.loc 1 279 57 is_stmt 0 view .LVU203
 793 0050 41EA0911 		orr	r1, r1, r9, lsl #4
 794              	.LVL84:
 795              		.loc 1 279 27 view .LVU204
 796 0054 7D4B     		ldr	r3, .L84
 797 0056 4FF49472 		mov	r2, #296
 798              	.LVL85:
 799              		.loc 1 279 27 view .LVU205
 800 005a 02FB0533 		mla	r3, r2, r5, r3
 801              	.LVL86:
 802              		.loc 1 279 27 view .LVU206
 803 005e D970     		strb	r1, [r3, #3]
 280:tinyusb/src/class/midi/midi_device.c ****         stream->total = 4;
 804              		.loc 1 280 9 is_stmt 1 view .LVU207
 805              		.loc 1 280 23 is_stmt 0 view .LVU208
 806 0060 0422     		movs	r2, #4
 807              	.LVL87:
 808              		.loc 1 280 23 view .LVU209
 809 0062 1A72     		strb	r2, [r3, #8]
 810 0064 55E0     		b	.L56
 811              	.LVL88:
 812              	.L82:
 281:tinyusb/src/class/midi/midi_device.c ****       }
 282:tinyusb/src/class/midi/midi_device.c ****       else if ( msg == 0xC || msg == 0xD)
 283:tinyusb/src/class/midi/midi_device.c ****       {
 284:tinyusb/src/class/midi/midi_device.c ****         // Channel Voice Messages, two-byte variants (Program Change and Channel Pressure)
 285:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[0] = (uint8_t) ((cable_num << 4) | msg);
 813              		.loc 1 285 9 is_stmt 1 view .LVU210
 814              		.loc 1 285 57 is_stmt 0 view .LVU211
 815 0066 41EA0911 		orr	r1, r1, r9, lsl #4
 816              	.LVL89:
 817              		.loc 1 285 27 view .LVU212
 818 006a 784B     		ldr	r3, .L84
 819 006c 4FF49472 		mov	r2, #296
 820              	.LVL90:
 821              		.loc 1 285 27 view .LVU213
 822 0070 02FB0533 		mla	r3, r2, r5, r3
 823              	.LVL91:
 824              		.loc 1 285 27 view .LVU214
 825 0074 D970     		strb	r1, [r3, #3]
 286:tinyusb/src/class/midi/midi_device.c ****         stream->total = 3;
 826              		.loc 1 286 9 is_stmt 1 view .LVU215
 827              		.loc 1 286 23 is_stmt 0 view .LVU216
 828 0076 0322     		movs	r2, #3
 829              	.LVL92:
 830              		.loc 1 286 23 view .LVU217
 831 0078 1A72     		strb	r2, [r3, #8]
 832 007a 4AE0     		b	.L56
 833              	.LVL93:
 834              	.L83:
 287:tinyusb/src/class/midi/midi_device.c ****       }
 288:tinyusb/src/class/midi/midi_device.c ****       else if ( msg == 0xf )
ARM GAS  /tmp/ccqStGVa.s 			page 26


 289:tinyusb/src/class/midi/midi_device.c ****       {
 290:tinyusb/src/class/midi/midi_device.c ****         // System message
 291:tinyusb/src/class/midi/midi_device.c ****         if ( data == MIDI_STATUS_SYSEX_START )
 835              		.loc 1 291 9 is_stmt 1 view .LVU218
 836              		.loc 1 291 12 is_stmt 0 view .LVU219
 837 007c F02A     		cmp	r2, #240
 838 007e 0FD0     		beq	.L77
 292:tinyusb/src/class/midi/midi_device.c ****         {
 293:tinyusb/src/class/midi/midi_device.c ****           stream->buffer[0] = MIDI_CIN_SYSEX_START;
 294:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 295:tinyusb/src/class/midi/midi_device.c ****         }
 296:tinyusb/src/class/midi/midi_device.c ****         else if ( data == MIDI_STATUS_SYSCOM_TIME_CODE_QUARTER_FRAME || data == MIDI_STATUS_SYSCOM_
 839              		.loc 1 296 14 is_stmt 1 view .LVU220
 840              		.loc 1 296 17 is_stmt 0 view .LVU221
 841 0080 F12A     		cmp	r2, #241
 842 0082 16D0     		beq	.L63
 843              		.loc 1 296 70 discriminator 1 view .LVU222
 844 0084 F32A     		cmp	r2, #243
 845 0086 14D0     		beq	.L63
 297:tinyusb/src/class/midi/midi_device.c ****         {
 298:tinyusb/src/class/midi/midi_device.c ****           stream->buffer[0] = MIDI_CIN_SYSCOM_2BYTE;
 299:tinyusb/src/class/midi/midi_device.c ****           stream->total = 3;
 300:tinyusb/src/class/midi/midi_device.c ****         }
 301:tinyusb/src/class/midi/midi_device.c ****         else if ( data == MIDI_STATUS_SYSCOM_SONG_POSITION_POINTER )
 846              		.loc 1 301 14 is_stmt 1 view .LVU223
 847              		.loc 1 301 17 is_stmt 0 view .LVU224
 848 0088 F22A     		cmp	r2, #242
 849 008a 27D0     		beq	.L78
 302:tinyusb/src/class/midi/midi_device.c ****         {
 303:tinyusb/src/class/midi/midi_device.c ****           stream->buffer[0] = MIDI_CIN_SYSCOM_3BYTE;
 304:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 305:tinyusb/src/class/midi/midi_device.c ****         }
 306:tinyusb/src/class/midi/midi_device.c ****         else
 307:tinyusb/src/class/midi/midi_device.c ****         {
 308:tinyusb/src/class/midi/midi_device.c ****           stream->buffer[0] = MIDI_CIN_SYSEX_END_1BYTE;
 850              		.loc 1 308 11 is_stmt 1 view .LVU225
 851              		.loc 1 308 29 is_stmt 0 view .LVU226
 852 008c 6F4B     		ldr	r3, .L84
 853 008e 4FF49472 		mov	r2, #296
 854              	.LVL94:
 855              		.loc 1 308 29 view .LVU227
 856 0092 02FB0533 		mla	r3, r2, r5, r3
 857              	.LVL95:
 858              		.loc 1 308 29 view .LVU228
 859 0096 0522     		movs	r2, #5
 860              	.LVL96:
 861              		.loc 1 308 29 view .LVU229
 862 0098 DA70     		strb	r2, [r3, #3]
 309:tinyusb/src/class/midi/midi_device.c ****           stream->total = 2;
 863              		.loc 1 309 11 is_stmt 1 view .LVU230
 864              		.loc 1 309 25 is_stmt 0 view .LVU231
 865 009a 0222     		movs	r2, #2
 866 009c 1A72     		strb	r2, [r3, #8]
 867 009e 11E0     		b	.L62
 868              	.LVL97:
 869              	.L77:
 293:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
ARM GAS  /tmp/ccqStGVa.s 			page 27


 870              		.loc 1 293 11 is_stmt 1 view .LVU232
 293:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 871              		.loc 1 293 29 is_stmt 0 view .LVU233
 872 00a0 6A4B     		ldr	r3, .L84
 873 00a2 4FF49472 		mov	r2, #296
 874              	.LVL98:
 293:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 875              		.loc 1 293 29 view .LVU234
 876 00a6 02FB0533 		mla	r3, r2, r5, r3
 877              	.LVL99:
 293:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 878              		.loc 1 293 29 view .LVU235
 879 00aa 0422     		movs	r2, #4
 880              	.LVL100:
 293:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 881              		.loc 1 293 29 view .LVU236
 882 00ac DA70     		strb	r2, [r3, #3]
 294:tinyusb/src/class/midi/midi_device.c ****         }
 883              		.loc 1 294 11 is_stmt 1 view .LVU237
 294:tinyusb/src/class/midi/midi_device.c ****         }
 884              		.loc 1 294 25 is_stmt 0 view .LVU238
 885 00ae 1A72     		strb	r2, [r3, #8]
 886 00b0 08E0     		b	.L62
 887              	.LVL101:
 888              	.L63:
 298:tinyusb/src/class/midi/midi_device.c ****           stream->total = 3;
 889              		.loc 1 298 11 is_stmt 1 view .LVU239
 298:tinyusb/src/class/midi/midi_device.c ****           stream->total = 3;
 890              		.loc 1 298 29 is_stmt 0 view .LVU240
 891 00b2 664B     		ldr	r3, .L84
 892 00b4 4FF49472 		mov	r2, #296
 893              	.LVL102:
 298:tinyusb/src/class/midi/midi_device.c ****           stream->total = 3;
 894              		.loc 1 298 29 view .LVU241
 895 00b8 02FB0533 		mla	r3, r2, r5, r3
 896              	.LVL103:
 298:tinyusb/src/class/midi/midi_device.c ****           stream->total = 3;
 897              		.loc 1 298 29 view .LVU242
 898 00bc 0222     		movs	r2, #2
 899              	.LVL104:
 298:tinyusb/src/class/midi/midi_device.c ****           stream->total = 3;
 900              		.loc 1 298 29 view .LVU243
 901 00be DA70     		strb	r2, [r3, #3]
 299:tinyusb/src/class/midi/midi_device.c ****         }
 902              		.loc 1 299 11 is_stmt 1 view .LVU244
 299:tinyusb/src/class/midi/midi_device.c ****         }
 903              		.loc 1 299 25 is_stmt 0 view .LVU245
 904 00c0 0322     		movs	r2, #3
 905 00c2 1A72     		strb	r2, [r3, #8]
 906              	.L62:
 310:tinyusb/src/class/midi/midi_device.c ****         }
 311:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[0] |= (uint8_t)(cable_num << 4);
 907              		.loc 1 311 9 is_stmt 1 view .LVU246
 908              		.loc 1 311 30 is_stmt 0 view .LVU247
 909 00c4 4FEA0913 		lsl	r3, r9, #4
 910 00c8 DBB2     		uxtb	r3, r3
 911              		.loc 1 311 27 view .LVU248
ARM GAS  /tmp/ccqStGVa.s 			page 28


 912 00ca 604A     		ldr	r2, .L84
 913              	.LVL105:
 914              		.loc 1 311 27 view .LVU249
 915 00cc 4FF49471 		mov	r1, #296
 916              	.LVL106:
 917              		.loc 1 311 27 view .LVU250
 918 00d0 01FB0522 		mla	r2, r1, r5, r2
 919              	.LVL107:
 920              		.loc 1 311 27 view .LVU251
 921 00d4 D178     		ldrb	r1, [r2, #3]	@ zero_extendqisi2
 922              	.LVL108:
 923              		.loc 1 311 27 view .LVU252
 924 00d6 0B43     		orrs	r3, r3, r1
 925 00d8 D370     		strb	r3, [r2, #3]
 926 00da 1AE0     		b	.L56
 927              	.LVL109:
 928              	.L78:
 303:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 929              		.loc 1 303 11 is_stmt 1 view .LVU253
 303:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 930              		.loc 1 303 29 is_stmt 0 view .LVU254
 931 00dc 5B4B     		ldr	r3, .L84
 932 00de 4FF49472 		mov	r2, #296
 933              	.LVL110:
 303:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 934              		.loc 1 303 29 view .LVU255
 935 00e2 02FB0533 		mla	r3, r2, r5, r3
 936              	.LVL111:
 303:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 937              		.loc 1 303 29 view .LVU256
 938 00e6 0322     		movs	r2, #3
 939              	.LVL112:
 303:tinyusb/src/class/midi/midi_device.c ****           stream->total = 4;
 940              		.loc 1 303 29 view .LVU257
 941 00e8 DA70     		strb	r2, [r3, #3]
 304:tinyusb/src/class/midi/midi_device.c ****         }
 942              		.loc 1 304 11 is_stmt 1 view .LVU258
 304:tinyusb/src/class/midi/midi_device.c ****         }
 943              		.loc 1 304 25 is_stmt 0 view .LVU259
 944 00ea 0422     		movs	r2, #4
 945 00ec 1A72     		strb	r2, [r3, #8]
 946 00ee E9E7     		b	.L62
 947              	.LVL113:
 948              	.L53:
 304:tinyusb/src/class/midi/midi_device.c ****         }
 949              		.loc 1 304 25 view .LVU260
 950              	.LBE50:
 312:tinyusb/src/class/midi/midi_device.c ****       }
 313:tinyusb/src/class/midi/midi_device.c ****       else
 314:tinyusb/src/class/midi/midi_device.c ****       {
 315:tinyusb/src/class/midi/midi_device.c ****         // Pack individual bytes if we don't support packing them into words.
 316:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[0] = (uint8_t) (cable_num << 4 | 0xf);
 317:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[2] = 0;
 318:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[3] = 0;
 319:tinyusb/src/class/midi/midi_device.c ****         stream->index = 2;
 320:tinyusb/src/class/midi/midi_device.c ****         stream->total = 2;
 321:tinyusb/src/class/midi/midi_device.c ****       }
ARM GAS  /tmp/ccqStGVa.s 			page 29


 322:tinyusb/src/class/midi/midi_device.c ****     }
 323:tinyusb/src/class/midi/midi_device.c ****     else
 324:tinyusb/src/class/midi/midi_device.c ****     {
 325:tinyusb/src/class/midi/midi_device.c ****       //------------- On-going (buffering) packet -------------//
 326:tinyusb/src/class/midi/midi_device.c **** 
 327:tinyusb/src/class/midi/midi_device.c ****       TU_ASSERT(stream->index < 4, i);
 951              		.loc 1 327 7 is_stmt 1 view .LVU261
 952              		.loc 1 327 7 view .LVU262
 953 00f0 032B     		cmp	r3, #3
 954 00f2 63D8     		bhi	.L79
 955              		.loc 1 327 7 discriminator 2 view .LVU263
 328:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
 956              		.loc 1 328 7 discriminator 2 view .LVU264
 957              		.loc 1 328 37 is_stmt 0 discriminator 2 view .LVU265
 958 00f4 5549     		ldr	r1, .L84
 959 00f6 4FF49470 		mov	r0, #296
 960 00fa 00FB0511 		mla	r1, r0, r5, r1
 961 00fe C818     		adds	r0, r1, r3
 962 0100 C270     		strb	r2, [r0, #3]
 329:tinyusb/src/class/midi/midi_device.c ****       stream->index++;
 963              		.loc 1 329 7 is_stmt 1 discriminator 2 view .LVU266
 964              		.loc 1 329 20 is_stmt 0 discriminator 2 view .LVU267
 965 0102 0133     		adds	r3, r3, #1
 966 0104 DBB2     		uxtb	r3, r3
 967 0106 CB71     		strb	r3, [r1, #7]
 330:tinyusb/src/class/midi/midi_device.c **** 
 331:tinyusb/src/class/midi/midi_device.c ****       // See if this byte ends a SysEx.
 332:tinyusb/src/class/midi/midi_device.c ****       if ( (stream->buffer[0] & 0xF) == MIDI_CIN_SYSEX_START && data == MIDI_STATUS_SYSEX_END )
 968              		.loc 1 332 7 is_stmt 1 discriminator 2 view .LVU268
 969              		.loc 1 332 27 is_stmt 0 discriminator 2 view .LVU269
 970 0108 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 971              		.loc 1 332 10 discriminator 2 view .LVU270
 972 010a 01F00F01 		and	r1, r1, #15
 973 010e 0429     		cmp	r1, #4
 974 0110 5DD0     		beq	.L80
 975              	.LVL114:
 976              	.L56:
 333:tinyusb/src/class/midi/midi_device.c ****       {
 334:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[0] = (uint8_t) ((cable_num << 4) | (MIDI_CIN_SYSEX_START + (stream->index - 
 335:tinyusb/src/class/midi/midi_device.c ****         stream->total = stream->index;
 336:tinyusb/src/class/midi/midi_device.c ****       }
 337:tinyusb/src/class/midi/midi_device.c ****     }
 338:tinyusb/src/class/midi/midi_device.c **** 
 339:tinyusb/src/class/midi/midi_device.c ****     // Send out packet
 340:tinyusb/src/class/midi/midi_device.c ****     if ( stream->index == stream->total )
 977              		.loc 1 340 5 is_stmt 1 view .LVU271
 978              		.loc 1 340 16 is_stmt 0 view .LVU272
 979 0112 4E4B     		ldr	r3, .L84
 980 0114 4FF49472 		mov	r2, #296
 981 0118 02FB0533 		mla	r3, r2, r5, r3
 982 011c DA79     		ldrb	r2, [r3, #7]	@ zero_extendqisi2
 983              		.loc 1 340 33 view .LVU273
 984 011e 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 985              		.loc 1 340 8 view .LVU274
 986 0120 9A42     		cmp	r2, r3
 987 0122 6CD0     		beq	.L68
 988              	.LVL115:
ARM GAS  /tmp/ccqStGVa.s 			page 30


 989              	.L52:
 990              	.LBB51:
 341:tinyusb/src/class/midi/midi_device.c ****     {
 342:tinyusb/src/class/midi/midi_device.c ****       // zeroes unused bytes
 343:tinyusb/src/class/midi/midi_device.c ****       for(uint8_t idx = stream->total; idx < 4; idx++) stream->buffer[idx] = 0;
 344:tinyusb/src/class/midi/midi_device.c **** 
 345:tinyusb/src/class/midi/midi_device.c ****       uint16_t const count = tu_fifo_write_n(&midi->tx_ff, stream->buffer, 4);
 346:tinyusb/src/class/midi/midi_device.c **** 
 347:tinyusb/src/class/midi/midi_device.c ****       // complete current event packet, reset stream
 348:tinyusb/src/class/midi/midi_device.c ****       stream->index = stream->total = 0;
 349:tinyusb/src/class/midi/midi_device.c **** 
 350:tinyusb/src/class/midi/midi_device.c ****       // FIFO overflown, since we already check fifo remaining. It is probably race condition
 351:tinyusb/src/class/midi/midi_device.c ****       TU_ASSERT(count == 4, i);
 991              		.loc 1 351 7 is_stmt 1 discriminator 2 view .LVU275
 992              	.LBE51:
 993              	.LBE49:
 249:tinyusb/src/class/midi/midi_device.c ****   {
 994              		.loc 1 249 9 discriminator 2 view .LVU276
 995 0124 BE42     		cmp	r6, r7
 996 0126 80F08880 		bcs	.L72
 249:tinyusb/src/class/midi/midi_device.c ****   {
 997              		.loc 1 249 29 is_stmt 0 discriminator 1 view .LVU277
 998 012a 4FF49474 		mov	r4, #296
 999 012e 05FB04F4 		mul	r4, r5, r4
 1000 0132 1834     		adds	r4, r4, #24
 1001 0134 454B     		ldr	r3, .L84
 1002 0136 1C44     		add	r4, r4, r3
 1003 0138 0434     		adds	r4, r4, #4
 1004 013a 2046     		mov	r0, r4
 1005 013c FFF7FEFF 		bl	tu_fifo_remaining
 1006              	.LVL116:
 249:tinyusb/src/class/midi/midi_device.c ****   {
 1007              		.loc 1 249 25 discriminator 1 view .LVU278
 1008 0140 0328     		cmp	r0, #3
 1009 0142 7AD9     		bls	.L72
 1010              	.LBB57:
 251:tinyusb/src/class/midi/midi_device.c ****     i++;
 1011              		.loc 1 251 5 is_stmt 1 view .LVU279
 251:tinyusb/src/class/midi/midi_device.c ****     i++;
 1012              		.loc 1 251 19 is_stmt 0 view .LVU280
 1013 0144 18F80620 		ldrb	r2, [r8, r6]	@ zero_extendqisi2
 1014              	.LVL117:
 252:tinyusb/src/class/midi/midi_device.c **** 
 1015              		.loc 1 252 5 is_stmt 1 view .LVU281
 252:tinyusb/src/class/midi/midi_device.c **** 
 1016              		.loc 1 252 6 is_stmt 0 view .LVU282
 1017 0148 0136     		adds	r6, r6, #1
 1018              	.LVL118:
 254:tinyusb/src/class/midi/midi_device.c ****     {
 1019              		.loc 1 254 5 is_stmt 1 view .LVU283
 254:tinyusb/src/class/midi/midi_device.c ****     {
 1020              		.loc 1 254 16 is_stmt 0 view .LVU284
 1021 014a 404B     		ldr	r3, .L84
 1022 014c 4FF49471 		mov	r1, #296
 1023 0150 01FB0533 		mla	r3, r1, r5, r3
 1024 0154 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 254:tinyusb/src/class/midi/midi_device.c ****     {
ARM GAS  /tmp/ccqStGVa.s 			page 31


 1025              		.loc 1 254 8 view .LVU285
 1026 0156 002B     		cmp	r3, #0
 1027 0158 CAD1     		bne	.L53
 1028              	.LBB54:
 258:tinyusb/src/class/midi/midi_device.c **** 
 1029              		.loc 1 258 7 is_stmt 1 view .LVU286
 258:tinyusb/src/class/midi/midi_device.c **** 
 1030              		.loc 1 258 21 is_stmt 0 view .LVU287
 1031 015a 1109     		lsrs	r1, r2, #4
 1032              	.LVL119:
 260:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[1] = data;
 1033              		.loc 1 260 7 is_stmt 1 view .LVU288
 260:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[1] = data;
 1034              		.loc 1 260 21 is_stmt 0 view .LVU289
 1035 015c 3B4B     		ldr	r3, .L84
 1036 015e 4FF49470 		mov	r0, #296
 1037 0162 00FB0533 		mla	r3, r0, r5, r3
 1038 0166 0220     		movs	r0, #2
 1039 0168 D871     		strb	r0, [r3, #7]
 261:tinyusb/src/class/midi/midi_device.c **** 
 1040              		.loc 1 261 7 is_stmt 1 view .LVU290
 261:tinyusb/src/class/midi/midi_device.c **** 
 1041              		.loc 1 261 25 is_stmt 0 view .LVU291
 1042 016a 1A71     		strb	r2, [r3, #4]
 264:tinyusb/src/class/midi/midi_device.c ****       {
 1043              		.loc 1 264 7 is_stmt 1 view .LVU292
 264:tinyusb/src/class/midi/midi_device.c ****       {
 1044              		.loc 1 264 28 is_stmt 0 view .LVU293
 1045 016c DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 264:tinyusb/src/class/midi/midi_device.c ****       {
 1046              		.loc 1 264 10 view .LVU294
 1047 016e 03F00F03 		and	r3, r3, #15
 1048 0172 042B     		cmp	r3, #4
 1049 0174 3FF456AF 		beq	.L81
 276:tinyusb/src/class/midi/midi_device.c ****       {
 1050              		.loc 1 276 12 is_stmt 1 view .LVU295
 276:tinyusb/src/class/midi/midi_device.c ****       {
 1051              		.loc 1 276 29 is_stmt 0 view .LVU296
 1052 0178 A1F10803 		sub	r3, r1, #8
 1053 017c DBB2     		uxtb	r3, r3
 276:tinyusb/src/class/midi/midi_device.c ****       {
 1054              		.loc 1 276 15 view .LVU297
 1055 017e 032B     		cmp	r3, #3
 1056 0180 7FF666AF 		bls	.L57
 276:tinyusb/src/class/midi/midi_device.c ****       {
 1057              		.loc 1 276 44 discriminator 1 view .LVU298
 1058 0184 0E29     		cmp	r1, #14
 1059 0186 3FF463AF 		beq	.L57
 282:tinyusb/src/class/midi/midi_device.c ****       {
 1060              		.loc 1 282 12 is_stmt 1 view .LVU299
 282:tinyusb/src/class/midi/midi_device.c ****       {
 1061              		.loc 1 282 28 is_stmt 0 view .LVU300
 1062 018a A1F10C03 		sub	r3, r1, #12
 1063 018e DBB2     		uxtb	r3, r3
 282:tinyusb/src/class/midi/midi_device.c ****       {
 1064              		.loc 1 282 15 view .LVU301
 1065 0190 012B     		cmp	r3, #1
ARM GAS  /tmp/ccqStGVa.s 			page 32


 1066 0192 7FF668AF 		bls	.L82
 288:tinyusb/src/class/midi/midi_device.c ****       {
 1067              		.loc 1 288 12 is_stmt 1 view .LVU302
 288:tinyusb/src/class/midi/midi_device.c ****       {
 1068              		.loc 1 288 15 is_stmt 0 view .LVU303
 1069 0196 0F29     		cmp	r1, #15
 1070 0198 3FF470AF 		beq	.L83
 316:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[2] = 0;
 1071              		.loc 1 316 9 is_stmt 1 view .LVU304
 316:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[2] = 0;
 1072              		.loc 1 316 50 is_stmt 0 view .LVU305
 1073 019c 4FEA0912 		lsl	r2, r9, #4
 1074              	.LVL120:
 316:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[2] = 0;
 1075              		.loc 1 316 55 view .LVU306
 1076 01a0 42F00F02 		orr	r2, r2, #15
 316:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[2] = 0;
 1077              		.loc 1 316 27 view .LVU307
 1078 01a4 294B     		ldr	r3, .L84
 1079              	.LVL121:
 316:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[2] = 0;
 1080              		.loc 1 316 27 view .LVU308
 1081 01a6 4FF49471 		mov	r1, #296
 1082              	.LVL122:
 316:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[2] = 0;
 1083              		.loc 1 316 27 view .LVU309
 1084 01aa 01FB0533 		mla	r3, r1, r5, r3
 1085              	.LVL123:
 316:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[2] = 0;
 1086              		.loc 1 316 27 view .LVU310
 1087 01ae DA70     		strb	r2, [r3, #3]
 317:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[3] = 0;
 1088              		.loc 1 317 9 is_stmt 1 view .LVU311
 317:tinyusb/src/class/midi/midi_device.c ****         stream->buffer[3] = 0;
 1089              		.loc 1 317 27 is_stmt 0 view .LVU312
 1090 01b0 0022     		movs	r2, #0
 1091 01b2 5A71     		strb	r2, [r3, #5]
 318:tinyusb/src/class/midi/midi_device.c ****         stream->index = 2;
 1092              		.loc 1 318 9 is_stmt 1 view .LVU313
 318:tinyusb/src/class/midi/midi_device.c ****         stream->index = 2;
 1093              		.loc 1 318 27 is_stmt 0 view .LVU314
 1094 01b4 9A71     		strb	r2, [r3, #6]
 319:tinyusb/src/class/midi/midi_device.c ****         stream->total = 2;
 1095              		.loc 1 319 9 is_stmt 1 view .LVU315
 320:tinyusb/src/class/midi/midi_device.c ****       }
 1096              		.loc 1 320 9 view .LVU316
 320:tinyusb/src/class/midi/midi_device.c ****       }
 1097              		.loc 1 320 23 is_stmt 0 view .LVU317
 1098 01b6 0222     		movs	r2, #2
 1099 01b8 1A72     		strb	r2, [r3, #8]
 1100 01ba AAE7     		b	.L56
 1101              	.LVL124:
 1102              	.L79:
 320:tinyusb/src/class/midi/midi_device.c ****       }
 1103              		.loc 1 320 23 view .LVU318
 1104              	.LBE54:
 327:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
ARM GAS  /tmp/ccqStGVa.s 			page 33


 1105              		.loc 1 327 7 is_stmt 1 discriminator 1 view .LVU319
 327:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
 1106              		.loc 1 327 7 discriminator 1 view .LVU320
 327:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
 1107              		.loc 1 327 7 discriminator 1 view .LVU321
 327:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
 1108              		.loc 1 327 7 discriminator 1 view .LVU322
 1109              	.LBB55:
 327:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
 1110              		.loc 1 327 7 discriminator 1 view .LVU323
 327:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
 1111              		.loc 1 327 7 discriminator 1 view .LVU324
 1112 01bc 4FF0E023 		mov	r3, #-536813568
 1113 01c0 D3F8F03D 		ldr	r3, [r3, #3568]
 1114 01c4 13F0010F 		tst	r3, #1
 1115 01c8 3AD0     		beq	.L50
 327:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
 1116              		.loc 1 327 7 discriminator 3 view .LVU325
 1117              		.syntax unified
 1118              	@ 327 "tinyusb/src/class/midi/midi_device.c" 1
 1119 01ca 00BE     		BKPT #0
 1120              	
 1121              	@ 0 "" 2
 1122              		.thumb
 1123              		.syntax unified
 1124              	.LBE55:
 327:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
 1125              		.loc 1 327 7 discriminator 3 view .LVU326
 327:tinyusb/src/class/midi/midi_device.c ****       stream->buffer[stream->index] = data;
 1126              		.loc 1 327 7 discriminator 3 view .LVU327
 1127 01cc 38E0     		b	.L50
 1128              	.LVL125:
 1129              	.L80:
 332:tinyusb/src/class/midi/midi_device.c ****       {
 1130              		.loc 1 332 62 is_stmt 0 discriminator 1 view .LVU328
 1131 01ce F72A     		cmp	r2, #247
 1132 01d0 9FD1     		bne	.L56
 334:tinyusb/src/class/midi/midi_device.c ****         stream->total = stream->index;
 1133              		.loc 1 334 9 is_stmt 1 view .LVU329
 334:tinyusb/src/class/midi/midi_device.c ****         stream->total = stream->index;
 1134              		.loc 1 334 81 is_stmt 0 view .LVU330
 1135 01d2 DA1C     		adds	r2, r3, #3
 1136              	.LVL126:
 334:tinyusb/src/class/midi/midi_device.c ****         stream->total = stream->index;
 1137              		.loc 1 334 81 view .LVU331
 1138 01d4 52B2     		sxtb	r2, r2
 334:tinyusb/src/class/midi/midi_device.c ****         stream->total = stream->index;
 1139              		.loc 1 334 57 view .LVU332
 1140 01d6 42EA0912 		orr	r2, r2, r9, lsl #4
 334:tinyusb/src/class/midi/midi_device.c ****         stream->total = stream->index;
 1141              		.loc 1 334 27 view .LVU333
 1142 01da 1C49     		ldr	r1, .L84
 1143 01dc 4FF49470 		mov	r0, #296
 1144              	.LVL127:
 334:tinyusb/src/class/midi/midi_device.c ****         stream->total = stream->index;
 1145              		.loc 1 334 27 view .LVU334
 1146 01e0 00FB0511 		mla	r1, r0, r5, r1
ARM GAS  /tmp/ccqStGVa.s 			page 34


 334:tinyusb/src/class/midi/midi_device.c ****         stream->total = stream->index;
 1147              		.loc 1 334 27 view .LVU335
 1148 01e4 CA70     		strb	r2, [r1, #3]
 335:tinyusb/src/class/midi/midi_device.c ****       }
 1149              		.loc 1 335 9 is_stmt 1 view .LVU336
 335:tinyusb/src/class/midi/midi_device.c ****       }
 1150              		.loc 1 335 23 is_stmt 0 view .LVU337
 1151 01e6 0B72     		strb	r3, [r1, #8]
 1152 01e8 93E7     		b	.L56
 1153              	.LVL128:
 1154              	.L70:
 1155              	.LBB56:
 1156              	.LBB52:
 343:tinyusb/src/class/midi/midi_device.c **** 
 1157              		.loc 1 343 56 is_stmt 1 discriminator 3 view .LVU338
 343:tinyusb/src/class/midi/midi_device.c **** 
 1158              		.loc 1 343 76 is_stmt 0 discriminator 3 view .LVU339
 1159 01ea 184A     		ldr	r2, .L84
 1160 01ec 4FF49471 		mov	r1, #296
 1161 01f0 01FB0522 		mla	r2, r1, r5, r2
 1162 01f4 1A44     		add	r2, r2, r3
 1163 01f6 0021     		movs	r1, #0
 1164 01f8 D170     		strb	r1, [r2, #3]
 343:tinyusb/src/class/midi/midi_device.c **** 
 1165              		.loc 1 343 49 is_stmt 1 discriminator 3 view .LVU340
 343:tinyusb/src/class/midi/midi_device.c **** 
 1166              		.loc 1 343 52 is_stmt 0 discriminator 3 view .LVU341
 1167 01fa 0133     		adds	r3, r3, #1
 1168              	.LVL129:
 343:tinyusb/src/class/midi/midi_device.c **** 
 1169              		.loc 1 343 52 discriminator 3 view .LVU342
 1170 01fc DBB2     		uxtb	r3, r3
 1171              	.LVL130:
 1172              	.L68:
 343:tinyusb/src/class/midi/midi_device.c **** 
 1173              		.loc 1 343 40 is_stmt 1 discriminator 1 view .LVU343
 343:tinyusb/src/class/midi/midi_device.c **** 
 1174              		.loc 1 343 7 is_stmt 0 discriminator 1 view .LVU344
 1175 01fe 032B     		cmp	r3, #3
 1176 0200 F3D9     		bls	.L70
 1177              	.LBE52:
 345:tinyusb/src/class/midi/midi_device.c **** 
 1178              		.loc 1 345 7 is_stmt 1 view .LVU345
 345:tinyusb/src/class/midi/midi_device.c **** 
 1179              		.loc 1 345 66 is_stmt 0 view .LVU346
 1180 0202 124B     		ldr	r3, .L84
 1181              	.LVL131:
 345:tinyusb/src/class/midi/midi_device.c **** 
 1182              		.loc 1 345 66 view .LVU347
 1183 0204 4FF4947B 		mov	fp, #296
 1184 0208 0BFB053B 		mla	fp, fp, r5, r3
 345:tinyusb/src/class/midi/midi_device.c **** 
 1185              		.loc 1 345 30 view .LVU348
 1186 020c 0422     		movs	r2, #4
 1187 020e 0BF10301 		add	r1, fp, #3
 1188 0212 2046     		mov	r0, r4
 1189 0214 FFF7FEFF 		bl	tu_fifo_write_n
ARM GAS  /tmp/ccqStGVa.s 			page 35


 1190              	.LVL132:
 348:tinyusb/src/class/midi/midi_device.c **** 
 1191              		.loc 1 348 7 is_stmt 1 view .LVU349
 348:tinyusb/src/class/midi/midi_device.c **** 
 1192              		.loc 1 348 37 is_stmt 0 view .LVU350
 1193 0218 0023     		movs	r3, #0
 1194 021a 8BF80830 		strb	r3, [fp, #8]
 348:tinyusb/src/class/midi/midi_device.c **** 
 1195              		.loc 1 348 21 view .LVU351
 1196 021e 8BF80730 		strb	r3, [fp, #7]
 1197              		.loc 1 351 7 is_stmt 1 view .LVU352
 1198              		.loc 1 351 7 view .LVU353
 1199 0222 0428     		cmp	r0, #4
 1200 0224 3FF47EAF 		beq	.L52
 1201              		.loc 1 351 7 discriminator 1 view .LVU354
 1202              		.loc 1 351 7 discriminator 1 view .LVU355
 1203              		.loc 1 351 7 discriminator 1 view .LVU356
 1204              		.loc 1 351 7 discriminator 1 view .LVU357
 1205              	.LBB53:
 1206              		.loc 1 351 7 discriminator 1 view .LVU358
 1207              	.LVL133:
 1208              		.loc 1 351 7 discriminator 1 view .LVU359
 1209 0228 4FF0E023 		mov	r3, #-536813568
 1210 022c D3F8F03D 		ldr	r3, [r3, #3568]
 1211 0230 13F0010F 		tst	r3, #1
 1212 0234 04D0     		beq	.L50
 1213              		.loc 1 351 7 discriminator 3 view .LVU360
 1214              		.syntax unified
 1215              	@ 351 "tinyusb/src/class/midi/midi_device.c" 1
 1216 0236 00BE     		BKPT #0
 1217              	
 1218              	@ 0 "" 2
 1219              		.thumb
 1220              		.syntax unified
 1221              	.LBE53:
 1222              		.loc 1 351 7 discriminator 3 view .LVU361
 1223              		.loc 1 351 7 discriminator 3 view .LVU362
 1224 0238 02E0     		b	.L50
 1225              	.LVL134:
 1226              	.L72:
 1227              		.loc 1 351 7 is_stmt 0 discriminator 3 view .LVU363
 1228              	.LBE56:
 1229              	.LBE57:
 352:tinyusb/src/class/midi/midi_device.c ****     }
 353:tinyusb/src/class/midi/midi_device.c ****   }
 354:tinyusb/src/class/midi/midi_device.c **** 
 355:tinyusb/src/class/midi/midi_device.c ****   write_flush(midi);
 1230              		.loc 1 355 3 is_stmt 1 view .LVU364
 1231 023a 5046     		mov	r0, r10
 1232 023c FFF7FEFF 		bl	write_flush
 1233              	.LVL135:
 356:tinyusb/src/class/midi/midi_device.c **** 
 357:tinyusb/src/class/midi/midi_device.c ****   return i;
 1234              		.loc 1 357 3 view .LVU365
 1235              	.L50:
 358:tinyusb/src/class/midi/midi_device.c **** }
 1236              		.loc 1 358 1 is_stmt 0 view .LVU366
ARM GAS  /tmp/ccqStGVa.s 			page 36


 1237 0240 3046     		mov	r0, r6
 1238 0242 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1239              	.LVL136:
 1240              	.L74:
 244:tinyusb/src/class/midi/midi_device.c **** 
 1241              		.loc 1 244 3 view .LVU367
 1242 0246 0026     		movs	r6, #0
 1243 0248 FAE7     		b	.L50
 1244              	.L85:
 1245 024a 00BF     		.align	2
 1246              	.L84:
 1247 024c 00000000 		.word	.LANCHOR0
 1248              		.cfi_endproc
 1249              	.LFE77:
 1251              		.section	.text.tud_midi_n_packet_write,"ax",%progbits
 1252              		.align	1
 1253              		.global	tud_midi_n_packet_write
 1254              		.syntax unified
 1255              		.thumb
 1256              		.thumb_func
 1257              		.fpu fpv4-sp-d16
 1259              	tud_midi_n_packet_write:
 1260              	.LVL137:
 1261              	.LFB78:
 359:tinyusb/src/class/midi/midi_device.c **** 
 360:tinyusb/src/class/midi/midi_device.c **** bool tud_midi_n_packet_write (uint8_t itf, uint8_t const packet[4])
 361:tinyusb/src/class/midi/midi_device.c **** {
 1262              		.loc 1 361 1 is_stmt 1 view -0
 1263              		.cfi_startproc
 1264              		@ args = 0, pretend = 0, frame = 0
 1265              		@ frame_needed = 0, uses_anonymous_args = 0
 1266              		.loc 1 361 1 is_stmt 0 view .LVU369
 1267 0000 70B5     		push	{r4, r5, r6, lr}
 1268              	.LCFI6:
 1269              		.cfi_def_cfa_offset 16
 1270              		.cfi_offset 4, -16
 1271              		.cfi_offset 5, -12
 1272              		.cfi_offset 6, -8
 1273              		.cfi_offset 14, -4
 362:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* midi = &_midid_itf[itf];
 1274              		.loc 1 362 3 is_stmt 1 view .LVU370
 1275              		.loc 1 362 22 is_stmt 0 view .LVU371
 1276 0002 114C     		ldr	r4, .L93
 1277 0004 4FF49473 		mov	r3, #296
 1278 0008 03FB0044 		mla	r4, r3, r0, r4
 1279              	.LVL138:
 363:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(midi->ep_in);
 1280              		.loc 1 363 3 is_stmt 1 view .LVU372
 1281              		.loc 1 363 3 view .LVU373
 1282 000c 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1283 000e 0BB9     		cbnz	r3, .L91
 1284 0010 0020     		movs	r0, #0
 1285              	.LVL139:
 1286              	.L87:
 364:tinyusb/src/class/midi/midi_device.c **** 
 365:tinyusb/src/class/midi/midi_device.c ****   if (tu_fifo_remaining(&midi->tx_ff) < 4) return false;
 366:tinyusb/src/class/midi/midi_device.c **** 
ARM GAS  /tmp/ccqStGVa.s 			page 37


 367:tinyusb/src/class/midi/midi_device.c ****   tu_fifo_write_n(&midi->tx_ff, packet, 4);
 368:tinyusb/src/class/midi/midi_device.c ****   write_flush(midi);
 369:tinyusb/src/class/midi/midi_device.c **** 
 370:tinyusb/src/class/midi/midi_device.c ****   return true;
 371:tinyusb/src/class/midi/midi_device.c **** }
 1287              		.loc 1 371 1 is_stmt 0 view .LVU374
 1288 0012 70BD     		pop	{r4, r5, r6, pc}
 1289              	.LVL140:
 1290              	.L91:
 1291              		.loc 1 371 1 view .LVU375
 1292 0014 0D46     		mov	r5, r1
 363:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(midi->ep_in);
 1293              		.loc 1 363 3 is_stmt 1 discriminator 2 view .LVU376
 365:tinyusb/src/class/midi/midi_device.c **** 
 1294              		.loc 1 365 3 discriminator 2 view .LVU377
 365:tinyusb/src/class/midi/midi_device.c **** 
 1295              		.loc 1 365 7 is_stmt 0 discriminator 2 view .LVU378
 1296 0016 4FF49473 		mov	r3, #296
 1297 001a 03FB00F0 		mul	r0, r3, r0
 1298              	.LVL141:
 365:tinyusb/src/class/midi/midi_device.c **** 
 1299              		.loc 1 365 7 discriminator 2 view .LVU379
 1300 001e 1830     		adds	r0, r0, #24
 1301 0020 094E     		ldr	r6, .L93
 1302 0022 3044     		add	r0, r0, r6
 1303 0024 061D     		adds	r6, r0, #4
 1304 0026 3046     		mov	r0, r6
 1305 0028 FFF7FEFF 		bl	tu_fifo_remaining
 1306              	.LVL142:
 365:tinyusb/src/class/midi/midi_device.c **** 
 1307              		.loc 1 365 6 discriminator 2 view .LVU380
 1308 002c 0328     		cmp	r0, #3
 1309 002e 01D8     		bhi	.L92
 365:tinyusb/src/class/midi/midi_device.c **** 
 1310              		.loc 1 365 51 view .LVU381
 1311 0030 0020     		movs	r0, #0
 1312 0032 EEE7     		b	.L87
 1313              	.L92:
 367:tinyusb/src/class/midi/midi_device.c ****   write_flush(midi);
 1314              		.loc 1 367 3 is_stmt 1 view .LVU382
 1315 0034 0422     		movs	r2, #4
 1316 0036 2946     		mov	r1, r5
 1317 0038 3046     		mov	r0, r6
 1318 003a FFF7FEFF 		bl	tu_fifo_write_n
 1319              	.LVL143:
 368:tinyusb/src/class/midi/midi_device.c **** 
 1320              		.loc 1 368 3 view .LVU383
 1321 003e 2046     		mov	r0, r4
 1322 0040 FFF7FEFF 		bl	write_flush
 1323              	.LVL144:
 370:tinyusb/src/class/midi/midi_device.c **** }
 1324              		.loc 1 370 3 view .LVU384
 370:tinyusb/src/class/midi/midi_device.c **** }
 1325              		.loc 1 370 10 is_stmt 0 view .LVU385
 1326 0044 0120     		movs	r0, #1
 1327 0046 E4E7     		b	.L87
 1328              	.L94:
ARM GAS  /tmp/ccqStGVa.s 			page 38


 1329              		.align	2
 1330              	.L93:
 1331 0048 00000000 		.word	.LANCHOR0
 1332              		.cfi_endproc
 1333              	.LFE78:
 1335              		.section	.text.midid_init,"ax",%progbits
 1336              		.align	1
 1337              		.global	midid_init
 1338              		.syntax unified
 1339              		.thumb
 1340              		.thumb_func
 1341              		.fpu fpv4-sp-d16
 1343              	midid_init:
 1344              	.LFB79:
 372:tinyusb/src/class/midi/midi_device.c **** 
 373:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
 374:tinyusb/src/class/midi/midi_device.c **** // USBD Driver API
 375:tinyusb/src/class/midi/midi_device.c **** //--------------------------------------------------------------------+
 376:tinyusb/src/class/midi/midi_device.c **** void midid_init(void)
 377:tinyusb/src/class/midi/midi_device.c **** {
 1345              		.loc 1 377 1 is_stmt 1 view -0
 1346              		.cfi_startproc
 1347              		@ args = 0, pretend = 0, frame = 0
 1348              		@ frame_needed = 0, uses_anonymous_args = 0
 1349 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1350              	.LCFI7:
 1351              		.cfi_def_cfa_offset 20
 1352              		.cfi_offset 4, -20
 1353              		.cfi_offset 5, -16
 1354              		.cfi_offset 6, -12
 1355              		.cfi_offset 7, -8
 1356              		.cfi_offset 14, -4
 1357 0002 83B0     		sub	sp, sp, #12
 1358              	.LCFI8:
 1359              		.cfi_def_cfa_offset 32
 378:tinyusb/src/class/midi/midi_device.c ****   tu_memclr(_midid_itf, sizeof(_midid_itf));
 1360              		.loc 1 378 3 view .LVU387
 1361 0004 4FF49472 		mov	r2, #296
 1362 0008 0021     		movs	r1, #0
 1363 000a 1348     		ldr	r0, .L99
 1364 000c FFF7FEFF 		bl	memset
 1365              	.LVL145:
 379:tinyusb/src/class/midi/midi_device.c **** 
 380:tinyusb/src/class/midi/midi_device.c ****   for(uint8_t i=0; i<CFG_TUD_MIDI; i++)
 1366              		.loc 1 380 3 view .LVU388
 1367              	.LBB58:
 1368              		.loc 1 380 7 view .LVU389
 1369              		.loc 1 380 15 is_stmt 0 view .LVU390
 1370 0010 0025     		movs	r5, #0
 1371              	.LVL146:
 1372              	.L96:
 1373              		.loc 1 380 20 is_stmt 1 discriminator 1 view .LVU391
 1374              		.loc 1 380 3 is_stmt 0 discriminator 1 view .LVU392
 1375 0012 0DB1     		cbz	r5, .L97
 1376              	.LBE58:
 381:tinyusb/src/class/midi/midi_device.c ****   {
 382:tinyusb/src/class/midi/midi_device.c ****     midid_interface_t* midi = &_midid_itf[i];
ARM GAS  /tmp/ccqStGVa.s 			page 39


 383:tinyusb/src/class/midi/midi_device.c **** 
 384:tinyusb/src/class/midi/midi_device.c ****     // config fifo
 385:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_config(&midi->rx_ff, midi->rx_ff_buf, CFG_TUD_MIDI_RX_BUFSIZE, 1, false); // true, true
 386:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_config(&midi->tx_ff, midi->tx_ff_buf, CFG_TUD_MIDI_TX_BUFSIZE, 1, false); // OBVS.
 387:tinyusb/src/class/midi/midi_device.c **** 
 388:tinyusb/src/class/midi/midi_device.c ****     #if CFG_FIFO_MUTEX
 389:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_config_mutex(&midi->rx_ff, NULL, osal_mutex_create(&midi->rx_ff_mutex));
 390:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_config_mutex(&midi->tx_ff, osal_mutex_create(&midi->tx_ff_mutex), NULL);
 391:tinyusb/src/class/midi/midi_device.c ****     #endif
 392:tinyusb/src/class/midi/midi_device.c ****   }
 393:tinyusb/src/class/midi/midi_device.c **** }
 1377              		.loc 1 393 1 view .LVU393
 1378 0014 03B0     		add	sp, sp, #12
 1379              	.LCFI9:
 1380              		.cfi_remember_state
 1381              		.cfi_def_cfa_offset 20
 1382              		@ sp needed
 1383 0016 F0BD     		pop	{r4, r5, r6, r7, pc}
 1384              	.LVL147:
 1385              	.L97:
 1386              	.LCFI10:
 1387              		.cfi_restore_state
 1388              	.LBB60:
 1389              	.LBB59:
 382:tinyusb/src/class/midi/midi_device.c **** 
 1390              		.loc 1 382 5 is_stmt 1 discriminator 3 view .LVU394
 385:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_config(&midi->tx_ff, midi->tx_ff_buf, CFG_TUD_MIDI_TX_BUFSIZE, 1, false); // OBVS.
 1391              		.loc 1 385 5 discriminator 3 view .LVU395
 385:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_config(&midi->tx_ff, midi->tx_ff_buf, CFG_TUD_MIDI_TX_BUFSIZE, 1, false); // OBVS.
 1392              		.loc 1 385 38 is_stmt 0 discriminator 3 view .LVU396
 1393 0018 0F4F     		ldr	r7, .L99
 1394 001a 4FF49474 		mov	r4, #296
 1395 001e 05FB04F4 		mul	r4, r5, r4
 1396 0022 04F12801 		add	r1, r4, #40
 385:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_config(&midi->tx_ff, midi->tx_ff_buf, CFG_TUD_MIDI_TX_BUFSIZE, 1, false); // OBVS.
 1397              		.loc 1 385 5 discriminator 3 view .LVU397
 1398 0026 04F11000 		add	r0, r4, #16
 1399 002a 0026     		movs	r6, #0
 1400 002c 0096     		str	r6, [sp]
 1401 002e 0123     		movs	r3, #1
 1402 0030 4022     		movs	r2, #64
 1403 0032 3944     		add	r1, r1, r7
 1404 0034 3844     		add	r0, r0, r7
 1405 0036 FFF7FEFF 		bl	tu_fifo_config
 1406              	.LVL148:
 386:tinyusb/src/class/midi/midi_device.c **** 
 1407              		.loc 1 386 5 is_stmt 1 discriminator 3 view .LVU398
 386:tinyusb/src/class/midi/midi_device.c **** 
 1408              		.loc 1 386 38 is_stmt 0 discriminator 3 view .LVU399
 1409 003a 04F16801 		add	r1, r4, #104
 386:tinyusb/src/class/midi/midi_device.c **** 
 1410              		.loc 1 386 5 discriminator 3 view .LVU400
 1411 003e 04F11800 		add	r0, r4, #24
 1412 0042 3844     		add	r0, r0, r7
 1413 0044 0096     		str	r6, [sp]
 1414 0046 0123     		movs	r3, #1
 1415 0048 4022     		movs	r2, #64
ARM GAS  /tmp/ccqStGVa.s 			page 40


 1416 004a 3944     		add	r1, r1, r7
 1417 004c 0430     		adds	r0, r0, #4
 1418 004e FFF7FEFF 		bl	tu_fifo_config
 1419              	.LVL149:
 1420              	.LBE59:
 380:tinyusb/src/class/midi/midi_device.c ****   {
 1421              		.loc 1 380 36 is_stmt 1 discriminator 3 view .LVU401
 380:tinyusb/src/class/midi/midi_device.c ****   {
 1422              		.loc 1 380 37 is_stmt 0 discriminator 3 view .LVU402
 1423 0052 0135     		adds	r5, r5, #1
 1424              	.LVL150:
 380:tinyusb/src/class/midi/midi_device.c ****   {
 1425              		.loc 1 380 37 discriminator 3 view .LVU403
 1426 0054 EDB2     		uxtb	r5, r5
 1427              	.LVL151:
 380:tinyusb/src/class/midi/midi_device.c ****   {
 1428              		.loc 1 380 37 discriminator 3 view .LVU404
 1429 0056 DCE7     		b	.L96
 1430              	.L100:
 1431              		.align	2
 1432              	.L99:
 1433 0058 00000000 		.word	.LANCHOR0
 1434              	.LBE60:
 1435              		.cfi_endproc
 1436              	.LFE79:
 1438              		.section	.text.midid_reset,"ax",%progbits
 1439              		.align	1
 1440              		.global	midid_reset
 1441              		.syntax unified
 1442              		.thumb
 1443              		.thumb_func
 1444              		.fpu fpv4-sp-d16
 1446              	midid_reset:
 1447              	.LVL152:
 1448              	.LFB80:
 394:tinyusb/src/class/midi/midi_device.c **** 
 395:tinyusb/src/class/midi/midi_device.c **** void midid_reset(uint8_t rhport)
 396:tinyusb/src/class/midi/midi_device.c **** {
 1449              		.loc 1 396 1 is_stmt 1 view -0
 1450              		.cfi_startproc
 1451              		@ args = 0, pretend = 0, frame = 0
 1452              		@ frame_needed = 0, uses_anonymous_args = 0
 1453              		.loc 1 396 1 is_stmt 0 view .LVU406
 1454 0000 70B5     		push	{r4, r5, r6, lr}
 1455              	.LCFI11:
 1456              		.cfi_def_cfa_offset 16
 1457              		.cfi_offset 4, -16
 1458              		.cfi_offset 5, -12
 1459              		.cfi_offset 6, -8
 1460              		.cfi_offset 14, -4
 397:tinyusb/src/class/midi/midi_device.c ****   (void) rhport;
 1461              		.loc 1 397 3 is_stmt 1 view .LVU407
 398:tinyusb/src/class/midi/midi_device.c **** 
 399:tinyusb/src/class/midi/midi_device.c ****   for(uint8_t i=0; i<CFG_TUD_MIDI; i++)
 1462              		.loc 1 399 3 view .LVU408
 1463              	.LBB61:
 1464              		.loc 1 399 7 view .LVU409
ARM GAS  /tmp/ccqStGVa.s 			page 41


 1465              	.LVL153:
 1466              		.loc 1 399 15 is_stmt 0 view .LVU410
 1467 0002 0025     		movs	r5, #0
 1468              	.LVL154:
 1469              	.L102:
 1470              		.loc 1 399 20 is_stmt 1 discriminator 1 view .LVU411
 1471              		.loc 1 399 3 is_stmt 0 discriminator 1 view .LVU412
 1472 0004 05B1     		cbz	r5, .L103
 1473              	.LBE61:
 400:tinyusb/src/class/midi/midi_device.c ****   {
 401:tinyusb/src/class/midi/midi_device.c ****     midid_interface_t* midi = &_midid_itf[i];
 402:tinyusb/src/class/midi/midi_device.c ****     tu_memclr(midi, ITF_MEM_RESET_SIZE);
 403:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_clear(&midi->rx_ff);
 404:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_clear(&midi->tx_ff);
 405:tinyusb/src/class/midi/midi_device.c ****   }
 406:tinyusb/src/class/midi/midi_device.c **** }
 1474              		.loc 1 406 1 view .LVU413
 1475 0006 70BD     		pop	{r4, r5, r6, pc}
 1476              	.LVL155:
 1477              	.L103:
 1478              	.LBB63:
 1479              	.LBB62:
 401:tinyusb/src/class/midi/midi_device.c ****     tu_memclr(midi, ITF_MEM_RESET_SIZE);
 1480              		.loc 1 401 5 is_stmt 1 discriminator 3 view .LVU414
 401:tinyusb/src/class/midi/midi_device.c ****     tu_memclr(midi, ITF_MEM_RESET_SIZE);
 1481              		.loc 1 401 24 is_stmt 0 discriminator 3 view .LVU415
 1482 0008 0B4E     		ldr	r6, .L105
 1483 000a 4FF49474 		mov	r4, #296
 1484 000e 05FB04F4 		mul	r4, r5, r4
 1485 0012 3219     		adds	r2, r6, r4
 1486              	.LVL156:
 402:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_clear(&midi->rx_ff);
 1487              		.loc 1 402 5 is_stmt 1 discriminator 3 view .LVU416
 1488 0014 0023     		movs	r3, #0
 1489 0016 3351     		str	r3, [r6, r4]	@ unaligned
 1490 0018 5360     		str	r3, [r2, #4]	@ unaligned
 1491 001a 9360     		str	r3, [r2, #8]	@ unaligned
 1492 001c D360     		str	r3, [r2, #12]	@ unaligned
 403:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_clear(&midi->tx_ff);
 1493              		.loc 1 403 5 discriminator 3 view .LVU417
 1494 001e 04F11000 		add	r0, r4, #16
 1495 0022 3044     		add	r0, r0, r6
 1496 0024 FFF7FEFF 		bl	tu_fifo_clear
 1497              	.LVL157:
 404:tinyusb/src/class/midi/midi_device.c ****   }
 1498              		.loc 1 404 5 discriminator 3 view .LVU418
 1499 0028 1834     		adds	r4, r4, #24
 1500              	.LVL158:
 404:tinyusb/src/class/midi/midi_device.c ****   }
 1501              		.loc 1 404 5 is_stmt 0 discriminator 3 view .LVU419
 1502 002a 3444     		add	r4, r4, r6
 1503              	.LVL159:
 404:tinyusb/src/class/midi/midi_device.c ****   }
 1504              		.loc 1 404 5 discriminator 3 view .LVU420
 1505 002c 201D     		adds	r0, r4, #4
 1506 002e FFF7FEFF 		bl	tu_fifo_clear
 1507              	.LVL160:
ARM GAS  /tmp/ccqStGVa.s 			page 42


 1508              	.LBE62:
 399:tinyusb/src/class/midi/midi_device.c ****   {
 1509              		.loc 1 399 36 is_stmt 1 discriminator 3 view .LVU421
 399:tinyusb/src/class/midi/midi_device.c ****   {
 1510              		.loc 1 399 37 is_stmt 0 discriminator 3 view .LVU422
 1511 0032 0135     		adds	r5, r5, #1
 1512              	.LVL161:
 399:tinyusb/src/class/midi/midi_device.c ****   {
 1513              		.loc 1 399 37 discriminator 3 view .LVU423
 1514 0034 EDB2     		uxtb	r5, r5
 1515              	.LVL162:
 399:tinyusb/src/class/midi/midi_device.c ****   {
 1516              		.loc 1 399 37 discriminator 3 view .LVU424
 1517 0036 E5E7     		b	.L102
 1518              	.L106:
 1519              		.align	2
 1520              	.L105:
 1521 0038 00000000 		.word	.LANCHOR0
 1522              	.LBE63:
 1523              		.cfi_endproc
 1524              	.LFE80:
 1526              		.section	.text.midid_open,"ax",%progbits
 1527              		.align	1
 1528              		.global	midid_open
 1529              		.syntax unified
 1530              		.thumb
 1531              		.thumb_func
 1532              		.fpu fpv4-sp-d16
 1534              	midid_open:
 1535              	.LVL163:
 1536              	.LFB81:
 407:tinyusb/src/class/midi/midi_device.c **** 
 408:tinyusb/src/class/midi/midi_device.c **** uint16_t midid_open(uint8_t rhport, tusb_desc_interface_t const * desc_itf, uint16_t max_len)
 409:tinyusb/src/class/midi/midi_device.c **** {
 1537              		.loc 1 409 1 is_stmt 1 view -0
 1538              		.cfi_startproc
 1539              		@ args = 0, pretend = 0, frame = 0
 1540              		@ frame_needed = 0, uses_anonymous_args = 0
 1541              		.loc 1 409 1 is_stmt 0 view .LVU426
 1542 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1543              	.LCFI12:
 1544              		.cfi_def_cfa_offset 32
 1545              		.cfi_offset 4, -32
 1546              		.cfi_offset 5, -28
 1547              		.cfi_offset 6, -24
 1548              		.cfi_offset 7, -20
 1549              		.cfi_offset 8, -16
 1550              		.cfi_offset 9, -12
 1551              		.cfi_offset 10, -8
 1552              		.cfi_offset 14, -4
 410:tinyusb/src/class/midi/midi_device.c ****   // 1st Interface is Audio Control v1
 411:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(TUSB_CLASS_AUDIO               == desc_itf->bInterfaceClass    &&
 1553              		.loc 1 411 3 is_stmt 1 view .LVU427
 1554              		.loc 1 411 3 view .LVU428
 1555 0004 4B79     		ldrb	r3, [r1, #5]	@ zero_extendqisi2
 1556 0006 012B     		cmp	r3, #1
 1557 0008 40F08680 		bne	.L126
ARM GAS  /tmp/ccqStGVa.s 			page 43


 1558 000c 0646     		mov	r6, r0
 1559 000e 1546     		mov	r5, r2
 1560              		.loc 1 411 3 is_stmt 0 discriminator 2 view .LVU429
 1561 0010 8B79     		ldrb	r3, [r1, #6]	@ zero_extendqisi2
 1562 0012 012B     		cmp	r3, #1
 1563 0014 40F08480 		bne	.L127
 1564              		.loc 1 411 3 discriminator 4 view .LVU430
 1565 0018 CB79     		ldrb	r3, [r1, #7]	@ zero_extendqisi2
 1566 001a 002B     		cmp	r3, #0
 1567 001c 40F08280 		bne	.L128
 1568              		.loc 1 411 3 is_stmt 1 view .LVU431
 412:tinyusb/src/class/midi/midi_device.c ****             AUDIO_SUBCLASS_CONTROL         == desc_itf->bInterfaceSubClass &&
 413:tinyusb/src/class/midi/midi_device.c ****             AUDIO_FUNC_PROTOCOL_CODE_UNDEF == desc_itf->bInterfaceProtocol, 0);
 414:tinyusb/src/class/midi/midi_device.c **** 
 415:tinyusb/src/class/midi/midi_device.c ****   uint16_t drv_len = tu_desc_len(desc_itf);
 1569              		.loc 1 415 3 view .LVU432
 1570              	.LVL164:
 1571              	.LBB64:
 1572              	.LBI64:
 1573              		.file 3 "tinyusb/src/common/tusb_types.h"
   1:tinyusb/src/common/tusb_types.h **** /*
   2:tinyusb/src/common/tusb_types.h ****  * The MIT License (MIT)
   3:tinyusb/src/common/tusb_types.h ****  *
   4:tinyusb/src/common/tusb_types.h ****  * Copyright (c) 2019 Ha Thach (tinyusb.org)
   5:tinyusb/src/common/tusb_types.h ****  *
   6:tinyusb/src/common/tusb_types.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy
   7:tinyusb/src/common/tusb_types.h ****  * of this software and associated documentation files (the "Software"), to deal
   8:tinyusb/src/common/tusb_types.h ****  * in the Software without restriction, including without limitation the rights
   9:tinyusb/src/common/tusb_types.h ****  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  10:tinyusb/src/common/tusb_types.h ****  * copies of the Software, and to permit persons to whom the Software is
  11:tinyusb/src/common/tusb_types.h ****  * furnished to do so, subject to the following conditions:
  12:tinyusb/src/common/tusb_types.h ****  *
  13:tinyusb/src/common/tusb_types.h ****  * The above copyright notice and this permission notice shall be included in
  14:tinyusb/src/common/tusb_types.h ****  * all copies or substantial portions of the Software.
  15:tinyusb/src/common/tusb_types.h ****  *
  16:tinyusb/src/common/tusb_types.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  17:tinyusb/src/common/tusb_types.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  18:tinyusb/src/common/tusb_types.h ****  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  19:tinyusb/src/common/tusb_types.h ****  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  20:tinyusb/src/common/tusb_types.h ****  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  21:tinyusb/src/common/tusb_types.h ****  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  22:tinyusb/src/common/tusb_types.h ****  * THE SOFTWARE.
  23:tinyusb/src/common/tusb_types.h ****  *
  24:tinyusb/src/common/tusb_types.h ****  * This file is part of the TinyUSB stack.
  25:tinyusb/src/common/tusb_types.h ****  */
  26:tinyusb/src/common/tusb_types.h **** 
  27:tinyusb/src/common/tusb_types.h **** /** \ingroup group_usb_definitions
  28:tinyusb/src/common/tusb_types.h ****  *  \defgroup USBDef_Type USB Types
  29:tinyusb/src/common/tusb_types.h ****  *  @{ */
  30:tinyusb/src/common/tusb_types.h **** 
  31:tinyusb/src/common/tusb_types.h **** #ifndef _TUSB_TYPES_H_
  32:tinyusb/src/common/tusb_types.h **** #define _TUSB_TYPES_H_
  33:tinyusb/src/common/tusb_types.h **** 
  34:tinyusb/src/common/tusb_types.h **** #include <stdbool.h>
  35:tinyusb/src/common/tusb_types.h **** #include <stdint.h>
  36:tinyusb/src/common/tusb_types.h **** #include "tusb_compiler.h"
  37:tinyusb/src/common/tusb_types.h **** 
ARM GAS  /tmp/ccqStGVa.s 			page 44


  38:tinyusb/src/common/tusb_types.h **** #ifdef __cplusplus
  39:tinyusb/src/common/tusb_types.h ****  extern "C" {
  40:tinyusb/src/common/tusb_types.h **** #endif
  41:tinyusb/src/common/tusb_types.h **** 
  42:tinyusb/src/common/tusb_types.h **** /*------------------------------------------------------------------*/
  43:tinyusb/src/common/tusb_types.h **** /* CONSTANTS
  44:tinyusb/src/common/tusb_types.h ****  *------------------------------------------------------------------*/
  45:tinyusb/src/common/tusb_types.h **** 
  46:tinyusb/src/common/tusb_types.h **** /// defined base on EHCI specs value for Endpoint Speed
  47:tinyusb/src/common/tusb_types.h **** typedef enum
  48:tinyusb/src/common/tusb_types.h **** {
  49:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_FULL = 0,
  50:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_LOW  = 1,
  51:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_HIGH = 2,
  52:tinyusb/src/common/tusb_types.h ****   TUSB_SPEED_INVALID = 0xff,
  53:tinyusb/src/common/tusb_types.h **** }tusb_speed_t;
  54:tinyusb/src/common/tusb_types.h **** 
  55:tinyusb/src/common/tusb_types.h **** /// defined base on USB Specs Endpoint's bmAttributes
  56:tinyusb/src/common/tusb_types.h **** typedef enum
  57:tinyusb/src/common/tusb_types.h **** {
  58:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_CONTROL = 0 ,
  59:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_ISOCHRONOUS ,
  60:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_BULK        ,
  61:tinyusb/src/common/tusb_types.h ****   TUSB_XFER_INTERRUPT
  62:tinyusb/src/common/tusb_types.h **** }tusb_xfer_type_t;
  63:tinyusb/src/common/tusb_types.h **** 
  64:tinyusb/src/common/tusb_types.h **** typedef enum
  65:tinyusb/src/common/tusb_types.h **** {
  66:tinyusb/src/common/tusb_types.h ****   TUSB_DIR_OUT = 0,
  67:tinyusb/src/common/tusb_types.h ****   TUSB_DIR_IN  = 1,
  68:tinyusb/src/common/tusb_types.h **** 
  69:tinyusb/src/common/tusb_types.h ****   TUSB_DIR_IN_MASK = 0x80
  70:tinyusb/src/common/tusb_types.h **** }tusb_dir_t;
  71:tinyusb/src/common/tusb_types.h **** 
  72:tinyusb/src/common/tusb_types.h **** enum
  73:tinyusb/src/common/tusb_types.h **** {
  74:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_BULK_FS = 64,
  75:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_BULK_HS= 512,
  76:tinyusb/src/common/tusb_types.h **** 
  77:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_ISO_FS_MAX = 1023,
  78:tinyusb/src/common/tusb_types.h ****   TUSB_EPSIZE_ISO_HS_MAX = 1024,
  79:tinyusb/src/common/tusb_types.h **** };
  80:tinyusb/src/common/tusb_types.h **** 
  81:tinyusb/src/common/tusb_types.h **** /// Isochronous End Point Attributes
  82:tinyusb/src/common/tusb_types.h **** typedef enum
  83:tinyusb/src/common/tusb_types.h **** {
  84:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_NO_SYNC         = 0x00,
  85:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_ASYNCHRONOUS    = 0x04,
  86:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_ADAPTIVE        = 0x08,
  87:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_SYNCHRONOUS     = 0x0C,
  88:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_DATA            = 0x00, ///< Data End Point
  89:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_EXPLICIT_FB     = 0x10, ///< Feedback End Point
  90:tinyusb/src/common/tusb_types.h ****   TUSB_ISO_EP_ATT_IMPLICIT_FB     = 0x20, ///< Data endpoint that also serves as an implicit feedba
  91:tinyusb/src/common/tusb_types.h **** }tusb_iso_ep_attribute_t;
  92:tinyusb/src/common/tusb_types.h **** 
  93:tinyusb/src/common/tusb_types.h **** /// USB Descriptor Types
  94:tinyusb/src/common/tusb_types.h **** typedef enum
ARM GAS  /tmp/ccqStGVa.s 			page 45


  95:tinyusb/src/common/tusb_types.h **** {
  96:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEVICE                = 0x01,
  97:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CONFIGURATION         = 0x02,
  98:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_STRING                = 0x03,
  99:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_INTERFACE             = 0x04,
 100:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_ENDPOINT              = 0x05,
 101:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEVICE_QUALIFIER      = 0x06,
 102:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_OTHER_SPEED_CONFIG    = 0x07,
 103:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_INTERFACE_POWER       = 0x08,
 104:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_OTG                   = 0x09,
 105:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEBUG                 = 0x0A,
 106:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_INTERFACE_ASSOCIATION = 0x0B,
 107:tinyusb/src/common/tusb_types.h **** 
 108:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_BOS                   = 0x0F,
 109:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_DEVICE_CAPABILITY     = 0x10,
 110:tinyusb/src/common/tusb_types.h **** 
 111:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_FUNCTIONAL            = 0x21,
 112:tinyusb/src/common/tusb_types.h **** 
 113:tinyusb/src/common/tusb_types.h ****   // Class Specific Descriptor
 114:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_DEVICE             = 0x21,
 115:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_CONFIGURATION      = 0x22,
 116:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_STRING             = 0x23,
 117:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_INTERFACE          = 0x24,
 118:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CS_ENDPOINT           = 0x25,
 119:tinyusb/src/common/tusb_types.h **** 
 120:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_SUPERSPEED_ENDPOINT_COMPANION     = 0x30,
 121:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_SUPERSPEED_ISO_ENDPOINT_COMPANION = 0x31
 122:tinyusb/src/common/tusb_types.h **** }tusb_desc_type_t;
 123:tinyusb/src/common/tusb_types.h **** 
 124:tinyusb/src/common/tusb_types.h **** typedef enum
 125:tinyusb/src/common/tusb_types.h **** {
 126:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_STATUS        = 0  ,
 127:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_CLEAR_FEATURE     = 1  ,
 128:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RESERVED          = 2  ,
 129:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_FEATURE       = 3  ,
 130:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RESERVED2         = 4  ,
 131:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_ADDRESS       = 5  ,
 132:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_DESCRIPTOR    = 6  ,
 133:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_DESCRIPTOR    = 7  ,
 134:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_CONFIGURATION = 8  ,
 135:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_CONFIGURATION = 9  ,
 136:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_GET_INTERFACE     = 10 ,
 137:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SET_INTERFACE     = 11 ,
 138:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_SYNCH_FRAME       = 12
 139:tinyusb/src/common/tusb_types.h **** }tusb_request_code_t;
 140:tinyusb/src/common/tusb_types.h **** 
 141:tinyusb/src/common/tusb_types.h **** typedef enum
 142:tinyusb/src/common/tusb_types.h **** {
 143:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_FEATURE_EDPT_HALT     = 0,
 144:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_FEATURE_REMOTE_WAKEUP = 1,
 145:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_FEATURE_TEST_MODE     = 2
 146:tinyusb/src/common/tusb_types.h **** }tusb_request_feature_selector_t;
 147:tinyusb/src/common/tusb_types.h **** 
 148:tinyusb/src/common/tusb_types.h **** typedef enum
 149:tinyusb/src/common/tusb_types.h **** {
 150:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_STANDARD = 0,
 151:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_CLASS,
ARM GAS  /tmp/ccqStGVa.s 			page 46


 152:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_VENDOR,
 153:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_TYPE_INVALID
 154:tinyusb/src/common/tusb_types.h **** } tusb_request_type_t;
 155:tinyusb/src/common/tusb_types.h **** 
 156:tinyusb/src/common/tusb_types.h **** typedef enum
 157:tinyusb/src/common/tusb_types.h **** {
 158:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_DEVICE =0,
 159:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_INTERFACE,
 160:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_ENDPOINT,
 161:tinyusb/src/common/tusb_types.h ****   TUSB_REQ_RCPT_OTHER
 162:tinyusb/src/common/tusb_types.h **** } tusb_request_recipient_t;
 163:tinyusb/src/common/tusb_types.h **** 
 164:tinyusb/src/common/tusb_types.h **** // https://www.usb.org/defined-class-codes
 165:tinyusb/src/common/tusb_types.h **** typedef enum
 166:tinyusb/src/common/tusb_types.h **** {
 167:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_UNSPECIFIED          = 0    ,
 168:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_AUDIO                = 1    ,
 169:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_CDC                  = 2    ,
 170:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_HID                  = 3    ,
 171:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_RESERVED_4           = 4    ,
 172:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_PHYSICAL             = 5    ,
 173:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_IMAGE                = 6    ,
 174:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_PRINTER              = 7    ,
 175:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_MSC                  = 8    ,
 176:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_HUB                  = 9    ,
 177:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_CDC_DATA             = 10   ,
 178:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_SMART_CARD           = 11   ,
 179:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_RESERVED_12          = 12   ,
 180:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_CONTENT_SECURITY     = 13   ,
 181:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_VIDEO                = 14   ,
 182:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_PERSONAL_HEALTHCARE  = 15   ,
 183:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_AUDIO_VIDEO          = 16   ,
 184:tinyusb/src/common/tusb_types.h **** 
 185:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_DIAGNOSTIC           = 0xDC ,
 186:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_WIRELESS_CONTROLLER  = 0xE0 ,
 187:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_MISC                 = 0xEF ,
 188:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_APPLICATION_SPECIFIC = 0xFE ,
 189:tinyusb/src/common/tusb_types.h ****   TUSB_CLASS_VENDOR_SPECIFIC      = 0xFF
 190:tinyusb/src/common/tusb_types.h **** }tusb_class_code_t;
 191:tinyusb/src/common/tusb_types.h **** 
 192:tinyusb/src/common/tusb_types.h **** typedef enum
 193:tinyusb/src/common/tusb_types.h **** {
 194:tinyusb/src/common/tusb_types.h ****   MISC_SUBCLASS_COMMON = 2
 195:tinyusb/src/common/tusb_types.h **** }misc_subclass_type_t;
 196:tinyusb/src/common/tusb_types.h **** 
 197:tinyusb/src/common/tusb_types.h **** typedef enum
 198:tinyusb/src/common/tusb_types.h **** {
 199:tinyusb/src/common/tusb_types.h ****   MISC_PROTOCOL_IAD = 1
 200:tinyusb/src/common/tusb_types.h **** }misc_protocol_type_t;
 201:tinyusb/src/common/tusb_types.h **** 
 202:tinyusb/src/common/tusb_types.h **** typedef enum
 203:tinyusb/src/common/tusb_types.h **** {
 204:tinyusb/src/common/tusb_types.h ****   APP_SUBCLASS_USBTMC = 0x03,
 205:tinyusb/src/common/tusb_types.h ****   APP_SUBCLASS_DFU_RUNTIME = 0x01
 206:tinyusb/src/common/tusb_types.h **** } app_subclass_type_t;
 207:tinyusb/src/common/tusb_types.h **** 
 208:tinyusb/src/common/tusb_types.h **** typedef enum
ARM GAS  /tmp/ccqStGVa.s 			page 47


 209:tinyusb/src/common/tusb_types.h **** {
 210:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_WIRELESS_USB               = 0x01,
 211:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_USB20_EXTENSION            = 0x02,
 212:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_SUPERSPEED_USB             = 0x03,
 213:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_CONTAINER_id               = 0x04,
 214:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PLATFORM                   = 0x05,
 215:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_POWER_DELIVERY             = 0x06,
 216:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_BATTERY_INFO               = 0x07,
 217:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PD_CONSUMER_PORT           = 0x08,
 218:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PD_PROVIDER_PORT           = 0x09,
 219:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_SUPERSPEED_PLUS            = 0x0A,
 220:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_PRECESION_TIME_MEASUREMENT = 0x0B,
 221:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_WIRELESS_USB_EXT           = 0x0C,
 222:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_BILLBOARD                  = 0x0D,
 223:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_AUTHENTICATION             = 0x0E,
 224:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_BILLBOARD_EX               = 0x0F,
 225:tinyusb/src/common/tusb_types.h ****   DEVICE_CAPABILITY_CONFIGURATION_SUMMARY      = 0x10
 226:tinyusb/src/common/tusb_types.h **** }device_capability_type_t;
 227:tinyusb/src/common/tusb_types.h **** 
 228:tinyusb/src/common/tusb_types.h **** enum {
 229:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CONFIG_ATT_REMOTE_WAKEUP = TU_BIT(5),
 230:tinyusb/src/common/tusb_types.h ****   TUSB_DESC_CONFIG_ATT_SELF_POWERED  = TU_BIT(6),
 231:tinyusb/src/common/tusb_types.h **** };
 232:tinyusb/src/common/tusb_types.h **** 
 233:tinyusb/src/common/tusb_types.h **** #define TUSB_DESC_CONFIG_POWER_MA(x)  ((x)/2)
 234:tinyusb/src/common/tusb_types.h **** 
 235:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 236:tinyusb/src/common/tusb_types.h **** //
 237:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 238:tinyusb/src/common/tusb_types.h **** typedef enum
 239:tinyusb/src/common/tusb_types.h **** {
 240:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_SUCCESS = 0,
 241:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_FAILED,
 242:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_STALLED,
 243:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_TIMEOUT,
 244:tinyusb/src/common/tusb_types.h ****   XFER_RESULT_INVALID
 245:tinyusb/src/common/tusb_types.h **** }xfer_result_t;
 246:tinyusb/src/common/tusb_types.h **** 
 247:tinyusb/src/common/tusb_types.h **** enum // TODO remove
 248:tinyusb/src/common/tusb_types.h **** {
 249:tinyusb/src/common/tusb_types.h ****   DESC_OFFSET_LEN  = 0,
 250:tinyusb/src/common/tusb_types.h ****   DESC_OFFSET_TYPE = 1
 251:tinyusb/src/common/tusb_types.h **** };
 252:tinyusb/src/common/tusb_types.h **** 
 253:tinyusb/src/common/tusb_types.h **** enum
 254:tinyusb/src/common/tusb_types.h **** {
 255:tinyusb/src/common/tusb_types.h ****   INTERFACE_INVALID_NUMBER = 0xff
 256:tinyusb/src/common/tusb_types.h **** };
 257:tinyusb/src/common/tusb_types.h **** 
 258:tinyusb/src/common/tusb_types.h **** typedef enum
 259:tinyusb/src/common/tusb_types.h **** {
 260:tinyusb/src/common/tusb_types.h ****   MS_OS_20_SET_HEADER_DESCRIPTOR       = 0x00,
 261:tinyusb/src/common/tusb_types.h ****   MS_OS_20_SUBSET_HEADER_CONFIGURATION = 0x01,
 262:tinyusb/src/common/tusb_types.h ****   MS_OS_20_SUBSET_HEADER_FUNCTION      = 0x02,
 263:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_COMPATBLE_ID        = 0x03,
 264:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_REG_PROPERTY        = 0x04,
 265:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_MIN_RESUME_TIME     = 0x05,
ARM GAS  /tmp/ccqStGVa.s 			page 48


 266:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_MODEL_ID            = 0x06,
 267:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_CCGP_DEVICE         = 0x07,
 268:tinyusb/src/common/tusb_types.h ****   MS_OS_20_FEATURE_VENDOR_REVISION     = 0x08
 269:tinyusb/src/common/tusb_types.h **** } microsoft_os_20_type_t;
 270:tinyusb/src/common/tusb_types.h **** 
 271:tinyusb/src/common/tusb_types.h **** enum
 272:tinyusb/src/common/tusb_types.h **** {
 273:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_IDLE,
 274:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_SETUP,
 275:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_DATA,
 276:tinyusb/src/common/tusb_types.h ****   CONTROL_STAGE_ACK
 277:tinyusb/src/common/tusb_types.h **** };
 278:tinyusb/src/common/tusb_types.h **** 
 279:tinyusb/src/common/tusb_types.h **** enum
 280:tinyusb/src/common/tusb_types.h **** {
 281:tinyusb/src/common/tusb_types.h ****   TUSB_INDEX_INVALID_8 = 0xFFu
 282:tinyusb/src/common/tusb_types.h **** };
 283:tinyusb/src/common/tusb_types.h **** 
 284:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 285:tinyusb/src/common/tusb_types.h **** // USB Descriptors
 286:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 287:tinyusb/src/common/tusb_types.h **** 
 288:tinyusb/src/common/tusb_types.h **** // Start of all packed definitions for compiler without per-type packed
 289:tinyusb/src/common/tusb_types.h **** TU_ATTR_PACKED_BEGIN
 290:tinyusb/src/common/tusb_types.h **** TU_ATTR_BIT_FIELD_ORDER_BEGIN
 291:tinyusb/src/common/tusb_types.h **** 
 292:tinyusb/src/common/tusb_types.h **** /// USB Device Descriptor
 293:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 294:tinyusb/src/common/tusb_types.h **** {
 295:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength            ; ///< Size of this descriptor in bytes.
 296:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType    ; ///< DEVICE Descriptor Type.
 297:tinyusb/src/common/tusb_types.h ****   uint16_t bcdUSB             ; ///< BUSB Specification Release Number in Binary-Coded Decimal (i.e
 298:tinyusb/src/common/tusb_types.h **** 
 299:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceClass       ; ///< Class code (assigned by the USB-IF). \li If this field is rese
 300:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceSubClass    ; ///< Subclass code (assigned by the USB-IF). These codes are qualif
 301:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceProtocol    ; ///< Protocol code (assigned by the USB-IF). These codes are qualif
 302:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPacketSize0    ; ///< Maximum packet size for endpoint zero (only 8, 16, 32, or 64 a
 303:tinyusb/src/common/tusb_types.h **** 
 304:tinyusb/src/common/tusb_types.h ****   uint16_t idVendor           ; ///< Vendor ID (assigned by the USB-IF).
 305:tinyusb/src/common/tusb_types.h ****   uint16_t idProduct          ; ///< Product ID (assigned by the manufacturer).
 306:tinyusb/src/common/tusb_types.h ****   uint16_t bcdDevice          ; ///< Device release number in binary-coded decimal.
 307:tinyusb/src/common/tusb_types.h ****   uint8_t  iManufacturer      ; ///< Index of string descriptor describing manufacturer.
 308:tinyusb/src/common/tusb_types.h ****   uint8_t  iProduct           ; ///< Index of string descriptor describing product.
 309:tinyusb/src/common/tusb_types.h ****   uint8_t  iSerialNumber      ; ///< Index of string descriptor describing the device's serial numb
 310:tinyusb/src/common/tusb_types.h **** 
 311:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumConfigurations ; ///< Number of possible configurations.
 312:tinyusb/src/common/tusb_types.h **** } tusb_desc_device_t;
 313:tinyusb/src/common/tusb_types.h **** 
 314:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_device_t) == 18, "size is not correct");
 315:tinyusb/src/common/tusb_types.h **** 
 316:tinyusb/src/common/tusb_types.h **** // USB Binary Device Object Store (BOS) Descriptor
 317:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 318:tinyusb/src/common/tusb_types.h **** {
 319:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength         ; ///< Size of this descriptor in bytes
 320:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType ; ///< CONFIGURATION Descriptor Type
 321:tinyusb/src/common/tusb_types.h ****   uint16_t wTotalLength    ; ///< Total length of data returned for this descriptor
 322:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumDeviceCaps  ; ///< Number of device capability descriptors in the BOS
ARM GAS  /tmp/ccqStGVa.s 			page 49


 323:tinyusb/src/common/tusb_types.h **** } tusb_desc_bos_t;
 324:tinyusb/src/common/tusb_types.h **** 
 325:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_bos_t) == 5, "size is not correct");
 326:tinyusb/src/common/tusb_types.h **** 
 327:tinyusb/src/common/tusb_types.h **** /// USB Configuration Descriptor
 328:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 329:tinyusb/src/common/tusb_types.h **** {
 330:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength             ; ///< Size of this descriptor in bytes
 331:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType     ; ///< CONFIGURATION Descriptor Type
 332:tinyusb/src/common/tusb_types.h ****   uint16_t wTotalLength        ; ///< Total length of data returned for this configuration. Include
 333:tinyusb/src/common/tusb_types.h **** 
 334:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumInterfaces      ; ///< Number of interfaces supported by this configuration
 335:tinyusb/src/common/tusb_types.h ****   uint8_t  bConfigurationValue ; ///< Value to use as an argument to the SetConfiguration() request
 336:tinyusb/src/common/tusb_types.h ****   uint8_t  iConfiguration      ; ///< Index of string descriptor describing this configuration
 337:tinyusb/src/common/tusb_types.h ****   uint8_t  bmAttributes        ; ///< Configuration characteristics \n D7: Reserved (set to one)\n 
 338:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPower           ; ///< Maximum power consumption of the USB device from the bus in t
 339:tinyusb/src/common/tusb_types.h **** } tusb_desc_configuration_t;
 340:tinyusb/src/common/tusb_types.h **** 
 341:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_configuration_t) == 9, "size is not correct");
 342:tinyusb/src/common/tusb_types.h **** 
 343:tinyusb/src/common/tusb_types.h **** /// USB Interface Descriptor
 344:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 345:tinyusb/src/common/tusb_types.h **** {
 346:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength            ; ///< Size of this descriptor in bytes
 347:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType    ; ///< INTERFACE Descriptor Type
 348:tinyusb/src/common/tusb_types.h **** 
 349:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceNumber   ; ///< Number of this interface. Zero-based value identifying the ind
 350:tinyusb/src/common/tusb_types.h ****   uint8_t  bAlternateSetting  ; ///< Value used to select this alternate setting for the interface 
 351:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumEndpoints      ; ///< Number of endpoints used by this interface (excluding endpoint
 352:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceClass    ; ///< Class code (assigned by the USB-IF). \li A value of zero is re
 353:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceSubClass ; ///< Subclass code (assigned by the USB-IF). \n These codes are qua
 354:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterfaceProtocol ; ///< Protocol code (assigned by the USB). \n These codes are qualif
 355:tinyusb/src/common/tusb_types.h ****   uint8_t  iInterface         ; ///< Index of string descriptor describing this interface
 356:tinyusb/src/common/tusb_types.h **** } tusb_desc_interface_t;
 357:tinyusb/src/common/tusb_types.h **** 
 358:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_interface_t) == 9, "size is not correct");
 359:tinyusb/src/common/tusb_types.h **** 
 360:tinyusb/src/common/tusb_types.h **** /// USB Endpoint Descriptor
 361:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 362:tinyusb/src/common/tusb_types.h **** {
 363:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength          ; // Size of this descriptor in bytes
 364:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType  ; // ENDPOINT Descriptor Type
 365:tinyusb/src/common/tusb_types.h **** 
 366:tinyusb/src/common/tusb_types.h ****   uint8_t  bEndpointAddress ; // The address of the endpoint
 367:tinyusb/src/common/tusb_types.h **** 
 368:tinyusb/src/common/tusb_types.h ****   struct TU_ATTR_PACKED {
 369:tinyusb/src/common/tusb_types.h ****     uint8_t xfer  : 2;        // Control, ISO, Bulk, Interrupt
 370:tinyusb/src/common/tusb_types.h ****     uint8_t sync  : 2;        // None, Asynchronous, Adaptive, Synchronous
 371:tinyusb/src/common/tusb_types.h ****     uint8_t usage : 2;        // Data, Feedback, Implicit feedback
 372:tinyusb/src/common/tusb_types.h ****     uint8_t       : 2;
 373:tinyusb/src/common/tusb_types.h ****   } bmAttributes;
 374:tinyusb/src/common/tusb_types.h **** 
 375:tinyusb/src/common/tusb_types.h ****   uint16_t wMaxPacketSize   ; // Bit 10..0 : max packet size, bit 12..11 additional transaction per
 376:tinyusb/src/common/tusb_types.h ****   uint8_t  bInterval        ; // Polling interval, in frames or microframes depending on the operat
 377:tinyusb/src/common/tusb_types.h **** } tusb_desc_endpoint_t;
 378:tinyusb/src/common/tusb_types.h **** 
 379:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_endpoint_t) == 7, "size is not correct");
ARM GAS  /tmp/ccqStGVa.s 			page 50


 380:tinyusb/src/common/tusb_types.h **** 
 381:tinyusb/src/common/tusb_types.h **** /// USB Other Speed Configuration Descriptor
 382:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 383:tinyusb/src/common/tusb_types.h **** {
 384:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength             ; ///< Size of descriptor
 385:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType     ; ///< Other_speed_Configuration Type
 386:tinyusb/src/common/tusb_types.h ****   uint16_t wTotalLength        ; ///< Total length of data returned
 387:tinyusb/src/common/tusb_types.h **** 
 388:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumInterfaces      ; ///< Number of interfaces supported by this speed configuration
 389:tinyusb/src/common/tusb_types.h ****   uint8_t  bConfigurationValue ; ///< Value to use to select configuration
 390:tinyusb/src/common/tusb_types.h ****   uint8_t  iConfiguration      ; ///< Index of string descriptor
 391:tinyusb/src/common/tusb_types.h ****   uint8_t  bmAttributes        ; ///< Same as Configuration descriptor
 392:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPower           ; ///< Same as Configuration descriptor
 393:tinyusb/src/common/tusb_types.h **** } tusb_desc_other_speed_t;
 394:tinyusb/src/common/tusb_types.h **** 
 395:tinyusb/src/common/tusb_types.h **** /// USB Device Qualifier Descriptor
 396:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 397:tinyusb/src/common/tusb_types.h **** {
 398:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength            ; ///< Size of descriptor
 399:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType    ; ///< Device Qualifier Type
 400:tinyusb/src/common/tusb_types.h ****   uint16_t bcdUSB             ; ///< USB specification version number (e.g., 0200H for V2.00)
 401:tinyusb/src/common/tusb_types.h **** 
 402:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceClass       ; ///< Class Code
 403:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceSubClass    ; ///< SubClass Code
 404:tinyusb/src/common/tusb_types.h ****   uint8_t  bDeviceProtocol    ; ///< Protocol Code
 405:tinyusb/src/common/tusb_types.h **** 
 406:tinyusb/src/common/tusb_types.h ****   uint8_t  bMaxPacketSize0    ; ///< Maximum packet size for other speed
 407:tinyusb/src/common/tusb_types.h ****   uint8_t  bNumConfigurations ; ///< Number of Other-speed Configurations
 408:tinyusb/src/common/tusb_types.h ****   uint8_t  bReserved          ; ///< Reserved for future use, must be zero
 409:tinyusb/src/common/tusb_types.h **** } tusb_desc_device_qualifier_t;
 410:tinyusb/src/common/tusb_types.h **** 
 411:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_desc_device_qualifier_t) == 10, "size is not correct");
 412:tinyusb/src/common/tusb_types.h **** 
 413:tinyusb/src/common/tusb_types.h **** /// USB Interface Association Descriptor (IAD ECN)
 414:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 415:tinyusb/src/common/tusb_types.h **** {
 416:tinyusb/src/common/tusb_types.h ****   uint8_t bLength           ; ///< Size of descriptor
 417:tinyusb/src/common/tusb_types.h ****   uint8_t bDescriptorType   ; ///< Other_speed_Configuration Type
 418:tinyusb/src/common/tusb_types.h **** 
 419:tinyusb/src/common/tusb_types.h ****   uint8_t bFirstInterface   ; ///< Index of the first associated interface.
 420:tinyusb/src/common/tusb_types.h ****   uint8_t bInterfaceCount   ; ///< Total number of associated interfaces.
 421:tinyusb/src/common/tusb_types.h **** 
 422:tinyusb/src/common/tusb_types.h ****   uint8_t bFunctionClass    ; ///< Interface class ID.
 423:tinyusb/src/common/tusb_types.h ****   uint8_t bFunctionSubClass ; ///< Interface subclass ID.
 424:tinyusb/src/common/tusb_types.h ****   uint8_t bFunctionProtocol ; ///< Interface protocol ID.
 425:tinyusb/src/common/tusb_types.h **** 
 426:tinyusb/src/common/tusb_types.h ****   uint8_t iFunction         ; ///< Index of the string descriptor describing the interface associat
 427:tinyusb/src/common/tusb_types.h **** } tusb_desc_interface_assoc_t;
 428:tinyusb/src/common/tusb_types.h **** 
 429:tinyusb/src/common/tusb_types.h **** // USB String Descriptor
 430:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 431:tinyusb/src/common/tusb_types.h **** {
 432:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength         ; ///< Size of this descriptor in bytes
 433:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType ; ///< Descriptor Type
 434:tinyusb/src/common/tusb_types.h ****   uint16_t unicode_string[];
 435:tinyusb/src/common/tusb_types.h **** } tusb_desc_string_t;
 436:tinyusb/src/common/tusb_types.h **** 
ARM GAS  /tmp/ccqStGVa.s 			page 51


 437:tinyusb/src/common/tusb_types.h **** // USB Binary Device Object Store (BOS)
 438:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 439:tinyusb/src/common/tusb_types.h **** {
 440:tinyusb/src/common/tusb_types.h ****   uint8_t bLength;
 441:tinyusb/src/common/tusb_types.h ****   uint8_t bDescriptorType ;
 442:tinyusb/src/common/tusb_types.h ****   uint8_t bDevCapabilityType;
 443:tinyusb/src/common/tusb_types.h ****   uint8_t bReserved;
 444:tinyusb/src/common/tusb_types.h ****   uint8_t PlatformCapabilityUUID[16];
 445:tinyusb/src/common/tusb_types.h ****   uint8_t CapabilityData[];
 446:tinyusb/src/common/tusb_types.h **** } tusb_desc_bos_platform_t;
 447:tinyusb/src/common/tusb_types.h **** 
 448:tinyusb/src/common/tusb_types.h **** // USB WebuSB URL Descriptor
 449:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 450:tinyusb/src/common/tusb_types.h **** {
 451:tinyusb/src/common/tusb_types.h ****   uint8_t bLength;
 452:tinyusb/src/common/tusb_types.h ****   uint8_t bDescriptorType;
 453:tinyusb/src/common/tusb_types.h ****   uint8_t bScheme;
 454:tinyusb/src/common/tusb_types.h ****   char    url[];
 455:tinyusb/src/common/tusb_types.h **** } tusb_desc_webusb_url_t;
 456:tinyusb/src/common/tusb_types.h **** 
 457:tinyusb/src/common/tusb_types.h **** // DFU Functional Descriptor
 458:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED
 459:tinyusb/src/common/tusb_types.h **** {
 460:tinyusb/src/common/tusb_types.h ****   uint8_t  bLength;
 461:tinyusb/src/common/tusb_types.h ****   uint8_t  bDescriptorType;
 462:tinyusb/src/common/tusb_types.h **** 
 463:tinyusb/src/common/tusb_types.h ****   union {
 464:tinyusb/src/common/tusb_types.h ****     struct TU_ATTR_PACKED {
 465:tinyusb/src/common/tusb_types.h ****       uint8_t bitCanDnload             : 1;
 466:tinyusb/src/common/tusb_types.h ****       uint8_t bitCanUpload             : 1;
 467:tinyusb/src/common/tusb_types.h ****       uint8_t bitManifestationTolerant : 1;
 468:tinyusb/src/common/tusb_types.h ****       uint8_t bitWillDetach            : 1;
 469:tinyusb/src/common/tusb_types.h ****       uint8_t reserved                 : 4;
 470:tinyusb/src/common/tusb_types.h ****     } bmAttributes;
 471:tinyusb/src/common/tusb_types.h **** 
 472:tinyusb/src/common/tusb_types.h ****     uint8_t bAttributes;
 473:tinyusb/src/common/tusb_types.h ****   };
 474:tinyusb/src/common/tusb_types.h **** 
 475:tinyusb/src/common/tusb_types.h ****   uint16_t wDetachTimeOut;
 476:tinyusb/src/common/tusb_types.h ****   uint16_t wTransferSize;
 477:tinyusb/src/common/tusb_types.h ****   uint16_t bcdDFUVersion;
 478:tinyusb/src/common/tusb_types.h **** } tusb_desc_dfu_functional_t;
 479:tinyusb/src/common/tusb_types.h **** 
 480:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 481:tinyusb/src/common/tusb_types.h **** //
 482:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 483:tinyusb/src/common/tusb_types.h **** 
 484:tinyusb/src/common/tusb_types.h **** typedef struct TU_ATTR_PACKED{
 485:tinyusb/src/common/tusb_types.h ****   union {
 486:tinyusb/src/common/tusb_types.h ****     struct TU_ATTR_PACKED {
 487:tinyusb/src/common/tusb_types.h ****       uint8_t recipient :  5; ///< Recipient type tusb_request_recipient_t.
 488:tinyusb/src/common/tusb_types.h ****       uint8_t type      :  2; ///< Request type tusb_request_type_t.
 489:tinyusb/src/common/tusb_types.h ****       uint8_t direction :  1; ///< Direction type. tusb_dir_t
 490:tinyusb/src/common/tusb_types.h ****     } bmRequestType_bit;
 491:tinyusb/src/common/tusb_types.h **** 
 492:tinyusb/src/common/tusb_types.h ****     uint8_t bmRequestType;
 493:tinyusb/src/common/tusb_types.h ****   };
ARM GAS  /tmp/ccqStGVa.s 			page 52


 494:tinyusb/src/common/tusb_types.h **** 
 495:tinyusb/src/common/tusb_types.h ****   uint8_t  bRequest;
 496:tinyusb/src/common/tusb_types.h ****   uint16_t wValue;
 497:tinyusb/src/common/tusb_types.h ****   uint16_t wIndex;
 498:tinyusb/src/common/tusb_types.h ****   uint16_t wLength;
 499:tinyusb/src/common/tusb_types.h **** } tusb_control_request_t;
 500:tinyusb/src/common/tusb_types.h **** 
 501:tinyusb/src/common/tusb_types.h **** TU_VERIFY_STATIC( sizeof(tusb_control_request_t) == 8, "size is not correct");
 502:tinyusb/src/common/tusb_types.h **** 
 503:tinyusb/src/common/tusb_types.h **** 
 504:tinyusb/src/common/tusb_types.h **** TU_ATTR_PACKED_END  // End of all packed definitions
 505:tinyusb/src/common/tusb_types.h **** TU_ATTR_BIT_FIELD_ORDER_END
 506:tinyusb/src/common/tusb_types.h **** 
 507:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 508:tinyusb/src/common/tusb_types.h **** // Endpoint helper
 509:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 510:tinyusb/src/common/tusb_types.h **** 
 511:tinyusb/src/common/tusb_types.h **** // Get direction from Endpoint address
 512:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline tusb_dir_t tu_edpt_dir(uint8_t addr)
 513:tinyusb/src/common/tusb_types.h **** {
 514:tinyusb/src/common/tusb_types.h ****   return (addr & TUSB_DIR_IN_MASK) ? TUSB_DIR_IN : TUSB_DIR_OUT;
 515:tinyusb/src/common/tusb_types.h **** }
 516:tinyusb/src/common/tusb_types.h **** 
 517:tinyusb/src/common/tusb_types.h **** // Get Endpoint number from address
 518:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_edpt_number(uint8_t addr)
 519:tinyusb/src/common/tusb_types.h **** {
 520:tinyusb/src/common/tusb_types.h ****   return (uint8_t)(addr & (~TUSB_DIR_IN_MASK));
 521:tinyusb/src/common/tusb_types.h **** }
 522:tinyusb/src/common/tusb_types.h **** 
 523:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_edpt_addr(uint8_t num, uint8_t dir)
 524:tinyusb/src/common/tusb_types.h **** {
 525:tinyusb/src/common/tusb_types.h ****   return (uint8_t)(num | (dir ? TUSB_DIR_IN_MASK : 0));
 526:tinyusb/src/common/tusb_types.h **** }
 527:tinyusb/src/common/tusb_types.h **** 
 528:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint16_t tu_edpt_packet_size(tusb_desc_endpoint_t const* desc_e
 529:tinyusb/src/common/tusb_types.h **** {
 530:tinyusb/src/common/tusb_types.h ****   return tu_le16toh(desc_ep->wMaxPacketSize) & TU_GENMASK(10, 0);
 531:tinyusb/src/common/tusb_types.h **** }
 532:tinyusb/src/common/tusb_types.h **** 
 533:tinyusb/src/common/tusb_types.h **** #if CFG_TUSB_DEBUG
 534:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline const char *tu_edpt_dir_str(tusb_dir_t dir)
 535:tinyusb/src/common/tusb_types.h **** {
 536:tinyusb/src/common/tusb_types.h ****   tu_static const char *str[] = {"out", "in"};
 537:tinyusb/src/common/tusb_types.h ****   return str[dir];
 538:tinyusb/src/common/tusb_types.h **** }
 539:tinyusb/src/common/tusb_types.h **** 
 540:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline const char *tu_edpt_type_str(tusb_xfer_type_t t)
 541:tinyusb/src/common/tusb_types.h **** {
 542:tinyusb/src/common/tusb_types.h ****   tu_static const char *str[] = {"control", "isochronous", "bulk", "interrupt"};
 543:tinyusb/src/common/tusb_types.h ****   return str[t];
 544:tinyusb/src/common/tusb_types.h **** }
 545:tinyusb/src/common/tusb_types.h **** #endif
 546:tinyusb/src/common/tusb_types.h **** 
 547:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 548:tinyusb/src/common/tusb_types.h **** // Descriptor helper
 549:tinyusb/src/common/tusb_types.h **** //--------------------------------------------------------------------+
 550:tinyusb/src/common/tusb_types.h **** 
ARM GAS  /tmp/ccqStGVa.s 			page 53


 551:tinyusb/src/common/tusb_types.h **** // return next descriptor
 552:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t const * tu_desc_next(void const* desc)
 553:tinyusb/src/common/tusb_types.h **** {
 554:tinyusb/src/common/tusb_types.h ****   uint8_t const* desc8 = (uint8_t const*) desc;
 555:tinyusb/src/common/tusb_types.h ****   return desc8 + desc8[DESC_OFFSET_LEN];
 556:tinyusb/src/common/tusb_types.h **** }
 557:tinyusb/src/common/tusb_types.h **** 
 558:tinyusb/src/common/tusb_types.h **** // get descriptor type
 559:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_desc_type(void const* desc)
 560:tinyusb/src/common/tusb_types.h **** {
 561:tinyusb/src/common/tusb_types.h ****   return ((uint8_t const*) desc)[DESC_OFFSET_TYPE];
 562:tinyusb/src/common/tusb_types.h **** }
 563:tinyusb/src/common/tusb_types.h **** 
 564:tinyusb/src/common/tusb_types.h **** // get descriptor length
 565:tinyusb/src/common/tusb_types.h **** TU_ATTR_ALWAYS_INLINE static inline uint8_t tu_desc_len(void const* desc)
 1574              		.loc 3 565 45 view .LVU433
 1575              	.LBB65:
 566:tinyusb/src/common/tusb_types.h **** {
 567:tinyusb/src/common/tusb_types.h ****   return ((uint8_t const*) desc)[DESC_OFFSET_LEN];
 1576              		.loc 3 567 3 view .LVU434
 1577              		.loc 3 567 33 is_stmt 0 view .LVU435
 1578 0020 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1579              	.LVL165:
 1580              		.loc 3 567 33 view .LVU436
 1581              	.LBE65:
 1582              	.LBE64:
 1583              		.loc 1 415 12 view .LVU437
 1584 0022 A3B2     		uxth	r3, r4
 1585              	.LVL166:
 416:tinyusb/src/class/midi/midi_device.c ****   uint8_t const * p_desc = tu_desc_next(desc_itf);
 1586              		.loc 1 416 3 is_stmt 1 view .LVU438
 1587              	.LBB66:
 1588              	.LBI66:
 552:tinyusb/src/common/tusb_types.h **** {
 1589              		.loc 3 552 53 view .LVU439
 1590              	.LBB67:
 554:tinyusb/src/common/tusb_types.h ****   return desc8 + desc8[DESC_OFFSET_LEN];
 1591              		.loc 3 554 3 view .LVU440
 555:tinyusb/src/common/tusb_types.h **** }
 1592              		.loc 3 555 3 view .LVU441
 555:tinyusb/src/common/tusb_types.h **** }
 1593              		.loc 3 555 16 is_stmt 0 view .LVU442
 1594 0024 0C44     		add	r4, r4, r1
 1595              	.LVL167:
 555:tinyusb/src/common/tusb_types.h **** }
 1596              		.loc 3 555 16 view .LVU443
 1597              	.LBE67:
 1598              	.LBE66:
 417:tinyusb/src/class/midi/midi_device.c **** 
 418:tinyusb/src/class/midi/midi_device.c ****   // Skip Class Specific descriptors
 419:tinyusb/src/class/midi/midi_device.c ****   while ( TUSB_DESC_CS_INTERFACE == tu_desc_type(p_desc) && drv_len <= max_len )
 1599              		.loc 1 419 3 is_stmt 1 view .LVU444
 1600              	.L109:
 1601              		.loc 1 419 9 view .LVU445
 1602              	.LBB68:
 1603              	.LBI68:
 559:tinyusb/src/common/tusb_types.h **** {
ARM GAS  /tmp/ccqStGVa.s 			page 54


 1604              		.loc 3 559 45 view .LVU446
 1605              	.LBB69:
 561:tinyusb/src/common/tusb_types.h **** }
 1606              		.loc 3 561 3 view .LVU447
 561:tinyusb/src/common/tusb_types.h **** }
 1607              		.loc 3 561 33 is_stmt 0 view .LVU448
 1608 0026 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 1609              	.LVL168:
 561:tinyusb/src/common/tusb_types.h **** }
 1610              		.loc 3 561 33 view .LVU449
 1611              	.LBE69:
 1612              	.LBE68:
 1613              		.loc 1 419 9 view .LVU450
 1614 0028 242A     		cmp	r2, #36
 1615 002a 06D1     		bne	.L110
 1616              		.loc 1 419 58 discriminator 1 view .LVU451
 1617 002c AB42     		cmp	r3, r5
 1618 002e 04D8     		bhi	.L110
 420:tinyusb/src/class/midi/midi_device.c ****   {
 421:tinyusb/src/class/midi/midi_device.c ****     drv_len += tu_desc_len(p_desc);
 1619              		.loc 1 421 5 is_stmt 1 view .LVU452
 1620              	.LVL169:
 1621              	.LBB70:
 1622              	.LBI70:
 565:tinyusb/src/common/tusb_types.h **** {
 1623              		.loc 3 565 45 view .LVU453
 1624              	.LBB71:
 1625              		.loc 3 567 3 view .LVU454
 1626              		.loc 3 567 33 is_stmt 0 view .LVU455
 1627 0030 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1628              	.LVL170:
 1629              		.loc 3 567 33 view .LVU456
 1630              	.LBE71:
 1631              	.LBE70:
 1632              		.loc 1 421 13 view .LVU457
 1633 0032 1344     		add	r3, r3, r2
 1634              	.LVL171:
 1635              		.loc 1 421 13 view .LVU458
 1636 0034 9BB2     		uxth	r3, r3
 1637              	.LVL172:
 422:tinyusb/src/class/midi/midi_device.c ****     p_desc   = tu_desc_next(p_desc);
 1638              		.loc 1 422 5 is_stmt 1 view .LVU459
 1639              	.LBB72:
 1640              	.LBI72:
 552:tinyusb/src/common/tusb_types.h **** {
 1641              		.loc 3 552 53 view .LVU460
 1642              	.LBB73:
 554:tinyusb/src/common/tusb_types.h ****   return desc8 + desc8[DESC_OFFSET_LEN];
 1643              		.loc 3 554 3 view .LVU461
 555:tinyusb/src/common/tusb_types.h **** }
 1644              		.loc 3 555 3 view .LVU462
 555:tinyusb/src/common/tusb_types.h **** }
 1645              		.loc 3 555 16 is_stmt 0 view .LVU463
 1646 0036 1444     		add	r4, r4, r2
 1647              	.LVL173:
 555:tinyusb/src/common/tusb_types.h **** }
 1648              		.loc 3 555 16 view .LVU464
ARM GAS  /tmp/ccqStGVa.s 			page 55


 1649 0038 F5E7     		b	.L109
 1650              	.L110:
 555:tinyusb/src/common/tusb_types.h **** }
 1651              		.loc 3 555 16 view .LVU465
 1652              	.LBE73:
 1653              	.LBE72:
 423:tinyusb/src/class/midi/midi_device.c ****   }
 424:tinyusb/src/class/midi/midi_device.c **** 
 425:tinyusb/src/class/midi/midi_device.c ****   // 2nd Interface is MIDI Streaming
 426:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(TUSB_DESC_INTERFACE == tu_desc_type(p_desc), 0);
 1654              		.loc 1 426 3 is_stmt 1 view .LVU466
 1655              		.loc 1 426 3 view .LVU467
 1656              	.LVL174:
 561:tinyusb/src/common/tusb_types.h **** }
 1657              		.loc 3 561 3 view .LVU468
 1658              		.loc 1 426 3 is_stmt 0 view .LVU469
 1659 003a 042A     		cmp	r2, #4
 1660 003c 74D1     		bne	.L129
 1661              		.loc 1 426 3 is_stmt 1 discriminator 2 view .LVU470
 427:tinyusb/src/class/midi/midi_device.c ****   tusb_desc_interface_t const * desc_midi = (tusb_desc_interface_t const *) p_desc;
 1662              		.loc 1 427 3 discriminator 2 view .LVU471
 1663              	.LVL175:
 428:tinyusb/src/class/midi/midi_device.c **** 
 429:tinyusb/src/class/midi/midi_device.c ****   TU_VERIFY(TUSB_CLASS_AUDIO               == desc_midi->bInterfaceClass    &&
 1664              		.loc 1 429 3 discriminator 2 view .LVU472
 1665              		.loc 1 429 3 discriminator 2 view .LVU473
 1666 003e 6279     		ldrb	r2, [r4, #5]	@ zero_extendqisi2
 1667 0040 012A     		cmp	r2, #1
 1668 0042 73D1     		bne	.L130
 1669 0044 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 1670 0046 032A     		cmp	r2, #3
 1671 0048 72D1     		bne	.L131
 1672              		.loc 1 429 3 is_stmt 0 discriminator 4 view .LVU474
 1673 004a 94F80780 		ldrb	r8, [r4, #7]	@ zero_extendqisi2
 1674 004e B8F1000F 		cmp	r8, #0
 1675 0052 6FD1     		bne	.L132
 1676              	.LBB74:
 430:tinyusb/src/class/midi/midi_device.c ****             AUDIO_SUBCLASS_MIDI_STREAMING  == desc_midi->bInterfaceSubClass &&
 431:tinyusb/src/class/midi/midi_device.c ****             AUDIO_FUNC_PROTOCOL_CODE_UNDEF == desc_midi->bInterfaceProtocol, 0);
 432:tinyusb/src/class/midi/midi_device.c **** 
 433:tinyusb/src/class/midi/midi_device.c ****   // Find available interface
 434:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t * p_midi = NULL;
 435:tinyusb/src/class/midi/midi_device.c ****   for(uint8_t i=0; i<CFG_TUD_MIDI; i++)
 1677              		.loc 1 435 15 view .LVU475
 1678 0054 4246     		mov	r2, r8
 1679              	.LVL176:
 1680              	.L112:
 1681              		.loc 1 435 20 is_stmt 1 discriminator 1 view .LVU476
 1682              		.loc 1 435 3 is_stmt 0 discriminator 1 view .LVU477
 1683 0056 6AB1     		cbz	r2, .L115
 1684              	.LBE74:
 434:tinyusb/src/class/midi/midi_device.c ****   for(uint8_t i=0; i<CFG_TUD_MIDI; i++)
 1685              		.loc 1 434 23 view .LVU478
 1686 0058 4FF00009 		mov	r9, #0
 1687              	.LVL177:
 1688              	.L114:
 436:tinyusb/src/class/midi/midi_device.c ****   {
ARM GAS  /tmp/ccqStGVa.s 			page 56


 437:tinyusb/src/class/midi/midi_device.c ****     if ( _midid_itf[i].ep_in == 0 && _midid_itf[i].ep_out == 0 )
 438:tinyusb/src/class/midi/midi_device.c ****     {
 439:tinyusb/src/class/midi/midi_device.c ****       p_midi = &_midid_itf[i];
 440:tinyusb/src/class/midi/midi_device.c ****       break;
 441:tinyusb/src/class/midi/midi_device.c ****     }
 442:tinyusb/src/class/midi/midi_device.c ****   }
 443:tinyusb/src/class/midi/midi_device.c ****   TU_ASSERT(p_midi);
 1689              		.loc 1 443 3 is_stmt 1 view .LVU479
 1690              		.loc 1 443 3 view .LVU480
 1691 005c B9F1000F 		cmp	r9, #0
 1692 0060 1CD0     		beq	.L134
 1693              		.loc 1 443 3 discriminator 2 view .LVU481
 444:tinyusb/src/class/midi/midi_device.c **** 
 445:tinyusb/src/class/midi/midi_device.c ****   p_midi->itf_num = desc_midi->bInterfaceNumber;
 1694              		.loc 1 445 3 discriminator 2 view .LVU482
 1695              		.loc 1 445 30 is_stmt 0 discriminator 2 view .LVU483
 1696 0062 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 1697              		.loc 1 445 19 discriminator 2 view .LVU484
 1698 0064 89F80020 		strb	r2, [r9]
 446:tinyusb/src/class/midi/midi_device.c ****   (void) p_midi->itf_num;
 1699              		.loc 1 446 3 is_stmt 1 discriminator 2 view .LVU485
 447:tinyusb/src/class/midi/midi_device.c **** 
 448:tinyusb/src/class/midi/midi_device.c ****   // next descriptor
 449:tinyusb/src/class/midi/midi_device.c ****   drv_len += tu_desc_len(p_desc);
 1700              		.loc 1 449 3 discriminator 2 view .LVU486
 1701              	.LVL178:
 1702              	.LBB75:
 1703              	.LBI75:
 565:tinyusb/src/common/tusb_types.h **** {
 1704              		.loc 3 565 45 discriminator 2 view .LVU487
 1705              	.LBB76:
 1706              		.loc 3 567 3 discriminator 2 view .LVU488
 1707              		.loc 3 567 33 is_stmt 0 discriminator 2 view .LVU489
 1708 0068 94F800A0 		ldrb	r10, [r4]	@ zero_extendqisi2
 1709              	.LVL179:
 1710              		.loc 3 567 33 discriminator 2 view .LVU490
 1711              	.LBE76:
 1712              	.LBE75:
 1713              		.loc 1 449 11 discriminator 2 view .LVU491
 1714 006c 5344     		add	r3, r3, r10
 1715              	.LVL180:
 1716              		.loc 1 449 11 discriminator 2 view .LVU492
 1717 006e 9FB2     		uxth	r7, r3
 1718              	.LVL181:
 450:tinyusb/src/class/midi/midi_device.c ****   p_desc   = tu_desc_next(p_desc);
 1719              		.loc 1 450 3 is_stmt 1 discriminator 2 view .LVU493
 1720              	.LBB77:
 1721              	.LBI77:
 552:tinyusb/src/common/tusb_types.h **** {
 1722              		.loc 3 552 53 discriminator 2 view .LVU494
 1723              	.LBB78:
 554:tinyusb/src/common/tusb_types.h ****   return desc8 + desc8[DESC_OFFSET_LEN];
 1724              		.loc 3 554 3 discriminator 2 view .LVU495
 555:tinyusb/src/common/tusb_types.h **** }
 1725              		.loc 3 555 3 discriminator 2 view .LVU496
 555:tinyusb/src/common/tusb_types.h **** }
 1726              		.loc 3 555 16 is_stmt 0 discriminator 2 view .LVU497
ARM GAS  /tmp/ccqStGVa.s 			page 57


 1727 0070 A244     		add	r10, r10, r4
 1728              	.LVL182:
 555:tinyusb/src/common/tusb_types.h **** }
 1729              		.loc 3 555 16 discriminator 2 view .LVU498
 1730              	.LBE78:
 1731              	.LBE77:
 451:tinyusb/src/class/midi/midi_device.c **** 
 452:tinyusb/src/class/midi/midi_device.c ****   // Find and open endpoint descriptors
 453:tinyusb/src/class/midi/midi_device.c ****   uint8_t found_endpoints = 0;
 1732              		.loc 1 453 3 is_stmt 1 discriminator 2 view .LVU499
 454:tinyusb/src/class/midi/midi_device.c ****   while ( (found_endpoints < desc_midi->bNumEndpoints) && (drv_len <= max_len)  )
 1733              		.loc 1 454 3 discriminator 2 view .LVU500
 1734              		.loc 1 454 9 is_stmt 0 discriminator 2 view .LVU501
 1735 0072 37E0     		b	.L118
 1736              	.LVL183:
 1737              	.L115:
 1738              	.LBB79:
 437:tinyusb/src/class/midi/midi_device.c ****     {
 1739              		.loc 1 437 5 is_stmt 1 view .LVU502
 437:tinyusb/src/class/midi/midi_device.c ****     {
 1740              		.loc 1 437 23 is_stmt 0 view .LVU503
 1741 0074 1746     		mov	r7, r2
 1742 0076 3049     		ldr	r1, .L138
 1743 0078 4FF49470 		mov	r0, #296
 1744 007c 00FB0211 		mla	r1, r0, r2, r1
 1745 0080 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 437:tinyusb/src/class/midi/midi_device.c ****     {
 1746              		.loc 1 437 8 view .LVU504
 1747 0082 21B9     		cbnz	r1, .L113
 437:tinyusb/src/class/midi/midi_device.c ****     {
 1748              		.loc 1 437 51 discriminator 1 view .LVU505
 1749 0084 2C49     		ldr	r1, .L138
 1750 0086 00FB0211 		mla	r1, r0, r2, r1
 1751 008a 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 437:tinyusb/src/class/midi/midi_device.c ****     {
 1752              		.loc 1 437 35 discriminator 1 view .LVU506
 1753 008c 11B1     		cbz	r1, .L135
 1754              	.L113:
 435:tinyusb/src/class/midi/midi_device.c ****   {
 1755              		.loc 1 435 36 is_stmt 1 discriminator 2 view .LVU507
 435:tinyusb/src/class/midi/midi_device.c ****   {
 1756              		.loc 1 435 37 is_stmt 0 discriminator 2 view .LVU508
 1757 008e 0132     		adds	r2, r2, #1
 1758              	.LVL184:
 435:tinyusb/src/class/midi/midi_device.c ****   {
 1759              		.loc 1 435 37 discriminator 2 view .LVU509
 1760 0090 D2B2     		uxtb	r2, r2
 1761              	.LVL185:
 435:tinyusb/src/class/midi/midi_device.c ****   {
 1762              		.loc 1 435 37 discriminator 2 view .LVU510
 1763 0092 E0E7     		b	.L112
 1764              	.L135:
 439:tinyusb/src/class/midi/midi_device.c ****       break;
 1765              		.loc 1 439 7 is_stmt 1 view .LVU511
 439:tinyusb/src/class/midi/midi_device.c ****       break;
 1766              		.loc 1 439 14 is_stmt 0 view .LVU512
 1767 0094 284A     		ldr	r2, .L138
ARM GAS  /tmp/ccqStGVa.s 			page 58


 1768              	.LVL186:
 439:tinyusb/src/class/midi/midi_device.c ****       break;
 1769              		.loc 1 439 14 view .LVU513
 1770 0096 00FB0729 		mla	r9, r0, r7, r2
 1771              	.LVL187:
 440:tinyusb/src/class/midi/midi_device.c ****     }
 1772              		.loc 1 440 7 is_stmt 1 view .LVU514
 1773 009a DFE7     		b	.L114
 1774              	.L134:
 440:tinyusb/src/class/midi/midi_device.c ****     }
 1775              		.loc 1 440 7 is_stmt 0 view .LVU515
 1776              	.LBE79:
 443:tinyusb/src/class/midi/midi_device.c **** 
 1777              		.loc 1 443 3 is_stmt 1 discriminator 1 view .LVU516
 443:tinyusb/src/class/midi/midi_device.c **** 
 1778              		.loc 1 443 3 discriminator 1 view .LVU517
 443:tinyusb/src/class/midi/midi_device.c **** 
 1779              		.loc 1 443 3 discriminator 1 view .LVU518
 443:tinyusb/src/class/midi/midi_device.c **** 
 1780              		.loc 1 443 3 discriminator 1 view .LVU519
 1781              	.LBB80:
 443:tinyusb/src/class/midi/midi_device.c **** 
 1782              		.loc 1 443 3 discriminator 1 view .LVU520
 1783              	.LVL188:
 443:tinyusb/src/class/midi/midi_device.c **** 
 1784              		.loc 1 443 3 discriminator 1 view .LVU521
 1785 009c 4FF0E023 		mov	r3, #-536813568
 1786              	.LVL189:
 443:tinyusb/src/class/midi/midi_device.c **** 
 1787              		.loc 1 443 3 is_stmt 0 discriminator 1 view .LVU522
 1788 00a0 D3F8F03D 		ldr	r3, [r3, #3568]
 1789 00a4 13F0010F 		tst	r3, #1
 1790 00a8 00D0     		beq	.L117
 443:tinyusb/src/class/midi/midi_device.c **** 
 1791              		.loc 1 443 3 is_stmt 1 discriminator 3 view .LVU523
 1792              		.syntax unified
 1793              	@ 443 "tinyusb/src/class/midi/midi_device.c" 1
 1794 00aa 00BE     		BKPT #0
 1795              	
 1796              	@ 0 "" 2
 1797              		.thumb
 1798              		.syntax unified
 1799              	.L117:
 1800              	.LBE80:
 443:tinyusb/src/class/midi/midi_device.c **** 
 1801              		.loc 1 443 3 discriminator 5 view .LVU524
 443:tinyusb/src/class/midi/midi_device.c **** 
 1802              		.loc 1 443 3 discriminator 5 view .LVU525
 1803 00ac 0027     		movs	r7, #0
 1804 00ae 34E0     		b	.L108
 1805              	.LVL190:
 1806              	.L136:
 1807              	.LBB81:
 455:tinyusb/src/class/midi/midi_device.c ****   {
 456:tinyusb/src/class/midi/midi_device.c ****     if ( TUSB_DESC_ENDPOINT == tu_desc_type(p_desc) )
 457:tinyusb/src/class/midi/midi_device.c ****     {
 458:tinyusb/src/class/midi/midi_device.c ****       TU_ASSERT(usbd_edpt_open(rhport, (tusb_desc_endpoint_t const *) p_desc), 0);
ARM GAS  /tmp/ccqStGVa.s 			page 59


 1808              		.loc 1 458 7 discriminator 1 view .LVU526
 1809              		.loc 1 458 7 discriminator 1 view .LVU527
 1810              		.loc 1 458 7 discriminator 1 view .LVU528
 1811              		.loc 1 458 7 discriminator 1 view .LVU529
 1812              	.LBB82:
 1813              		.loc 1 458 7 discriminator 1 view .LVU530
 1814              		.loc 1 458 7 discriminator 1 view .LVU531
 1815 00b0 4FF0E023 		mov	r3, #-536813568
 1816 00b4 D3F8F03D 		ldr	r3, [r3, #3568]
 1817 00b8 13F0010F 		tst	r3, #1
 1818 00bc 00D0     		beq	.L121
 1819              		.loc 1 458 7 discriminator 3 view .LVU532
 1820              		.syntax unified
 1821              	@ 458 "tinyusb/src/class/midi/midi_device.c" 1
 1822 00be 00BE     		BKPT #0
 1823              	
 1824              	@ 0 "" 2
 1825              		.thumb
 1826              		.syntax unified
 1827              	.L121:
 1828              	.LBE82:
 1829              		.loc 1 458 7 discriminator 5 view .LVU533
 1830              		.loc 1 458 7 discriminator 5 view .LVU534
 1831 00c0 0027     		movs	r7, #0
 1832              	.LVL191:
 1833              		.loc 1 458 7 is_stmt 0 discriminator 5 view .LVU535
 1834 00c2 2AE0     		b	.L108
 1835              	.LVL192:
 1836              	.L137:
 459:tinyusb/src/class/midi/midi_device.c ****       uint8_t ep_addr = ((tusb_desc_endpoint_t const *) p_desc)->bEndpointAddress;
 460:tinyusb/src/class/midi/midi_device.c **** 
 461:tinyusb/src/class/midi/midi_device.c ****       if (tu_edpt_dir(ep_addr) == TUSB_DIR_IN)
 462:tinyusb/src/class/midi/midi_device.c ****       {
 463:tinyusb/src/class/midi/midi_device.c ****         p_midi->ep_in = ep_addr;
 1837              		.loc 1 463 9 is_stmt 1 view .LVU536
 1838              		.loc 1 463 23 is_stmt 0 view .LVU537
 1839 00c4 89F80130 		strb	r3, [r9, #1]
 1840              	.L123:
 464:tinyusb/src/class/midi/midi_device.c ****       } else {
 465:tinyusb/src/class/midi/midi_device.c ****         p_midi->ep_out = ep_addr;
 466:tinyusb/src/class/midi/midi_device.c ****       }
 467:tinyusb/src/class/midi/midi_device.c **** 
 468:tinyusb/src/class/midi/midi_device.c ****       // Class Specific MIDI Stream endpoint descriptor
 469:tinyusb/src/class/midi/midi_device.c ****       drv_len += tu_desc_len(p_desc);
 1841              		.loc 1 469 7 is_stmt 1 view .LVU538
 1842              	.LVL193:
 1843              	.LBB83:
 1844              	.LBI83:
 565:tinyusb/src/common/tusb_types.h **** {
 1845              		.loc 3 565 45 view .LVU539
 1846              	.LBB84:
 1847              		.loc 3 567 3 view .LVU540
 1848              		.loc 3 567 33 is_stmt 0 view .LVU541
 1849 00c8 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
 1850              	.LVL194:
 1851              		.loc 3 567 33 view .LVU542
 1852              	.LBE84:
ARM GAS  /tmp/ccqStGVa.s 			page 60


 1853              	.LBE83:
 1854              		.loc 1 469 15 view .LVU543
 1855 00cc D319     		adds	r3, r2, r7
 1856              	.LVL195:
 1857              		.loc 1 469 15 view .LVU544
 1858 00ce 9FB2     		uxth	r7, r3
 1859              	.LVL196:
 470:tinyusb/src/class/midi/midi_device.c ****       p_desc   = tu_desc_next(p_desc);
 1860              		.loc 1 470 7 is_stmt 1 view .LVU545
 1861              	.LBB85:
 1862              	.LBI85:
 552:tinyusb/src/common/tusb_types.h **** {
 1863              		.loc 3 552 53 view .LVU546
 1864              	.LBB86:
 554:tinyusb/src/common/tusb_types.h ****   return desc8 + desc8[DESC_OFFSET_LEN];
 1865              		.loc 3 554 3 view .LVU547
 555:tinyusb/src/common/tusb_types.h **** }
 1866              		.loc 3 555 3 view .LVU548
 555:tinyusb/src/common/tusb_types.h **** }
 1867              		.loc 3 555 16 is_stmt 0 view .LVU549
 1868 00d0 9244     		add	r10, r10, r2
 1869              	.LVL197:
 555:tinyusb/src/common/tusb_types.h **** }
 1870              		.loc 3 555 16 view .LVU550
 1871              	.LBE86:
 1872              	.LBE85:
 471:tinyusb/src/class/midi/midi_device.c **** 
 472:tinyusb/src/class/midi/midi_device.c ****       found_endpoints += 1;
 1873              		.loc 1 472 7 is_stmt 1 view .LVU551
 1874              		.loc 1 472 23 is_stmt 0 view .LVU552
 1875 00d2 08F10108 		add	r8, r8, #1
 1876              	.LVL198:
 1877              		.loc 1 472 23 view .LVU553
 1878 00d6 5FFA88F8 		uxtb	r8, r8
 1879              	.LVL199:
 1880              	.L119:
 1881              		.loc 1 472 23 view .LVU554
 1882              	.LBE81:
 473:tinyusb/src/class/midi/midi_device.c ****     }
 474:tinyusb/src/class/midi/midi_device.c **** 
 475:tinyusb/src/class/midi/midi_device.c ****     drv_len += tu_desc_len(p_desc);
 1883              		.loc 1 475 5 is_stmt 1 view .LVU555
 1884              	.LBB89:
 1885              	.LBI89:
 565:tinyusb/src/common/tusb_types.h **** {
 1886              		.loc 3 565 45 view .LVU556
 1887              	.LBB90:
 1888              		.loc 3 567 3 view .LVU557
 1889              		.loc 3 567 33 is_stmt 0 view .LVU558
 1890 00da 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
 1891              	.LVL200:
 1892              		.loc 3 567 33 view .LVU559
 1893              	.LBE90:
 1894              	.LBE89:
 1895              		.loc 1 475 13 view .LVU560
 1896 00de D319     		adds	r3, r2, r7
 1897 00e0 9FB2     		uxth	r7, r3
ARM GAS  /tmp/ccqStGVa.s 			page 61


 1898              	.LVL201:
 476:tinyusb/src/class/midi/midi_device.c ****     p_desc   = tu_desc_next(p_desc);
 1899              		.loc 1 476 5 is_stmt 1 view .LVU561
 1900              	.LBB91:
 1901              	.LBI91:
 552:tinyusb/src/common/tusb_types.h **** {
 1902              		.loc 3 552 53 view .LVU562
 1903              	.LBB92:
 554:tinyusb/src/common/tusb_types.h ****   return desc8 + desc8[DESC_OFFSET_LEN];
 1904              		.loc 3 554 3 view .LVU563
 555:tinyusb/src/common/tusb_types.h **** }
 1905              		.loc 3 555 3 view .LVU564
 555:tinyusb/src/common/tusb_types.h **** }
 1906              		.loc 3 555 16 is_stmt 0 view .LVU565
 1907 00e2 9244     		add	r10, r10, r2
 1908              	.LVL202:
 1909              	.L118:
 555:tinyusb/src/common/tusb_types.h **** }
 1910              		.loc 3 555 16 view .LVU566
 1911              	.LBE92:
 1912              	.LBE91:
 454:tinyusb/src/class/midi/midi_device.c ****   {
 1913              		.loc 1 454 9 is_stmt 1 view .LVU567
 454:tinyusb/src/class/midi/midi_device.c ****   {
 1914              		.loc 1 454 39 is_stmt 0 view .LVU568
 1915 00e4 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 454:tinyusb/src/class/midi/midi_device.c ****   {
 1916              		.loc 1 454 9 view .LVU569
 1917 00e6 4345     		cmp	r3, r8
 1918 00e8 12D9     		bls	.L124
 454:tinyusb/src/class/midi/midi_device.c ****   {
 1919              		.loc 1 454 56 discriminator 1 view .LVU570
 1920 00ea AF42     		cmp	r7, r5
 1921 00ec 10D8     		bhi	.L124
 456:tinyusb/src/class/midi/midi_device.c ****     {
 1922              		.loc 1 456 5 is_stmt 1 view .LVU571
 1923              	.LVL203:
 1924              	.LBB93:
 1925              	.LBI93:
 559:tinyusb/src/common/tusb_types.h **** {
 1926              		.loc 3 559 45 view .LVU572
 1927              	.LBB94:
 561:tinyusb/src/common/tusb_types.h **** }
 1928              		.loc 3 561 3 view .LVU573
 561:tinyusb/src/common/tusb_types.h **** }
 1929              		.loc 3 561 33 is_stmt 0 view .LVU574
 1930 00ee 9AF80130 		ldrb	r3, [r10, #1]	@ zero_extendqisi2
 1931              	.LVL204:
 561:tinyusb/src/common/tusb_types.h **** }
 1932              		.loc 3 561 33 view .LVU575
 1933              	.LBE94:
 1934              	.LBE93:
 456:tinyusb/src/class/midi/midi_device.c ****     {
 1935              		.loc 1 456 8 view .LVU576
 1936 00f2 052B     		cmp	r3, #5
 1937 00f4 F1D1     		bne	.L119
 1938              	.LBB95:
ARM GAS  /tmp/ccqStGVa.s 			page 62


 458:tinyusb/src/class/midi/midi_device.c ****       uint8_t ep_addr = ((tusb_desc_endpoint_t const *) p_desc)->bEndpointAddress;
 1939              		.loc 1 458 7 is_stmt 1 view .LVU577
 458:tinyusb/src/class/midi/midi_device.c ****       uint8_t ep_addr = ((tusb_desc_endpoint_t const *) p_desc)->bEndpointAddress;
 1940              		.loc 1 458 7 view .LVU578
 1941 00f6 5146     		mov	r1, r10
 1942 00f8 3046     		mov	r0, r6
 1943 00fa FFF7FEFF 		bl	usbd_edpt_open
 1944              	.LVL205:
 1945 00fe 0028     		cmp	r0, #0
 1946 0100 D6D0     		beq	.L136
 458:tinyusb/src/class/midi/midi_device.c ****       uint8_t ep_addr = ((tusb_desc_endpoint_t const *) p_desc)->bEndpointAddress;
 1947              		.loc 1 458 7 discriminator 2 view .LVU579
 459:tinyusb/src/class/midi/midi_device.c **** 
 1948              		.loc 1 459 7 discriminator 2 view .LVU580
 459:tinyusb/src/class/midi/midi_device.c **** 
 1949              		.loc 1 459 15 is_stmt 0 discriminator 2 view .LVU581
 1950 0102 9AF80230 		ldrb	r3, [r10, #2]	@ zero_extendqisi2
 1951              	.LVL206:
 461:tinyusb/src/class/midi/midi_device.c ****       {
 1952              		.loc 1 461 7 is_stmt 1 discriminator 2 view .LVU582
 1953              	.LBB87:
 1954              	.LBI87:
 512:tinyusb/src/common/tusb_types.h **** {
 1955              		.loc 3 512 48 discriminator 2 view .LVU583
 1956              	.LBB88:
 514:tinyusb/src/common/tusb_types.h **** }
 1957              		.loc 3 514 3 discriminator 2 view .LVU584
 514:tinyusb/src/common/tusb_types.h **** }
 1958              		.loc 3 514 3 is_stmt 0 discriminator 2 view .LVU585
 1959              	.LBE88:
 1960              	.LBE87:
 461:tinyusb/src/class/midi/midi_device.c ****       {
 1961              		.loc 1 461 10 discriminator 2 view .LVU586
 1962 0106 DA09     		lsrs	r2, r3, #7
 1963 0108 DCD1     		bne	.L137
 465:tinyusb/src/class/midi/midi_device.c ****       }
 1964              		.loc 1 465 9 is_stmt 1 view .LVU587
 465:tinyusb/src/class/midi/midi_device.c ****       }
 1965              		.loc 1 465 24 is_stmt 0 view .LVU588
 1966 010a 89F80230 		strb	r3, [r9, #2]
 1967 010e DBE7     		b	.L123
 1968              	.LVL207:
 1969              	.L124:
 465:tinyusb/src/class/midi/midi_device.c ****       }
 1970              		.loc 1 465 24 view .LVU589
 1971              	.LBE95:
 477:tinyusb/src/class/midi/midi_device.c ****   }
 478:tinyusb/src/class/midi/midi_device.c **** 
 479:tinyusb/src/class/midi/midi_device.c ****   // Prepare for incoming data
 480:tinyusb/src/class/midi/midi_device.c ****   _prep_out_transaction(p_midi);
 1972              		.loc 1 480 3 is_stmt 1 view .LVU590
 1973 0110 4846     		mov	r0, r9
 1974 0112 FFF7FEFF 		bl	_prep_out_transaction
 1975              	.LVL208:
 481:tinyusb/src/class/midi/midi_device.c **** 
 482:tinyusb/src/class/midi/midi_device.c ****   return drv_len;
 1976              		.loc 1 482 3 view .LVU591
ARM GAS  /tmp/ccqStGVa.s 			page 63


 1977              		.loc 1 482 10 is_stmt 0 view .LVU592
 1978 0116 00E0     		b	.L108
 1979              	.LVL209:
 1980              	.L126:
 411:tinyusb/src/class/midi/midi_device.c ****             AUDIO_SUBCLASS_CONTROL         == desc_itf->bInterfaceSubClass &&
 1981              		.loc 1 411 3 view .LVU593
 1982 0118 0027     		movs	r7, #0
 1983              	.LVL210:
 1984              	.L108:
 483:tinyusb/src/class/midi/midi_device.c **** }
 1985              		.loc 1 483 1 view .LVU594
 1986 011a 3846     		mov	r0, r7
 1987 011c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1988              	.LVL211:
 1989              	.L127:
 411:tinyusb/src/class/midi/midi_device.c ****             AUDIO_SUBCLASS_CONTROL         == desc_itf->bInterfaceSubClass &&
 1990              		.loc 1 411 3 view .LVU595
 1991 0120 0027     		movs	r7, #0
 1992 0122 FAE7     		b	.L108
 1993              	.L128:
 1994 0124 0027     		movs	r7, #0
 1995 0126 F8E7     		b	.L108
 1996              	.LVL212:
 1997              	.L129:
 426:tinyusb/src/class/midi/midi_device.c ****   tusb_desc_interface_t const * desc_midi = (tusb_desc_interface_t const *) p_desc;
 1998              		.loc 1 426 3 view .LVU596
 1999 0128 0027     		movs	r7, #0
 2000 012a F6E7     		b	.L108
 2001              	.LVL213:
 2002              	.L130:
 429:tinyusb/src/class/midi/midi_device.c ****             AUDIO_SUBCLASS_MIDI_STREAMING  == desc_midi->bInterfaceSubClass &&
 2003              		.loc 1 429 3 view .LVU597
 2004 012c 0027     		movs	r7, #0
 2005 012e F4E7     		b	.L108
 2006              	.L131:
 2007 0130 0027     		movs	r7, #0
 2008 0132 F2E7     		b	.L108
 2009              	.L132:
 2010 0134 0027     		movs	r7, #0
 2011 0136 F0E7     		b	.L108
 2012              	.L139:
 2013              		.align	2
 2014              	.L138:
 2015 0138 00000000 		.word	.LANCHOR0
 2016              		.cfi_endproc
 2017              	.LFE81:
 2019              		.section	.text.midid_control_xfer_cb,"ax",%progbits
 2020              		.align	1
 2021              		.global	midid_control_xfer_cb
 2022              		.syntax unified
 2023              		.thumb
 2024              		.thumb_func
 2025              		.fpu fpv4-sp-d16
 2027              	midid_control_xfer_cb:
 2028              	.LVL214:
 2029              	.LFB82:
 484:tinyusb/src/class/midi/midi_device.c **** 
ARM GAS  /tmp/ccqStGVa.s 			page 64


 485:tinyusb/src/class/midi/midi_device.c **** // Invoked when a control transfer occurred on an interface of this class
 486:tinyusb/src/class/midi/midi_device.c **** // Driver response accordingly to the request and the transfer stage (setup/data/ack)
 487:tinyusb/src/class/midi/midi_device.c **** // return false to stall control endpoint (e.g unsupported request)
 488:tinyusb/src/class/midi/midi_device.c **** bool midid_control_xfer_cb(uint8_t rhport, uint8_t stage, tusb_control_request_t const * request)
 489:tinyusb/src/class/midi/midi_device.c **** {
 2030              		.loc 1 489 1 is_stmt 1 view -0
 2031              		.cfi_startproc
 2032              		@ args = 0, pretend = 0, frame = 0
 2033              		@ frame_needed = 0, uses_anonymous_args = 0
 2034              		@ link register save eliminated.
 490:tinyusb/src/class/midi/midi_device.c ****   (void) rhport;
 2035              		.loc 1 490 3 view .LVU599
 491:tinyusb/src/class/midi/midi_device.c ****   (void) stage;
 2036              		.loc 1 491 3 view .LVU600
 492:tinyusb/src/class/midi/midi_device.c ****   (void) request;
 2037              		.loc 1 492 3 view .LVU601
 493:tinyusb/src/class/midi/midi_device.c **** 
 494:tinyusb/src/class/midi/midi_device.c ****   // driver doesn't support any request yet
 495:tinyusb/src/class/midi/midi_device.c ****   return false;
 2038              		.loc 1 495 3 view .LVU602
 496:tinyusb/src/class/midi/midi_device.c **** }
 2039              		.loc 1 496 1 is_stmt 0 view .LVU603
 2040 0000 0020     		movs	r0, #0
 2041              	.LVL215:
 2042              		.loc 1 496 1 view .LVU604
 2043 0002 7047     		bx	lr
 2044              		.cfi_endproc
 2045              	.LFE82:
 2047              		.section	.text.midid_xfer_cb,"ax",%progbits
 2048              		.align	1
 2049              		.global	midid_xfer_cb
 2050              		.syntax unified
 2051              		.thumb
 2052              		.thumb_func
 2053              		.fpu fpv4-sp-d16
 2055              	midid_xfer_cb:
 2056              	.LVL216:
 2057              	.LFB83:
 497:tinyusb/src/class/midi/midi_device.c **** 
 498:tinyusb/src/class/midi/midi_device.c **** bool midid_xfer_cb(uint8_t rhport, uint8_t ep_addr, xfer_result_t result, uint32_t xferred_bytes)
 499:tinyusb/src/class/midi/midi_device.c **** {
 2058              		.loc 1 499 1 is_stmt 1 view -0
 2059              		.cfi_startproc
 2060              		@ args = 0, pretend = 0, frame = 0
 2061              		@ frame_needed = 0, uses_anonymous_args = 0
 2062              		.loc 1 499 1 is_stmt 0 view .LVU606
 2063 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2064              	.LCFI13:
 2065              		.cfi_def_cfa_offset 24
 2066              		.cfi_offset 3, -24
 2067              		.cfi_offset 4, -20
 2068              		.cfi_offset 5, -16
 2069              		.cfi_offset 6, -12
 2070              		.cfi_offset 7, -8
 2071              		.cfi_offset 14, -4
 2072 0002 0646     		mov	r6, r0
 2073 0004 1F46     		mov	r7, r3
ARM GAS  /tmp/ccqStGVa.s 			page 65


 500:tinyusb/src/class/midi/midi_device.c ****   (void) result;
 2074              		.loc 1 500 3 is_stmt 1 view .LVU607
 501:tinyusb/src/class/midi/midi_device.c ****   (void) rhport;
 2075              		.loc 1 501 3 view .LVU608
 502:tinyusb/src/class/midi/midi_device.c **** 
 503:tinyusb/src/class/midi/midi_device.c ****   uint8_t itf;
 2076              		.loc 1 503 3 view .LVU609
 504:tinyusb/src/class/midi/midi_device.c ****   midid_interface_t* p_midi;
 2077              		.loc 1 504 3 view .LVU610
 505:tinyusb/src/class/midi/midi_device.c **** 
 506:tinyusb/src/class/midi/midi_device.c ****   // Identify which interface to use
 507:tinyusb/src/class/midi/midi_device.c ****   for (itf = 0; itf < CFG_TUD_MIDI; itf++)
 2078              		.loc 1 507 3 view .LVU611
 2079              	.LVL217:
 2080              		.loc 1 507 12 is_stmt 0 view .LVU612
 2081 0006 0024     		movs	r4, #0
 2082              	.LVL218:
 2083              	.L142:
 2084              		.loc 1 507 17 is_stmt 1 discriminator 1 view .LVU613
 2085              		.loc 1 507 3 is_stmt 0 discriminator 1 view .LVU614
 2086 0008 4CB1     		cbz	r4, .L144
 2087              	.L143:
 508:tinyusb/src/class/midi/midi_device.c ****   {
 509:tinyusb/src/class/midi/midi_device.c ****     p_midi = &_midid_itf[itf];
 510:tinyusb/src/class/midi/midi_device.c ****     if ( ( ep_addr == p_midi->ep_out ) || ( ep_addr == p_midi->ep_in ) ) break;
 511:tinyusb/src/class/midi/midi_device.c ****   }
 512:tinyusb/src/class/midi/midi_device.c ****   TU_ASSERT(itf < CFG_TUD_MIDI);
 2088              		.loc 1 512 3 is_stmt 1 view .LVU615
 2089              		.loc 1 512 3 view .LVU616
 2090 000a B4B9     		cbnz	r4, .L157
 2091              		.loc 1 512 3 discriminator 2 view .LVU617
 513:tinyusb/src/class/midi/midi_device.c **** 
 514:tinyusb/src/class/midi/midi_device.c ****   // receive new data
 515:tinyusb/src/class/midi/midi_device.c ****   if ( ep_addr == p_midi->ep_out )
 2092              		.loc 1 515 3 discriminator 2 view .LVU618
 2093              		.loc 1 515 25 is_stmt 0 discriminator 2 view .LVU619
 2094 000c AB78     		ldrb	r3, [r5, #2]	@ zero_extendqisi2
 2095              		.loc 1 515 6 discriminator 2 view .LVU620
 2096 000e 8B42     		cmp	r3, r1
 2097 0010 1DD0     		beq	.L158
 516:tinyusb/src/class/midi/midi_device.c ****   {
 517:tinyusb/src/class/midi/midi_device.c ****     tu_fifo_write_n(&p_midi->rx_ff, p_midi->epout_buf, (uint16_t) xferred_bytes);
 518:tinyusb/src/class/midi/midi_device.c **** 
 519:tinyusb/src/class/midi/midi_device.c ****     // invoke receive callback if available
 520:tinyusb/src/class/midi/midi_device.c ****     if (tud_midi_rx_cb) tud_midi_rx_cb(itf);
 521:tinyusb/src/class/midi/midi_device.c **** 
 522:tinyusb/src/class/midi/midi_device.c ****     // prepare for next
 523:tinyusb/src/class/midi/midi_device.c ****     // TODO for now ep_out is not used by public API therefore there is no race condition,
 524:tinyusb/src/class/midi/midi_device.c ****     // and does not need to claim like ep_in
 525:tinyusb/src/class/midi/midi_device.c ****     _prep_out_transaction(p_midi);
 526:tinyusb/src/class/midi/midi_device.c ****   }
 527:tinyusb/src/class/midi/midi_device.c ****   else if ( ep_addr == p_midi->ep_in )
 2098              		.loc 1 527 8 is_stmt 1 view .LVU621
 2099              		.loc 1 527 30 is_stmt 0 view .LVU622
 2100 0012 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2101              		.loc 1 527 11 view .LVU623
 2102 0014 8B42     		cmp	r3, r1
ARM GAS  /tmp/ccqStGVa.s 			page 66


 2103 0016 2BD0     		beq	.L159
 528:tinyusb/src/class/midi/midi_device.c ****   {
 529:tinyusb/src/class/midi/midi_device.c ****     if (0 == write_flush(p_midi))
 530:tinyusb/src/class/midi/midi_device.c ****     {
 531:tinyusb/src/class/midi/midi_device.c ****       // If there is no data left, a ZLP should be sent if
 532:tinyusb/src/class/midi/midi_device.c ****       // xferred_bytes is multiple of EP size and not zero
 533:tinyusb/src/class/midi/midi_device.c ****       if ( !tu_fifo_count(&p_midi->tx_ff) && xferred_bytes && (0 == (xferred_bytes % CFG_TUD_MIDI_E
 534:tinyusb/src/class/midi/midi_device.c ****       {
 535:tinyusb/src/class/midi/midi_device.c ****         if ( usbd_edpt_claim(rhport, p_midi->ep_in) )
 536:tinyusb/src/class/midi/midi_device.c ****         {
 537:tinyusb/src/class/midi/midi_device.c ****           usbd_edpt_xfer(rhport, p_midi->ep_in, NULL, 0);
 538:tinyusb/src/class/midi/midi_device.c ****         }
 539:tinyusb/src/class/midi/midi_device.c ****       }
 540:tinyusb/src/class/midi/midi_device.c ****     }
 541:tinyusb/src/class/midi/midi_device.c ****   }
 542:tinyusb/src/class/midi/midi_device.c **** 
 543:tinyusb/src/class/midi/midi_device.c ****   return true;
 2104              		.loc 1 543 10 view .LVU624
 2105 0018 0124     		movs	r4, #1
 2106              	.LVL219:
 2107              	.L147:
 544:tinyusb/src/class/midi/midi_device.c **** }
 2108              		.loc 1 544 1 view .LVU625
 2109 001a 2046     		mov	r0, r4
 2110 001c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2111              	.LVL220:
 2112              	.L144:
 509:tinyusb/src/class/midi/midi_device.c ****     if ( ( ep_addr == p_midi->ep_out ) || ( ep_addr == p_midi->ep_in ) ) break;
 2113              		.loc 1 509 5 is_stmt 1 view .LVU626
 509:tinyusb/src/class/midi/midi_device.c ****     if ( ( ep_addr == p_midi->ep_out ) || ( ep_addr == p_midi->ep_in ) ) break;
 2114              		.loc 1 509 12 is_stmt 0 view .LVU627
 2115 001e 264D     		ldr	r5, .L163
 2116              	.LVL221:
 509:tinyusb/src/class/midi/midi_device.c ****     if ( ( ep_addr == p_midi->ep_out ) || ( ep_addr == p_midi->ep_in ) ) break;
 2117              		.loc 1 509 12 view .LVU628
 2118 0020 4FF49473 		mov	r3, #296
 2119 0024 03FB0455 		mla	r5, r3, r4, r5
 2120              	.LVL222:
 510:tinyusb/src/class/midi/midi_device.c ****   }
 2121              		.loc 1 510 5 is_stmt 1 view .LVU629
 510:tinyusb/src/class/midi/midi_device.c ****   }
 2122              		.loc 1 510 29 is_stmt 0 view .LVU630
 2123 0028 AB78     		ldrb	r3, [r5, #2]	@ zero_extendqisi2
 510:tinyusb/src/class/midi/midi_device.c ****   }
 2124              		.loc 1 510 8 view .LVU631
 2125 002a 8B42     		cmp	r3, r1
 2126 002c EDD0     		beq	.L143
 510:tinyusb/src/class/midi/midi_device.c ****   }
 2127              		.loc 1 510 62 discriminator 1 view .LVU632
 2128 002e 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 510:tinyusb/src/class/midi/midi_device.c ****   }
 2129              		.loc 1 510 40 discriminator 1 view .LVU633
 2130 0030 8B42     		cmp	r3, r1
 2131 0032 EAD0     		beq	.L143
 507:tinyusb/src/class/midi/midi_device.c ****   {
 2132              		.loc 1 507 37 is_stmt 1 discriminator 2 view .LVU634
 507:tinyusb/src/class/midi/midi_device.c ****   {
ARM GAS  /tmp/ccqStGVa.s 			page 67


 2133              		.loc 1 507 40 is_stmt 0 discriminator 2 view .LVU635
 2134 0034 0134     		adds	r4, r4, #1
 2135              	.LVL223:
 507:tinyusb/src/class/midi/midi_device.c ****   {
 2136              		.loc 1 507 40 discriminator 2 view .LVU636
 2137 0036 E4B2     		uxtb	r4, r4
 2138              	.LVL224:
 507:tinyusb/src/class/midi/midi_device.c ****   {
 2139              		.loc 1 507 40 discriminator 2 view .LVU637
 2140 0038 E6E7     		b	.L142
 2141              	.L157:
 512:tinyusb/src/class/midi/midi_device.c **** 
 2142              		.loc 1 512 3 is_stmt 1 discriminator 1 view .LVU638
 512:tinyusb/src/class/midi/midi_device.c **** 
 2143              		.loc 1 512 3 discriminator 1 view .LVU639
 512:tinyusb/src/class/midi/midi_device.c **** 
 2144              		.loc 1 512 3 discriminator 1 view .LVU640
 512:tinyusb/src/class/midi/midi_device.c **** 
 2145              		.loc 1 512 3 discriminator 1 view .LVU641
 2146              	.LBB96:
 512:tinyusb/src/class/midi/midi_device.c **** 
 2147              		.loc 1 512 3 discriminator 1 view .LVU642
 2148              	.LVL225:
 512:tinyusb/src/class/midi/midi_device.c **** 
 2149              		.loc 1 512 3 discriminator 1 view .LVU643
 2150 003a 4FF0E023 		mov	r3, #-536813568
 2151 003e D3F8F03D 		ldr	r3, [r3, #3568]
 2152 0042 13F0010F 		tst	r3, #1
 2153 0046 00D0     		beq	.L146
 512:tinyusb/src/class/midi/midi_device.c **** 
 2154              		.loc 1 512 3 discriminator 3 view .LVU644
 2155              		.syntax unified
 2156              	@ 512 "tinyusb/src/class/midi/midi_device.c" 1
 2157 0048 00BE     		BKPT #0
 2158              	
 2159              	@ 0 "" 2
 2160              		.thumb
 2161              		.syntax unified
 2162              	.L146:
 2163              	.LBE96:
 512:tinyusb/src/class/midi/midi_device.c **** 
 2164              		.loc 1 512 3 discriminator 5 view .LVU645
 512:tinyusb/src/class/midi/midi_device.c **** 
 2165              		.loc 1 512 3 discriminator 5 view .LVU646
 2166 004a 0024     		movs	r4, #0
 2167              	.LVL226:
 512:tinyusb/src/class/midi/midi_device.c **** 
 2168              		.loc 1 512 3 is_stmt 0 discriminator 5 view .LVU647
 2169 004c E5E7     		b	.L147
 2170              	.LVL227:
 2171              	.L158:
 517:tinyusb/src/class/midi/midi_device.c **** 
 2172              		.loc 1 517 5 is_stmt 1 view .LVU648
 2173 004e BAB2     		uxth	r2, r7
 2174              	.LVL228:
 517:tinyusb/src/class/midi/midi_device.c **** 
 2175              		.loc 1 517 5 is_stmt 0 view .LVU649
ARM GAS  /tmp/ccqStGVa.s 			page 68


 2176 0050 05F1A801 		add	r1, r5, #168
 2177              	.LVL229:
 517:tinyusb/src/class/midi/midi_device.c **** 
 2178              		.loc 1 517 5 view .LVU650
 2179 0054 05F11000 		add	r0, r5, #16
 2180              	.LVL230:
 517:tinyusb/src/class/midi/midi_device.c **** 
 2181              		.loc 1 517 5 view .LVU651
 2182 0058 FFF7FEFF 		bl	tu_fifo_write_n
 2183              	.LVL231:
 520:tinyusb/src/class/midi/midi_device.c **** 
 2184              		.loc 1 520 5 is_stmt 1 view .LVU652
 520:tinyusb/src/class/midi/midi_device.c **** 
 2185              		.loc 1 520 8 is_stmt 0 view .LVU653
 2186 005c 174B     		ldr	r3, .L163+4
 2187 005e 13B1     		cbz	r3, .L149
 520:tinyusb/src/class/midi/midi_device.c **** 
 2188              		.loc 1 520 25 is_stmt 1 discriminator 1 view .LVU654
 2189 0060 2046     		mov	r0, r4
 2190 0062 FFF7FEFF 		bl	tud_midi_rx_cb
 2191              	.LVL232:
 2192              	.L149:
 525:tinyusb/src/class/midi/midi_device.c ****   }
 2193              		.loc 1 525 5 view .LVU655
 2194 0066 2846     		mov	r0, r5
 2195 0068 FFF7FEFF 		bl	_prep_out_transaction
 2196              	.LVL233:
 543:tinyusb/src/class/midi/midi_device.c **** }
 2197              		.loc 1 543 10 is_stmt 0 view .LVU656
 2198 006c 0124     		movs	r4, #1
 2199              	.LVL234:
 543:tinyusb/src/class/midi/midi_device.c **** }
 2200              		.loc 1 543 10 view .LVU657
 2201 006e D4E7     		b	.L147
 2202              	.LVL235:
 2203              	.L159:
 529:tinyusb/src/class/midi/midi_device.c ****     {
 2204              		.loc 1 529 5 is_stmt 1 view .LVU658
 529:tinyusb/src/class/midi/midi_device.c ****     {
 2205              		.loc 1 529 14 is_stmt 0 view .LVU659
 2206 0070 2846     		mov	r0, r5
 2207              	.LVL236:
 529:tinyusb/src/class/midi/midi_device.c ****     {
 2208              		.loc 1 529 14 view .LVU660
 2209 0072 FFF7FEFF 		bl	write_flush
 2210              	.LVL237:
 529:tinyusb/src/class/midi/midi_device.c ****     {
 2211              		.loc 1 529 8 view .LVU661
 2212 0076 08B1     		cbz	r0, .L160
 543:tinyusb/src/class/midi/midi_device.c **** }
 2213              		.loc 1 543 10 view .LVU662
 2214 0078 0124     		movs	r4, #1
 2215              	.LVL238:
 543:tinyusb/src/class/midi/midi_device.c **** }
 2216              		.loc 1 543 10 view .LVU663
 2217 007a CEE7     		b	.L147
 2218              	.LVL239:
ARM GAS  /tmp/ccqStGVa.s 			page 69


 2219              	.L160:
 533:tinyusb/src/class/midi/midi_device.c ****       {
 2220              		.loc 1 533 7 is_stmt 1 view .LVU664
 533:tinyusb/src/class/midi/midi_device.c ****       {
 2221              		.loc 1 533 13 is_stmt 0 view .LVU665
 2222 007c 05F11C00 		add	r0, r5, #28
 2223 0080 FFF7FEFF 		bl	tu_fifo_count
 2224              	.LVL240:
 533:tinyusb/src/class/midi/midi_device.c ****       {
 2225              		.loc 1 533 10 view .LVU666
 2226 0084 A0B9     		cbnz	r0, .L152
 533:tinyusb/src/class/midi/midi_device.c ****       {
 2227              		.loc 1 533 43 discriminator 1 view .LVU667
 2228 0086 AFB1     		cbz	r7, .L153
 533:tinyusb/src/class/midi/midi_device.c ****       {
 2229              		.loc 1 533 60 discriminator 2 view .LVU668
 2230 0088 17F03F0F 		tst	r7, #63
 2231 008c 01D0     		beq	.L161
 543:tinyusb/src/class/midi/midi_device.c **** }
 2232              		.loc 1 543 10 view .LVU669
 2233 008e 0124     		movs	r4, #1
 2234              	.LVL241:
 543:tinyusb/src/class/midi/midi_device.c **** }
 2235              		.loc 1 543 10 view .LVU670
 2236 0090 C3E7     		b	.L147
 2237              	.LVL242:
 2238              	.L161:
 535:tinyusb/src/class/midi/midi_device.c ****         {
 2239              		.loc 1 535 9 is_stmt 1 view .LVU671
 535:tinyusb/src/class/midi/midi_device.c ****         {
 2240              		.loc 1 535 14 is_stmt 0 view .LVU672
 2241 0092 6978     		ldrb	r1, [r5, #1]	@ zero_extendqisi2
 2242 0094 3046     		mov	r0, r6
 2243 0096 FFF7FEFF 		bl	usbd_edpt_claim
 2244              	.LVL243:
 535:tinyusb/src/class/midi/midi_device.c ****         {
 2245              		.loc 1 535 12 view .LVU673
 2246 009a 0446     		mov	r4, r0
 2247              	.LVL244:
 535:tinyusb/src/class/midi/midi_device.c ****         {
 2248              		.loc 1 535 12 view .LVU674
 2249 009c 08B9     		cbnz	r0, .L162
 543:tinyusb/src/class/midi/midi_device.c **** }
 2250              		.loc 1 543 10 view .LVU675
 2251 009e 0124     		movs	r4, #1
 2252 00a0 BBE7     		b	.L147
 2253              	.L162:
 537:tinyusb/src/class/midi/midi_device.c ****         }
 2254              		.loc 1 537 11 is_stmt 1 view .LVU676
 2255 00a2 0023     		movs	r3, #0
 2256 00a4 1A46     		mov	r2, r3
 2257 00a6 6978     		ldrb	r1, [r5, #1]	@ zero_extendqisi2
 2258 00a8 3046     		mov	r0, r6
 2259 00aa FFF7FEFF 		bl	usbd_edpt_xfer
 2260              	.LVL245:
 2261 00ae B4E7     		b	.L147
 2262              	.LVL246:
ARM GAS  /tmp/ccqStGVa.s 			page 70


 2263              	.L152:
 543:tinyusb/src/class/midi/midi_device.c **** }
 2264              		.loc 1 543 10 is_stmt 0 view .LVU677
 2265 00b0 0124     		movs	r4, #1
 2266              	.LVL247:
 543:tinyusb/src/class/midi/midi_device.c **** }
 2267              		.loc 1 543 10 view .LVU678
 2268 00b2 B2E7     		b	.L147
 2269              	.LVL248:
 2270              	.L153:
 543:tinyusb/src/class/midi/midi_device.c **** }
 2271              		.loc 1 543 10 view .LVU679
 2272 00b4 0124     		movs	r4, #1
 2273              	.LVL249:
 543:tinyusb/src/class/midi/midi_device.c **** }
 2274              		.loc 1 543 10 view .LVU680
 2275 00b6 B0E7     		b	.L147
 2276              	.L164:
 2277              		.align	2
 2278              	.L163:
 2279 00b8 00000000 		.word	.LANCHOR0
 2280 00bc 00000000 		.word	tud_midi_rx_cb
 2281              		.cfi_endproc
 2282              	.LFE83:
 2284              		.global	_midid_itf
 2285              		.section	.bss._midid_itf,"aw",%nobits
 2286              		.align	2
 2287              		.set	.LANCHOR0,. + 0
 2290              	_midid_itf:
 2291 0000 00000000 		.space	296
 2291      00000000 
 2291      00000000 
 2291      00000000 
 2291      00000000 
 2292              		.weak	tud_midi_rx_cb
 2293              		.text
 2294              	.Letext0:
 2295              		.file 4 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 2296              		.file 5 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 2297              		.file 6 "tinyusb/src/common/tusb_fifo.h"
 2298              		.file 7 "tinyusb/src/class/audio/audio.h"
 2299              		.file 8 "tinyusb/src/class/midi/midi.h"
 2300              		.file 9 "tinyusb/src/class/midi/midi_device.h"
 2301              		.file 10 "tinyusb/src/device/usbd_pvt.h"
 2302              		.file 11 "<built-in>"
ARM GAS  /tmp/ccqStGVa.s 			page 71


DEFINED SYMBOLS
                            *ABS*:0000000000000000 midi_device.c
     /tmp/ccqStGVa.s:18     .text._prep_out_transaction:0000000000000000 $t
     /tmp/ccqStGVa.s:25     .text._prep_out_transaction:0000000000000000 _prep_out_transaction
     /tmp/ccqStGVa.s:107    .text.write_flush:0000000000000000 $t
     /tmp/ccqStGVa.s:113    .text.write_flush:0000000000000000 write_flush
     /tmp/ccqStGVa.s:232    .text.tud_midi_n_mounted:0000000000000000 $t
     /tmp/ccqStGVa.s:239    .text.tud_midi_n_mounted:0000000000000000 tud_midi_n_mounted
     /tmp/ccqStGVa.s:281    .text.tud_midi_n_mounted:0000000000000024 $d
     /tmp/ccqStGVa.s:286    .text.tud_midi_n_available:0000000000000000 $t
     /tmp/ccqStGVa.s:293    .text.tud_midi_n_available:0000000000000000 tud_midi_n_available
     /tmp/ccqStGVa.s:336    .text.tud_midi_n_available:0000000000000024 $d
     /tmp/ccqStGVa.s:341    .text.tud_midi_n_packet_read:0000000000000000 $t
     /tmp/ccqStGVa.s:348    .text.tud_midi_n_packet_read:0000000000000000 tud_midi_n_packet_read
     /tmp/ccqStGVa.s:410    .text.tud_midi_n_packet_read:000000000000003c $d
     /tmp/ccqStGVa.s:415    .text.tud_midi_n_stream_read:0000000000000000 $t
     /tmp/ccqStGVa.s:422    .text.tud_midi_n_stream_read:0000000000000000 tud_midi_n_stream_read
     /tmp/ccqStGVa.s:595    .text.tud_midi_n_stream_read:00000000000000b2 $d
     /tmp/ccqStGVa.s:611    .text.tud_midi_n_stream_read:00000000000000c2 $t
     /tmp/ccqStGVa.s:690    .text.tud_midi_n_stream_read:0000000000000108 $d
     /tmp/ccqStGVa.s:696    .text.tud_midi_n_stream_write:0000000000000000 $t
     /tmp/ccqStGVa.s:703    .text.tud_midi_n_stream_write:0000000000000000 tud_midi_n_stream_write
     /tmp/ccqStGVa.s:1247   .text.tud_midi_n_stream_write:000000000000024c $d
     /tmp/ccqStGVa.s:1252   .text.tud_midi_n_packet_write:0000000000000000 $t
     /tmp/ccqStGVa.s:1259   .text.tud_midi_n_packet_write:0000000000000000 tud_midi_n_packet_write
     /tmp/ccqStGVa.s:1331   .text.tud_midi_n_packet_write:0000000000000048 $d
     /tmp/ccqStGVa.s:1336   .text.midid_init:0000000000000000 $t
     /tmp/ccqStGVa.s:1343   .text.midid_init:0000000000000000 midid_init
     /tmp/ccqStGVa.s:1433   .text.midid_init:0000000000000058 $d
     /tmp/ccqStGVa.s:1439   .text.midid_reset:0000000000000000 $t
     /tmp/ccqStGVa.s:1446   .text.midid_reset:0000000000000000 midid_reset
     /tmp/ccqStGVa.s:1521   .text.midid_reset:0000000000000038 $d
     /tmp/ccqStGVa.s:1527   .text.midid_open:0000000000000000 $t
     /tmp/ccqStGVa.s:1534   .text.midid_open:0000000000000000 midid_open
     /tmp/ccqStGVa.s:2015   .text.midid_open:0000000000000138 $d
     /tmp/ccqStGVa.s:2020   .text.midid_control_xfer_cb:0000000000000000 $t
     /tmp/ccqStGVa.s:2027   .text.midid_control_xfer_cb:0000000000000000 midid_control_xfer_cb
     /tmp/ccqStGVa.s:2048   .text.midid_xfer_cb:0000000000000000 $t
     /tmp/ccqStGVa.s:2055   .text.midid_xfer_cb:0000000000000000 midid_xfer_cb
     /tmp/ccqStGVa.s:2279   .text.midid_xfer_cb:00000000000000b8 $d
     /tmp/ccqStGVa.s:2290   .bss._midid_itf:0000000000000000 _midid_itf
     /tmp/ccqStGVa.s:2286   .bss._midid_itf:0000000000000000 $d

UNDEFINED SYMBOLS
tu_fifo_remaining
usbd_edpt_claim
usbd_edpt_xfer
usbd_edpt_release
tu_fifo_count
tu_fifo_read_n
memcpy
tu_fifo_write_n
memset
tu_fifo_config
tu_fifo_clear
usbd_edpt_open
tud_midi_rx_cb
ARM GAS  /tmp/ccqStGVa.s 			page 72


